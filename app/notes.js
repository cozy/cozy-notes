/******/ (function(modules) { // webpackBootstrap
/******/ 	// install a JSONP callback for chunk loading
/******/ 	function webpackJsonpCallback(data) {
/******/ 		var chunkIds = data[0];
/******/ 		var moreModules = data[1];
/******/ 		var executeModules = data[2];
/******/
/******/ 		// add "moreModules" to the modules object,
/******/ 		// then flag all "chunkIds" as loaded and fire callback
/******/ 		var moduleId, chunkId, i = 0, resolves = [];
/******/ 		for(;i < chunkIds.length; i++) {
/******/ 			chunkId = chunkIds[i];
/******/ 			if(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {
/******/ 				resolves.push(installedChunks[chunkId][0]);
/******/ 			}
/******/ 			installedChunks[chunkId] = 0;
/******/ 		}
/******/ 		for(moduleId in moreModules) {
/******/ 			if(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {
/******/ 				modules[moduleId] = moreModules[moduleId];
/******/ 			}
/******/ 		}
/******/ 		if(parentJsonpFunction) parentJsonpFunction(data);
/******/
/******/ 		while(resolves.length) {
/******/ 			resolves.shift()();
/******/ 		}
/******/
/******/ 		// add entry modules from loaded chunk to deferred list
/******/ 		deferredModules.push.apply(deferredModules, executeModules || []);
/******/
/******/ 		// run deferred modules when all chunks ready
/******/ 		return checkDeferredModules();
/******/ 	};
/******/ 	function checkDeferredModules() {
/******/ 		var result;
/******/ 		for(var i = 0; i < deferredModules.length; i++) {
/******/ 			var deferredModule = deferredModules[i];
/******/ 			var fulfilled = true;
/******/ 			for(var j = 1; j < deferredModule.length; j++) {
/******/ 				var depId = deferredModule[j];
/******/ 				if(installedChunks[depId] !== 0) fulfilled = false;
/******/ 			}
/******/ 			if(fulfilled) {
/******/ 				deferredModules.splice(i--, 1);
/******/ 				result = __webpack_require__(__webpack_require__.s = deferredModule[0]);
/******/ 			}
/******/ 		}
/******/
/******/ 		return result;
/******/ 	}
/******/ 	function hotDisposeChunk(chunkId) {
/******/ 		delete installedChunks[chunkId];
/******/ 	}
/******/ 	var parentHotUpdateCallback = this["webpackHotUpdate"];
/******/ 	this["webpackHotUpdate"] = // eslint-disable-next-line no-unused-vars
/******/ 	function webpackHotUpdateCallback(chunkId, moreModules) {
/******/ 		hotAddUpdateChunk(chunkId, moreModules);
/******/ 		if (parentHotUpdateCallback) parentHotUpdateCallback(chunkId, moreModules);
/******/ 	} ;
/******/
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	function hotDownloadUpdateChunk(chunkId) {
/******/ 		var script = document.createElement("script");
/******/ 		script.charset = "utf-8";
/******/ 		script.src = __webpack_require__.p + "" + chunkId + "." + hotCurrentHash + ".hot-update.js";
/******/ 		if (null) script.crossOrigin = null;
/******/ 		document.head.appendChild(script);
/******/ 	}
/******/
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	function hotDownloadManifest(requestTimeout) {
/******/ 		requestTimeout = requestTimeout || 10000;
/******/ 		return new Promise(function(resolve, reject) {
/******/ 			if (typeof XMLHttpRequest === "undefined") {
/******/ 				return reject(new Error("No browser support"));
/******/ 			}
/******/ 			try {
/******/ 				var request = new XMLHttpRequest();
/******/ 				var requestPath = __webpack_require__.p + "" + hotCurrentHash + ".hot-update.json";
/******/ 				request.open("GET", requestPath, true);
/******/ 				request.timeout = requestTimeout;
/******/ 				request.send(null);
/******/ 			} catch (err) {
/******/ 				return reject(err);
/******/ 			}
/******/ 			request.onreadystatechange = function() {
/******/ 				if (request.readyState !== 4) return;
/******/ 				if (request.status === 0) {
/******/ 					// timeout
/******/ 					reject(
/******/ 						new Error("Manifest request to " + requestPath + " timed out.")
/******/ 					);
/******/ 				} else if (request.status === 404) {
/******/ 					// no update available
/******/ 					resolve();
/******/ 				} else if (request.status !== 200 && request.status !== 304) {
/******/ 					// other failure
/******/ 					reject(new Error("Manifest request to " + requestPath + " failed."));
/******/ 				} else {
/******/ 					// success
/******/ 					try {
/******/ 						var update = JSON.parse(request.responseText);
/******/ 					} catch (e) {
/******/ 						reject(e);
/******/ 						return;
/******/ 					}
/******/ 					resolve(update);
/******/ 				}
/******/ 			};
/******/ 		});
/******/ 	}
/******/
/******/ 	var hotApplyOnUpdate = true;
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	var hotCurrentHash = "92dd5cc5c43a8dd95d21";
/******/ 	var hotRequestTimeout = 10000;
/******/ 	var hotCurrentModuleData = {};
/******/ 	var hotCurrentChildModule;
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	var hotCurrentParents = [];
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	var hotCurrentParentsTemp = [];
/******/
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	function hotCreateRequire(moduleId) {
/******/ 		var me = installedModules[moduleId];
/******/ 		if (!me) return __webpack_require__;
/******/ 		var fn = function(request) {
/******/ 			if (me.hot.active) {
/******/ 				if (installedModules[request]) {
/******/ 					if (installedModules[request].parents.indexOf(moduleId) === -1) {
/******/ 						installedModules[request].parents.push(moduleId);
/******/ 					}
/******/ 				} else {
/******/ 					hotCurrentParents = [moduleId];
/******/ 					hotCurrentChildModule = request;
/******/ 				}
/******/ 				if (me.children.indexOf(request) === -1) {
/******/ 					me.children.push(request);
/******/ 				}
/******/ 			} else {
/******/ 				console.warn(
/******/ 					"[HMR] unexpected require(" +
/******/ 						request +
/******/ 						") from disposed module " +
/******/ 						moduleId
/******/ 				);
/******/ 				hotCurrentParents = [];
/******/ 			}
/******/ 			return __webpack_require__(request);
/******/ 		};
/******/ 		var ObjectFactory = function ObjectFactory(name) {
/******/ 			return {
/******/ 				configurable: true,
/******/ 				enumerable: true,
/******/ 				get: function() {
/******/ 					return __webpack_require__[name];
/******/ 				},
/******/ 				set: function(value) {
/******/ 					__webpack_require__[name] = value;
/******/ 				}
/******/ 			};
/******/ 		};
/******/ 		for (var name in __webpack_require__) {
/******/ 			if (
/******/ 				Object.prototype.hasOwnProperty.call(__webpack_require__, name) &&
/******/ 				name !== "e" &&
/******/ 				name !== "t"
/******/ 			) {
/******/ 				Object.defineProperty(fn, name, ObjectFactory(name));
/******/ 			}
/******/ 		}
/******/ 		fn.e = function(chunkId) {
/******/ 			if (hotStatus === "ready") hotSetStatus("prepare");
/******/ 			hotChunksLoading++;
/******/ 			return __webpack_require__.e(chunkId).then(finishChunkLoading, function(err) {
/******/ 				finishChunkLoading();
/******/ 				throw err;
/******/ 			});
/******/
/******/ 			function finishChunkLoading() {
/******/ 				hotChunksLoading--;
/******/ 				if (hotStatus === "prepare") {
/******/ 					if (!hotWaitingFilesMap[chunkId]) {
/******/ 						hotEnsureUpdateChunk(chunkId);
/******/ 					}
/******/ 					if (hotChunksLoading === 0 && hotWaitingFiles === 0) {
/******/ 						hotUpdateDownloaded();
/******/ 					}
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 		fn.t = function(value, mode) {
/******/ 			if (mode & 1) value = fn(value);
/******/ 			return __webpack_require__.t(value, mode & ~1);
/******/ 		};
/******/ 		return fn;
/******/ 	}
/******/
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	function hotCreateModule(moduleId) {
/******/ 		var hot = {
/******/ 			// private stuff
/******/ 			_acceptedDependencies: {},
/******/ 			_declinedDependencies: {},
/******/ 			_selfAccepted: false,
/******/ 			_selfDeclined: false,
/******/ 			_disposeHandlers: [],
/******/ 			_main: hotCurrentChildModule !== moduleId,
/******/
/******/ 			// Module API
/******/ 			active: true,
/******/ 			accept: function(dep, callback) {
/******/ 				if (dep === undefined) hot._selfAccepted = true;
/******/ 				else if (typeof dep === "function") hot._selfAccepted = dep;
/******/ 				else if (typeof dep === "object")
/******/ 					for (var i = 0; i < dep.length; i++)
/******/ 						hot._acceptedDependencies[dep[i]] = callback || function() {};
/******/ 				else hot._acceptedDependencies[dep] = callback || function() {};
/******/ 			},
/******/ 			decline: function(dep) {
/******/ 				if (dep === undefined) hot._selfDeclined = true;
/******/ 				else if (typeof dep === "object")
/******/ 					for (var i = 0; i < dep.length; i++)
/******/ 						hot._declinedDependencies[dep[i]] = true;
/******/ 				else hot._declinedDependencies[dep] = true;
/******/ 			},
/******/ 			dispose: function(callback) {
/******/ 				hot._disposeHandlers.push(callback);
/******/ 			},
/******/ 			addDisposeHandler: function(callback) {
/******/ 				hot._disposeHandlers.push(callback);
/******/ 			},
/******/ 			removeDisposeHandler: function(callback) {
/******/ 				var idx = hot._disposeHandlers.indexOf(callback);
/******/ 				if (idx >= 0) hot._disposeHandlers.splice(idx, 1);
/******/ 			},
/******/
/******/ 			// Management API
/******/ 			check: hotCheck,
/******/ 			apply: hotApply,
/******/ 			status: function(l) {
/******/ 				if (!l) return hotStatus;
/******/ 				hotStatusHandlers.push(l);
/******/ 			},
/******/ 			addStatusHandler: function(l) {
/******/ 				hotStatusHandlers.push(l);
/******/ 			},
/******/ 			removeStatusHandler: function(l) {
/******/ 				var idx = hotStatusHandlers.indexOf(l);
/******/ 				if (idx >= 0) hotStatusHandlers.splice(idx, 1);
/******/ 			},
/******/
/******/ 			//inherit from previous dispose call
/******/ 			data: hotCurrentModuleData[moduleId]
/******/ 		};
/******/ 		hotCurrentChildModule = undefined;
/******/ 		return hot;
/******/ 	}
/******/
/******/ 	var hotStatusHandlers = [];
/******/ 	var hotStatus = "idle";
/******/
/******/ 	function hotSetStatus(newStatus) {
/******/ 		hotStatus = newStatus;
/******/ 		for (var i = 0; i < hotStatusHandlers.length; i++)
/******/ 			hotStatusHandlers[i].call(null, newStatus);
/******/ 	}
/******/
/******/ 	// while downloading
/******/ 	var hotWaitingFiles = 0;
/******/ 	var hotChunksLoading = 0;
/******/ 	var hotWaitingFilesMap = {};
/******/ 	var hotRequestedFilesMap = {};
/******/ 	var hotAvailableFilesMap = {};
/******/ 	var hotDeferred;
/******/
/******/ 	// The update info
/******/ 	var hotUpdate, hotUpdateNewHash;
/******/
/******/ 	function toModuleId(id) {
/******/ 		var isNumber = +id + "" === id;
/******/ 		return isNumber ? +id : id;
/******/ 	}
/******/
/******/ 	function hotCheck(apply) {
/******/ 		if (hotStatus !== "idle") {
/******/ 			throw new Error("check() is only allowed in idle status");
/******/ 		}
/******/ 		hotApplyOnUpdate = apply;
/******/ 		hotSetStatus("check");
/******/ 		return hotDownloadManifest(hotRequestTimeout).then(function(update) {
/******/ 			if (!update) {
/******/ 				hotSetStatus("idle");
/******/ 				return null;
/******/ 			}
/******/ 			hotRequestedFilesMap = {};
/******/ 			hotWaitingFilesMap = {};
/******/ 			hotAvailableFilesMap = update.c;
/******/ 			hotUpdateNewHash = update.h;
/******/
/******/ 			hotSetStatus("prepare");
/******/ 			var promise = new Promise(function(resolve, reject) {
/******/ 				hotDeferred = {
/******/ 					resolve: resolve,
/******/ 					reject: reject
/******/ 				};
/******/ 			});
/******/ 			hotUpdate = {};
/******/ 			for(var chunkId in installedChunks)
/******/ 			// eslint-disable-next-line no-lone-blocks
/******/ 			{
/******/ 				hotEnsureUpdateChunk(chunkId);
/******/ 			}
/******/ 			if (
/******/ 				hotStatus === "prepare" &&
/******/ 				hotChunksLoading === 0 &&
/******/ 				hotWaitingFiles === 0
/******/ 			) {
/******/ 				hotUpdateDownloaded();
/******/ 			}
/******/ 			return promise;
/******/ 		});
/******/ 	}
/******/
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	function hotAddUpdateChunk(chunkId, moreModules) {
/******/ 		if (!hotAvailableFilesMap[chunkId] || !hotRequestedFilesMap[chunkId])
/******/ 			return;
/******/ 		hotRequestedFilesMap[chunkId] = false;
/******/ 		for (var moduleId in moreModules) {
/******/ 			if (Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {
/******/ 				hotUpdate[moduleId] = moreModules[moduleId];
/******/ 			}
/******/ 		}
/******/ 		if (--hotWaitingFiles === 0 && hotChunksLoading === 0) {
/******/ 			hotUpdateDownloaded();
/******/ 		}
/******/ 	}
/******/
/******/ 	function hotEnsureUpdateChunk(chunkId) {
/******/ 		if (!hotAvailableFilesMap[chunkId]) {
/******/ 			hotWaitingFilesMap[chunkId] = true;
/******/ 		} else {
/******/ 			hotRequestedFilesMap[chunkId] = true;
/******/ 			hotWaitingFiles++;
/******/ 			hotDownloadUpdateChunk(chunkId);
/******/ 		}
/******/ 	}
/******/
/******/ 	function hotUpdateDownloaded() {
/******/ 		hotSetStatus("ready");
/******/ 		var deferred = hotDeferred;
/******/ 		hotDeferred = null;
/******/ 		if (!deferred) return;
/******/ 		if (hotApplyOnUpdate) {
/******/ 			// Wrap deferred object in Promise to mark it as a well-handled Promise to
/******/ 			// avoid triggering uncaught exception warning in Chrome.
/******/ 			// See https://bugs.chromium.org/p/chromium/issues/detail?id=465666
/******/ 			Promise.resolve()
/******/ 				.then(function() {
/******/ 					return hotApply(hotApplyOnUpdate);
/******/ 				})
/******/ 				.then(
/******/ 					function(result) {
/******/ 						deferred.resolve(result);
/******/ 					},
/******/ 					function(err) {
/******/ 						deferred.reject(err);
/******/ 					}
/******/ 				);
/******/ 		} else {
/******/ 			var outdatedModules = [];
/******/ 			for (var id in hotUpdate) {
/******/ 				if (Object.prototype.hasOwnProperty.call(hotUpdate, id)) {
/******/ 					outdatedModules.push(toModuleId(id));
/******/ 				}
/******/ 			}
/******/ 			deferred.resolve(outdatedModules);
/******/ 		}
/******/ 	}
/******/
/******/ 	function hotApply(options) {
/******/ 		if (hotStatus !== "ready")
/******/ 			throw new Error("apply() is only allowed in ready status");
/******/ 		options = options || {};
/******/
/******/ 		var cb;
/******/ 		var i;
/******/ 		var j;
/******/ 		var module;
/******/ 		var moduleId;
/******/
/******/ 		function getAffectedStuff(updateModuleId) {
/******/ 			var outdatedModules = [updateModuleId];
/******/ 			var outdatedDependencies = {};
/******/
/******/ 			var queue = outdatedModules.map(function(id) {
/******/ 				return {
/******/ 					chain: [id],
/******/ 					id: id
/******/ 				};
/******/ 			});
/******/ 			while (queue.length > 0) {
/******/ 				var queueItem = queue.pop();
/******/ 				var moduleId = queueItem.id;
/******/ 				var chain = queueItem.chain;
/******/ 				module = installedModules[moduleId];
/******/ 				if (!module || module.hot._selfAccepted) continue;
/******/ 				if (module.hot._selfDeclined) {
/******/ 					return {
/******/ 						type: "self-declined",
/******/ 						chain: chain,
/******/ 						moduleId: moduleId
/******/ 					};
/******/ 				}
/******/ 				if (module.hot._main) {
/******/ 					return {
/******/ 						type: "unaccepted",
/******/ 						chain: chain,
/******/ 						moduleId: moduleId
/******/ 					};
/******/ 				}
/******/ 				for (var i = 0; i < module.parents.length; i++) {
/******/ 					var parentId = module.parents[i];
/******/ 					var parent = installedModules[parentId];
/******/ 					if (!parent) continue;
/******/ 					if (parent.hot._declinedDependencies[moduleId]) {
/******/ 						return {
/******/ 							type: "declined",
/******/ 							chain: chain.concat([parentId]),
/******/ 							moduleId: moduleId,
/******/ 							parentId: parentId
/******/ 						};
/******/ 					}
/******/ 					if (outdatedModules.indexOf(parentId) !== -1) continue;
/******/ 					if (parent.hot._acceptedDependencies[moduleId]) {
/******/ 						if (!outdatedDependencies[parentId])
/******/ 							outdatedDependencies[parentId] = [];
/******/ 						addAllToSet(outdatedDependencies[parentId], [moduleId]);
/******/ 						continue;
/******/ 					}
/******/ 					delete outdatedDependencies[parentId];
/******/ 					outdatedModules.push(parentId);
/******/ 					queue.push({
/******/ 						chain: chain.concat([parentId]),
/******/ 						id: parentId
/******/ 					});
/******/ 				}
/******/ 			}
/******/
/******/ 			return {
/******/ 				type: "accepted",
/******/ 				moduleId: updateModuleId,
/******/ 				outdatedModules: outdatedModules,
/******/ 				outdatedDependencies: outdatedDependencies
/******/ 			};
/******/ 		}
/******/
/******/ 		function addAllToSet(a, b) {
/******/ 			for (var i = 0; i < b.length; i++) {
/******/ 				var item = b[i];
/******/ 				if (a.indexOf(item) === -1) a.push(item);
/******/ 			}
/******/ 		}
/******/
/******/ 		// at begin all updates modules are outdated
/******/ 		// the "outdated" status can propagate to parents if they don't accept the children
/******/ 		var outdatedDependencies = {};
/******/ 		var outdatedModules = [];
/******/ 		var appliedUpdate = {};
/******/
/******/ 		var warnUnexpectedRequire = function warnUnexpectedRequire() {
/******/ 			console.warn(
/******/ 				"[HMR] unexpected require(" + result.moduleId + ") to disposed module"
/******/ 			);
/******/ 		};
/******/
/******/ 		for (var id in hotUpdate) {
/******/ 			if (Object.prototype.hasOwnProperty.call(hotUpdate, id)) {
/******/ 				moduleId = toModuleId(id);
/******/ 				/** @type {TODO} */
/******/ 				var result;
/******/ 				if (hotUpdate[id]) {
/******/ 					result = getAffectedStuff(moduleId);
/******/ 				} else {
/******/ 					result = {
/******/ 						type: "disposed",
/******/ 						moduleId: id
/******/ 					};
/******/ 				}
/******/ 				/** @type {Error|false} */
/******/ 				var abortError = false;
/******/ 				var doApply = false;
/******/ 				var doDispose = false;
/******/ 				var chainInfo = "";
/******/ 				if (result.chain) {
/******/ 					chainInfo = "\nUpdate propagation: " + result.chain.join(" -> ");
/******/ 				}
/******/ 				switch (result.type) {
/******/ 					case "self-declined":
/******/ 						if (options.onDeclined) options.onDeclined(result);
/******/ 						if (!options.ignoreDeclined)
/******/ 							abortError = new Error(
/******/ 								"Aborted because of self decline: " +
/******/ 									result.moduleId +
/******/ 									chainInfo
/******/ 							);
/******/ 						break;
/******/ 					case "declined":
/******/ 						if (options.onDeclined) options.onDeclined(result);
/******/ 						if (!options.ignoreDeclined)
/******/ 							abortError = new Error(
/******/ 								"Aborted because of declined dependency: " +
/******/ 									result.moduleId +
/******/ 									" in " +
/******/ 									result.parentId +
/******/ 									chainInfo
/******/ 							);
/******/ 						break;
/******/ 					case "unaccepted":
/******/ 						if (options.onUnaccepted) options.onUnaccepted(result);
/******/ 						if (!options.ignoreUnaccepted)
/******/ 							abortError = new Error(
/******/ 								"Aborted because " + moduleId + " is not accepted" + chainInfo
/******/ 							);
/******/ 						break;
/******/ 					case "accepted":
/******/ 						if (options.onAccepted) options.onAccepted(result);
/******/ 						doApply = true;
/******/ 						break;
/******/ 					case "disposed":
/******/ 						if (options.onDisposed) options.onDisposed(result);
/******/ 						doDispose = true;
/******/ 						break;
/******/ 					default:
/******/ 						throw new Error("Unexception type " + result.type);
/******/ 				}
/******/ 				if (abortError) {
/******/ 					hotSetStatus("abort");
/******/ 					return Promise.reject(abortError);
/******/ 				}
/******/ 				if (doApply) {
/******/ 					appliedUpdate[moduleId] = hotUpdate[moduleId];
/******/ 					addAllToSet(outdatedModules, result.outdatedModules);
/******/ 					for (moduleId in result.outdatedDependencies) {
/******/ 						if (
/******/ 							Object.prototype.hasOwnProperty.call(
/******/ 								result.outdatedDependencies,
/******/ 								moduleId
/******/ 							)
/******/ 						) {
/******/ 							if (!outdatedDependencies[moduleId])
/******/ 								outdatedDependencies[moduleId] = [];
/******/ 							addAllToSet(
/******/ 								outdatedDependencies[moduleId],
/******/ 								result.outdatedDependencies[moduleId]
/******/ 							);
/******/ 						}
/******/ 					}
/******/ 				}
/******/ 				if (doDispose) {
/******/ 					addAllToSet(outdatedModules, [result.moduleId]);
/******/ 					appliedUpdate[moduleId] = warnUnexpectedRequire;
/******/ 				}
/******/ 			}
/******/ 		}
/******/
/******/ 		// Store self accepted outdated modules to require them later by the module system
/******/ 		var outdatedSelfAcceptedModules = [];
/******/ 		for (i = 0; i < outdatedModules.length; i++) {
/******/ 			moduleId = outdatedModules[i];
/******/ 			if (
/******/ 				installedModules[moduleId] &&
/******/ 				installedModules[moduleId].hot._selfAccepted &&
/******/ 				// removed self-accepted modules should not be required
/******/ 				appliedUpdate[moduleId] !== warnUnexpectedRequire
/******/ 			) {
/******/ 				outdatedSelfAcceptedModules.push({
/******/ 					module: moduleId,
/******/ 					errorHandler: installedModules[moduleId].hot._selfAccepted
/******/ 				});
/******/ 			}
/******/ 		}
/******/
/******/ 		// Now in "dispose" phase
/******/ 		hotSetStatus("dispose");
/******/ 		Object.keys(hotAvailableFilesMap).forEach(function(chunkId) {
/******/ 			if (hotAvailableFilesMap[chunkId] === false) {
/******/ 				hotDisposeChunk(chunkId);
/******/ 			}
/******/ 		});
/******/
/******/ 		var idx;
/******/ 		var queue = outdatedModules.slice();
/******/ 		while (queue.length > 0) {
/******/ 			moduleId = queue.pop();
/******/ 			module = installedModules[moduleId];
/******/ 			if (!module) continue;
/******/
/******/ 			var data = {};
/******/
/******/ 			// Call dispose handlers
/******/ 			var disposeHandlers = module.hot._disposeHandlers;
/******/ 			for (j = 0; j < disposeHandlers.length; j++) {
/******/ 				cb = disposeHandlers[j];
/******/ 				cb(data);
/******/ 			}
/******/ 			hotCurrentModuleData[moduleId] = data;
/******/
/******/ 			// disable module (this disables requires from this module)
/******/ 			module.hot.active = false;
/******/
/******/ 			// remove module from cache
/******/ 			delete installedModules[moduleId];
/******/
/******/ 			// when disposing there is no need to call dispose handler
/******/ 			delete outdatedDependencies[moduleId];
/******/
/******/ 			// remove "parents" references from all children
/******/ 			for (j = 0; j < module.children.length; j++) {
/******/ 				var child = installedModules[module.children[j]];
/******/ 				if (!child) continue;
/******/ 				idx = child.parents.indexOf(moduleId);
/******/ 				if (idx >= 0) {
/******/ 					child.parents.splice(idx, 1);
/******/ 				}
/******/ 			}
/******/ 		}
/******/
/******/ 		// remove outdated dependency from module children
/******/ 		var dependency;
/******/ 		var moduleOutdatedDependencies;
/******/ 		for (moduleId in outdatedDependencies) {
/******/ 			if (
/******/ 				Object.prototype.hasOwnProperty.call(outdatedDependencies, moduleId)
/******/ 			) {
/******/ 				module = installedModules[moduleId];
/******/ 				if (module) {
/******/ 					moduleOutdatedDependencies = outdatedDependencies[moduleId];
/******/ 					for (j = 0; j < moduleOutdatedDependencies.length; j++) {
/******/ 						dependency = moduleOutdatedDependencies[j];
/******/ 						idx = module.children.indexOf(dependency);
/******/ 						if (idx >= 0) module.children.splice(idx, 1);
/******/ 					}
/******/ 				}
/******/ 			}
/******/ 		}
/******/
/******/ 		// Now in "apply" phase
/******/ 		hotSetStatus("apply");
/******/
/******/ 		hotCurrentHash = hotUpdateNewHash;
/******/
/******/ 		// insert new code
/******/ 		for (moduleId in appliedUpdate) {
/******/ 			if (Object.prototype.hasOwnProperty.call(appliedUpdate, moduleId)) {
/******/ 				modules[moduleId] = appliedUpdate[moduleId];
/******/ 			}
/******/ 		}
/******/
/******/ 		// call accept handlers
/******/ 		var error = null;
/******/ 		for (moduleId in outdatedDependencies) {
/******/ 			if (
/******/ 				Object.prototype.hasOwnProperty.call(outdatedDependencies, moduleId)
/******/ 			) {
/******/ 				module = installedModules[moduleId];
/******/ 				if (module) {
/******/ 					moduleOutdatedDependencies = outdatedDependencies[moduleId];
/******/ 					var callbacks = [];
/******/ 					for (i = 0; i < moduleOutdatedDependencies.length; i++) {
/******/ 						dependency = moduleOutdatedDependencies[i];
/******/ 						cb = module.hot._acceptedDependencies[dependency];
/******/ 						if (cb) {
/******/ 							if (callbacks.indexOf(cb) !== -1) continue;
/******/ 							callbacks.push(cb);
/******/ 						}
/******/ 					}
/******/ 					for (i = 0; i < callbacks.length; i++) {
/******/ 						cb = callbacks[i];
/******/ 						try {
/******/ 							cb(moduleOutdatedDependencies);
/******/ 						} catch (err) {
/******/ 							if (options.onErrored) {
/******/ 								options.onErrored({
/******/ 									type: "accept-errored",
/******/ 									moduleId: moduleId,
/******/ 									dependencyId: moduleOutdatedDependencies[i],
/******/ 									error: err
/******/ 								});
/******/ 							}
/******/ 							if (!options.ignoreErrored) {
/******/ 								if (!error) error = err;
/******/ 							}
/******/ 						}
/******/ 					}
/******/ 				}
/******/ 			}
/******/ 		}
/******/
/******/ 		// Load self accepted modules
/******/ 		for (i = 0; i < outdatedSelfAcceptedModules.length; i++) {
/******/ 			var item = outdatedSelfAcceptedModules[i];
/******/ 			moduleId = item.module;
/******/ 			hotCurrentParents = [moduleId];
/******/ 			try {
/******/ 				__webpack_require__(moduleId);
/******/ 			} catch (err) {
/******/ 				if (typeof item.errorHandler === "function") {
/******/ 					try {
/******/ 						item.errorHandler(err);
/******/ 					} catch (err2) {
/******/ 						if (options.onErrored) {
/******/ 							options.onErrored({
/******/ 								type: "self-accept-error-handler-errored",
/******/ 								moduleId: moduleId,
/******/ 								error: err2,
/******/ 								originalError: err
/******/ 							});
/******/ 						}
/******/ 						if (!options.ignoreErrored) {
/******/ 							if (!error) error = err2;
/******/ 						}
/******/ 						if (!error) error = err;
/******/ 					}
/******/ 				} else {
/******/ 					if (options.onErrored) {
/******/ 						options.onErrored({
/******/ 							type: "self-accept-errored",
/******/ 							moduleId: moduleId,
/******/ 							error: err
/******/ 						});
/******/ 					}
/******/ 					if (!options.ignoreErrored) {
/******/ 						if (!error) error = err;
/******/ 					}
/******/ 				}
/******/ 			}
/******/ 		}
/******/
/******/ 		// handle errors in accept handlers and self accepted module load
/******/ 		if (error) {
/******/ 			hotSetStatus("fail");
/******/ 			return Promise.reject(error);
/******/ 		}
/******/
/******/ 		hotSetStatus("idle");
/******/ 		return new Promise(function(resolve) {
/******/ 			resolve(outdatedModules);
/******/ 		});
/******/ 	}
/******/
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// object to store loaded and loading chunks
/******/ 	// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 	// Promise = chunk loading, 0 = chunk loaded
/******/ 	var installedChunks = {
/******/ 		"app": 0
/******/ 	};
/******/
/******/ 	var deferredModules = [];
/******/
/******/ 	// script path function
/******/ 	function jsonpScriptSrc(chunkId) {
/******/ 		return __webpack_require__.p + "vendors/" + ({"@atlaskit-internal-smartcard-datacardcontent":"@atlaskit-internal-smartcard-datacardcontent","@atlaskit-internal_emojiTypeAheadComponent":"@atlaskit-internal_emojiTypeAheadComponent","@atlaskit-internal_emojiUploadComponent":"@atlaskit-internal_emojiUploadComponent","@atlaskit-internal_media-card-error-boundary":"@atlaskit-internal_media-card-error-boundary","@atlaskit-internal_media-client":"@atlaskit-internal_media-client","@atlaskit-internal_media-editor-view":"@atlaskit-internal_media-editor-view","@atlaskit-internal_media-picker-error-boundary":"@atlaskit-internal_media-picker-error-boundary","@atlaskit-internal_resourcedEmojiComponent":"@atlaskit-internal_resourcedEmojiComponent","@atlaskit-internal-editor-core-config-panel":"@atlaskit-internal-editor-core-config-panel","@atlaskit-internal-editor-core-floating-toolbar":"@atlaskit-internal-editor-core-floating-toolbar","@atlaskit-internal-editor-core-helpdialog":"@atlaskit-internal-editor-core-helpdialog","@atlaskit-internal-editor-datepicker":"@atlaskit-internal-editor-datepicker","@atlaskit-internal-smartcard-urlcardcontent":"@atlaskit-internal-smartcard-urlcardcontent","@atlaskit-internal_emojiPickerComponent":"@atlaskit-internal_emojiPickerComponent","@atlaskit-internal_media-browser":"@atlaskit-internal_media-browser","@atlaskit-internal_media-card":"@atlaskit-internal_media-card","@atlaskit-internal_media-clipboard":"@atlaskit-internal_media-clipboard","@atlaskit-internal_media-dropzone":"@atlaskit-internal_media-dropzone","@atlaskit-internal_media-picker-popup":"@atlaskit-internal_media-picker-popup","@atlaskit-internal_media-smart-editor":"@atlaskit-internal_media-smart-editor","@atlaskit-internal-editor-element-browser":"@atlaskit-internal-editor-element-browser"}[chunkId]||chunkId) + ".js"
/******/ 	}
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {},
/******/ 			hot: hotCreateModule(moduleId),
/******/ 			parents: (hotCurrentParentsTemp = hotCurrentParents, hotCurrentParents = [], hotCurrentParentsTemp),
/******/ 			children: []
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, hotCreateRequire(moduleId));
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/ 	// This file contains only the entry chunk.
/******/ 	// The chunk loading function for additional chunks
/******/ 	__webpack_require__.e = function requireEnsure(chunkId) {
/******/ 		var promises = [];
/******/
/******/
/******/ 		// JSONP chunk loading for javascript
/******/
/******/ 		var installedChunkData = installedChunks[chunkId];
/******/ 		if(installedChunkData !== 0) { // 0 means "already installed".
/******/
/******/ 			// a Promise means "currently loading".
/******/ 			if(installedChunkData) {
/******/ 				promises.push(installedChunkData[2]);
/******/ 			} else {
/******/ 				// setup Promise in chunk cache
/******/ 				var promise = new Promise(function(resolve, reject) {
/******/ 					installedChunkData = installedChunks[chunkId] = [resolve, reject];
/******/ 				});
/******/ 				promises.push(installedChunkData[2] = promise);
/******/
/******/ 				// start chunk loading
/******/ 				var script = document.createElement('script');
/******/ 				var onScriptComplete;
/******/
/******/ 				script.charset = 'utf-8';
/******/ 				script.timeout = 120;
/******/ 				if (__webpack_require__.nc) {
/******/ 					script.setAttribute("nonce", __webpack_require__.nc);
/******/ 				}
/******/ 				script.src = jsonpScriptSrc(chunkId);
/******/
/******/ 				// create error before stack unwound to get useful stacktrace later
/******/ 				var error = new Error();
/******/ 				onScriptComplete = function (event) {
/******/ 					// avoid mem leaks in IE.
/******/ 					script.onerror = script.onload = null;
/******/ 					clearTimeout(timeout);
/******/ 					var chunk = installedChunks[chunkId];
/******/ 					if(chunk !== 0) {
/******/ 						if(chunk) {
/******/ 							var errorType = event && (event.type === 'load' ? 'missing' : event.type);
/******/ 							var realSrc = event && event.target && event.target.src;
/******/ 							error.message = 'Loading chunk ' + chunkId + ' failed.\n(' + errorType + ': ' + realSrc + ')';
/******/ 							error.name = 'ChunkLoadError';
/******/ 							error.type = errorType;
/******/ 							error.request = realSrc;
/******/ 							chunk[1](error);
/******/ 						}
/******/ 						installedChunks[chunkId] = undefined;
/******/ 					}
/******/ 				};
/******/ 				var timeout = setTimeout(function(){
/******/ 					onScriptComplete({ type: 'timeout', target: script });
/******/ 				}, 120000);
/******/ 				script.onerror = script.onload = onScriptComplete;
/******/ 				document.head.appendChild(script);
/******/ 			}
/******/ 		}
/******/ 		return Promise.all(promises);
/******/ 	};
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// on error function for async loading
/******/ 	__webpack_require__.oe = function(err) { console.error(err); throw err; };
/******/
/******/ 	// __webpack_hash__
/******/ 	__webpack_require__.h = function() { return hotCurrentHash; };
/******/
/******/ 	var jsonpArray = this["webpackJsonp"] = this["webpackJsonp"] || [];
/******/ 	var oldJsonpFunction = jsonpArray.push.bind(jsonpArray);
/******/ 	jsonpArray.push = webpackJsonpCallback;
/******/ 	jsonpArray = jsonpArray.slice();
/******/ 	for(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);
/******/ 	var parentJsonpFunction = oldJsonpFunction;
/******/
/******/
/******/ 	// add entry module to deferred list
/******/ 	deferredModules.push([6,"atlaskit","vendors"]);
/******/ 	// run deferred modules when ready
/******/ 	return checkDeferredModules();
/******/ })
/************************************************************************/
/******/ ({

/***/ "./manifest.webapp":
/***/ (function(module, exports) {

eval("module.exports = {\"name\":\"Notes\",\"name_prefix\":\"Twake\",\"slug\":\"notes\",\"icon\":\"icon.svg\",\"categories\":[\"cozy\"],\"version\":\"1.43.0\",\"licence\":\"AGPL-3.0\",\"editor\":\"Cozy\",\"source\":\"https://github.com/cozy/cozy-notes.git@build\",\"developer\":{\"name\":\"Twake Workplace\",\"url\":\"https://twake.app\"},\"screenshots\":[\"screenshots/fr/screenshot01.png\",\"screenshots/fr/screenshot02.png\"],\"langs\":[\"en\",\"fr\"],\"routes\":{\"/\":{\"folder\":\"/\",\"index\":\"index.html\",\"public\":false},\"/public\":{\"folder\":\"/\",\"index\":\"index.html\",\"public\":true},\"/preview\":{\"folder\":\"/\",\"index\":\"index.html\",\"public\":true},\"/intents\":{\"folder\":\"/intents\",\"index\":\"index.html\",\"public\":false}},\"intents\":[{\"action\":\"OPEN\",\"type\":[\"io.cozy.notes.documents\"],\"href\":\"/intents\"}],\"permissions\":{\"apps\":{\"description\":\"Required by the cozy-bar to display the icons of the apps\",\"type\":\"io.cozy.apps\",\"verbs\":[\"GET\"]},\"files\":{\"description\":\"Notes as files\",\"type\":\"io.cozy.files\"},\"settings\":{\"description\":\"Required by the cozy-bar to display Claudy and know which applications are coming soon\",\"type\":\"io.cozy.settings\",\"verbs\":[\"GET\"]},\"sharings\":{\"description\":\"Required to have access to the sharings in realtime\",\"type\":\"io.cozy.sharings\",\"verbs\":[\"GET\"]},\"contacts\":{\"type\":\"io.cozy.contacts\",\"verbs\":[\"GET\",\"POST\"]},\"groups\":{\"type\":\"io.cozy.contacts.groups\",\"verbs\":[\"GET\"]},\"intents\":{\"type\":\"io.cozy.notes.documents\",\"verbs\":[\"GET\"]}}}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9tYW5pZmVzdC53ZWJhcHAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9tYW5pZmVzdC53ZWJhcHA/YjZjOCJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHtcIm5hbWVcIjpcIk5vdGVzXCIsXCJuYW1lX3ByZWZpeFwiOlwiVHdha2VcIixcInNsdWdcIjpcIm5vdGVzXCIsXCJpY29uXCI6XCJpY29uLnN2Z1wiLFwiY2F0ZWdvcmllc1wiOltcImNvenlcIl0sXCJ2ZXJzaW9uXCI6XCIxLjQzLjBcIixcImxpY2VuY2VcIjpcIkFHUEwtMy4wXCIsXCJlZGl0b3JcIjpcIkNvenlcIixcInNvdXJjZVwiOlwiaHR0cHM6Ly9naXRodWIuY29tL2NvenkvY296eS1ub3Rlcy5naXRAYnVpbGRcIixcImRldmVsb3BlclwiOntcIm5hbWVcIjpcIlR3YWtlIFdvcmtwbGFjZVwiLFwidXJsXCI6XCJodHRwczovL3R3YWtlLmFwcFwifSxcInNjcmVlbnNob3RzXCI6W1wic2NyZWVuc2hvdHMvZnIvc2NyZWVuc2hvdDAxLnBuZ1wiLFwic2NyZWVuc2hvdHMvZnIvc2NyZWVuc2hvdDAyLnBuZ1wiXSxcImxhbmdzXCI6W1wiZW5cIixcImZyXCJdLFwicm91dGVzXCI6e1wiL1wiOntcImZvbGRlclwiOlwiL1wiLFwiaW5kZXhcIjpcImluZGV4Lmh0bWxcIixcInB1YmxpY1wiOmZhbHNlfSxcIi9wdWJsaWNcIjp7XCJmb2xkZXJcIjpcIi9cIixcImluZGV4XCI6XCJpbmRleC5odG1sXCIsXCJwdWJsaWNcIjp0cnVlfSxcIi9wcmV2aWV3XCI6e1wiZm9sZGVyXCI6XCIvXCIsXCJpbmRleFwiOlwiaW5kZXguaHRtbFwiLFwicHVibGljXCI6dHJ1ZX0sXCIvaW50ZW50c1wiOntcImZvbGRlclwiOlwiL2ludGVudHNcIixcImluZGV4XCI6XCJpbmRleC5odG1sXCIsXCJwdWJsaWNcIjpmYWxzZX19LFwiaW50ZW50c1wiOlt7XCJhY3Rpb25cIjpcIk9QRU5cIixcInR5cGVcIjpbXCJpby5jb3p5Lm5vdGVzLmRvY3VtZW50c1wiXSxcImhyZWZcIjpcIi9pbnRlbnRzXCJ9XSxcInBlcm1pc3Npb25zXCI6e1wiYXBwc1wiOntcImRlc2NyaXB0aW9uXCI6XCJSZXF1aXJlZCBieSB0aGUgY296eS1iYXIgdG8gZGlzcGxheSB0aGUgaWNvbnMgb2YgdGhlIGFwcHNcIixcInR5cGVcIjpcImlvLmNvenkuYXBwc1wiLFwidmVyYnNcIjpbXCJHRVRcIl19LFwiZmlsZXNcIjp7XCJkZXNjcmlwdGlvblwiOlwiTm90ZXMgYXMgZmlsZXNcIixcInR5cGVcIjpcImlvLmNvenkuZmlsZXNcIn0sXCJzZXR0aW5nc1wiOntcImRlc2NyaXB0aW9uXCI6XCJSZXF1aXJlZCBieSB0aGUgY296eS1iYXIgdG8gZGlzcGxheSBDbGF1ZHkgYW5kIGtub3cgd2hpY2ggYXBwbGljYXRpb25zIGFyZSBjb21pbmcgc29vblwiLFwidHlwZVwiOlwiaW8uY296eS5zZXR0aW5nc1wiLFwidmVyYnNcIjpbXCJHRVRcIl19LFwic2hhcmluZ3NcIjp7XCJkZXNjcmlwdGlvblwiOlwiUmVxdWlyZWQgdG8gaGF2ZSBhY2Nlc3MgdG8gdGhlIHNoYXJpbmdzIGluIHJlYWx0aW1lXCIsXCJ0eXBlXCI6XCJpby5jb3p5LnNoYXJpbmdzXCIsXCJ2ZXJic1wiOltcIkdFVFwiXX0sXCJjb250YWN0c1wiOntcInR5cGVcIjpcImlvLmNvenkuY29udGFjdHNcIixcInZlcmJzXCI6W1wiR0VUXCIsXCJQT1NUXCJdfSxcImdyb3Vwc1wiOntcInR5cGVcIjpcImlvLmNvenkuY29udGFjdHMuZ3JvdXBzXCIsXCJ2ZXJic1wiOltcIkdFVFwiXX0sXCJpbnRlbnRzXCI6e1widHlwZVwiOlwiaW8uY296eS5ub3Rlcy5kb2N1bWVudHNcIixcInZlcmJzXCI6W1wiR0VUXCJdfX19Il0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./manifest.webapp\n");

/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/stylus-loader/index.js?!./src/components/header_menu.styl":
/***/ (function(module, exports, __webpack_require__) {

eval("exports = module.exports = __webpack_require__(\"./node_modules/css-loader/dist/runtime/api.js\")(true);\n// Module\nexports.push([module.i, \".header--2CTEE {\\n  position: fixed;\\n  z-index: calc(var(--zIndex-bar) + 1);\\n  width: 100%;\\n}\\n.header-menu--HN4tE {\\n  align-items: center;\\n  box-shadow: var(--shadow1);\\n  display: flex;\\n  padding: 0.5rem 1rem 0.5rem 0;\\n  z-index: var(--zIndex-low);\\n}\\n@media (min-width: 48.063rem) {\\n  .header-menu--HN4tE {\\n    padding: 0.5rem 1rem;\\n  }\\n}\\n.app-icon--2S30F,\\n.home-link--3zbZf {\\n  display: block;\\n  height: 32px;\\n  width: 32px;\\n}\\n.app-icon--2S30F {\\n  margin-right: 1rem;\\n}\\n.file-infos--1KJvL {\\n  align-items: center;\\n  display: flex;\\n  flex-grow: 1;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"src/components/header_menu.styl\",\"header_menu.styl\",\"node_modules/cozy-ui/stylus/settings/breakpoints.styl\"],\"names\":[],\"mappings\":\"AAEA;EACI,eAAS;EACT,oCAAQ;EACR,WAAM;ACDV;ADGA;EACI,mBAAY;EACZ,0BAAW;EACX,aAAQ;EACR,6BAAQ;EACR,0BAAQ;ACDZ;ACwFoE;EAAA;IFpF5D,oBAAQ;ECAd;AACF;ADCA;;EAEI,cAAQ;EACR,YAAO;EACP,WAAM;ACCV;ADCA;EACI,kBAAa;ACCjB;ADCA;EACI,mBAAY;EACZ,aAAQ;EACR,YAAU;ACCd\",\"file\":\"header_menu.styl\",\"sourcesContent\":[\"@require 'settings/breakpoints.styl'\\n\\n.header\\n    position fixed // To be above the cozy-bar\\n    z-index calc(var(--zIndex-bar) + 1) // To be above the cozy-bar\\n    width 100%\\n\\n.header-menu\\n    align-items center\\n    box-shadow var(--shadow1)\\n    display flex\\n    padding 0.5rem 1rem 0.5rem 0\\n    z-index var(--zIndex-low) // Needed for the drop-shadow to be above the editor area\\n\\n    +small-screen('min')\\n        padding 0.5rem 1rem\\n\\n.app-icon\\n.home-link\\n    display block\\n    height 32px\\n    width 32px\\n\\n.app-icon\\n    margin-right 1rem\\n\\n.file-infos\\n    align-items center\\n    display flex\\n    flex-grow 1\\n\\n\",\".header {\\n  position: fixed;\\n  z-index: calc(var(--zIndex-bar) + 1);\\n  width: 100%;\\n}\\n.header-menu {\\n  align-items: center;\\n  box-shadow: var(--shadow1);\\n  display: flex;\\n  padding: 0.5rem 1rem 0.5rem 0;\\n  z-index: var(--zIndex-low);\\n}\\n@media (min-width: 48.063rem) {\\n  .header-menu {\\n    padding: 0.5rem 1rem;\\n  }\\n}\\n.app-icon,\\n.home-link {\\n  display: block;\\n  height: 32px;\\n  width: 32px;\\n}\\n.app-icon {\\n  margin-right: 1rem;\\n}\\n.file-infos {\\n  align-items: center;\\n  display: flex;\\n  flex-grow: 1;\\n}\\n\",\"@require '../tools/mixins'\\n\\n/*------------------------------------*\\\\\\n  Breakpoints\\n  =====\\n\\\\*------------------------------------*/\\n\\n// variables\\n\\nBP-teeny       =  375\\nBP-tiny        =  480\\nBP-small       =  768\\nBP-medium      = 1023\\nBP-large       = 1200\\nBP-extra-large = 1439\\n\\n// Standard breakpoints collection for utilities\\nbreakpoints = {\\n    'none': '',\\n    'tiny': 't',\\n    'small': 's',\\n    'medium': 'm',\\n}\\n\\n/*\\n    Breakpoints\\n\\n    This is the collection of available breakpoint variables:<br><br>\\n    - `BP-teeny`         -  375px\\n    - `BP-tiny`          -  480px\\n    - `BP-small`         -  768px\\n    - `BP-medium`        -  1023px\\n    - `BP-large`         -  1200px\\n    - `BP-extra-large`   -  1439px\\n\\n    <br>Also we have a standard breakpoints collection meant to be used as suffixes for some utility classes<br>\\n\\n    If you want a utility class to trigger only at defined breakpoints you can use those:<br><br>\\n    - `-t`  - refers to `tiny` breakpoint (max-width: 480px)\\n    - `-s`  - refers to `small` breakpoint (max-width: 768px)\\n    - `-m`  - refers to `medium` breakpoint (max-width: 1023px)\\n\\n    Styleguide Settings.breakpoints\\n*/\\n\\n/*\\n    Media Queries mixins\\n\\n    You can use these mixins with no arguments and they will output\\n    the desired a `max-width` media-query. Use the direction argument\\n    to set it to `min`.\\n\\n    Styleguide Settings.breakpoints.mixins\\n*/\\n\\n// mixins\\n// @stylint off\\nsize-helper(direction, size)\\n    direction == 'min' ? size + 1 : size\\n\\n/*\\n    teeny-screen()\\n\\n    teeny-screen() Refers to (max-width: 375px)\\n    teeny-screen('min') Refers to (min-width: 376px)\\n\\n    Weight: -6\\n\\n    Styleguide Settings.breakpoints.mixins.teeny\\n*/\\nteeny-screen(direction='max')\\n    @media ({direction}-width: rem(size-helper(direction, BP-teeny)))\\n        {block}\\n\\n/*\\n    tiny-screen()\\n\\n    tiny-screen() Refers to (max-width: 480px)\\n    tiny-screen('min') Refers to (min-width: 481px)\\n\\n    Weight: -5\\n\\n    Styleguide Settings.breakpoints.mixins.tiny\\n*/\\ntiny-screen(direction='max')\\n    @media ({direction}-width: rem(size-helper(direction, BP-tiny)))\\n        {block}\\n\\n/*\\n    small-screen()\\n\\n    small-screen() Refers to (max-width: 768px)\\n    small-screen('min') Refers to (min-width: 769px)\\n\\n    Weight: -4\\n\\n    Styleguide Settings.breakpoints.mixins.small\\n*/\\nsmall-screen(direction='max')\\n    @media ({direction}-width: rem(size-helper(direction, BP-small)))\\n        {block}\\n\\n/*\\n    medium-screen()\\n\\n    medium-screen() Refers to (max-width: 1023px)\\n    medium-screen('min') Refers to (min-width: 1024px)\\n\\n    Weight: -3\\n\\n    Styleguide Settings.breakpoints.mixins.medium\\n*/\\nmedium-screen(direction='max')\\n    @media ({direction}-width: rem(size-helper(direction, BP-medium)))\\n        {block}\\n\\n/*\\n    large-screen()\\n\\n    large-screen() Refers to (max-width: 1200px)\\n    large-screen('min') Refers to (min-width: 1201px)\\n\\n    Weight: -2\\n\\n    Styleguide Settings.breakpoints.mixins.large\\n*/\\nlarge-screen(direction='max')\\n    @media ({direction}-width: rem(size-helper(direction, BP-large)))\\n        {block}\\n\\n/*\\n    extra-large-screen()\\n\\n    extra-large-screen() Refers to (max-width: 1439px)\\n    extra-large-screen('min') Refers to (min-width: 1440px)\\n\\n    Weight: -1\\n\\n    Styleguide Settings.breakpoints.mixins.extra-large\\n*/\\nextra-large-screen(direction='max')\\n    @media ({direction}-width: rem(size-helper(direction, BP-extra-large)))\\n        {block}\\n\\n// mixins named\\n\\n/*\\n    small-device()\\n\\n    Refers to (max-width: 543px), (max-height: 375px)\\n    Triggers when the viewport has a width smaller than 543px OR a height smaller than 375px\\n\\n    Weight: 0\\n\\n    Styleguide Settings.breakpoints.mixins.small-device\\n*/\\n\\nsmall-device()\\n    @media (max-width: rem(size-helper('max', BP-tiny))), (max-height: rem(size-helper('max', BP-teeny)))\\n        {block}\\n\\n/*\\n    medium-device()\\n\\n    Refers to (min-width: 543px) and (min-height: 375px)\\n    Triggers when the viewport has a width bigger than 543px AND a height bigger than 375px\\n\\n    Weight: 0\\n\\n    Styleguide Settings.breakpoints.mixins.medium-device\\n*/\\n\\nmedium-device()\\n    @media (min-width: rem(size-helper('min', BP-tiny))) and (min-height: rem(size-helper('min', BP-teeny)))\\n        {block}\\n\\n/*\\n    desktop()\\n\\n    Refers to (min-width: 1024px)\\n\\n    Weight: 0\\n\\n    Styleguide Settings.breakpoints.mixins.desktop\\n*/\\ndesktop()\\n    @media (min-width: rem(size-helper('min', BP-medium)))\\n        {block}\\n\\n/*\\n    tablet()\\n\\n    Refers to (min-width: 769px) and (max-width: 1023px)\\n\\n    Weight: 1\\n\\n    Styleguide Settings.breakpoints.mixins.tablet\\n*/\\ntablet()\\n    @media (min-width: rem(size-helper('min', BP-small))) and (max-width: rem(size-helper('max', BP-medium)))\\n        {block}\\n\\n/*\\n    mobile()\\n\\n    Refers to small-screen() which is (max-width: 768px)\\n\\n    Weight: 2\\n\\n    Styleguide Settings.breakpoints.mixins.mobile\\n*/\\nmobile()\\n    +small-screen()\\n        {block}\\n\\n/*\\n    gt-mobile()\\n\\n    Refers to (min-width: 769px)\\n\\n    Weight: 3\\n\\n    Styleguide Settings.breakpoints.mixins.gt-mobile\\n*/\\ngt-mobile()\\n    @media (min-width: rem(size-helper('min', BP-small)))\\n        {block}\\n\\n/*\\n    gt-tablet()\\n\\n    Refers to (min-width: 1024px)\\n\\n    Weight: 4\\n\\n    Styleguide Settings.breakpoints.mixins.gt-tablet\\n*/\\ngt-tablet()\\n    @media (min-width: rem(size-helper('min', BP-medium)))\\n        {block}\\n\\n/*\\n    lt-desktop()\\n\\n    Refers to medium-screen() which is (max-width: 1023px)\\n\\n    Weight: 5\\n\\n    Styleguide Settings.breakpoints.mixins.lt-desktop\\n*/\\nlt-desktop()\\n    +medium-screen()\\n        {block}\\n// @stylint on\\n\"],\"sourceRoot\":\"\"}]);\n\n// Exports\nexports.locals = {\n\t\"header\": \"header--2CTEE\",\n\t\"header-menu\": \"header-menu--HN4tE\",\n\t\"app-icon\": \"app-icon--2S30F\",\n\t\"home-link\": \"home-link--3zbZf\",\n\t\"file-infos\": \"file-infos--1KJvL\"\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8hLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvc3JjL2luZGV4LmpzPyEuL25vZGVfbW9kdWxlcy9zdHlsdXMtbG9hZGVyL2luZGV4LmpzPyEuL3NyYy9jb21wb25lbnRzL2hlYWRlcl9tZW51LnN0eWwuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9oZWFkZXJfbWVudS5zdHlsPzIxZjYiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIikodHJ1ZSk7XG4vLyBNb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5oZWFkZXItLTJDVEVFIHtcXG4gIHBvc2l0aW9uOiBmaXhlZDtcXG4gIHotaW5kZXg6IGNhbGModmFyKC0tekluZGV4LWJhcikgKyAxKTtcXG4gIHdpZHRoOiAxMDAlO1xcbn1cXG4uaGVhZGVyLW1lbnUtLUhONHRFIHtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICBib3gtc2hhZG93OiB2YXIoLS1zaGFkb3cxKTtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBwYWRkaW5nOiAwLjVyZW0gMXJlbSAwLjVyZW0gMDtcXG4gIHotaW5kZXg6IHZhcigtLXpJbmRleC1sb3cpO1xcbn1cXG5AbWVkaWEgKG1pbi13aWR0aDogNDguMDYzcmVtKSB7XFxuICAuaGVhZGVyLW1lbnUtLUhONHRFIHtcXG4gICAgcGFkZGluZzogMC41cmVtIDFyZW07XFxuICB9XFxufVxcbi5hcHAtaWNvbi0tMlMzMEYsXFxuLmhvbWUtbGluay0tM3piWmYge1xcbiAgZGlzcGxheTogYmxvY2s7XFxuICBoZWlnaHQ6IDMycHg7XFxuICB3aWR0aDogMzJweDtcXG59XFxuLmFwcC1pY29uLS0yUzMwRiB7XFxuICBtYXJnaW4tcmlnaHQ6IDFyZW07XFxufVxcbi5maWxlLWluZm9zLS0xS0p2TCB7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGZsZXgtZ3JvdzogMTtcXG59XFxuXCIsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wic3JjL2NvbXBvbmVudHMvaGVhZGVyX21lbnUuc3R5bFwiLFwiaGVhZGVyX21lbnUuc3R5bFwiLFwibm9kZV9tb2R1bGVzL2NvenktdWkvc3R5bHVzL3NldHRpbmdzL2JyZWFrcG9pbnRzLnN0eWxcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBRUE7RUFDSSxlQUFTO0VBQ1Qsb0NBQVE7RUFDUixXQUFNO0FDRFY7QURHQTtFQUNJLG1CQUFZO0VBQ1osMEJBQVc7RUFDWCxhQUFRO0VBQ1IsNkJBQVE7RUFDUiwwQkFBUTtBQ0RaO0FDd0ZvRTtFQUFBO0lGcEY1RCxvQkFBUTtFQ0FkO0FBQ0Y7QURDQTs7RUFFSSxjQUFRO0VBQ1IsWUFBTztFQUNQLFdBQU07QUNDVjtBRENBO0VBQ0ksa0JBQWE7QUNDakI7QURDQTtFQUNJLG1CQUFZO0VBQ1osYUFBUTtFQUNSLFlBQVU7QUNDZFwiLFwiZmlsZVwiOlwiaGVhZGVyX21lbnUuc3R5bFwiLFwic291cmNlc0NvbnRlbnRcIjpbXCJAcmVxdWlyZSAnc2V0dGluZ3MvYnJlYWtwb2ludHMuc3R5bCdcXG5cXG4uaGVhZGVyXFxuICAgIHBvc2l0aW9uIGZpeGVkIC8vIFRvIGJlIGFib3ZlIHRoZSBjb3p5LWJhclxcbiAgICB6LWluZGV4IGNhbGModmFyKC0tekluZGV4LWJhcikgKyAxKSAvLyBUbyBiZSBhYm92ZSB0aGUgY296eS1iYXJcXG4gICAgd2lkdGggMTAwJVxcblxcbi5oZWFkZXItbWVudVxcbiAgICBhbGlnbi1pdGVtcyBjZW50ZXJcXG4gICAgYm94LXNoYWRvdyB2YXIoLS1zaGFkb3cxKVxcbiAgICBkaXNwbGF5IGZsZXhcXG4gICAgcGFkZGluZyAwLjVyZW0gMXJlbSAwLjVyZW0gMFxcbiAgICB6LWluZGV4IHZhcigtLXpJbmRleC1sb3cpIC8vIE5lZWRlZCBmb3IgdGhlIGRyb3Atc2hhZG93IHRvIGJlIGFib3ZlIHRoZSBlZGl0b3IgYXJlYVxcblxcbiAgICArc21hbGwtc2NyZWVuKCdtaW4nKVxcbiAgICAgICAgcGFkZGluZyAwLjVyZW0gMXJlbVxcblxcbi5hcHAtaWNvblxcbi5ob21lLWxpbmtcXG4gICAgZGlzcGxheSBibG9ja1xcbiAgICBoZWlnaHQgMzJweFxcbiAgICB3aWR0aCAzMnB4XFxuXFxuLmFwcC1pY29uXFxuICAgIG1hcmdpbi1yaWdodCAxcmVtXFxuXFxuLmZpbGUtaW5mb3NcXG4gICAgYWxpZ24taXRlbXMgY2VudGVyXFxuICAgIGRpc3BsYXkgZmxleFxcbiAgICBmbGV4LWdyb3cgMVxcblxcblwiLFwiLmhlYWRlciB7XFxuICBwb3NpdGlvbjogZml4ZWQ7XFxuICB6LWluZGV4OiBjYWxjKHZhcigtLXpJbmRleC1iYXIpICsgMSk7XFxuICB3aWR0aDogMTAwJTtcXG59XFxuLmhlYWRlci1tZW51IHtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICBib3gtc2hhZG93OiB2YXIoLS1zaGFkb3cxKTtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBwYWRkaW5nOiAwLjVyZW0gMXJlbSAwLjVyZW0gMDtcXG4gIHotaW5kZXg6IHZhcigtLXpJbmRleC1sb3cpO1xcbn1cXG5AbWVkaWEgKG1pbi13aWR0aDogNDguMDYzcmVtKSB7XFxuICAuaGVhZGVyLW1lbnUge1xcbiAgICBwYWRkaW5nOiAwLjVyZW0gMXJlbTtcXG4gIH1cXG59XFxuLmFwcC1pY29uLFxcbi5ob21lLWxpbmsge1xcbiAgZGlzcGxheTogYmxvY2s7XFxuICBoZWlnaHQ6IDMycHg7XFxuICB3aWR0aDogMzJweDtcXG59XFxuLmFwcC1pY29uIHtcXG4gIG1hcmdpbi1yaWdodDogMXJlbTtcXG59XFxuLmZpbGUtaW5mb3Mge1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBmbGV4LWdyb3c6IDE7XFxufVxcblwiLFwiQHJlcXVpcmUgJy4uL3Rvb2xzL21peGlucydcXG5cXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSpcXFxcXFxuICBCcmVha3BvaW50c1xcbiAgPT09PT1cXG5cXFxcKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXFxuXFxuLy8gdmFyaWFibGVzXFxuXFxuQlAtdGVlbnkgICAgICAgPSAgMzc1XFxuQlAtdGlueSAgICAgICAgPSAgNDgwXFxuQlAtc21hbGwgICAgICAgPSAgNzY4XFxuQlAtbWVkaXVtICAgICAgPSAxMDIzXFxuQlAtbGFyZ2UgICAgICAgPSAxMjAwXFxuQlAtZXh0cmEtbGFyZ2UgPSAxNDM5XFxuXFxuLy8gU3RhbmRhcmQgYnJlYWtwb2ludHMgY29sbGVjdGlvbiBmb3IgdXRpbGl0aWVzXFxuYnJlYWtwb2ludHMgPSB7XFxuICAgICdub25lJzogJycsXFxuICAgICd0aW55JzogJ3QnLFxcbiAgICAnc21hbGwnOiAncycsXFxuICAgICdtZWRpdW0nOiAnbScsXFxufVxcblxcbi8qXFxuICAgIEJyZWFrcG9pbnRzXFxuXFxuICAgIFRoaXMgaXMgdGhlIGNvbGxlY3Rpb24gb2YgYXZhaWxhYmxlIGJyZWFrcG9pbnQgdmFyaWFibGVzOjxicj48YnI+XFxuICAgIC0gYEJQLXRlZW55YCAgICAgICAgIC0gIDM3NXB4XFxuICAgIC0gYEJQLXRpbnlgICAgICAgICAgIC0gIDQ4MHB4XFxuICAgIC0gYEJQLXNtYWxsYCAgICAgICAgIC0gIDc2OHB4XFxuICAgIC0gYEJQLW1lZGl1bWAgICAgICAgIC0gIDEwMjNweFxcbiAgICAtIGBCUC1sYXJnZWAgICAgICAgICAtICAxMjAwcHhcXG4gICAgLSBgQlAtZXh0cmEtbGFyZ2VgICAgLSAgMTQzOXB4XFxuXFxuICAgIDxicj5BbHNvIHdlIGhhdmUgYSBzdGFuZGFyZCBicmVha3BvaW50cyBjb2xsZWN0aW9uIG1lYW50IHRvIGJlIHVzZWQgYXMgc3VmZml4ZXMgZm9yIHNvbWUgdXRpbGl0eSBjbGFzc2VzPGJyPlxcblxcbiAgICBJZiB5b3Ugd2FudCBhIHV0aWxpdHkgY2xhc3MgdG8gdHJpZ2dlciBvbmx5IGF0IGRlZmluZWQgYnJlYWtwb2ludHMgeW91IGNhbiB1c2UgdGhvc2U6PGJyPjxicj5cXG4gICAgLSBgLXRgICAtIHJlZmVycyB0byBgdGlueWAgYnJlYWtwb2ludCAobWF4LXdpZHRoOiA0ODBweClcXG4gICAgLSBgLXNgICAtIHJlZmVycyB0byBgc21hbGxgIGJyZWFrcG9pbnQgKG1heC13aWR0aDogNzY4cHgpXFxuICAgIC0gYC1tYCAgLSByZWZlcnMgdG8gYG1lZGl1bWAgYnJlYWtwb2ludCAobWF4LXdpZHRoOiAxMDIzcHgpXFxuXFxuICAgIFN0eWxlZ3VpZGUgU2V0dGluZ3MuYnJlYWtwb2ludHNcXG4qL1xcblxcbi8qXFxuICAgIE1lZGlhIFF1ZXJpZXMgbWl4aW5zXFxuXFxuICAgIFlvdSBjYW4gdXNlIHRoZXNlIG1peGlucyB3aXRoIG5vIGFyZ3VtZW50cyBhbmQgdGhleSB3aWxsIG91dHB1dFxcbiAgICB0aGUgZGVzaXJlZCBhIGBtYXgtd2lkdGhgIG1lZGlhLXF1ZXJ5LiBVc2UgdGhlIGRpcmVjdGlvbiBhcmd1bWVudFxcbiAgICB0byBzZXQgaXQgdG8gYG1pbmAuXFxuXFxuICAgIFN0eWxlZ3VpZGUgU2V0dGluZ3MuYnJlYWtwb2ludHMubWl4aW5zXFxuKi9cXG5cXG4vLyBtaXhpbnNcXG4vLyBAc3R5bGludCBvZmZcXG5zaXplLWhlbHBlcihkaXJlY3Rpb24sIHNpemUpXFxuICAgIGRpcmVjdGlvbiA9PSAnbWluJyA/IHNpemUgKyAxIDogc2l6ZVxcblxcbi8qXFxuICAgIHRlZW55LXNjcmVlbigpXFxuXFxuICAgIHRlZW55LXNjcmVlbigpIFJlZmVycyB0byAobWF4LXdpZHRoOiAzNzVweClcXG4gICAgdGVlbnktc2NyZWVuKCdtaW4nKSBSZWZlcnMgdG8gKG1pbi13aWR0aDogMzc2cHgpXFxuXFxuICAgIFdlaWdodDogLTZcXG5cXG4gICAgU3R5bGVndWlkZSBTZXR0aW5ncy5icmVha3BvaW50cy5taXhpbnMudGVlbnlcXG4qL1xcbnRlZW55LXNjcmVlbihkaXJlY3Rpb249J21heCcpXFxuICAgIEBtZWRpYSAoe2RpcmVjdGlvbn0td2lkdGg6IHJlbShzaXplLWhlbHBlcihkaXJlY3Rpb24sIEJQLXRlZW55KSkpXFxuICAgICAgICB7YmxvY2t9XFxuXFxuLypcXG4gICAgdGlueS1zY3JlZW4oKVxcblxcbiAgICB0aW55LXNjcmVlbigpIFJlZmVycyB0byAobWF4LXdpZHRoOiA0ODBweClcXG4gICAgdGlueS1zY3JlZW4oJ21pbicpIFJlZmVycyB0byAobWluLXdpZHRoOiA0ODFweClcXG5cXG4gICAgV2VpZ2h0OiAtNVxcblxcbiAgICBTdHlsZWd1aWRlIFNldHRpbmdzLmJyZWFrcG9pbnRzLm1peGlucy50aW55XFxuKi9cXG50aW55LXNjcmVlbihkaXJlY3Rpb249J21heCcpXFxuICAgIEBtZWRpYSAoe2RpcmVjdGlvbn0td2lkdGg6IHJlbShzaXplLWhlbHBlcihkaXJlY3Rpb24sIEJQLXRpbnkpKSlcXG4gICAgICAgIHtibG9ja31cXG5cXG4vKlxcbiAgICBzbWFsbC1zY3JlZW4oKVxcblxcbiAgICBzbWFsbC1zY3JlZW4oKSBSZWZlcnMgdG8gKG1heC13aWR0aDogNzY4cHgpXFxuICAgIHNtYWxsLXNjcmVlbignbWluJykgUmVmZXJzIHRvIChtaW4td2lkdGg6IDc2OXB4KVxcblxcbiAgICBXZWlnaHQ6IC00XFxuXFxuICAgIFN0eWxlZ3VpZGUgU2V0dGluZ3MuYnJlYWtwb2ludHMubWl4aW5zLnNtYWxsXFxuKi9cXG5zbWFsbC1zY3JlZW4oZGlyZWN0aW9uPSdtYXgnKVxcbiAgICBAbWVkaWEgKHtkaXJlY3Rpb259LXdpZHRoOiByZW0oc2l6ZS1oZWxwZXIoZGlyZWN0aW9uLCBCUC1zbWFsbCkpKVxcbiAgICAgICAge2Jsb2NrfVxcblxcbi8qXFxuICAgIG1lZGl1bS1zY3JlZW4oKVxcblxcbiAgICBtZWRpdW0tc2NyZWVuKCkgUmVmZXJzIHRvIChtYXgtd2lkdGg6IDEwMjNweClcXG4gICAgbWVkaXVtLXNjcmVlbignbWluJykgUmVmZXJzIHRvIChtaW4td2lkdGg6IDEwMjRweClcXG5cXG4gICAgV2VpZ2h0OiAtM1xcblxcbiAgICBTdHlsZWd1aWRlIFNldHRpbmdzLmJyZWFrcG9pbnRzLm1peGlucy5tZWRpdW1cXG4qL1xcbm1lZGl1bS1zY3JlZW4oZGlyZWN0aW9uPSdtYXgnKVxcbiAgICBAbWVkaWEgKHtkaXJlY3Rpb259LXdpZHRoOiByZW0oc2l6ZS1oZWxwZXIoZGlyZWN0aW9uLCBCUC1tZWRpdW0pKSlcXG4gICAgICAgIHtibG9ja31cXG5cXG4vKlxcbiAgICBsYXJnZS1zY3JlZW4oKVxcblxcbiAgICBsYXJnZS1zY3JlZW4oKSBSZWZlcnMgdG8gKG1heC13aWR0aDogMTIwMHB4KVxcbiAgICBsYXJnZS1zY3JlZW4oJ21pbicpIFJlZmVycyB0byAobWluLXdpZHRoOiAxMjAxcHgpXFxuXFxuICAgIFdlaWdodDogLTJcXG5cXG4gICAgU3R5bGVndWlkZSBTZXR0aW5ncy5icmVha3BvaW50cy5taXhpbnMubGFyZ2VcXG4qL1xcbmxhcmdlLXNjcmVlbihkaXJlY3Rpb249J21heCcpXFxuICAgIEBtZWRpYSAoe2RpcmVjdGlvbn0td2lkdGg6IHJlbShzaXplLWhlbHBlcihkaXJlY3Rpb24sIEJQLWxhcmdlKSkpXFxuICAgICAgICB7YmxvY2t9XFxuXFxuLypcXG4gICAgZXh0cmEtbGFyZ2Utc2NyZWVuKClcXG5cXG4gICAgZXh0cmEtbGFyZ2Utc2NyZWVuKCkgUmVmZXJzIHRvIChtYXgtd2lkdGg6IDE0MzlweClcXG4gICAgZXh0cmEtbGFyZ2Utc2NyZWVuKCdtaW4nKSBSZWZlcnMgdG8gKG1pbi13aWR0aDogMTQ0MHB4KVxcblxcbiAgICBXZWlnaHQ6IC0xXFxuXFxuICAgIFN0eWxlZ3VpZGUgU2V0dGluZ3MuYnJlYWtwb2ludHMubWl4aW5zLmV4dHJhLWxhcmdlXFxuKi9cXG5leHRyYS1sYXJnZS1zY3JlZW4oZGlyZWN0aW9uPSdtYXgnKVxcbiAgICBAbWVkaWEgKHtkaXJlY3Rpb259LXdpZHRoOiByZW0oc2l6ZS1oZWxwZXIoZGlyZWN0aW9uLCBCUC1leHRyYS1sYXJnZSkpKVxcbiAgICAgICAge2Jsb2NrfVxcblxcbi8vIG1peGlucyBuYW1lZFxcblxcbi8qXFxuICAgIHNtYWxsLWRldmljZSgpXFxuXFxuICAgIFJlZmVycyB0byAobWF4LXdpZHRoOiA1NDNweCksIChtYXgtaGVpZ2h0OiAzNzVweClcXG4gICAgVHJpZ2dlcnMgd2hlbiB0aGUgdmlld3BvcnQgaGFzIGEgd2lkdGggc21hbGxlciB0aGFuIDU0M3B4IE9SIGEgaGVpZ2h0IHNtYWxsZXIgdGhhbiAzNzVweFxcblxcbiAgICBXZWlnaHQ6IDBcXG5cXG4gICAgU3R5bGVndWlkZSBTZXR0aW5ncy5icmVha3BvaW50cy5taXhpbnMuc21hbGwtZGV2aWNlXFxuKi9cXG5cXG5zbWFsbC1kZXZpY2UoKVxcbiAgICBAbWVkaWEgKG1heC13aWR0aDogcmVtKHNpemUtaGVscGVyKCdtYXgnLCBCUC10aW55KSkpLCAobWF4LWhlaWdodDogcmVtKHNpemUtaGVscGVyKCdtYXgnLCBCUC10ZWVueSkpKVxcbiAgICAgICAge2Jsb2NrfVxcblxcbi8qXFxuICAgIG1lZGl1bS1kZXZpY2UoKVxcblxcbiAgICBSZWZlcnMgdG8gKG1pbi13aWR0aDogNTQzcHgpIGFuZCAobWluLWhlaWdodDogMzc1cHgpXFxuICAgIFRyaWdnZXJzIHdoZW4gdGhlIHZpZXdwb3J0IGhhcyBhIHdpZHRoIGJpZ2dlciB0aGFuIDU0M3B4IEFORCBhIGhlaWdodCBiaWdnZXIgdGhhbiAzNzVweFxcblxcbiAgICBXZWlnaHQ6IDBcXG5cXG4gICAgU3R5bGVndWlkZSBTZXR0aW5ncy5icmVha3BvaW50cy5taXhpbnMubWVkaXVtLWRldmljZVxcbiovXFxuXFxubWVkaXVtLWRldmljZSgpXFxuICAgIEBtZWRpYSAobWluLXdpZHRoOiByZW0oc2l6ZS1oZWxwZXIoJ21pbicsIEJQLXRpbnkpKSkgYW5kIChtaW4taGVpZ2h0OiByZW0oc2l6ZS1oZWxwZXIoJ21pbicsIEJQLXRlZW55KSkpXFxuICAgICAgICB7YmxvY2t9XFxuXFxuLypcXG4gICAgZGVza3RvcCgpXFxuXFxuICAgIFJlZmVycyB0byAobWluLXdpZHRoOiAxMDI0cHgpXFxuXFxuICAgIFdlaWdodDogMFxcblxcbiAgICBTdHlsZWd1aWRlIFNldHRpbmdzLmJyZWFrcG9pbnRzLm1peGlucy5kZXNrdG9wXFxuKi9cXG5kZXNrdG9wKClcXG4gICAgQG1lZGlhIChtaW4td2lkdGg6IHJlbShzaXplLWhlbHBlcignbWluJywgQlAtbWVkaXVtKSkpXFxuICAgICAgICB7YmxvY2t9XFxuXFxuLypcXG4gICAgdGFibGV0KClcXG5cXG4gICAgUmVmZXJzIHRvIChtaW4td2lkdGg6IDc2OXB4KSBhbmQgKG1heC13aWR0aDogMTAyM3B4KVxcblxcbiAgICBXZWlnaHQ6IDFcXG5cXG4gICAgU3R5bGVndWlkZSBTZXR0aW5ncy5icmVha3BvaW50cy5taXhpbnMudGFibGV0XFxuKi9cXG50YWJsZXQoKVxcbiAgICBAbWVkaWEgKG1pbi13aWR0aDogcmVtKHNpemUtaGVscGVyKCdtaW4nLCBCUC1zbWFsbCkpKSBhbmQgKG1heC13aWR0aDogcmVtKHNpemUtaGVscGVyKCdtYXgnLCBCUC1tZWRpdW0pKSlcXG4gICAgICAgIHtibG9ja31cXG5cXG4vKlxcbiAgICBtb2JpbGUoKVxcblxcbiAgICBSZWZlcnMgdG8gc21hbGwtc2NyZWVuKCkgd2hpY2ggaXMgKG1heC13aWR0aDogNzY4cHgpXFxuXFxuICAgIFdlaWdodDogMlxcblxcbiAgICBTdHlsZWd1aWRlIFNldHRpbmdzLmJyZWFrcG9pbnRzLm1peGlucy5tb2JpbGVcXG4qL1xcbm1vYmlsZSgpXFxuICAgICtzbWFsbC1zY3JlZW4oKVxcbiAgICAgICAge2Jsb2NrfVxcblxcbi8qXFxuICAgIGd0LW1vYmlsZSgpXFxuXFxuICAgIFJlZmVycyB0byAobWluLXdpZHRoOiA3NjlweClcXG5cXG4gICAgV2VpZ2h0OiAzXFxuXFxuICAgIFN0eWxlZ3VpZGUgU2V0dGluZ3MuYnJlYWtwb2ludHMubWl4aW5zLmd0LW1vYmlsZVxcbiovXFxuZ3QtbW9iaWxlKClcXG4gICAgQG1lZGlhIChtaW4td2lkdGg6IHJlbShzaXplLWhlbHBlcignbWluJywgQlAtc21hbGwpKSlcXG4gICAgICAgIHtibG9ja31cXG5cXG4vKlxcbiAgICBndC10YWJsZXQoKVxcblxcbiAgICBSZWZlcnMgdG8gKG1pbi13aWR0aDogMTAyNHB4KVxcblxcbiAgICBXZWlnaHQ6IDRcXG5cXG4gICAgU3R5bGVndWlkZSBTZXR0aW5ncy5icmVha3BvaW50cy5taXhpbnMuZ3QtdGFibGV0XFxuKi9cXG5ndC10YWJsZXQoKVxcbiAgICBAbWVkaWEgKG1pbi13aWR0aDogcmVtKHNpemUtaGVscGVyKCdtaW4nLCBCUC1tZWRpdW0pKSlcXG4gICAgICAgIHtibG9ja31cXG5cXG4vKlxcbiAgICBsdC1kZXNrdG9wKClcXG5cXG4gICAgUmVmZXJzIHRvIG1lZGl1bS1zY3JlZW4oKSB3aGljaCBpcyAobWF4LXdpZHRoOiAxMDIzcHgpXFxuXFxuICAgIFdlaWdodDogNVxcblxcbiAgICBTdHlsZWd1aWRlIFNldHRpbmdzLmJyZWFrcG9pbnRzLm1peGlucy5sdC1kZXNrdG9wXFxuKi9cXG5sdC1kZXNrdG9wKClcXG4gICAgK21lZGl1bS1zY3JlZW4oKVxcbiAgICAgICAge2Jsb2NrfVxcbi8vIEBzdHlsaW50IG9uXFxuXCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG5cbi8vIEV4cG9ydHNcbmV4cG9ydHMubG9jYWxzID0ge1xuXHRcImhlYWRlclwiOiBcImhlYWRlci0tMkNURUVcIixcblx0XCJoZWFkZXItbWVudVwiOiBcImhlYWRlci1tZW51LS1ITjR0RVwiLFxuXHRcImFwcC1pY29uXCI6IFwiYXBwLWljb24tLTJTMzBGXCIsXG5cdFwiaG9tZS1saW5rXCI6IFwiaG9tZS1saW5rLS0zemJaZlwiLFxuXHRcImZpbGUtaW5mb3NcIjogXCJmaWxlLWluZm9zLS0xS0p2TFwiXG59OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/stylus-loader/index.js?!./src/components/header_menu.styl\n");

/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/stylus-loader/index.js?!./src/components/notes/List/list.styl":
/***/ (function(module, exports, __webpack_require__) {

eval("exports = module.exports = __webpack_require__(\"./node_modules/css-loader/dist/runtime/api.js\")(true);\n// Module\nexports.push([module.i, \".empty--FqnXy {\\n  position: relative;\\n  transform: translateZ(0);\\n  height: 500px;\\n  display: flex;\\n}\\n.empty--FqnXy a {\\n  color: var(--primaryColor);\\n}\\n.appHeader--2ilS0 {\\n  padding-left: 2rem;\\n  padding-right: 2rem;\\n}\\n.tableSpecialRow--4oekp {\\n  flex: 1;\\n  height: 100%;\\n  border: 0 !important;\\n}\\n.tableSpecialRow--4oekp:hover {\\n  background-color: inherit;\\n}\\n@media (max-width: 48rem) {\\n  .tableSpecialRow--4oekp {\\n    border-top: 0 !important;\\n  }\\n}\\n.tableCellEmpty--21fZ1 {\\n  flex-grow: 1;\\n}\\n.tableCellName--2Jak9 {\\n  width: 40%;\\n  overflow: hidden;\\n  flex-shrink: 0;\\n}\\n@media (min-width: 48.063rem) {\\n  .tableCellName--2Jak9 {\\n    padding-left: 2rem;\\n  }\\n}\\n@media (max-width: 48rem) {\\n  .tableCellName--2Jak9 {\\n    width: 80%;\\n  }\\n}\\n.tableCell--3-jDP {\\n  width: 20%;\\n}\\n@media (max-width: 48rem) {\\n  .tableRow--3SicR {\\n    height: auto;\\n  }\\n  .tableRow--3SicR:nth-of-type(1) {\\n    border-top: 0;\\n  }\\n}\\n[class^=\\\"styles__c-avatar\\\"] {\\n  border-color: var(--defaultBackgroundColor);\\n}\\n.notable--tK8uq {\\n  margin-top: 0;\\n  border: 0;\\n}\\na.actionMenuItem--17ajc {\\n  padding: 0 !important;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"src/components/notes/List/list.styl\",\"list.styl\",\"node_modules/cozy-ui/stylus/settings/breakpoints.styl\"],\"names\":[],\"mappings\":\"AAMA;EACI,kBAAU;EACV,wBAAW;EACX,aAAQ;EACR,aAAS;ACLb;ADOI;EACI,0BAAO;ACLf;ADOA;EACI,kBAAa;EACb,mBAAc;ACLlB;ADOA;EACI,OAAK;EACL,YAAO;EAIP,oBAAO;ACRX;ADUI;EACI,yBAAiB;ACRzB;AC+EoE;EAAA;IFpE5D,wBAAW;ECPjB;AACF;ADQA;EACI,YAAU;ACNd;ADQA;EACI,UAAM;EACN,gBAAS;EACT,cAAY;ACNhB;ACgMwD;EAAA;IFvLhD,kBAAa;ECLnB;AACF;AC6DoE;EAAA;IFtD5D,UAAM;ECHZ;AACF;ADIA;EACI,UAAM;ACFV;ACqDoE;EFhDhE;IACI,YAAO;ECFb;EDIE;IACI,aAAW;ECFjB;AACF;ADGA;EACI,2CAAc;ACDlB;ADGA;EACI,aAAW;EACX,SAAO;ACDX;ADGA;EACI,qBAAQ;ACDZ\",\"file\":\"list.styl\",\"sourcesContent\":[\"@require 'settings/breakpoints.styl'\\n\\n//Cozy UI table add 1rem padding to the first column\\n//We want to aligne App Title and first column header\\n$PADDING_TABLE_FIRST_COLUMN=2rem\\n\\n.empty\\n    position: relative\\n    transform: translateZ(0)\\n    height: 500px\\n    display: flex\\n\\n    a\\n        color: var(--primaryColor)\\n\\n.appHeader\\n    padding-left $PADDING_TABLE_FIRST_COLUMN\\n    padding-right $PADDING_TABLE_FIRST_COLUMN\\n\\n.tableSpecialRow\\n    flex 1\\n    height 100%\\n    //Cozy UI tables add border bottom to the latest child.\\n    //Since when we display the empty row we have only one,\\n    //let's hide it\\n    border 0 !important\\n\\n    &:hover\\n        background-color inherit\\n\\n    +small-screen()\\n        border-top 0 !important\\n\\n.tableCellEmpty\\n    flex-grow 1\\n\\n.tableCellName\\n    width 40%\\n    overflow hidden\\n    flex-shrink 0\\n\\n    +gt-mobile()\\n        padding-left $PADDING_TABLE_FIRST_COLUMN\\n\\n    +small-screen()\\n        width 80%\\n\\n.tableCell\\n    width 20%\\n\\n+small-screen()\\n    .tableRow\\n        height auto\\n\\n    .tableRow:nth-of-type(1)\\n        border-top 0\\n\\n[class^=\\\"styles__c-avatar\\\"]\\n    border-color: var(--defaultBackgroundColor)\\n\\n.notable\\n    margin-top 0\\n    border 0\\n\\na.actionMenuItem\\n    padding 0 !important\\n\",\".empty {\\n  position: relative;\\n  transform: translateZ(0);\\n  height: 500px;\\n  display: flex;\\n}\\n.empty a {\\n  color: var(--primaryColor);\\n}\\n.appHeader {\\n  padding-left: 2rem;\\n  padding-right: 2rem;\\n}\\n.tableSpecialRow {\\n  flex: 1;\\n  height: 100%;\\n  border: 0 !important;\\n}\\n.tableSpecialRow:hover {\\n  background-color: inherit;\\n}\\n@media (max-width: 48rem) {\\n  .tableSpecialRow {\\n    border-top: 0 !important;\\n  }\\n}\\n.tableCellEmpty {\\n  flex-grow: 1;\\n}\\n.tableCellName {\\n  width: 40%;\\n  overflow: hidden;\\n  flex-shrink: 0;\\n}\\n@media (min-width: 48.063rem) {\\n  .tableCellName {\\n    padding-left: 2rem;\\n  }\\n}\\n@media (max-width: 48rem) {\\n  .tableCellName {\\n    width: 80%;\\n  }\\n}\\n.tableCell {\\n  width: 20%;\\n}\\n@media (max-width: 48rem) {\\n  .tableRow {\\n    height: auto;\\n  }\\n  .tableRow:nth-of-type(1) {\\n    border-top: 0;\\n  }\\n}\\n[class^=\\\"styles__c-avatar\\\"] {\\n  border-color: var(--defaultBackgroundColor);\\n}\\n.notable {\\n  margin-top: 0;\\n  border: 0;\\n}\\na.actionMenuItem {\\n  padding: 0 !important;\\n}\\n\",\"@require '../tools/mixins'\\n\\n/*------------------------------------*\\\\\\n  Breakpoints\\n  =====\\n\\\\*------------------------------------*/\\n\\n// variables\\n\\nBP-teeny       =  375\\nBP-tiny        =  480\\nBP-small       =  768\\nBP-medium      = 1023\\nBP-large       = 1200\\nBP-extra-large = 1439\\n\\n// Standard breakpoints collection for utilities\\nbreakpoints = {\\n    'none': '',\\n    'tiny': 't',\\n    'small': 's',\\n    'medium': 'm',\\n}\\n\\n/*\\n    Breakpoints\\n\\n    This is the collection of available breakpoint variables:<br><br>\\n    - `BP-teeny`         -  375px\\n    - `BP-tiny`          -  480px\\n    - `BP-small`         -  768px\\n    - `BP-medium`        -  1023px\\n    - `BP-large`         -  1200px\\n    - `BP-extra-large`   -  1439px\\n\\n    <br>Also we have a standard breakpoints collection meant to be used as suffixes for some utility classes<br>\\n\\n    If you want a utility class to trigger only at defined breakpoints you can use those:<br><br>\\n    - `-t`  - refers to `tiny` breakpoint (max-width: 480px)\\n    - `-s`  - refers to `small` breakpoint (max-width: 768px)\\n    - `-m`  - refers to `medium` breakpoint (max-width: 1023px)\\n\\n    Styleguide Settings.breakpoints\\n*/\\n\\n/*\\n    Media Queries mixins\\n\\n    You can use these mixins with no arguments and they will output\\n    the desired a `max-width` media-query. Use the direction argument\\n    to set it to `min`.\\n\\n    Styleguide Settings.breakpoints.mixins\\n*/\\n\\n// mixins\\n// @stylint off\\nsize-helper(direction, size)\\n    direction == 'min' ? size + 1 : size\\n\\n/*\\n    teeny-screen()\\n\\n    teeny-screen() Refers to (max-width: 375px)\\n    teeny-screen('min') Refers to (min-width: 376px)\\n\\n    Weight: -6\\n\\n    Styleguide Settings.breakpoints.mixins.teeny\\n*/\\nteeny-screen(direction='max')\\n    @media ({direction}-width: rem(size-helper(direction, BP-teeny)))\\n        {block}\\n\\n/*\\n    tiny-screen()\\n\\n    tiny-screen() Refers to (max-width: 480px)\\n    tiny-screen('min') Refers to (min-width: 481px)\\n\\n    Weight: -5\\n\\n    Styleguide Settings.breakpoints.mixins.tiny\\n*/\\ntiny-screen(direction='max')\\n    @media ({direction}-width: rem(size-helper(direction, BP-tiny)))\\n        {block}\\n\\n/*\\n    small-screen()\\n\\n    small-screen() Refers to (max-width: 768px)\\n    small-screen('min') Refers to (min-width: 769px)\\n\\n    Weight: -4\\n\\n    Styleguide Settings.breakpoints.mixins.small\\n*/\\nsmall-screen(direction='max')\\n    @media ({direction}-width: rem(size-helper(direction, BP-small)))\\n        {block}\\n\\n/*\\n    medium-screen()\\n\\n    medium-screen() Refers to (max-width: 1023px)\\n    medium-screen('min') Refers to (min-width: 1024px)\\n\\n    Weight: -3\\n\\n    Styleguide Settings.breakpoints.mixins.medium\\n*/\\nmedium-screen(direction='max')\\n    @media ({direction}-width: rem(size-helper(direction, BP-medium)))\\n        {block}\\n\\n/*\\n    large-screen()\\n\\n    large-screen() Refers to (max-width: 1200px)\\n    large-screen('min') Refers to (min-width: 1201px)\\n\\n    Weight: -2\\n\\n    Styleguide Settings.breakpoints.mixins.large\\n*/\\nlarge-screen(direction='max')\\n    @media ({direction}-width: rem(size-helper(direction, BP-large)))\\n        {block}\\n\\n/*\\n    extra-large-screen()\\n\\n    extra-large-screen() Refers to (max-width: 1439px)\\n    extra-large-screen('min') Refers to (min-width: 1440px)\\n\\n    Weight: -1\\n\\n    Styleguide Settings.breakpoints.mixins.extra-large\\n*/\\nextra-large-screen(direction='max')\\n    @media ({direction}-width: rem(size-helper(direction, BP-extra-large)))\\n        {block}\\n\\n// mixins named\\n\\n/*\\n    small-device()\\n\\n    Refers to (max-width: 543px), (max-height: 375px)\\n    Triggers when the viewport has a width smaller than 543px OR a height smaller than 375px\\n\\n    Weight: 0\\n\\n    Styleguide Settings.breakpoints.mixins.small-device\\n*/\\n\\nsmall-device()\\n    @media (max-width: rem(size-helper('max', BP-tiny))), (max-height: rem(size-helper('max', BP-teeny)))\\n        {block}\\n\\n/*\\n    medium-device()\\n\\n    Refers to (min-width: 543px) and (min-height: 375px)\\n    Triggers when the viewport has a width bigger than 543px AND a height bigger than 375px\\n\\n    Weight: 0\\n\\n    Styleguide Settings.breakpoints.mixins.medium-device\\n*/\\n\\nmedium-device()\\n    @media (min-width: rem(size-helper('min', BP-tiny))) and (min-height: rem(size-helper('min', BP-teeny)))\\n        {block}\\n\\n/*\\n    desktop()\\n\\n    Refers to (min-width: 1024px)\\n\\n    Weight: 0\\n\\n    Styleguide Settings.breakpoints.mixins.desktop\\n*/\\ndesktop()\\n    @media (min-width: rem(size-helper('min', BP-medium)))\\n        {block}\\n\\n/*\\n    tablet()\\n\\n    Refers to (min-width: 769px) and (max-width: 1023px)\\n\\n    Weight: 1\\n\\n    Styleguide Settings.breakpoints.mixins.tablet\\n*/\\ntablet()\\n    @media (min-width: rem(size-helper('min', BP-small))) and (max-width: rem(size-helper('max', BP-medium)))\\n        {block}\\n\\n/*\\n    mobile()\\n\\n    Refers to small-screen() which is (max-width: 768px)\\n\\n    Weight: 2\\n\\n    Styleguide Settings.breakpoints.mixins.mobile\\n*/\\nmobile()\\n    +small-screen()\\n        {block}\\n\\n/*\\n    gt-mobile()\\n\\n    Refers to (min-width: 769px)\\n\\n    Weight: 3\\n\\n    Styleguide Settings.breakpoints.mixins.gt-mobile\\n*/\\ngt-mobile()\\n    @media (min-width: rem(size-helper('min', BP-small)))\\n        {block}\\n\\n/*\\n    gt-tablet()\\n\\n    Refers to (min-width: 1024px)\\n\\n    Weight: 4\\n\\n    Styleguide Settings.breakpoints.mixins.gt-tablet\\n*/\\ngt-tablet()\\n    @media (min-width: rem(size-helper('min', BP-medium)))\\n        {block}\\n\\n/*\\n    lt-desktop()\\n\\n    Refers to medium-screen() which is (max-width: 1023px)\\n\\n    Weight: 5\\n\\n    Styleguide Settings.breakpoints.mixins.lt-desktop\\n*/\\nlt-desktop()\\n    +medium-screen()\\n        {block}\\n// @stylint on\\n\"],\"sourceRoot\":\"\"}]);\n\n// Exports\nexports.locals = {\n\t\"empty\": \"empty--FqnXy\",\n\t\"appHeader\": \"appHeader--2ilS0\",\n\t\"tableSpecialRow\": \"tableSpecialRow--4oekp\",\n\t\"tableCellEmpty\": \"tableCellEmpty--21fZ1\",\n\t\"tableCellName\": \"tableCellName--2Jak9\",\n\t\"tableCell\": \"tableCell--3-jDP\",\n\t\"tableRow\": \"tableRow--3SicR\",\n\t\"notable\": \"notable--tK8uq\",\n\t\"actionMenuItem\": \"actionMenuItem--17ajc\"\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8hLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvc3JjL2luZGV4LmpzPyEuL25vZGVfbW9kdWxlcy9zdHlsdXMtbG9hZGVyL2luZGV4LmpzPyEuL3NyYy9jb21wb25lbnRzL25vdGVzL0xpc3QvbGlzdC5zdHlsLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvbm90ZXMvTGlzdC9saXN0LnN0eWw/YzcxYyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiKSh0cnVlKTtcbi8vIE1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLmVtcHR5LS1GcW5YeSB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVooMCk7XFxuICBoZWlnaHQ6IDUwMHB4O1xcbiAgZGlzcGxheTogZmxleDtcXG59XFxuLmVtcHR5LS1GcW5YeSBhIHtcXG4gIGNvbG9yOiB2YXIoLS1wcmltYXJ5Q29sb3IpO1xcbn1cXG4uYXBwSGVhZGVyLS0yaWxTMCB7XFxuICBwYWRkaW5nLWxlZnQ6IDJyZW07XFxuICBwYWRkaW5nLXJpZ2h0OiAycmVtO1xcbn1cXG4udGFibGVTcGVjaWFsUm93LS00b2VrcCB7XFxuICBmbGV4OiAxO1xcbiAgaGVpZ2h0OiAxMDAlO1xcbiAgYm9yZGVyOiAwICFpbXBvcnRhbnQ7XFxufVxcbi50YWJsZVNwZWNpYWxSb3ctLTRvZWtwOmhvdmVyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6IGluaGVyaXQ7XFxufVxcbkBtZWRpYSAobWF4LXdpZHRoOiA0OHJlbSkge1xcbiAgLnRhYmxlU3BlY2lhbFJvdy0tNG9la3Age1xcbiAgICBib3JkZXItdG9wOiAwICFpbXBvcnRhbnQ7XFxuICB9XFxufVxcbi50YWJsZUNlbGxFbXB0eS0tMjFmWjEge1xcbiAgZmxleC1ncm93OiAxO1xcbn1cXG4udGFibGVDZWxsTmFtZS0tMkphazkge1xcbiAgd2lkdGg6IDQwJTtcXG4gIG92ZXJmbG93OiBoaWRkZW47XFxuICBmbGV4LXNocmluazogMDtcXG59XFxuQG1lZGlhIChtaW4td2lkdGg6IDQ4LjA2M3JlbSkge1xcbiAgLnRhYmxlQ2VsbE5hbWUtLTJKYWs5IHtcXG4gICAgcGFkZGluZy1sZWZ0OiAycmVtO1xcbiAgfVxcbn1cXG5AbWVkaWEgKG1heC13aWR0aDogNDhyZW0pIHtcXG4gIC50YWJsZUNlbGxOYW1lLS0ySmFrOSB7XFxuICAgIHdpZHRoOiA4MCU7XFxuICB9XFxufVxcbi50YWJsZUNlbGwtLTMtakRQIHtcXG4gIHdpZHRoOiAyMCU7XFxufVxcbkBtZWRpYSAobWF4LXdpZHRoOiA0OHJlbSkge1xcbiAgLnRhYmxlUm93LS0zU2ljUiB7XFxuICAgIGhlaWdodDogYXV0bztcXG4gIH1cXG4gIC50YWJsZVJvdy0tM1NpY1I6bnRoLW9mLXR5cGUoMSkge1xcbiAgICBib3JkZXItdG9wOiAwO1xcbiAgfVxcbn1cXG5bY2xhc3NePVxcXCJzdHlsZXNfX2MtYXZhdGFyXFxcIl0ge1xcbiAgYm9yZGVyLWNvbG9yOiB2YXIoLS1kZWZhdWx0QmFja2dyb3VuZENvbG9yKTtcXG59XFxuLm5vdGFibGUtLXRLOHVxIHtcXG4gIG1hcmdpbi10b3A6IDA7XFxuICBib3JkZXI6IDA7XFxufVxcbmEuYWN0aW9uTWVudUl0ZW0tLTE3YWpjIHtcXG4gIHBhZGRpbmc6IDAgIWltcG9ydGFudDtcXG59XFxuXCIsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wic3JjL2NvbXBvbmVudHMvbm90ZXMvTGlzdC9saXN0LnN0eWxcIixcImxpc3Quc3R5bFwiLFwibm9kZV9tb2R1bGVzL2NvenktdWkvc3R5bHVzL3NldHRpbmdzL2JyZWFrcG9pbnRzLnN0eWxcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBTUE7RUFDSSxrQkFBVTtFQUNWLHdCQUFXO0VBQ1gsYUFBUTtFQUNSLGFBQVM7QUNMYjtBRE9JO0VBQ0ksMEJBQU87QUNMZjtBRE9BO0VBQ0ksa0JBQWE7RUFDYixtQkFBYztBQ0xsQjtBRE9BO0VBQ0ksT0FBSztFQUNMLFlBQU87RUFJUCxvQkFBTztBQ1JYO0FEVUk7RUFDSSx5QkFBaUI7QUNSekI7QUMrRW9FO0VBQUE7SUZwRTVELHdCQUFXO0VDUGpCO0FBQ0Y7QURRQTtFQUNJLFlBQVU7QUNOZDtBRFFBO0VBQ0ksVUFBTTtFQUNOLGdCQUFTO0VBQ1QsY0FBWTtBQ05oQjtBQ2dNd0Q7RUFBQTtJRnZMaEQsa0JBQWE7RUNMbkI7QUFDRjtBQzZEb0U7RUFBQTtJRnRENUQsVUFBTTtFQ0haO0FBQ0Y7QURJQTtFQUNJLFVBQU07QUNGVjtBQ3FEb0U7RUZoRGhFO0lBQ0ksWUFBTztFQ0ZiO0VESUU7SUFDSSxhQUFXO0VDRmpCO0FBQ0Y7QURHQTtFQUNJLDJDQUFjO0FDRGxCO0FER0E7RUFDSSxhQUFXO0VBQ1gsU0FBTztBQ0RYO0FER0E7RUFDSSxxQkFBUTtBQ0RaXCIsXCJmaWxlXCI6XCJsaXN0LnN0eWxcIixcInNvdXJjZXNDb250ZW50XCI6W1wiQHJlcXVpcmUgJ3NldHRpbmdzL2JyZWFrcG9pbnRzLnN0eWwnXFxuXFxuLy9Db3p5IFVJIHRhYmxlIGFkZCAxcmVtIHBhZGRpbmcgdG8gdGhlIGZpcnN0IGNvbHVtblxcbi8vV2Ugd2FudCB0byBhbGlnbmUgQXBwIFRpdGxlIGFuZCBmaXJzdCBjb2x1bW4gaGVhZGVyXFxuJFBBRERJTkdfVEFCTEVfRklSU1RfQ09MVU1OPTJyZW1cXG5cXG4uZW1wdHlcXG4gICAgcG9zaXRpb246IHJlbGF0aXZlXFxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWigwKVxcbiAgICBoZWlnaHQ6IDUwMHB4XFxuICAgIGRpc3BsYXk6IGZsZXhcXG5cXG4gICAgYVxcbiAgICAgICAgY29sb3I6IHZhcigtLXByaW1hcnlDb2xvcilcXG5cXG4uYXBwSGVhZGVyXFxuICAgIHBhZGRpbmctbGVmdCAkUEFERElOR19UQUJMRV9GSVJTVF9DT0xVTU5cXG4gICAgcGFkZGluZy1yaWdodCAkUEFERElOR19UQUJMRV9GSVJTVF9DT0xVTU5cXG5cXG4udGFibGVTcGVjaWFsUm93XFxuICAgIGZsZXggMVxcbiAgICBoZWlnaHQgMTAwJVxcbiAgICAvL0NvenkgVUkgdGFibGVzIGFkZCBib3JkZXIgYm90dG9tIHRvIHRoZSBsYXRlc3QgY2hpbGQuXFxuICAgIC8vU2luY2Ugd2hlbiB3ZSBkaXNwbGF5IHRoZSBlbXB0eSByb3cgd2UgaGF2ZSBvbmx5IG9uZSxcXG4gICAgLy9sZXQncyBoaWRlIGl0XFxuICAgIGJvcmRlciAwICFpbXBvcnRhbnRcXG5cXG4gICAgJjpob3ZlclxcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvciBpbmhlcml0XFxuXFxuICAgICtzbWFsbC1zY3JlZW4oKVxcbiAgICAgICAgYm9yZGVyLXRvcCAwICFpbXBvcnRhbnRcXG5cXG4udGFibGVDZWxsRW1wdHlcXG4gICAgZmxleC1ncm93IDFcXG5cXG4udGFibGVDZWxsTmFtZVxcbiAgICB3aWR0aCA0MCVcXG4gICAgb3ZlcmZsb3cgaGlkZGVuXFxuICAgIGZsZXgtc2hyaW5rIDBcXG5cXG4gICAgK2d0LW1vYmlsZSgpXFxuICAgICAgICBwYWRkaW5nLWxlZnQgJFBBRERJTkdfVEFCTEVfRklSU1RfQ09MVU1OXFxuXFxuICAgICtzbWFsbC1zY3JlZW4oKVxcbiAgICAgICAgd2lkdGggODAlXFxuXFxuLnRhYmxlQ2VsbFxcbiAgICB3aWR0aCAyMCVcXG5cXG4rc21hbGwtc2NyZWVuKClcXG4gICAgLnRhYmxlUm93XFxuICAgICAgICBoZWlnaHQgYXV0b1xcblxcbiAgICAudGFibGVSb3c6bnRoLW9mLXR5cGUoMSlcXG4gICAgICAgIGJvcmRlci10b3AgMFxcblxcbltjbGFzc149XFxcInN0eWxlc19fYy1hdmF0YXJcXFwiXVxcbiAgICBib3JkZXItY29sb3I6IHZhcigtLWRlZmF1bHRCYWNrZ3JvdW5kQ29sb3IpXFxuXFxuLm5vdGFibGVcXG4gICAgbWFyZ2luLXRvcCAwXFxuICAgIGJvcmRlciAwXFxuXFxuYS5hY3Rpb25NZW51SXRlbVxcbiAgICBwYWRkaW5nIDAgIWltcG9ydGFudFxcblwiLFwiLmVtcHR5IHtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlWigwKTtcXG4gIGhlaWdodDogNTAwcHg7XFxuICBkaXNwbGF5OiBmbGV4O1xcbn1cXG4uZW1wdHkgYSB7XFxuICBjb2xvcjogdmFyKC0tcHJpbWFyeUNvbG9yKTtcXG59XFxuLmFwcEhlYWRlciB7XFxuICBwYWRkaW5nLWxlZnQ6IDJyZW07XFxuICBwYWRkaW5nLXJpZ2h0OiAycmVtO1xcbn1cXG4udGFibGVTcGVjaWFsUm93IHtcXG4gIGZsZXg6IDE7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICBib3JkZXI6IDAgIWltcG9ydGFudDtcXG59XFxuLnRhYmxlU3BlY2lhbFJvdzpob3ZlciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiBpbmhlcml0O1xcbn1cXG5AbWVkaWEgKG1heC13aWR0aDogNDhyZW0pIHtcXG4gIC50YWJsZVNwZWNpYWxSb3cge1xcbiAgICBib3JkZXItdG9wOiAwICFpbXBvcnRhbnQ7XFxuICB9XFxufVxcbi50YWJsZUNlbGxFbXB0eSB7XFxuICBmbGV4LWdyb3c6IDE7XFxufVxcbi50YWJsZUNlbGxOYW1lIHtcXG4gIHdpZHRoOiA0MCU7XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgZmxleC1zaHJpbms6IDA7XFxufVxcbkBtZWRpYSAobWluLXdpZHRoOiA0OC4wNjNyZW0pIHtcXG4gIC50YWJsZUNlbGxOYW1lIHtcXG4gICAgcGFkZGluZy1sZWZ0OiAycmVtO1xcbiAgfVxcbn1cXG5AbWVkaWEgKG1heC13aWR0aDogNDhyZW0pIHtcXG4gIC50YWJsZUNlbGxOYW1lIHtcXG4gICAgd2lkdGg6IDgwJTtcXG4gIH1cXG59XFxuLnRhYmxlQ2VsbCB7XFxuICB3aWR0aDogMjAlO1xcbn1cXG5AbWVkaWEgKG1heC13aWR0aDogNDhyZW0pIHtcXG4gIC50YWJsZVJvdyB7XFxuICAgIGhlaWdodDogYXV0bztcXG4gIH1cXG4gIC50YWJsZVJvdzpudGgtb2YtdHlwZSgxKSB7XFxuICAgIGJvcmRlci10b3A6IDA7XFxuICB9XFxufVxcbltjbGFzc149XFxcInN0eWxlc19fYy1hdmF0YXJcXFwiXSB7XFxuICBib3JkZXItY29sb3I6IHZhcigtLWRlZmF1bHRCYWNrZ3JvdW5kQ29sb3IpO1xcbn1cXG4ubm90YWJsZSB7XFxuICBtYXJnaW4tdG9wOiAwO1xcbiAgYm9yZGVyOiAwO1xcbn1cXG5hLmFjdGlvbk1lbnVJdGVtIHtcXG4gIHBhZGRpbmc6IDAgIWltcG9ydGFudDtcXG59XFxuXCIsXCJAcmVxdWlyZSAnLi4vdG9vbHMvbWl4aW5zJ1xcblxcbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKlxcXFxcXG4gIEJyZWFrcG9pbnRzXFxuICA9PT09PVxcblxcXFwqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cXG5cXG4vLyB2YXJpYWJsZXNcXG5cXG5CUC10ZWVueSAgICAgICA9ICAzNzVcXG5CUC10aW55ICAgICAgICA9ICA0ODBcXG5CUC1zbWFsbCAgICAgICA9ICA3NjhcXG5CUC1tZWRpdW0gICAgICA9IDEwMjNcXG5CUC1sYXJnZSAgICAgICA9IDEyMDBcXG5CUC1leHRyYS1sYXJnZSA9IDE0MzlcXG5cXG4vLyBTdGFuZGFyZCBicmVha3BvaW50cyBjb2xsZWN0aW9uIGZvciB1dGlsaXRpZXNcXG5icmVha3BvaW50cyA9IHtcXG4gICAgJ25vbmUnOiAnJyxcXG4gICAgJ3RpbnknOiAndCcsXFxuICAgICdzbWFsbCc6ICdzJyxcXG4gICAgJ21lZGl1bSc6ICdtJyxcXG59XFxuXFxuLypcXG4gICAgQnJlYWtwb2ludHNcXG5cXG4gICAgVGhpcyBpcyB0aGUgY29sbGVjdGlvbiBvZiBhdmFpbGFibGUgYnJlYWtwb2ludCB2YXJpYWJsZXM6PGJyPjxicj5cXG4gICAgLSBgQlAtdGVlbnlgICAgICAgICAgLSAgMzc1cHhcXG4gICAgLSBgQlAtdGlueWAgICAgICAgICAgLSAgNDgwcHhcXG4gICAgLSBgQlAtc21hbGxgICAgICAgICAgLSAgNzY4cHhcXG4gICAgLSBgQlAtbWVkaXVtYCAgICAgICAgLSAgMTAyM3B4XFxuICAgIC0gYEJQLWxhcmdlYCAgICAgICAgIC0gIDEyMDBweFxcbiAgICAtIGBCUC1leHRyYS1sYXJnZWAgICAtICAxNDM5cHhcXG5cXG4gICAgPGJyPkFsc28gd2UgaGF2ZSBhIHN0YW5kYXJkIGJyZWFrcG9pbnRzIGNvbGxlY3Rpb24gbWVhbnQgdG8gYmUgdXNlZCBhcyBzdWZmaXhlcyBmb3Igc29tZSB1dGlsaXR5IGNsYXNzZXM8YnI+XFxuXFxuICAgIElmIHlvdSB3YW50IGEgdXRpbGl0eSBjbGFzcyB0byB0cmlnZ2VyIG9ubHkgYXQgZGVmaW5lZCBicmVha3BvaW50cyB5b3UgY2FuIHVzZSB0aG9zZTo8YnI+PGJyPlxcbiAgICAtIGAtdGAgIC0gcmVmZXJzIHRvIGB0aW55YCBicmVha3BvaW50IChtYXgtd2lkdGg6IDQ4MHB4KVxcbiAgICAtIGAtc2AgIC0gcmVmZXJzIHRvIGBzbWFsbGAgYnJlYWtwb2ludCAobWF4LXdpZHRoOiA3NjhweClcXG4gICAgLSBgLW1gICAtIHJlZmVycyB0byBgbWVkaXVtYCBicmVha3BvaW50IChtYXgtd2lkdGg6IDEwMjNweClcXG5cXG4gICAgU3R5bGVndWlkZSBTZXR0aW5ncy5icmVha3BvaW50c1xcbiovXFxuXFxuLypcXG4gICAgTWVkaWEgUXVlcmllcyBtaXhpbnNcXG5cXG4gICAgWW91IGNhbiB1c2UgdGhlc2UgbWl4aW5zIHdpdGggbm8gYXJndW1lbnRzIGFuZCB0aGV5IHdpbGwgb3V0cHV0XFxuICAgIHRoZSBkZXNpcmVkIGEgYG1heC13aWR0aGAgbWVkaWEtcXVlcnkuIFVzZSB0aGUgZGlyZWN0aW9uIGFyZ3VtZW50XFxuICAgIHRvIHNldCBpdCB0byBgbWluYC5cXG5cXG4gICAgU3R5bGVndWlkZSBTZXR0aW5ncy5icmVha3BvaW50cy5taXhpbnNcXG4qL1xcblxcbi8vIG1peGluc1xcbi8vIEBzdHlsaW50IG9mZlxcbnNpemUtaGVscGVyKGRpcmVjdGlvbiwgc2l6ZSlcXG4gICAgZGlyZWN0aW9uID09ICdtaW4nID8gc2l6ZSArIDEgOiBzaXplXFxuXFxuLypcXG4gICAgdGVlbnktc2NyZWVuKClcXG5cXG4gICAgdGVlbnktc2NyZWVuKCkgUmVmZXJzIHRvIChtYXgtd2lkdGg6IDM3NXB4KVxcbiAgICB0ZWVueS1zY3JlZW4oJ21pbicpIFJlZmVycyB0byAobWluLXdpZHRoOiAzNzZweClcXG5cXG4gICAgV2VpZ2h0OiAtNlxcblxcbiAgICBTdHlsZWd1aWRlIFNldHRpbmdzLmJyZWFrcG9pbnRzLm1peGlucy50ZWVueVxcbiovXFxudGVlbnktc2NyZWVuKGRpcmVjdGlvbj0nbWF4JylcXG4gICAgQG1lZGlhICh7ZGlyZWN0aW9ufS13aWR0aDogcmVtKHNpemUtaGVscGVyKGRpcmVjdGlvbiwgQlAtdGVlbnkpKSlcXG4gICAgICAgIHtibG9ja31cXG5cXG4vKlxcbiAgICB0aW55LXNjcmVlbigpXFxuXFxuICAgIHRpbnktc2NyZWVuKCkgUmVmZXJzIHRvIChtYXgtd2lkdGg6IDQ4MHB4KVxcbiAgICB0aW55LXNjcmVlbignbWluJykgUmVmZXJzIHRvIChtaW4td2lkdGg6IDQ4MXB4KVxcblxcbiAgICBXZWlnaHQ6IC01XFxuXFxuICAgIFN0eWxlZ3VpZGUgU2V0dGluZ3MuYnJlYWtwb2ludHMubWl4aW5zLnRpbnlcXG4qL1xcbnRpbnktc2NyZWVuKGRpcmVjdGlvbj0nbWF4JylcXG4gICAgQG1lZGlhICh7ZGlyZWN0aW9ufS13aWR0aDogcmVtKHNpemUtaGVscGVyKGRpcmVjdGlvbiwgQlAtdGlueSkpKVxcbiAgICAgICAge2Jsb2NrfVxcblxcbi8qXFxuICAgIHNtYWxsLXNjcmVlbigpXFxuXFxuICAgIHNtYWxsLXNjcmVlbigpIFJlZmVycyB0byAobWF4LXdpZHRoOiA3NjhweClcXG4gICAgc21hbGwtc2NyZWVuKCdtaW4nKSBSZWZlcnMgdG8gKG1pbi13aWR0aDogNzY5cHgpXFxuXFxuICAgIFdlaWdodDogLTRcXG5cXG4gICAgU3R5bGVndWlkZSBTZXR0aW5ncy5icmVha3BvaW50cy5taXhpbnMuc21hbGxcXG4qL1xcbnNtYWxsLXNjcmVlbihkaXJlY3Rpb249J21heCcpXFxuICAgIEBtZWRpYSAoe2RpcmVjdGlvbn0td2lkdGg6IHJlbShzaXplLWhlbHBlcihkaXJlY3Rpb24sIEJQLXNtYWxsKSkpXFxuICAgICAgICB7YmxvY2t9XFxuXFxuLypcXG4gICAgbWVkaXVtLXNjcmVlbigpXFxuXFxuICAgIG1lZGl1bS1zY3JlZW4oKSBSZWZlcnMgdG8gKG1heC13aWR0aDogMTAyM3B4KVxcbiAgICBtZWRpdW0tc2NyZWVuKCdtaW4nKSBSZWZlcnMgdG8gKG1pbi13aWR0aDogMTAyNHB4KVxcblxcbiAgICBXZWlnaHQ6IC0zXFxuXFxuICAgIFN0eWxlZ3VpZGUgU2V0dGluZ3MuYnJlYWtwb2ludHMubWl4aW5zLm1lZGl1bVxcbiovXFxubWVkaXVtLXNjcmVlbihkaXJlY3Rpb249J21heCcpXFxuICAgIEBtZWRpYSAoe2RpcmVjdGlvbn0td2lkdGg6IHJlbShzaXplLWhlbHBlcihkaXJlY3Rpb24sIEJQLW1lZGl1bSkpKVxcbiAgICAgICAge2Jsb2NrfVxcblxcbi8qXFxuICAgIGxhcmdlLXNjcmVlbigpXFxuXFxuICAgIGxhcmdlLXNjcmVlbigpIFJlZmVycyB0byAobWF4LXdpZHRoOiAxMjAwcHgpXFxuICAgIGxhcmdlLXNjcmVlbignbWluJykgUmVmZXJzIHRvIChtaW4td2lkdGg6IDEyMDFweClcXG5cXG4gICAgV2VpZ2h0OiAtMlxcblxcbiAgICBTdHlsZWd1aWRlIFNldHRpbmdzLmJyZWFrcG9pbnRzLm1peGlucy5sYXJnZVxcbiovXFxubGFyZ2Utc2NyZWVuKGRpcmVjdGlvbj0nbWF4JylcXG4gICAgQG1lZGlhICh7ZGlyZWN0aW9ufS13aWR0aDogcmVtKHNpemUtaGVscGVyKGRpcmVjdGlvbiwgQlAtbGFyZ2UpKSlcXG4gICAgICAgIHtibG9ja31cXG5cXG4vKlxcbiAgICBleHRyYS1sYXJnZS1zY3JlZW4oKVxcblxcbiAgICBleHRyYS1sYXJnZS1zY3JlZW4oKSBSZWZlcnMgdG8gKG1heC13aWR0aDogMTQzOXB4KVxcbiAgICBleHRyYS1sYXJnZS1zY3JlZW4oJ21pbicpIFJlZmVycyB0byAobWluLXdpZHRoOiAxNDQwcHgpXFxuXFxuICAgIFdlaWdodDogLTFcXG5cXG4gICAgU3R5bGVndWlkZSBTZXR0aW5ncy5icmVha3BvaW50cy5taXhpbnMuZXh0cmEtbGFyZ2VcXG4qL1xcbmV4dHJhLWxhcmdlLXNjcmVlbihkaXJlY3Rpb249J21heCcpXFxuICAgIEBtZWRpYSAoe2RpcmVjdGlvbn0td2lkdGg6IHJlbShzaXplLWhlbHBlcihkaXJlY3Rpb24sIEJQLWV4dHJhLWxhcmdlKSkpXFxuICAgICAgICB7YmxvY2t9XFxuXFxuLy8gbWl4aW5zIG5hbWVkXFxuXFxuLypcXG4gICAgc21hbGwtZGV2aWNlKClcXG5cXG4gICAgUmVmZXJzIHRvIChtYXgtd2lkdGg6IDU0M3B4KSwgKG1heC1oZWlnaHQ6IDM3NXB4KVxcbiAgICBUcmlnZ2VycyB3aGVuIHRoZSB2aWV3cG9ydCBoYXMgYSB3aWR0aCBzbWFsbGVyIHRoYW4gNTQzcHggT1IgYSBoZWlnaHQgc21hbGxlciB0aGFuIDM3NXB4XFxuXFxuICAgIFdlaWdodDogMFxcblxcbiAgICBTdHlsZWd1aWRlIFNldHRpbmdzLmJyZWFrcG9pbnRzLm1peGlucy5zbWFsbC1kZXZpY2VcXG4qL1xcblxcbnNtYWxsLWRldmljZSgpXFxuICAgIEBtZWRpYSAobWF4LXdpZHRoOiByZW0oc2l6ZS1oZWxwZXIoJ21heCcsIEJQLXRpbnkpKSksIChtYXgtaGVpZ2h0OiByZW0oc2l6ZS1oZWxwZXIoJ21heCcsIEJQLXRlZW55KSkpXFxuICAgICAgICB7YmxvY2t9XFxuXFxuLypcXG4gICAgbWVkaXVtLWRldmljZSgpXFxuXFxuICAgIFJlZmVycyB0byAobWluLXdpZHRoOiA1NDNweCkgYW5kIChtaW4taGVpZ2h0OiAzNzVweClcXG4gICAgVHJpZ2dlcnMgd2hlbiB0aGUgdmlld3BvcnQgaGFzIGEgd2lkdGggYmlnZ2VyIHRoYW4gNTQzcHggQU5EIGEgaGVpZ2h0IGJpZ2dlciB0aGFuIDM3NXB4XFxuXFxuICAgIFdlaWdodDogMFxcblxcbiAgICBTdHlsZWd1aWRlIFNldHRpbmdzLmJyZWFrcG9pbnRzLm1peGlucy5tZWRpdW0tZGV2aWNlXFxuKi9cXG5cXG5tZWRpdW0tZGV2aWNlKClcXG4gICAgQG1lZGlhIChtaW4td2lkdGg6IHJlbShzaXplLWhlbHBlcignbWluJywgQlAtdGlueSkpKSBhbmQgKG1pbi1oZWlnaHQ6IHJlbShzaXplLWhlbHBlcignbWluJywgQlAtdGVlbnkpKSlcXG4gICAgICAgIHtibG9ja31cXG5cXG4vKlxcbiAgICBkZXNrdG9wKClcXG5cXG4gICAgUmVmZXJzIHRvIChtaW4td2lkdGg6IDEwMjRweClcXG5cXG4gICAgV2VpZ2h0OiAwXFxuXFxuICAgIFN0eWxlZ3VpZGUgU2V0dGluZ3MuYnJlYWtwb2ludHMubWl4aW5zLmRlc2t0b3BcXG4qL1xcbmRlc2t0b3AoKVxcbiAgICBAbWVkaWEgKG1pbi13aWR0aDogcmVtKHNpemUtaGVscGVyKCdtaW4nLCBCUC1tZWRpdW0pKSlcXG4gICAgICAgIHtibG9ja31cXG5cXG4vKlxcbiAgICB0YWJsZXQoKVxcblxcbiAgICBSZWZlcnMgdG8gKG1pbi13aWR0aDogNzY5cHgpIGFuZCAobWF4LXdpZHRoOiAxMDIzcHgpXFxuXFxuICAgIFdlaWdodDogMVxcblxcbiAgICBTdHlsZWd1aWRlIFNldHRpbmdzLmJyZWFrcG9pbnRzLm1peGlucy50YWJsZXRcXG4qL1xcbnRhYmxldCgpXFxuICAgIEBtZWRpYSAobWluLXdpZHRoOiByZW0oc2l6ZS1oZWxwZXIoJ21pbicsIEJQLXNtYWxsKSkpIGFuZCAobWF4LXdpZHRoOiByZW0oc2l6ZS1oZWxwZXIoJ21heCcsIEJQLW1lZGl1bSkpKVxcbiAgICAgICAge2Jsb2NrfVxcblxcbi8qXFxuICAgIG1vYmlsZSgpXFxuXFxuICAgIFJlZmVycyB0byBzbWFsbC1zY3JlZW4oKSB3aGljaCBpcyAobWF4LXdpZHRoOiA3NjhweClcXG5cXG4gICAgV2VpZ2h0OiAyXFxuXFxuICAgIFN0eWxlZ3VpZGUgU2V0dGluZ3MuYnJlYWtwb2ludHMubWl4aW5zLm1vYmlsZVxcbiovXFxubW9iaWxlKClcXG4gICAgK3NtYWxsLXNjcmVlbigpXFxuICAgICAgICB7YmxvY2t9XFxuXFxuLypcXG4gICAgZ3QtbW9iaWxlKClcXG5cXG4gICAgUmVmZXJzIHRvIChtaW4td2lkdGg6IDc2OXB4KVxcblxcbiAgICBXZWlnaHQ6IDNcXG5cXG4gICAgU3R5bGVndWlkZSBTZXR0aW5ncy5icmVha3BvaW50cy5taXhpbnMuZ3QtbW9iaWxlXFxuKi9cXG5ndC1tb2JpbGUoKVxcbiAgICBAbWVkaWEgKG1pbi13aWR0aDogcmVtKHNpemUtaGVscGVyKCdtaW4nLCBCUC1zbWFsbCkpKVxcbiAgICAgICAge2Jsb2NrfVxcblxcbi8qXFxuICAgIGd0LXRhYmxldCgpXFxuXFxuICAgIFJlZmVycyB0byAobWluLXdpZHRoOiAxMDI0cHgpXFxuXFxuICAgIFdlaWdodDogNFxcblxcbiAgICBTdHlsZWd1aWRlIFNldHRpbmdzLmJyZWFrcG9pbnRzLm1peGlucy5ndC10YWJsZXRcXG4qL1xcbmd0LXRhYmxldCgpXFxuICAgIEBtZWRpYSAobWluLXdpZHRoOiByZW0oc2l6ZS1oZWxwZXIoJ21pbicsIEJQLW1lZGl1bSkpKVxcbiAgICAgICAge2Jsb2NrfVxcblxcbi8qXFxuICAgIGx0LWRlc2t0b3AoKVxcblxcbiAgICBSZWZlcnMgdG8gbWVkaXVtLXNjcmVlbigpIHdoaWNoIGlzIChtYXgtd2lkdGg6IDEwMjNweClcXG5cXG4gICAgV2VpZ2h0OiA1XFxuXFxuICAgIFN0eWxlZ3VpZGUgU2V0dGluZ3MuYnJlYWtwb2ludHMubWl4aW5zLmx0LWRlc2t0b3BcXG4qL1xcbmx0LWRlc2t0b3AoKVxcbiAgICArbWVkaXVtLXNjcmVlbigpXFxuICAgICAgICB7YmxvY2t9XFxuLy8gQHN0eWxpbnQgb25cXG5cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcblxuLy8gRXhwb3J0c1xuZXhwb3J0cy5sb2NhbHMgPSB7XG5cdFwiZW1wdHlcIjogXCJlbXB0eS0tRnFuWHlcIixcblx0XCJhcHBIZWFkZXJcIjogXCJhcHBIZWFkZXItLTJpbFMwXCIsXG5cdFwidGFibGVTcGVjaWFsUm93XCI6IFwidGFibGVTcGVjaWFsUm93LS00b2VrcFwiLFxuXHRcInRhYmxlQ2VsbEVtcHR5XCI6IFwidGFibGVDZWxsRW1wdHktLTIxZloxXCIsXG5cdFwidGFibGVDZWxsTmFtZVwiOiBcInRhYmxlQ2VsbE5hbWUtLTJKYWs5XCIsXG5cdFwidGFibGVDZWxsXCI6IFwidGFibGVDZWxsLS0zLWpEUFwiLFxuXHRcInRhYmxlUm93XCI6IFwidGFibGVSb3ctLTNTaWNSXCIsXG5cdFwibm90YWJsZVwiOiBcIm5vdGFibGUtLXRLOHVxXCIsXG5cdFwiYWN0aW9uTWVudUl0ZW1cIjogXCJhY3Rpb25NZW51SXRlbS0tMTdhamNcIlxufTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/stylus-loader/index.js?!./src/components/notes/List/list.styl\n");

/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/stylus-loader/index.js?!./src/components/notes/editor-view.styl":
/***/ (function(module, exports, __webpack_require__) {

eval("exports = module.exports = __webpack_require__(\"./node_modules/css-loader/dist/runtime/api.js\")(true);\n// Module\nexports.push([module.i, \"/* Cozy-UI Layout adds a ::before with an height of 3rem\\n(https://github.com/cozy/cozy-ui/blob/master/stylus/objects/layouts.styl#L105)\\non medium-screen to give to the bar the needed place. Since we hide the cozy-bar\\non the editor-view we remove this margin\\n*/\\n.note-article--2yQdC {\\n  display: flex;\\n  flex-direction: column;\\n  height: calc(100% + 3rem);\\n  width: 100%;\\n}\\n@media (max-width: 63.938rem) {\\n  .note-article--2yQdC:not(.note-article--intents--ghgU0) {\\n    margin-top: -3rem;\\n  }\\n}\\n.banner--1nSEd > :first-child {\\n  margin: calc(-1 * var(--documentTopPadding)) calc(-1 * var(--documentPadding)) var(--documentTopPadding) calc(-1 * var(--documentPadding));\\n  position: relative;\\n  z-index: 5;\\n  border-top: 1px solid var(--borderMainColor);\\n}\\n.title--2DQ8I {\\n  height: -webkit-fit-content !important;\\n  height: -moz-fit-content !important;\\n  height: fit-content !important;\\n  margin-bottom: var(--note-block-spacing) !important;\\n}\\n.title--2DQ8I > div {\\n  font-size: var(--note-title0-fs);\\n  line-height: var(--note-title0-lh);\\n  font-weight: 900;\\n  font-family: Lato-Black, var(--primaryFont);\\n}\\n@media (max-width: 48rem) {\\n  .title--2DQ8I > div {\\n    line-height: var(--note-title6-lh);\\n  }\\n}\\n.titleInput--2ERlh::-moz-placeholder {\\n  text-align: center;\\n  font-size: var(--note-title0-fs);\\n  line-height: var(--note-title0-lh);\\n  font-weight: 900;\\n  font-family: Lato-Black, var(--primaryFont);\\n  overflow: visible;\\n  min-height: -moz-min-content;\\n  min-height: min-content;\\n}\\n.titleInput--2ERlh:-ms-input-placeholder {\\n  text-align: center;\\n  font-size: var(--note-title0-fs);\\n  line-height: var(--note-title0-lh);\\n  font-weight: 900;\\n  font-family: Lato-Black, var(--primaryFont);\\n  overflow: visible;\\n  min-height: min-content;\\n}\\n.titleInput--2ERlh,\\n.titleInput--2ERlh:focus,\\n.titleInput--2ERlh:hover,\\n.titleInput--2ERlh::placeholder {\\n  text-align: center;\\n  font-size: var(--note-title0-fs);\\n  line-height: var(--note-title0-lh);\\n  font-weight: 900;\\n  font-family: Lato-Black, var(--primaryFont);\\n  overflow: visible;\\n  min-height: -webkit-min-content;\\n  min-height: -moz-min-content;\\n  min-height: min-content;\\n}\\n@media (max-width: 48rem) {\\n  .titleInput--2ERlh::-moz-placeholder {\\n    line-height: var(--note-title6-lh);\\n  }\\n  .titleInput--2ERlh:-ms-input-placeholder {\\n    line-height: var(--note-title6-lh);\\n  }\\n  .titleInput--2ERlh,\\n  .titleInput--2ERlh:focus,\\n  .titleInput--2ERlh:hover,\\n  .titleInput--2ERlh::placeholder {\\n    line-height: var(--note-title6-lh);\\n  }\\n}\\n.titleInput--2ERlh::-moz-placeholder {\\n  opacity: 1 !important;\\n  color: var(--secondaryTextColor) !important;\\n}\\n.titleInput--2ERlh:-ms-input-placeholder {\\n  opacity: 1 !important;\\n  color: var(--secondaryTextColor) !important;\\n}\\n.titleInput--2ERlh::placeholder {\\n  opacity: 1 !important;\\n  color: var(--secondaryTextColor) !important;\\n}\\n.titleInput--2ERlh,\\n.titleInput--2ERlh:focus,\\n.titleInput--2ERlh:hover {\\n  opacity: 1 !important;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"src/components/notes/editor-view.styl\",\"editor-view.styl\",\"node_modules/cozy-ui/stylus/settings/breakpoints.styl\"],\"names\":[],\"mappings\":\"AAEA;;;;CCEC;ADKD;EACI,aAAQ;EACR,sBAAe;EACf,yBAAO;EACP,WAAM;ACHV;ACuGqE;EAAA;IFhGzD,iBAAW;ECHrB;AACF;ADKI;EACI,0IAAO;EACP,kBAAS;EACT,UAAQ;EACR,4CAAW;ACHnB;ADKA;EACI,sCAAO;EAAP,mCAAO;EAAP,8BAAO;EACP,mDAAc;ACHlB;ADKI;EACI,gCAAU;EACV,kCAAY;EACZ,gBAAY;EACZ,2CAAsB;ACH9B;ACoEoE;EAAA;IF9DxD,kCAAY;ECFtB;AACF;ADII;EACI,kBAAW;EACX,gCAAU;EACV,kCAAY;EACZ,gBAAY;EACZ,2CAAsB;EACtB,iBAAS;EACT,4BAAW;EAAX,uBAAW;ACCnB;ADRI;EACI,kBAAW;EACX,gCAAU;EACV,kCAAY;EACZ,gBAAY;EACZ,2CAAsB;EACtB,iBAAS;EACT,uBAAW;ACCnB;ADRI;;;;EACI,kBAAW;EACX,gCAAU;EACV,kCAAY;EACZ,gBAAY;EACZ,2CAAsB;EACtB,iBAAS;EACT,+BAAW;EAAX,4BAAW;EAAX,uBAAW;ACCnB;ACmDoE;EAAA;IFlDxD,kCAAY;ECMtB;EC4CkE;IFlDxD,kCAAY;ECMtB;EC4CkE;;;;IFlDxD,kCAAY;ECMtB;AACF;ADLI;EACI,qBAAQ;EACR,2CAAM;ACOd;ADTI;EACI,qBAAQ;EACR,2CAAM;ACOd;ADTI;EACI,qBAAQ;EACR,2CAAM;ACOd;ADLI;;;EACI,qBAAQ;ACShB\",\"file\":\"editor-view.styl\",\"sourcesContent\":[\"@require 'settings/breakpoints.styl'\\n\\n/* Cozy-UI Layout adds a ::before with an height of 3rem\\n(https://github.com/cozy/cozy-ui/blob/master/stylus/objects/layouts.styl#L105)\\non medium-screen to give to the bar the needed place. Since we hide the cozy-bar\\non the editor-view we remove this margin\\n*/\\n$COZY_BAR_HEIGHT=-3rem\\n\\n.note-article\\n    display flex\\n    flex-direction column\\n    height calc(100% + 3rem) // To keep a 100% height even with the negative margin-top\\n    width 100%\\n\\n    &:not(.note-article--intents)\\n        +medium-screen()\\n            margin-top $COZY_BAR_HEIGHT\\n\\n.banner\\n    & > :first-child\\n        margin calc(-1 * var(--documentTopPadding)) calc(-1 * var(--documentPadding)) var(--documentTopPadding) calc(-1 * var(--documentPadding))\\n        position relative\\n        z-index 5\\n        border-top 1px solid var(--borderMainColor)\\n\\n.title\\n    height fit-content !important // to override computed value\\n    margin-bottom var(--note-block-spacing) !important // to override Mui\\n\\n    & > div\\n        font-size var(--note-title0-fs)\\n        line-height var(--note-title0-lh)\\n        font-weight 900\\n        font-family Lato-Black, var(--primaryFont)\\n\\n        +small-screen()\\n            line-height var(--note-title6-lh)\\n\\n.titleInput\\n    &, &:focus, &:hover, &::placeholder\\n        text-align center\\n        font-size var(--note-title0-fs)\\n        line-height var(--note-title0-lh)\\n        font-weight 900\\n        font-family Lato-Black, var(--primaryFont)\\n        overflow visible\\n        min-height min-content\\n        +small-screen()\\n            line-height var(--note-title6-lh)\\n\\n    &::placeholder\\n        opacity 1 !important // to override Mui\\n        color var(--secondaryTextColor) !important // to override Mui\\n\\n    &, &:focus, &:hover\\n        opacity 1 !important // to override Mui\\n\",\"/* Cozy-UI Layout adds a ::before with an height of 3rem\\n(https://github.com/cozy/cozy-ui/blob/master/stylus/objects/layouts.styl#L105)\\non medium-screen to give to the bar the needed place. Since we hide the cozy-bar\\non the editor-view we remove this margin\\n*/\\n.note-article {\\n  display: flex;\\n  flex-direction: column;\\n  height: calc(100% + 3rem);\\n  width: 100%;\\n}\\n@media (max-width: 63.938rem) {\\n  .note-article:not(.note-article--intents) {\\n    margin-top: -3rem;\\n  }\\n}\\n.banner > :first-child {\\n  margin: calc(-1 * var(--documentTopPadding)) calc(-1 * var(--documentPadding)) var(--documentTopPadding) calc(-1 * var(--documentPadding));\\n  position: relative;\\n  z-index: 5;\\n  border-top: 1px solid var(--borderMainColor);\\n}\\n.title {\\n  height: fit-content !important;\\n  margin-bottom: var(--note-block-spacing) !important;\\n}\\n.title > div {\\n  font-size: var(--note-title0-fs);\\n  line-height: var(--note-title0-lh);\\n  font-weight: 900;\\n  font-family: Lato-Black, var(--primaryFont);\\n}\\n@media (max-width: 48rem) {\\n  .title > div {\\n    line-height: var(--note-title6-lh);\\n  }\\n}\\n.titleInput,\\n.titleInput:focus,\\n.titleInput:hover,\\n.titleInput::placeholder {\\n  text-align: center;\\n  font-size: var(--note-title0-fs);\\n  line-height: var(--note-title0-lh);\\n  font-weight: 900;\\n  font-family: Lato-Black, var(--primaryFont);\\n  overflow: visible;\\n  min-height: min-content;\\n}\\n@media (max-width: 48rem) {\\n  .titleInput,\\n  .titleInput:focus,\\n  .titleInput:hover,\\n  .titleInput::placeholder {\\n    line-height: var(--note-title6-lh);\\n  }\\n}\\n.titleInput::placeholder {\\n  opacity: 1 !important;\\n  color: var(--secondaryTextColor) !important;\\n}\\n.titleInput,\\n.titleInput:focus,\\n.titleInput:hover {\\n  opacity: 1 !important;\\n}\\n\",\"@require '../tools/mixins'\\n\\n/*------------------------------------*\\\\\\n  Breakpoints\\n  =====\\n\\\\*------------------------------------*/\\n\\n// variables\\n\\nBP-teeny       =  375\\nBP-tiny        =  480\\nBP-small       =  768\\nBP-medium      = 1023\\nBP-large       = 1200\\nBP-extra-large = 1439\\n\\n// Standard breakpoints collection for utilities\\nbreakpoints = {\\n    'none': '',\\n    'tiny': 't',\\n    'small': 's',\\n    'medium': 'm',\\n}\\n\\n/*\\n    Breakpoints\\n\\n    This is the collection of available breakpoint variables:<br><br>\\n    - `BP-teeny`         -  375px\\n    - `BP-tiny`          -  480px\\n    - `BP-small`         -  768px\\n    - `BP-medium`        -  1023px\\n    - `BP-large`         -  1200px\\n    - `BP-extra-large`   -  1439px\\n\\n    <br>Also we have a standard breakpoints collection meant to be used as suffixes for some utility classes<br>\\n\\n    If you want a utility class to trigger only at defined breakpoints you can use those:<br><br>\\n    - `-t`  - refers to `tiny` breakpoint (max-width: 480px)\\n    - `-s`  - refers to `small` breakpoint (max-width: 768px)\\n    - `-m`  - refers to `medium` breakpoint (max-width: 1023px)\\n\\n    Styleguide Settings.breakpoints\\n*/\\n\\n/*\\n    Media Queries mixins\\n\\n    You can use these mixins with no arguments and they will output\\n    the desired a `max-width` media-query. Use the direction argument\\n    to set it to `min`.\\n\\n    Styleguide Settings.breakpoints.mixins\\n*/\\n\\n// mixins\\n// @stylint off\\nsize-helper(direction, size)\\n    direction == 'min' ? size + 1 : size\\n\\n/*\\n    teeny-screen()\\n\\n    teeny-screen() Refers to (max-width: 375px)\\n    teeny-screen('min') Refers to (min-width: 376px)\\n\\n    Weight: -6\\n\\n    Styleguide Settings.breakpoints.mixins.teeny\\n*/\\nteeny-screen(direction='max')\\n    @media ({direction}-width: rem(size-helper(direction, BP-teeny)))\\n        {block}\\n\\n/*\\n    tiny-screen()\\n\\n    tiny-screen() Refers to (max-width: 480px)\\n    tiny-screen('min') Refers to (min-width: 481px)\\n\\n    Weight: -5\\n\\n    Styleguide Settings.breakpoints.mixins.tiny\\n*/\\ntiny-screen(direction='max')\\n    @media ({direction}-width: rem(size-helper(direction, BP-tiny)))\\n        {block}\\n\\n/*\\n    small-screen()\\n\\n    small-screen() Refers to (max-width: 768px)\\n    small-screen('min') Refers to (min-width: 769px)\\n\\n    Weight: -4\\n\\n    Styleguide Settings.breakpoints.mixins.small\\n*/\\nsmall-screen(direction='max')\\n    @media ({direction}-width: rem(size-helper(direction, BP-small)))\\n        {block}\\n\\n/*\\n    medium-screen()\\n\\n    medium-screen() Refers to (max-width: 1023px)\\n    medium-screen('min') Refers to (min-width: 1024px)\\n\\n    Weight: -3\\n\\n    Styleguide Settings.breakpoints.mixins.medium\\n*/\\nmedium-screen(direction='max')\\n    @media ({direction}-width: rem(size-helper(direction, BP-medium)))\\n        {block}\\n\\n/*\\n    large-screen()\\n\\n    large-screen() Refers to (max-width: 1200px)\\n    large-screen('min') Refers to (min-width: 1201px)\\n\\n    Weight: -2\\n\\n    Styleguide Settings.breakpoints.mixins.large\\n*/\\nlarge-screen(direction='max')\\n    @media ({direction}-width: rem(size-helper(direction, BP-large)))\\n        {block}\\n\\n/*\\n    extra-large-screen()\\n\\n    extra-large-screen() Refers to (max-width: 1439px)\\n    extra-large-screen('min') Refers to (min-width: 1440px)\\n\\n    Weight: -1\\n\\n    Styleguide Settings.breakpoints.mixins.extra-large\\n*/\\nextra-large-screen(direction='max')\\n    @media ({direction}-width: rem(size-helper(direction, BP-extra-large)))\\n        {block}\\n\\n// mixins named\\n\\n/*\\n    small-device()\\n\\n    Refers to (max-width: 543px), (max-height: 375px)\\n    Triggers when the viewport has a width smaller than 543px OR a height smaller than 375px\\n\\n    Weight: 0\\n\\n    Styleguide Settings.breakpoints.mixins.small-device\\n*/\\n\\nsmall-device()\\n    @media (max-width: rem(size-helper('max', BP-tiny))), (max-height: rem(size-helper('max', BP-teeny)))\\n        {block}\\n\\n/*\\n    medium-device()\\n\\n    Refers to (min-width: 543px) and (min-height: 375px)\\n    Triggers when the viewport has a width bigger than 543px AND a height bigger than 375px\\n\\n    Weight: 0\\n\\n    Styleguide Settings.breakpoints.mixins.medium-device\\n*/\\n\\nmedium-device()\\n    @media (min-width: rem(size-helper('min', BP-tiny))) and (min-height: rem(size-helper('min', BP-teeny)))\\n        {block}\\n\\n/*\\n    desktop()\\n\\n    Refers to (min-width: 1024px)\\n\\n    Weight: 0\\n\\n    Styleguide Settings.breakpoints.mixins.desktop\\n*/\\ndesktop()\\n    @media (min-width: rem(size-helper('min', BP-medium)))\\n        {block}\\n\\n/*\\n    tablet()\\n\\n    Refers to (min-width: 769px) and (max-width: 1023px)\\n\\n    Weight: 1\\n\\n    Styleguide Settings.breakpoints.mixins.tablet\\n*/\\ntablet()\\n    @media (min-width: rem(size-helper('min', BP-small))) and (max-width: rem(size-helper('max', BP-medium)))\\n        {block}\\n\\n/*\\n    mobile()\\n\\n    Refers to small-screen() which is (max-width: 768px)\\n\\n    Weight: 2\\n\\n    Styleguide Settings.breakpoints.mixins.mobile\\n*/\\nmobile()\\n    +small-screen()\\n        {block}\\n\\n/*\\n    gt-mobile()\\n\\n    Refers to (min-width: 769px)\\n\\n    Weight: 3\\n\\n    Styleguide Settings.breakpoints.mixins.gt-mobile\\n*/\\ngt-mobile()\\n    @media (min-width: rem(size-helper('min', BP-small)))\\n        {block}\\n\\n/*\\n    gt-tablet()\\n\\n    Refers to (min-width: 1024px)\\n\\n    Weight: 4\\n\\n    Styleguide Settings.breakpoints.mixins.gt-tablet\\n*/\\ngt-tablet()\\n    @media (min-width: rem(size-helper('min', BP-medium)))\\n        {block}\\n\\n/*\\n    lt-desktop()\\n\\n    Refers to medium-screen() which is (max-width: 1023px)\\n\\n    Weight: 5\\n\\n    Styleguide Settings.breakpoints.mixins.lt-desktop\\n*/\\nlt-desktop()\\n    +medium-screen()\\n        {block}\\n// @stylint on\\n\"],\"sourceRoot\":\"\"}]);\n\n// Exports\nexports.locals = {\n\t\"note-article\": \"note-article--2yQdC\",\n\t\"note-article--intents\": \"note-article--intents--ghgU0\",\n\t\"banner\": \"banner--1nSEd\",\n\t\"title\": \"title--2DQ8I\",\n\t\"titleInput\": \"titleInput--2ERlh\"\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8hLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvc3JjL2luZGV4LmpzPyEuL25vZGVfbW9kdWxlcy9zdHlsdXMtbG9hZGVyL2luZGV4LmpzPyEuL3NyYy9jb21wb25lbnRzL25vdGVzL2VkaXRvci12aWV3LnN0eWwuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9ub3Rlcy9lZGl0b3Itdmlldy5zdHlsPzJlYzAiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIikodHJ1ZSk7XG4vLyBNb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi8qIENvenktVUkgTGF5b3V0IGFkZHMgYSA6OmJlZm9yZSB3aXRoIGFuIGhlaWdodCBvZiAzcmVtXFxuKGh0dHBzOi8vZ2l0aHViLmNvbS9jb3p5L2NvenktdWkvYmxvYi9tYXN0ZXIvc3R5bHVzL29iamVjdHMvbGF5b3V0cy5zdHlsI0wxMDUpXFxub24gbWVkaXVtLXNjcmVlbiB0byBnaXZlIHRvIHRoZSBiYXIgdGhlIG5lZWRlZCBwbGFjZS4gU2luY2Ugd2UgaGlkZSB0aGUgY296eS1iYXJcXG5vbiB0aGUgZWRpdG9yLXZpZXcgd2UgcmVtb3ZlIHRoaXMgbWFyZ2luXFxuKi9cXG4ubm90ZS1hcnRpY2xlLS0yeVFkQyB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gIGhlaWdodDogY2FsYygxMDAlICsgM3JlbSk7XFxuICB3aWR0aDogMTAwJTtcXG59XFxuQG1lZGlhIChtYXgtd2lkdGg6IDYzLjkzOHJlbSkge1xcbiAgLm5vdGUtYXJ0aWNsZS0tMnlRZEM6bm90KC5ub3RlLWFydGljbGUtLWludGVudHMtLWdoZ1UwKSB7XFxuICAgIG1hcmdpbi10b3A6IC0zcmVtO1xcbiAgfVxcbn1cXG4uYmFubmVyLS0xblNFZCA+IDpmaXJzdC1jaGlsZCB7XFxuICBtYXJnaW46IGNhbGMoLTEgKiB2YXIoLS1kb2N1bWVudFRvcFBhZGRpbmcpKSBjYWxjKC0xICogdmFyKC0tZG9jdW1lbnRQYWRkaW5nKSkgdmFyKC0tZG9jdW1lbnRUb3BQYWRkaW5nKSBjYWxjKC0xICogdmFyKC0tZG9jdW1lbnRQYWRkaW5nKSk7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICB6LWluZGV4OiA1O1xcbiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkIHZhcigtLWJvcmRlck1haW5Db2xvcik7XFxufVxcbi50aXRsZS0tMkRROEkge1xcbiAgaGVpZ2h0OiAtd2Via2l0LWZpdC1jb250ZW50ICFpbXBvcnRhbnQ7XFxuICBoZWlnaHQ6IC1tb3otZml0LWNvbnRlbnQgIWltcG9ydGFudDtcXG4gIGhlaWdodDogZml0LWNvbnRlbnQgIWltcG9ydGFudDtcXG4gIG1hcmdpbi1ib3R0b206IHZhcigtLW5vdGUtYmxvY2stc3BhY2luZykgIWltcG9ydGFudDtcXG59XFxuLnRpdGxlLS0yRFE4SSA+IGRpdiB7XFxuICBmb250LXNpemU6IHZhcigtLW5vdGUtdGl0bGUwLWZzKTtcXG4gIGxpbmUtaGVpZ2h0OiB2YXIoLS1ub3RlLXRpdGxlMC1saCk7XFxuICBmb250LXdlaWdodDogOTAwO1xcbiAgZm9udC1mYW1pbHk6IExhdG8tQmxhY2ssIHZhcigtLXByaW1hcnlGb250KTtcXG59XFxuQG1lZGlhIChtYXgtd2lkdGg6IDQ4cmVtKSB7XFxuICAudGl0bGUtLTJEUThJID4gZGl2IHtcXG4gICAgbGluZS1oZWlnaHQ6IHZhcigtLW5vdGUtdGl0bGU2LWxoKTtcXG4gIH1cXG59XFxuLnRpdGxlSW5wdXQtLTJFUmxoOjotbW96LXBsYWNlaG9sZGVyIHtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIGZvbnQtc2l6ZTogdmFyKC0tbm90ZS10aXRsZTAtZnMpO1xcbiAgbGluZS1oZWlnaHQ6IHZhcigtLW5vdGUtdGl0bGUwLWxoKTtcXG4gIGZvbnQtd2VpZ2h0OiA5MDA7XFxuICBmb250LWZhbWlseTogTGF0by1CbGFjaywgdmFyKC0tcHJpbWFyeUZvbnQpO1xcbiAgb3ZlcmZsb3c6IHZpc2libGU7XFxuICBtaW4taGVpZ2h0OiAtbW96LW1pbi1jb250ZW50O1xcbiAgbWluLWhlaWdodDogbWluLWNvbnRlbnQ7XFxufVxcbi50aXRsZUlucHV0LS0yRVJsaDotbXMtaW5wdXQtcGxhY2Vob2xkZXIge1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgZm9udC1zaXplOiB2YXIoLS1ub3RlLXRpdGxlMC1mcyk7XFxuICBsaW5lLWhlaWdodDogdmFyKC0tbm90ZS10aXRsZTAtbGgpO1xcbiAgZm9udC13ZWlnaHQ6IDkwMDtcXG4gIGZvbnQtZmFtaWx5OiBMYXRvLUJsYWNrLCB2YXIoLS1wcmltYXJ5Rm9udCk7XFxuICBvdmVyZmxvdzogdmlzaWJsZTtcXG4gIG1pbi1oZWlnaHQ6IG1pbi1jb250ZW50O1xcbn1cXG4udGl0bGVJbnB1dC0tMkVSbGgsXFxuLnRpdGxlSW5wdXQtLTJFUmxoOmZvY3VzLFxcbi50aXRsZUlucHV0LS0yRVJsaDpob3ZlcixcXG4udGl0bGVJbnB1dC0tMkVSbGg6OnBsYWNlaG9sZGVyIHtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIGZvbnQtc2l6ZTogdmFyKC0tbm90ZS10aXRsZTAtZnMpO1xcbiAgbGluZS1oZWlnaHQ6IHZhcigtLW5vdGUtdGl0bGUwLWxoKTtcXG4gIGZvbnQtd2VpZ2h0OiA5MDA7XFxuICBmb250LWZhbWlseTogTGF0by1CbGFjaywgdmFyKC0tcHJpbWFyeUZvbnQpO1xcbiAgb3ZlcmZsb3c6IHZpc2libGU7XFxuICBtaW4taGVpZ2h0OiAtd2Via2l0LW1pbi1jb250ZW50O1xcbiAgbWluLWhlaWdodDogLW1vei1taW4tY29udGVudDtcXG4gIG1pbi1oZWlnaHQ6IG1pbi1jb250ZW50O1xcbn1cXG5AbWVkaWEgKG1heC13aWR0aDogNDhyZW0pIHtcXG4gIC50aXRsZUlucHV0LS0yRVJsaDo6LW1vei1wbGFjZWhvbGRlciB7XFxuICAgIGxpbmUtaGVpZ2h0OiB2YXIoLS1ub3RlLXRpdGxlNi1saCk7XFxuICB9XFxuICAudGl0bGVJbnB1dC0tMkVSbGg6LW1zLWlucHV0LXBsYWNlaG9sZGVyIHtcXG4gICAgbGluZS1oZWlnaHQ6IHZhcigtLW5vdGUtdGl0bGU2LWxoKTtcXG4gIH1cXG4gIC50aXRsZUlucHV0LS0yRVJsaCxcXG4gIC50aXRsZUlucHV0LS0yRVJsaDpmb2N1cyxcXG4gIC50aXRsZUlucHV0LS0yRVJsaDpob3ZlcixcXG4gIC50aXRsZUlucHV0LS0yRVJsaDo6cGxhY2Vob2xkZXIge1xcbiAgICBsaW5lLWhlaWdodDogdmFyKC0tbm90ZS10aXRsZTYtbGgpO1xcbiAgfVxcbn1cXG4udGl0bGVJbnB1dC0tMkVSbGg6Oi1tb3otcGxhY2Vob2xkZXIge1xcbiAgb3BhY2l0eTogMSAhaW1wb3J0YW50O1xcbiAgY29sb3I6IHZhcigtLXNlY29uZGFyeVRleHRDb2xvcikgIWltcG9ydGFudDtcXG59XFxuLnRpdGxlSW5wdXQtLTJFUmxoOi1tcy1pbnB1dC1wbGFjZWhvbGRlciB7XFxuICBvcGFjaXR5OiAxICFpbXBvcnRhbnQ7XFxuICBjb2xvcjogdmFyKC0tc2Vjb25kYXJ5VGV4dENvbG9yKSAhaW1wb3J0YW50O1xcbn1cXG4udGl0bGVJbnB1dC0tMkVSbGg6OnBsYWNlaG9sZGVyIHtcXG4gIG9wYWNpdHk6IDEgIWltcG9ydGFudDtcXG4gIGNvbG9yOiB2YXIoLS1zZWNvbmRhcnlUZXh0Q29sb3IpICFpbXBvcnRhbnQ7XFxufVxcbi50aXRsZUlucHV0LS0yRVJsaCxcXG4udGl0bGVJbnB1dC0tMkVSbGg6Zm9jdXMsXFxuLnRpdGxlSW5wdXQtLTJFUmxoOmhvdmVyIHtcXG4gIG9wYWNpdHk6IDEgIWltcG9ydGFudDtcXG59XFxuXCIsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wic3JjL2NvbXBvbmVudHMvbm90ZXMvZWRpdG9yLXZpZXcuc3R5bFwiLFwiZWRpdG9yLXZpZXcuc3R5bFwiLFwibm9kZV9tb2R1bGVzL2NvenktdWkvc3R5bHVzL3NldHRpbmdzL2JyZWFrcG9pbnRzLnN0eWxcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBRUE7Ozs7Q0NFQztBREtEO0VBQ0ksYUFBUTtFQUNSLHNCQUFlO0VBQ2YseUJBQU87RUFDUCxXQUFNO0FDSFY7QUN1R3FFO0VBQUE7SUZoR3pELGlCQUFXO0VDSHJCO0FBQ0Y7QURLSTtFQUNJLDBJQUFPO0VBQ1Asa0JBQVM7RUFDVCxVQUFRO0VBQ1IsNENBQVc7QUNIbkI7QURLQTtFQUNJLHNDQUFPO0VBQVAsbUNBQU87RUFBUCw4QkFBTztFQUNQLG1EQUFjO0FDSGxCO0FES0k7RUFDSSxnQ0FBVTtFQUNWLGtDQUFZO0VBQ1osZ0JBQVk7RUFDWiwyQ0FBc0I7QUNIOUI7QUNvRW9FO0VBQUE7SUY5RHhELGtDQUFZO0VDRnRCO0FBQ0Y7QURJSTtFQUNJLGtCQUFXO0VBQ1gsZ0NBQVU7RUFDVixrQ0FBWTtFQUNaLGdCQUFZO0VBQ1osMkNBQXNCO0VBQ3RCLGlCQUFTO0VBQ1QsNEJBQVc7RUFBWCx1QkFBVztBQ0NuQjtBRFJJO0VBQ0ksa0JBQVc7RUFDWCxnQ0FBVTtFQUNWLGtDQUFZO0VBQ1osZ0JBQVk7RUFDWiwyQ0FBc0I7RUFDdEIsaUJBQVM7RUFDVCx1QkFBVztBQ0NuQjtBRFJJOzs7O0VBQ0ksa0JBQVc7RUFDWCxnQ0FBVTtFQUNWLGtDQUFZO0VBQ1osZ0JBQVk7RUFDWiwyQ0FBc0I7RUFDdEIsaUJBQVM7RUFDVCwrQkFBVztFQUFYLDRCQUFXO0VBQVgsdUJBQVc7QUNDbkI7QUNtRG9FO0VBQUE7SUZsRHhELGtDQUFZO0VDTXRCO0VDNENrRTtJRmxEeEQsa0NBQVk7RUNNdEI7RUM0Q2tFOzs7O0lGbER4RCxrQ0FBWTtFQ010QjtBQUNGO0FETEk7RUFDSSxxQkFBUTtFQUNSLDJDQUFNO0FDT2Q7QURUSTtFQUNJLHFCQUFRO0VBQ1IsMkNBQU07QUNPZDtBRFRJO0VBQ0kscUJBQVE7RUFDUiwyQ0FBTTtBQ09kO0FETEk7OztFQUNJLHFCQUFRO0FDU2hCXCIsXCJmaWxlXCI6XCJlZGl0b3Itdmlldy5zdHlsXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIkByZXF1aXJlICdzZXR0aW5ncy9icmVha3BvaW50cy5zdHlsJ1xcblxcbi8qIENvenktVUkgTGF5b3V0IGFkZHMgYSA6OmJlZm9yZSB3aXRoIGFuIGhlaWdodCBvZiAzcmVtXFxuKGh0dHBzOi8vZ2l0aHViLmNvbS9jb3p5L2NvenktdWkvYmxvYi9tYXN0ZXIvc3R5bHVzL29iamVjdHMvbGF5b3V0cy5zdHlsI0wxMDUpXFxub24gbWVkaXVtLXNjcmVlbiB0byBnaXZlIHRvIHRoZSBiYXIgdGhlIG5lZWRlZCBwbGFjZS4gU2luY2Ugd2UgaGlkZSB0aGUgY296eS1iYXJcXG5vbiB0aGUgZWRpdG9yLXZpZXcgd2UgcmVtb3ZlIHRoaXMgbWFyZ2luXFxuKi9cXG4kQ09aWV9CQVJfSEVJR0hUPS0zcmVtXFxuXFxuLm5vdGUtYXJ0aWNsZVxcbiAgICBkaXNwbGF5IGZsZXhcXG4gICAgZmxleC1kaXJlY3Rpb24gY29sdW1uXFxuICAgIGhlaWdodCBjYWxjKDEwMCUgKyAzcmVtKSAvLyBUbyBrZWVwIGEgMTAwJSBoZWlnaHQgZXZlbiB3aXRoIHRoZSBuZWdhdGl2ZSBtYXJnaW4tdG9wXFxuICAgIHdpZHRoIDEwMCVcXG5cXG4gICAgJjpub3QoLm5vdGUtYXJ0aWNsZS0taW50ZW50cylcXG4gICAgICAgICttZWRpdW0tc2NyZWVuKClcXG4gICAgICAgICAgICBtYXJnaW4tdG9wICRDT1pZX0JBUl9IRUlHSFRcXG5cXG4uYmFubmVyXFxuICAgICYgPiA6Zmlyc3QtY2hpbGRcXG4gICAgICAgIG1hcmdpbiBjYWxjKC0xICogdmFyKC0tZG9jdW1lbnRUb3BQYWRkaW5nKSkgY2FsYygtMSAqIHZhcigtLWRvY3VtZW50UGFkZGluZykpIHZhcigtLWRvY3VtZW50VG9wUGFkZGluZykgY2FsYygtMSAqIHZhcigtLWRvY3VtZW50UGFkZGluZykpXFxuICAgICAgICBwb3NpdGlvbiByZWxhdGl2ZVxcbiAgICAgICAgei1pbmRleCA1XFxuICAgICAgICBib3JkZXItdG9wIDFweCBzb2xpZCB2YXIoLS1ib3JkZXJNYWluQ29sb3IpXFxuXFxuLnRpdGxlXFxuICAgIGhlaWdodCBmaXQtY29udGVudCAhaW1wb3J0YW50IC8vIHRvIG92ZXJyaWRlIGNvbXB1dGVkIHZhbHVlXFxuICAgIG1hcmdpbi1ib3R0b20gdmFyKC0tbm90ZS1ibG9jay1zcGFjaW5nKSAhaW1wb3J0YW50IC8vIHRvIG92ZXJyaWRlIE11aVxcblxcbiAgICAmID4gZGl2XFxuICAgICAgICBmb250LXNpemUgdmFyKC0tbm90ZS10aXRsZTAtZnMpXFxuICAgICAgICBsaW5lLWhlaWdodCB2YXIoLS1ub3RlLXRpdGxlMC1saClcXG4gICAgICAgIGZvbnQtd2VpZ2h0IDkwMFxcbiAgICAgICAgZm9udC1mYW1pbHkgTGF0by1CbGFjaywgdmFyKC0tcHJpbWFyeUZvbnQpXFxuXFxuICAgICAgICArc21hbGwtc2NyZWVuKClcXG4gICAgICAgICAgICBsaW5lLWhlaWdodCB2YXIoLS1ub3RlLXRpdGxlNi1saClcXG5cXG4udGl0bGVJbnB1dFxcbiAgICAmLCAmOmZvY3VzLCAmOmhvdmVyLCAmOjpwbGFjZWhvbGRlclxcbiAgICAgICAgdGV4dC1hbGlnbiBjZW50ZXJcXG4gICAgICAgIGZvbnQtc2l6ZSB2YXIoLS1ub3RlLXRpdGxlMC1mcylcXG4gICAgICAgIGxpbmUtaGVpZ2h0IHZhcigtLW5vdGUtdGl0bGUwLWxoKVxcbiAgICAgICAgZm9udC13ZWlnaHQgOTAwXFxuICAgICAgICBmb250LWZhbWlseSBMYXRvLUJsYWNrLCB2YXIoLS1wcmltYXJ5Rm9udClcXG4gICAgICAgIG92ZXJmbG93IHZpc2libGVcXG4gICAgICAgIG1pbi1oZWlnaHQgbWluLWNvbnRlbnRcXG4gICAgICAgICtzbWFsbC1zY3JlZW4oKVxcbiAgICAgICAgICAgIGxpbmUtaGVpZ2h0IHZhcigtLW5vdGUtdGl0bGU2LWxoKVxcblxcbiAgICAmOjpwbGFjZWhvbGRlclxcbiAgICAgICAgb3BhY2l0eSAxICFpbXBvcnRhbnQgLy8gdG8gb3ZlcnJpZGUgTXVpXFxuICAgICAgICBjb2xvciB2YXIoLS1zZWNvbmRhcnlUZXh0Q29sb3IpICFpbXBvcnRhbnQgLy8gdG8gb3ZlcnJpZGUgTXVpXFxuXFxuICAgICYsICY6Zm9jdXMsICY6aG92ZXJcXG4gICAgICAgIG9wYWNpdHkgMSAhaW1wb3J0YW50IC8vIHRvIG92ZXJyaWRlIE11aVxcblwiLFwiLyogQ296eS1VSSBMYXlvdXQgYWRkcyBhIDo6YmVmb3JlIHdpdGggYW4gaGVpZ2h0IG9mIDNyZW1cXG4oaHR0cHM6Ly9naXRodWIuY29tL2NvenkvY296eS11aS9ibG9iL21hc3Rlci9zdHlsdXMvb2JqZWN0cy9sYXlvdXRzLnN0eWwjTDEwNSlcXG5vbiBtZWRpdW0tc2NyZWVuIHRvIGdpdmUgdG8gdGhlIGJhciB0aGUgbmVlZGVkIHBsYWNlLiBTaW5jZSB3ZSBoaWRlIHRoZSBjb3p5LWJhclxcbm9uIHRoZSBlZGl0b3ItdmlldyB3ZSByZW1vdmUgdGhpcyBtYXJnaW5cXG4qL1xcbi5ub3RlLWFydGljbGUge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICBoZWlnaHQ6IGNhbGMoMTAwJSArIDNyZW0pO1xcbiAgd2lkdGg6IDEwMCU7XFxufVxcbkBtZWRpYSAobWF4LXdpZHRoOiA2My45MzhyZW0pIHtcXG4gIC5ub3RlLWFydGljbGU6bm90KC5ub3RlLWFydGljbGUtLWludGVudHMpIHtcXG4gICAgbWFyZ2luLXRvcDogLTNyZW07XFxuICB9XFxufVxcbi5iYW5uZXIgPiA6Zmlyc3QtY2hpbGQge1xcbiAgbWFyZ2luOiBjYWxjKC0xICogdmFyKC0tZG9jdW1lbnRUb3BQYWRkaW5nKSkgY2FsYygtMSAqIHZhcigtLWRvY3VtZW50UGFkZGluZykpIHZhcigtLWRvY3VtZW50VG9wUGFkZGluZykgY2FsYygtMSAqIHZhcigtLWRvY3VtZW50UGFkZGluZykpO1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgei1pbmRleDogNTtcXG4gIGJvcmRlci10b3A6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXJNYWluQ29sb3IpO1xcbn1cXG4udGl0bGUge1xcbiAgaGVpZ2h0OiBmaXQtY29udGVudCAhaW1wb3J0YW50O1xcbiAgbWFyZ2luLWJvdHRvbTogdmFyKC0tbm90ZS1ibG9jay1zcGFjaW5nKSAhaW1wb3J0YW50O1xcbn1cXG4udGl0bGUgPiBkaXYge1xcbiAgZm9udC1zaXplOiB2YXIoLS1ub3RlLXRpdGxlMC1mcyk7XFxuICBsaW5lLWhlaWdodDogdmFyKC0tbm90ZS10aXRsZTAtbGgpO1xcbiAgZm9udC13ZWlnaHQ6IDkwMDtcXG4gIGZvbnQtZmFtaWx5OiBMYXRvLUJsYWNrLCB2YXIoLS1wcmltYXJ5Rm9udCk7XFxufVxcbkBtZWRpYSAobWF4LXdpZHRoOiA0OHJlbSkge1xcbiAgLnRpdGxlID4gZGl2IHtcXG4gICAgbGluZS1oZWlnaHQ6IHZhcigtLW5vdGUtdGl0bGU2LWxoKTtcXG4gIH1cXG59XFxuLnRpdGxlSW5wdXQsXFxuLnRpdGxlSW5wdXQ6Zm9jdXMsXFxuLnRpdGxlSW5wdXQ6aG92ZXIsXFxuLnRpdGxlSW5wdXQ6OnBsYWNlaG9sZGVyIHtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIGZvbnQtc2l6ZTogdmFyKC0tbm90ZS10aXRsZTAtZnMpO1xcbiAgbGluZS1oZWlnaHQ6IHZhcigtLW5vdGUtdGl0bGUwLWxoKTtcXG4gIGZvbnQtd2VpZ2h0OiA5MDA7XFxuICBmb250LWZhbWlseTogTGF0by1CbGFjaywgdmFyKC0tcHJpbWFyeUZvbnQpO1xcbiAgb3ZlcmZsb3c6IHZpc2libGU7XFxuICBtaW4taGVpZ2h0OiBtaW4tY29udGVudDtcXG59XFxuQG1lZGlhIChtYXgtd2lkdGg6IDQ4cmVtKSB7XFxuICAudGl0bGVJbnB1dCxcXG4gIC50aXRsZUlucHV0OmZvY3VzLFxcbiAgLnRpdGxlSW5wdXQ6aG92ZXIsXFxuICAudGl0bGVJbnB1dDo6cGxhY2Vob2xkZXIge1xcbiAgICBsaW5lLWhlaWdodDogdmFyKC0tbm90ZS10aXRsZTYtbGgpO1xcbiAgfVxcbn1cXG4udGl0bGVJbnB1dDo6cGxhY2Vob2xkZXIge1xcbiAgb3BhY2l0eTogMSAhaW1wb3J0YW50O1xcbiAgY29sb3I6IHZhcigtLXNlY29uZGFyeVRleHRDb2xvcikgIWltcG9ydGFudDtcXG59XFxuLnRpdGxlSW5wdXQsXFxuLnRpdGxlSW5wdXQ6Zm9jdXMsXFxuLnRpdGxlSW5wdXQ6aG92ZXIge1xcbiAgb3BhY2l0eTogMSAhaW1wb3J0YW50O1xcbn1cXG5cIixcIkByZXF1aXJlICcuLi90b29scy9taXhpbnMnXFxuXFxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qXFxcXFxcbiAgQnJlYWtwb2ludHNcXG4gID09PT09XFxuXFxcXCotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xcblxcbi8vIHZhcmlhYmxlc1xcblxcbkJQLXRlZW55ICAgICAgID0gIDM3NVxcbkJQLXRpbnkgICAgICAgID0gIDQ4MFxcbkJQLXNtYWxsICAgICAgID0gIDc2OFxcbkJQLW1lZGl1bSAgICAgID0gMTAyM1xcbkJQLWxhcmdlICAgICAgID0gMTIwMFxcbkJQLWV4dHJhLWxhcmdlID0gMTQzOVxcblxcbi8vIFN0YW5kYXJkIGJyZWFrcG9pbnRzIGNvbGxlY3Rpb24gZm9yIHV0aWxpdGllc1xcbmJyZWFrcG9pbnRzID0ge1xcbiAgICAnbm9uZSc6ICcnLFxcbiAgICAndGlueSc6ICd0JyxcXG4gICAgJ3NtYWxsJzogJ3MnLFxcbiAgICAnbWVkaXVtJzogJ20nLFxcbn1cXG5cXG4vKlxcbiAgICBCcmVha3BvaW50c1xcblxcbiAgICBUaGlzIGlzIHRoZSBjb2xsZWN0aW9uIG9mIGF2YWlsYWJsZSBicmVha3BvaW50IHZhcmlhYmxlczo8YnI+PGJyPlxcbiAgICAtIGBCUC10ZWVueWAgICAgICAgICAtICAzNzVweFxcbiAgICAtIGBCUC10aW55YCAgICAgICAgICAtICA0ODBweFxcbiAgICAtIGBCUC1zbWFsbGAgICAgICAgICAtICA3NjhweFxcbiAgICAtIGBCUC1tZWRpdW1gICAgICAgICAtICAxMDIzcHhcXG4gICAgLSBgQlAtbGFyZ2VgICAgICAgICAgLSAgMTIwMHB4XFxuICAgIC0gYEJQLWV4dHJhLWxhcmdlYCAgIC0gIDE0MzlweFxcblxcbiAgICA8YnI+QWxzbyB3ZSBoYXZlIGEgc3RhbmRhcmQgYnJlYWtwb2ludHMgY29sbGVjdGlvbiBtZWFudCB0byBiZSB1c2VkIGFzIHN1ZmZpeGVzIGZvciBzb21lIHV0aWxpdHkgY2xhc3Nlczxicj5cXG5cXG4gICAgSWYgeW91IHdhbnQgYSB1dGlsaXR5IGNsYXNzIHRvIHRyaWdnZXIgb25seSBhdCBkZWZpbmVkIGJyZWFrcG9pbnRzIHlvdSBjYW4gdXNlIHRob3NlOjxicj48YnI+XFxuICAgIC0gYC10YCAgLSByZWZlcnMgdG8gYHRpbnlgIGJyZWFrcG9pbnQgKG1heC13aWR0aDogNDgwcHgpXFxuICAgIC0gYC1zYCAgLSByZWZlcnMgdG8gYHNtYWxsYCBicmVha3BvaW50IChtYXgtd2lkdGg6IDc2OHB4KVxcbiAgICAtIGAtbWAgIC0gcmVmZXJzIHRvIGBtZWRpdW1gIGJyZWFrcG9pbnQgKG1heC13aWR0aDogMTAyM3B4KVxcblxcbiAgICBTdHlsZWd1aWRlIFNldHRpbmdzLmJyZWFrcG9pbnRzXFxuKi9cXG5cXG4vKlxcbiAgICBNZWRpYSBRdWVyaWVzIG1peGluc1xcblxcbiAgICBZb3UgY2FuIHVzZSB0aGVzZSBtaXhpbnMgd2l0aCBubyBhcmd1bWVudHMgYW5kIHRoZXkgd2lsbCBvdXRwdXRcXG4gICAgdGhlIGRlc2lyZWQgYSBgbWF4LXdpZHRoYCBtZWRpYS1xdWVyeS4gVXNlIHRoZSBkaXJlY3Rpb24gYXJndW1lbnRcXG4gICAgdG8gc2V0IGl0IHRvIGBtaW5gLlxcblxcbiAgICBTdHlsZWd1aWRlIFNldHRpbmdzLmJyZWFrcG9pbnRzLm1peGluc1xcbiovXFxuXFxuLy8gbWl4aW5zXFxuLy8gQHN0eWxpbnQgb2ZmXFxuc2l6ZS1oZWxwZXIoZGlyZWN0aW9uLCBzaXplKVxcbiAgICBkaXJlY3Rpb24gPT0gJ21pbicgPyBzaXplICsgMSA6IHNpemVcXG5cXG4vKlxcbiAgICB0ZWVueS1zY3JlZW4oKVxcblxcbiAgICB0ZWVueS1zY3JlZW4oKSBSZWZlcnMgdG8gKG1heC13aWR0aDogMzc1cHgpXFxuICAgIHRlZW55LXNjcmVlbignbWluJykgUmVmZXJzIHRvIChtaW4td2lkdGg6IDM3NnB4KVxcblxcbiAgICBXZWlnaHQ6IC02XFxuXFxuICAgIFN0eWxlZ3VpZGUgU2V0dGluZ3MuYnJlYWtwb2ludHMubWl4aW5zLnRlZW55XFxuKi9cXG50ZWVueS1zY3JlZW4oZGlyZWN0aW9uPSdtYXgnKVxcbiAgICBAbWVkaWEgKHtkaXJlY3Rpb259LXdpZHRoOiByZW0oc2l6ZS1oZWxwZXIoZGlyZWN0aW9uLCBCUC10ZWVueSkpKVxcbiAgICAgICAge2Jsb2NrfVxcblxcbi8qXFxuICAgIHRpbnktc2NyZWVuKClcXG5cXG4gICAgdGlueS1zY3JlZW4oKSBSZWZlcnMgdG8gKG1heC13aWR0aDogNDgwcHgpXFxuICAgIHRpbnktc2NyZWVuKCdtaW4nKSBSZWZlcnMgdG8gKG1pbi13aWR0aDogNDgxcHgpXFxuXFxuICAgIFdlaWdodDogLTVcXG5cXG4gICAgU3R5bGVndWlkZSBTZXR0aW5ncy5icmVha3BvaW50cy5taXhpbnMudGlueVxcbiovXFxudGlueS1zY3JlZW4oZGlyZWN0aW9uPSdtYXgnKVxcbiAgICBAbWVkaWEgKHtkaXJlY3Rpb259LXdpZHRoOiByZW0oc2l6ZS1oZWxwZXIoZGlyZWN0aW9uLCBCUC10aW55KSkpXFxuICAgICAgICB7YmxvY2t9XFxuXFxuLypcXG4gICAgc21hbGwtc2NyZWVuKClcXG5cXG4gICAgc21hbGwtc2NyZWVuKCkgUmVmZXJzIHRvIChtYXgtd2lkdGg6IDc2OHB4KVxcbiAgICBzbWFsbC1zY3JlZW4oJ21pbicpIFJlZmVycyB0byAobWluLXdpZHRoOiA3NjlweClcXG5cXG4gICAgV2VpZ2h0OiAtNFxcblxcbiAgICBTdHlsZWd1aWRlIFNldHRpbmdzLmJyZWFrcG9pbnRzLm1peGlucy5zbWFsbFxcbiovXFxuc21hbGwtc2NyZWVuKGRpcmVjdGlvbj0nbWF4JylcXG4gICAgQG1lZGlhICh7ZGlyZWN0aW9ufS13aWR0aDogcmVtKHNpemUtaGVscGVyKGRpcmVjdGlvbiwgQlAtc21hbGwpKSlcXG4gICAgICAgIHtibG9ja31cXG5cXG4vKlxcbiAgICBtZWRpdW0tc2NyZWVuKClcXG5cXG4gICAgbWVkaXVtLXNjcmVlbigpIFJlZmVycyB0byAobWF4LXdpZHRoOiAxMDIzcHgpXFxuICAgIG1lZGl1bS1zY3JlZW4oJ21pbicpIFJlZmVycyB0byAobWluLXdpZHRoOiAxMDI0cHgpXFxuXFxuICAgIFdlaWdodDogLTNcXG5cXG4gICAgU3R5bGVndWlkZSBTZXR0aW5ncy5icmVha3BvaW50cy5taXhpbnMubWVkaXVtXFxuKi9cXG5tZWRpdW0tc2NyZWVuKGRpcmVjdGlvbj0nbWF4JylcXG4gICAgQG1lZGlhICh7ZGlyZWN0aW9ufS13aWR0aDogcmVtKHNpemUtaGVscGVyKGRpcmVjdGlvbiwgQlAtbWVkaXVtKSkpXFxuICAgICAgICB7YmxvY2t9XFxuXFxuLypcXG4gICAgbGFyZ2Utc2NyZWVuKClcXG5cXG4gICAgbGFyZ2Utc2NyZWVuKCkgUmVmZXJzIHRvIChtYXgtd2lkdGg6IDEyMDBweClcXG4gICAgbGFyZ2Utc2NyZWVuKCdtaW4nKSBSZWZlcnMgdG8gKG1pbi13aWR0aDogMTIwMXB4KVxcblxcbiAgICBXZWlnaHQ6IC0yXFxuXFxuICAgIFN0eWxlZ3VpZGUgU2V0dGluZ3MuYnJlYWtwb2ludHMubWl4aW5zLmxhcmdlXFxuKi9cXG5sYXJnZS1zY3JlZW4oZGlyZWN0aW9uPSdtYXgnKVxcbiAgICBAbWVkaWEgKHtkaXJlY3Rpb259LXdpZHRoOiByZW0oc2l6ZS1oZWxwZXIoZGlyZWN0aW9uLCBCUC1sYXJnZSkpKVxcbiAgICAgICAge2Jsb2NrfVxcblxcbi8qXFxuICAgIGV4dHJhLWxhcmdlLXNjcmVlbigpXFxuXFxuICAgIGV4dHJhLWxhcmdlLXNjcmVlbigpIFJlZmVycyB0byAobWF4LXdpZHRoOiAxNDM5cHgpXFxuICAgIGV4dHJhLWxhcmdlLXNjcmVlbignbWluJykgUmVmZXJzIHRvIChtaW4td2lkdGg6IDE0NDBweClcXG5cXG4gICAgV2VpZ2h0OiAtMVxcblxcbiAgICBTdHlsZWd1aWRlIFNldHRpbmdzLmJyZWFrcG9pbnRzLm1peGlucy5leHRyYS1sYXJnZVxcbiovXFxuZXh0cmEtbGFyZ2Utc2NyZWVuKGRpcmVjdGlvbj0nbWF4JylcXG4gICAgQG1lZGlhICh7ZGlyZWN0aW9ufS13aWR0aDogcmVtKHNpemUtaGVscGVyKGRpcmVjdGlvbiwgQlAtZXh0cmEtbGFyZ2UpKSlcXG4gICAgICAgIHtibG9ja31cXG5cXG4vLyBtaXhpbnMgbmFtZWRcXG5cXG4vKlxcbiAgICBzbWFsbC1kZXZpY2UoKVxcblxcbiAgICBSZWZlcnMgdG8gKG1heC13aWR0aDogNTQzcHgpLCAobWF4LWhlaWdodDogMzc1cHgpXFxuICAgIFRyaWdnZXJzIHdoZW4gdGhlIHZpZXdwb3J0IGhhcyBhIHdpZHRoIHNtYWxsZXIgdGhhbiA1NDNweCBPUiBhIGhlaWdodCBzbWFsbGVyIHRoYW4gMzc1cHhcXG5cXG4gICAgV2VpZ2h0OiAwXFxuXFxuICAgIFN0eWxlZ3VpZGUgU2V0dGluZ3MuYnJlYWtwb2ludHMubWl4aW5zLnNtYWxsLWRldmljZVxcbiovXFxuXFxuc21hbGwtZGV2aWNlKClcXG4gICAgQG1lZGlhIChtYXgtd2lkdGg6IHJlbShzaXplLWhlbHBlcignbWF4JywgQlAtdGlueSkpKSwgKG1heC1oZWlnaHQ6IHJlbShzaXplLWhlbHBlcignbWF4JywgQlAtdGVlbnkpKSlcXG4gICAgICAgIHtibG9ja31cXG5cXG4vKlxcbiAgICBtZWRpdW0tZGV2aWNlKClcXG5cXG4gICAgUmVmZXJzIHRvIChtaW4td2lkdGg6IDU0M3B4KSBhbmQgKG1pbi1oZWlnaHQ6IDM3NXB4KVxcbiAgICBUcmlnZ2VycyB3aGVuIHRoZSB2aWV3cG9ydCBoYXMgYSB3aWR0aCBiaWdnZXIgdGhhbiA1NDNweCBBTkQgYSBoZWlnaHQgYmlnZ2VyIHRoYW4gMzc1cHhcXG5cXG4gICAgV2VpZ2h0OiAwXFxuXFxuICAgIFN0eWxlZ3VpZGUgU2V0dGluZ3MuYnJlYWtwb2ludHMubWl4aW5zLm1lZGl1bS1kZXZpY2VcXG4qL1xcblxcbm1lZGl1bS1kZXZpY2UoKVxcbiAgICBAbWVkaWEgKG1pbi13aWR0aDogcmVtKHNpemUtaGVscGVyKCdtaW4nLCBCUC10aW55KSkpIGFuZCAobWluLWhlaWdodDogcmVtKHNpemUtaGVscGVyKCdtaW4nLCBCUC10ZWVueSkpKVxcbiAgICAgICAge2Jsb2NrfVxcblxcbi8qXFxuICAgIGRlc2t0b3AoKVxcblxcbiAgICBSZWZlcnMgdG8gKG1pbi13aWR0aDogMTAyNHB4KVxcblxcbiAgICBXZWlnaHQ6IDBcXG5cXG4gICAgU3R5bGVndWlkZSBTZXR0aW5ncy5icmVha3BvaW50cy5taXhpbnMuZGVza3RvcFxcbiovXFxuZGVza3RvcCgpXFxuICAgIEBtZWRpYSAobWluLXdpZHRoOiByZW0oc2l6ZS1oZWxwZXIoJ21pbicsIEJQLW1lZGl1bSkpKVxcbiAgICAgICAge2Jsb2NrfVxcblxcbi8qXFxuICAgIHRhYmxldCgpXFxuXFxuICAgIFJlZmVycyB0byAobWluLXdpZHRoOiA3NjlweCkgYW5kIChtYXgtd2lkdGg6IDEwMjNweClcXG5cXG4gICAgV2VpZ2h0OiAxXFxuXFxuICAgIFN0eWxlZ3VpZGUgU2V0dGluZ3MuYnJlYWtwb2ludHMubWl4aW5zLnRhYmxldFxcbiovXFxudGFibGV0KClcXG4gICAgQG1lZGlhIChtaW4td2lkdGg6IHJlbShzaXplLWhlbHBlcignbWluJywgQlAtc21hbGwpKSkgYW5kIChtYXgtd2lkdGg6IHJlbShzaXplLWhlbHBlcignbWF4JywgQlAtbWVkaXVtKSkpXFxuICAgICAgICB7YmxvY2t9XFxuXFxuLypcXG4gICAgbW9iaWxlKClcXG5cXG4gICAgUmVmZXJzIHRvIHNtYWxsLXNjcmVlbigpIHdoaWNoIGlzIChtYXgtd2lkdGg6IDc2OHB4KVxcblxcbiAgICBXZWlnaHQ6IDJcXG5cXG4gICAgU3R5bGVndWlkZSBTZXR0aW5ncy5icmVha3BvaW50cy5taXhpbnMubW9iaWxlXFxuKi9cXG5tb2JpbGUoKVxcbiAgICArc21hbGwtc2NyZWVuKClcXG4gICAgICAgIHtibG9ja31cXG5cXG4vKlxcbiAgICBndC1tb2JpbGUoKVxcblxcbiAgICBSZWZlcnMgdG8gKG1pbi13aWR0aDogNzY5cHgpXFxuXFxuICAgIFdlaWdodDogM1xcblxcbiAgICBTdHlsZWd1aWRlIFNldHRpbmdzLmJyZWFrcG9pbnRzLm1peGlucy5ndC1tb2JpbGVcXG4qL1xcbmd0LW1vYmlsZSgpXFxuICAgIEBtZWRpYSAobWluLXdpZHRoOiByZW0oc2l6ZS1oZWxwZXIoJ21pbicsIEJQLXNtYWxsKSkpXFxuICAgICAgICB7YmxvY2t9XFxuXFxuLypcXG4gICAgZ3QtdGFibGV0KClcXG5cXG4gICAgUmVmZXJzIHRvIChtaW4td2lkdGg6IDEwMjRweClcXG5cXG4gICAgV2VpZ2h0OiA0XFxuXFxuICAgIFN0eWxlZ3VpZGUgU2V0dGluZ3MuYnJlYWtwb2ludHMubWl4aW5zLmd0LXRhYmxldFxcbiovXFxuZ3QtdGFibGV0KClcXG4gICAgQG1lZGlhIChtaW4td2lkdGg6IHJlbShzaXplLWhlbHBlcignbWluJywgQlAtbWVkaXVtKSkpXFxuICAgICAgICB7YmxvY2t9XFxuXFxuLypcXG4gICAgbHQtZGVza3RvcCgpXFxuXFxuICAgIFJlZmVycyB0byBtZWRpdW0tc2NyZWVuKCkgd2hpY2ggaXMgKG1heC13aWR0aDogMTAyM3B4KVxcblxcbiAgICBXZWlnaHQ6IDVcXG5cXG4gICAgU3R5bGVndWlkZSBTZXR0aW5ncy5icmVha3BvaW50cy5taXhpbnMubHQtZGVza3RvcFxcbiovXFxubHQtZGVza3RvcCgpXFxuICAgICttZWRpdW0tc2NyZWVuKClcXG4gICAgICAgIHtibG9ja31cXG4vLyBAc3R5bGludCBvblxcblwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuXG4vLyBFeHBvcnRzXG5leHBvcnRzLmxvY2FscyA9IHtcblx0XCJub3RlLWFydGljbGVcIjogXCJub3RlLWFydGljbGUtLTJ5UWRDXCIsXG5cdFwibm90ZS1hcnRpY2xlLS1pbnRlbnRzXCI6IFwibm90ZS1hcnRpY2xlLS1pbnRlbnRzLS1naGdVMFwiLFxuXHRcImJhbm5lclwiOiBcImJhbm5lci0tMW5TRWRcIixcblx0XCJ0aXRsZVwiOiBcInRpdGxlLS0yRFE4SVwiLFxuXHRcInRpdGxlSW5wdXRcIjogXCJ0aXRsZUlucHV0LS0yRVJsaFwiXG59OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/stylus-loader/index.js?!./src/components/notes/editor-view.styl\n");

/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/stylus-loader/index.js?!./src/components/notes/offline-indicator.styl":
/***/ (function(module, exports, __webpack_require__) {

eval("exports = module.exports = __webpack_require__(\"./node_modules/css-loader/dist/runtime/api.js\")(true);\n// Module\nexports.push([module.i, \".banner--MWCHK .grid--1HNmF {\\n  font-size: 0.875rem;\\n  line-height: 1.3;\\n  padding: 0.25rem 1rem 0.25rem 1rem;\\n  margin: 0;\\n  width: 100%;\\n}\\n.chip--3hU4- {\\n  opacity: 60%;\\n}\\n.banner--MWCHK {\\n  background-color: var(--paperBackgroundColor);\\n  box-shadow: var(--shadow1);\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"src/components/notes/offline-indicator.styl\",\"offline-indicator.styl\"],\"names\":[],\"mappings\":\"AAGI;EACI,mBAAU;EACV,gBAAY;EACZ,kCAAQ;EACR,SAAO;EACP,WAAM;ACFd;ADIA;EACI,YAAQ;ACFZ;ADIA;EACI,6CAAiB;EACjB,0BAAY;ACFhB\",\"file\":\"offline-indicator.styl\",\"sourcesContent\":[\"@require 'settings/spaces'\\n\\n.grid\\n    .banner &\\n        font-size 0.875rem\\n        line-height 1.3\\n        padding 0.25rem 1rem 0.25rem 1rem\\n        margin 0\\n        width 100%\\n\\n.chip\\n    opacity 60%\\n\\n.banner\\n    background-color var(--paperBackgroundColor)\\n    box-shadow: var(--shadow1);\\n\",\".banner .grid {\\n  font-size: 0.875rem;\\n  line-height: 1.3;\\n  padding: 0.25rem 1rem 0.25rem 1rem;\\n  margin: 0;\\n  width: 100%;\\n}\\n.chip {\\n  opacity: 60%;\\n}\\n.banner {\\n  background-color: var(--paperBackgroundColor);\\n  box-shadow: var(--shadow1);\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// Exports\nexports.locals = {\n\t\"banner\": \"banner--MWCHK\",\n\t\"grid\": \"grid--1HNmF\",\n\t\"chip\": \"chip--3hU4-\"\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8hLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvc3JjL2luZGV4LmpzPyEuL25vZGVfbW9kdWxlcy9zdHlsdXMtbG9hZGVyL2luZGV4LmpzPyEuL3NyYy9jb21wb25lbnRzL25vdGVzL29mZmxpbmUtaW5kaWNhdG9yLnN0eWwuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9ub3Rlcy9vZmZsaW5lLWluZGljYXRvci5zdHlsPzMzY2YiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIikodHJ1ZSk7XG4vLyBNb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5iYW5uZXItLU1XQ0hLIC5ncmlkLS0xSE5tRiB7XFxuICBmb250LXNpemU6IDAuODc1cmVtO1xcbiAgbGluZS1oZWlnaHQ6IDEuMztcXG4gIHBhZGRpbmc6IDAuMjVyZW0gMXJlbSAwLjI1cmVtIDFyZW07XFxuICBtYXJnaW46IDA7XFxuICB3aWR0aDogMTAwJTtcXG59XFxuLmNoaXAtLTNoVTQtIHtcXG4gIG9wYWNpdHk6IDYwJTtcXG59XFxuLmJhbm5lci0tTVdDSEsge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tcGFwZXJCYWNrZ3JvdW5kQ29sb3IpO1xcbiAgYm94LXNoYWRvdzogdmFyKC0tc2hhZG93MSk7XFxufVxcblwiLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcInNyYy9jb21wb25lbnRzL25vdGVzL29mZmxpbmUtaW5kaWNhdG9yLnN0eWxcIixcIm9mZmxpbmUtaW5kaWNhdG9yLnN0eWxcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBR0k7RUFDSSxtQkFBVTtFQUNWLGdCQUFZO0VBQ1osa0NBQVE7RUFDUixTQUFPO0VBQ1AsV0FBTTtBQ0ZkO0FESUE7RUFDSSxZQUFRO0FDRlo7QURJQTtFQUNJLDZDQUFpQjtFQUNqQiwwQkFBWTtBQ0ZoQlwiLFwiZmlsZVwiOlwib2ZmbGluZS1pbmRpY2F0b3Iuc3R5bFwiLFwic291cmNlc0NvbnRlbnRcIjpbXCJAcmVxdWlyZSAnc2V0dGluZ3Mvc3BhY2VzJ1xcblxcbi5ncmlkXFxuICAgIC5iYW5uZXIgJlxcbiAgICAgICAgZm9udC1zaXplIDAuODc1cmVtXFxuICAgICAgICBsaW5lLWhlaWdodCAxLjNcXG4gICAgICAgIHBhZGRpbmcgMC4yNXJlbSAxcmVtIDAuMjVyZW0gMXJlbVxcbiAgICAgICAgbWFyZ2luIDBcXG4gICAgICAgIHdpZHRoIDEwMCVcXG5cXG4uY2hpcFxcbiAgICBvcGFjaXR5IDYwJVxcblxcbi5iYW5uZXJcXG4gICAgYmFja2dyb3VuZC1jb2xvciB2YXIoLS1wYXBlckJhY2tncm91bmRDb2xvcilcXG4gICAgYm94LXNoYWRvdzogdmFyKC0tc2hhZG93MSk7XFxuXCIsXCIuYmFubmVyIC5ncmlkIHtcXG4gIGZvbnQtc2l6ZTogMC44NzVyZW07XFxuICBsaW5lLWhlaWdodDogMS4zO1xcbiAgcGFkZGluZzogMC4yNXJlbSAxcmVtIDAuMjVyZW0gMXJlbTtcXG4gIG1hcmdpbjogMDtcXG4gIHdpZHRoOiAxMDAlO1xcbn1cXG4uY2hpcCB7XFxuICBvcGFjaXR5OiA2MCU7XFxufVxcbi5iYW5uZXIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tcGFwZXJCYWNrZ3JvdW5kQ29sb3IpO1xcbiAgYm94LXNoYWRvdzogdmFyKC0tc2hhZG93MSk7XFxufVxcblwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuXG4vLyBFeHBvcnRzXG5leHBvcnRzLmxvY2FscyA9IHtcblx0XCJiYW5uZXJcIjogXCJiYW5uZXItLU1XQ0hLXCIsXG5cdFwiZ3JpZFwiOiBcImdyaWQtLTFITm1GXCIsXG5cdFwiY2hpcFwiOiBcImNoaXAtLTNoVTQtXCJcbn07Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/stylus-loader/index.js?!./src/components/notes/offline-indicator.styl\n");

/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/stylus-loader/index.js?!./src/components/notes/saving-indicator.styl":
/***/ (function(module, exports, __webpack_require__) {

eval("exports = module.exports = __webpack_require__(\"./node_modules/css-loader/dist/runtime/api.js\")(true);\n// Module\nexports.push([module.i, \".saving-indicator--rzoXB {\\n  position: absolute;\\n  bottom: 1rem;\\n  right: 1rem;\\n  padding: 0.25rem 0.75rem;\\n  color: var(--contrastBackgroundColor);\\n  background-color: var(--paperBackgroundColor);\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"src/components/notes/saving-indicator.styl\",\"saving-indicator.styl\"],\"names\":[],\"mappings\":\"AAEA;EACI,kBAAS;EACT,YAAO;EACP,WAAM;EACN,wBAAQ;EACR,qCAAM;EACN,6CAAkB;ACDtB\",\"file\":\"saving-indicator.styl\",\"sourcesContent\":[\"@require 'settings/breakpoints.styl'\\n\\n.saving-indicator\\n    position absolute\\n    bottom 1rem\\n    right 1rem\\n    padding 0.25rem 0.75rem\\n    color var(--contrastBackgroundColor)\\n    background-color: var(--paperBackgroundColor)\\n\",\".saving-indicator {\\n  position: absolute;\\n  bottom: 1rem;\\n  right: 1rem;\\n  padding: 0.25rem 0.75rem;\\n  color: var(--contrastBackgroundColor);\\n  background-color: var(--paperBackgroundColor);\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// Exports\nexports.locals = {\n\t\"saving-indicator\": \"saving-indicator--rzoXB\"\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8hLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvc3JjL2luZGV4LmpzPyEuL25vZGVfbW9kdWxlcy9zdHlsdXMtbG9hZGVyL2luZGV4LmpzPyEuL3NyYy9jb21wb25lbnRzL25vdGVzL3NhdmluZy1pbmRpY2F0b3Iuc3R5bC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL25vdGVzL3NhdmluZy1pbmRpY2F0b3Iuc3R5bD82ZmJiIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCIpKHRydWUpO1xuLy8gTW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuc2F2aW5nLWluZGljYXRvci0tcnpvWEIge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgYm90dG9tOiAxcmVtO1xcbiAgcmlnaHQ6IDFyZW07XFxuICBwYWRkaW5nOiAwLjI1cmVtIDAuNzVyZW07XFxuICBjb2xvcjogdmFyKC0tY29udHJhc3RCYWNrZ3JvdW5kQ29sb3IpO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tcGFwZXJCYWNrZ3JvdW5kQ29sb3IpO1xcbn1cXG5cIiwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJzcmMvY29tcG9uZW50cy9ub3Rlcy9zYXZpbmctaW5kaWNhdG9yLnN0eWxcIixcInNhdmluZy1pbmRpY2F0b3Iuc3R5bFwiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFFQTtFQUNJLGtCQUFTO0VBQ1QsWUFBTztFQUNQLFdBQU07RUFDTix3QkFBUTtFQUNSLHFDQUFNO0VBQ04sNkNBQWtCO0FDRHRCXCIsXCJmaWxlXCI6XCJzYXZpbmctaW5kaWNhdG9yLnN0eWxcIixcInNvdXJjZXNDb250ZW50XCI6W1wiQHJlcXVpcmUgJ3NldHRpbmdzL2JyZWFrcG9pbnRzLnN0eWwnXFxuXFxuLnNhdmluZy1pbmRpY2F0b3JcXG4gICAgcG9zaXRpb24gYWJzb2x1dGVcXG4gICAgYm90dG9tIDFyZW1cXG4gICAgcmlnaHQgMXJlbVxcbiAgICBwYWRkaW5nIDAuMjVyZW0gMC43NXJlbVxcbiAgICBjb2xvciB2YXIoLS1jb250cmFzdEJhY2tncm91bmRDb2xvcilcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tcGFwZXJCYWNrZ3JvdW5kQ29sb3IpXFxuXCIsXCIuc2F2aW5nLWluZGljYXRvciB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBib3R0b206IDFyZW07XFxuICByaWdodDogMXJlbTtcXG4gIHBhZGRpbmc6IDAuMjVyZW0gMC43NXJlbTtcXG4gIGNvbG9yOiB2YXIoLS1jb250cmFzdEJhY2tncm91bmRDb2xvcik7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1wYXBlckJhY2tncm91bmRDb2xvcik7XFxufVxcblwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuXG4vLyBFeHBvcnRzXG5leHBvcnRzLmxvY2FscyA9IHtcblx0XCJzYXZpbmctaW5kaWNhdG9yXCI6IFwic2F2aW5nLWluZGljYXRvci0tcnpvWEJcIlxufTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/stylus-loader/index.js?!./src/components/notes/saving-indicator.styl\n");

/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/stylus-loader/index.js?!./src/components/notes/sharing.styl":
/***/ (function(module, exports, __webpack_require__) {

eval("exports = module.exports = __webpack_require__(\"./node_modules/css-loader/dist/runtime/api.js\")(true);\n// Module\nexports.push([module.i, \".sharing-button--nzFli > span > svg + span {\\n  display: var(--notes-share-button-label, unset);\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"src/components/notes/sharing.styl\",\"sharing.styl\"],\"names\":[],\"mappings\":\"AACI;EACI,+CAAQ;ACAhB\",\"file\":\"sharing.styl\",\"sourcesContent\":[\".sharing-button\\n    & > span > svg + span\\n        display var(--notes-share-button-label, unset)\\n\",\".sharing-button > span > svg + span {\\n  display: var(--notes-share-button-label, unset);\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// Exports\nexports.locals = {\n\t\"sharing-button\": \"sharing-button--nzFli\"\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8hLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvc3JjL2luZGV4LmpzPyEuL25vZGVfbW9kdWxlcy9zdHlsdXMtbG9hZGVyL2luZGV4LmpzPyEuL3NyYy9jb21wb25lbnRzL25vdGVzL3NoYXJpbmcuc3R5bC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL25vdGVzL3NoYXJpbmcuc3R5bD8wZWQyIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCIpKHRydWUpO1xuLy8gTW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuc2hhcmluZy1idXR0b24tLW56RmxpID4gc3BhbiA+IHN2ZyArIHNwYW4ge1xcbiAgZGlzcGxheTogdmFyKC0tbm90ZXMtc2hhcmUtYnV0dG9uLWxhYmVsLCB1bnNldCk7XFxufVxcblwiLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcInNyYy9jb21wb25lbnRzL25vdGVzL3NoYXJpbmcuc3R5bFwiLFwic2hhcmluZy5zdHlsXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUNJO0VBQ0ksK0NBQVE7QUNBaEJcIixcImZpbGVcIjpcInNoYXJpbmcuc3R5bFwiLFwic291cmNlc0NvbnRlbnRcIjpbXCIuc2hhcmluZy1idXR0b25cXG4gICAgJiA+IHNwYW4gPiBzdmcgKyBzcGFuXFxuICAgICAgICBkaXNwbGF5IHZhcigtLW5vdGVzLXNoYXJlLWJ1dHRvbi1sYWJlbCwgdW5zZXQpXFxuXCIsXCIuc2hhcmluZy1idXR0b24gPiBzcGFuID4gc3ZnICsgc3BhbiB7XFxuICBkaXNwbGF5OiB2YXIoLS1ub3Rlcy1zaGFyZS1idXR0b24tbGFiZWwsIHVuc2V0KTtcXG59XFxuXCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG5cbi8vIEV4cG9ydHNcbmV4cG9ydHMubG9jYWxzID0ge1xuXHRcInNoYXJpbmctYnV0dG9uXCI6IFwic2hhcmluZy1idXR0b24tLW56RmxpXCJcbn07Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/stylus-loader/index.js?!./src/components/notes/sharing.styl\n");

/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./src/styles/index.css":
/***/ (function(module, exports, __webpack_require__) {

eval("exports = module.exports = __webpack_require__(\"./node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.i, \"/* Temporary fix waiting for https://github.com/cozy/cozy-bar/pull/675 */\\n.coz-nav-apps-btns-main {\\n    font-size: 1rem;\\n}\\n\\n:root {\\n    --sidebarHeight: 0.01px; /* to avoid replacing by `0` when building the file */\\n}\\n\\nhtml {\\n    --documentMaxWidth: 48rem;\\n    --documentDividerColor: var(--dividerColor);\\n    --note-base-size: 1.125rem;\\n    --note-base-lh: 1.5;\\n    --note-block-spacing: calc(var(--note-base-size) * 1.333);\\n    --note-maintitle-padding: 2rem;\\n    --documentTopPadding: calc(2 * var(--note-base-size));\\n    --documentPadding: calc(2 * var(--note-base-size));\\n    --note-title0-fs: calc(2 * var(--note-base-size));\\n    --note-title1-fs: calc(1.666 * var(--note-base-size));\\n    --note-title2-fs: calc(1.333 * var(--note-base-size));\\n    --note-title3-fs: var(--note-base-size);\\n    --note-title4-fs: var(--note-base-size);\\n    --note-title5-fs: calc((var(--note-base-size) * 0.89));\\n    --note-title6-fs: calc((var(--note-base-size) * 0.78));\\n    --note-title0-lh: 1.2;\\n    --note-title1-lh: 1.3;\\n    --note-title2-lh: 1.4;\\n    --note-title3-lh: var(--note-base-lh);\\n    --note-title4-lh: var(--note-base-lh);\\n    --note-title5-lh: 1.55;\\n    --note-title6-lh: 1.6;\\n    --note-border-radius: 8px;\\n    --note-header-height: 64px;\\n    --note-header-height-half: 1.5rem;\\n    color: var(--primaryTextColor);\\n}\\n\\n@media (max-width: 800px) {\\n    html {\\n        --documentPadding: var(--note-base-size);\\n    }\\n}\\n\\n@media (max-width: 420px) {\\n    html {\\n        --note-base-size: 1rem;\\n        --note-title0-fs: calc(1.75 * var(--note-base-size));\\n        --note-title1-fs: calc(1.5 * var(--note-base-size));\\n        --note-title2-fs: calc(1.25 * var(--note-base-size));\\n        --note-block-spacing: var(--note-base-size);\\n        --note-maintitle-padding: 0;\\n    }\\n}\\n\\n/* For layout change in cozy-ui */\\n.note-header-menu--editing {\\n    position: -webkit-sticky;\\n    position: sticky;\\n    top: 0;\\n    z-index: 2;\\n    background-color: var(--paperBackgroundColor);\\n}\\n\\nhtml .akEditor>div:first-child {\\n    position: -webkit-sticky;\\n    position: sticky;\\n    top: 0;\\n    z-index: 3;\\n}\\n\\n.note-editor-container {\\n    overflow: hidden;\\n    margin-top: 3rem; /* To go below the toolbar which is fixed */\\n}\\n\\n/* prose mirror toolbar in the upper bar */\\nhtml .akEditor>div:first-child {\\n    width: 100%;\\n    flex-wrap: wrap;\\n    height: auto;\\n    position: fixed;\\n    top: auto;\\n    bottom: calc(env(safe-area-inset-bottom, 1rem) + 1rem);\\n    left: 50%;\\n    transform: translateX(-50%);\\n    background: none;\\n    box-shadow: none;\\n}\\n\\n/* toolbar inner wrapper */\\nhtml .akEditor>div:first-child>div>div:last-child {\\n    box-shadow: var(--shadow1);\\n    border-radius: 8px;\\n    padding: 0.5rem;\\n    background: var(--paperBackgroundColor);\\n}\\n\\n/* This is the main toolbar wrapper */\\nhtml .akEditor>div:first-child>div:first-child {\\n    margin: 0 15%;\\n    overflow: visible;\\n    /* important for dropdowns */\\n}\\n\\nhtml .akEditor>div:first-child>div:first-child+div {\\n    display: block;\\n    width: 100%;\\n}\\n\\nhtml .akEditor>div:first-child>div:first-child+div hr {\\n    margin-bottom: 0;\\n}\\n\\n/* icon for text color in the toolbar was not correctly aligned */\\n.sc-gxMtzJ {\\n    position: relative;\\n    top: 0.2rem;\\n}\\n\\n/* This is the main toolbar inner wrapper */\\n/* auto size for the toolbar ... sizes for 5+5rem as margin */\\n[data-testid=\\\"ak-editor-main-toolbar\\\"]>div>div:nth-child(2) {\\n    display: flex;\\n    align-items: center;\\n    max-width: 768px;\\n    margin: auto;\\n}\\n\\n[data-testid=\\\"ak-editor-main-toolbar\\\"] [role=\\\"presentation\\\"] > div > button {\\n    color: var(--primaryTextColor) !important;\\n    background-color: var(--paperBackgroundColor);\\n}\\n\\n[data-testid=\\\"ak-editor-main-toolbar\\\"] [role=\\\"presentation\\\"] > div > button:hover {\\n    /* color: var(--primaryTextColor) !important; */\\n    background-color: var(--actionColorHover);\\n}\\n\\n[data-testid=\\\"ak-editor-main-toolbar\\\"] + div {\\n    height: calc(100%);\\n}\\n\\n/* main toolbar menu */\\n[data-role=\\\"droplistContent\\\"] {\\n    background-color: var(--paperBackgroundColor) !important;\\n    box-shadow: var(--shadow1) !important;\\n}\\n\\n[data-role=\\\"droplistContent\\\"] [role=\\\"group\\\"] > div > span,\\n[data-role=\\\"droplistContent\\\"] [role=\\\"group\\\"] [role=\\\"presentation\\\"] > div > span {\\n    color: var(--primaryTextColor) !important;\\n    background-color: var(--paperBackgroundColor) !important;\\n}\\n\\n[data-role=\\\"droplistContent\\\"] [role=\\\"group\\\"] > div > span:hover,\\n[data-role=\\\"droplistContent\\\"] [role=\\\"group\\\"] [role=\\\"presentation\\\"] > div > span:hover {\\n    background-color: var(--actionColorHover) !important;\\n}\\n\\n[data-role=\\\"droplistContent\\\"] [role=\\\"group\\\"] > div > span p,\\n[data-role=\\\"droplistContent\\\"] [role=\\\"group\\\"] [role=\\\"presentation\\\"] > div > span p {\\n    color: var(--primaryTextColor) !important;\\n}\\n\\n/* shortcut tag in main toolbar menu */\\n[data-role=\\\"droplistContent\\\"] [role=\\\"group\\\"] > div > span > span:last-child > div,\\n[data-role=\\\"droplistContent\\\"] [role=\\\"group\\\"] [role=\\\"presentation\\\"] > div > span > span:last-child > div {\\n    color: var(--secondaryTextColor);\\n    background-color: var(--defaultBackgroundColor);\\n}\\n\\n/* date element */\\n.dateView-content-wrap .date-lozenger-container > span {\\n    color: var(--primaryTextColor);\\n    background-color: var(--defaultBackgroundColor);\\n}\\n\\n/* calendar popup */\\n[role=\\\"presentation\\\"] > [aria-label=\\\"calendar\\\"] {\\n    background-color: var(--paperBackgroundColor);\\n}\\n\\n/* calendar popup header */\\n[role=\\\"presentation\\\"] > [aria-label=\\\"calendar\\\"] > div {\\n    color: var(--secondaryTextColor);\\n}\\n\\n/* calendar popup content */\\n[role=\\\"presentation\\\"] > [aria-label=\\\"calendar\\\"] > table > th {\\n    color: var(--secondaryTextColor);\\n}\\n\\n[role=\\\"presentation\\\"] > [aria-label=\\\"calendar\\\"] > table > tbody div {\\n    color: var(--primaryTextColor);\\n}\\n\\n[role=\\\"presentation\\\"] > [aria-label=\\\"calendar\\\"] > table > tbody div[data-focused=\\\"true\\\"] {\\n    border-color: var(--primaryColor);\\n}\\n\\n[role=\\\"presentation\\\"] > [aria-label=\\\"calendar\\\"] > table > tbody div[data-today=\\\"true\\\"]:after {\\n    background-color: var(--primaryColor);\\n}\\n\\n[role=\\\"presentation\\\"] > [aria-label=\\\"calendar\\\"] > table > tbody div:hover {\\n    background-color: var(--actionColorHover);\\n}\\n\\n[role=\\\"presentation\\\"] > [aria-label=\\\"calendar\\\"] > table > tbody div[data-sibling=\\\"true\\\"] {\\n    color: var(--secondaryTextColor);\\n}\\n\\n\\n/* Hacky CSS to hide anything that isn't the toolbar in the atlaskit toolbar wrapper (avatar component for instance) */\\n[data-testid=\\\"ak-editor-main-toolbar\\\"]> :not(:first-child) {\\n    display: none !important;\\n}\\n\\n@media (max-width: 1023px) {\\n    html {\\n        --useless: auto;\\n        /* FIXME : without this block, the next rule is not taken into account */\\n    }\\n}\\n\\n@media (max-width: 1023px) {\\n    html {\\n        --notes-share-button-label: none;\\n        /* do not display the label in sharing button */\\n    }\\n}\\n\\n@supports (-webkit-touch-callout: none) {\\n    body {\\n        -webkit-text-size-adjust: 100%\\n    }\\n}\\n\\n.note-header-menu--editing {\\n    z-index: 4;\\n}\\n\\n.note-header-menu--editing .page-header-menu--left,\\n.note-header-menu--editing .page-header-menu--right {\\n    top: var(--note-header-height-half);\\n    position: absolute;\\n    display: flex;\\n    align-items: center;\\n    transform: translateY(-50%);\\n}\\n\\n.note-header-menu--editing .page-header-menu--left {\\n    left: 1rem;\\n}\\n\\n.note-header-menu--editing .page-header-menu--right {\\n    right: 1rem;\\n}\\n\\n/* Trying to avoid toolbars overlaps on small viewports */\\n/* Breakpoint was taken from Bootstrap's \\\"X-small\\\" breakpoint */\\n@media (max-width: 576px) {\\n    .note-header-menu--editing .page-header-menu--left {\\n        left: 0.25rem;\\n    }\\n\\n    .note-header-menu--editing .page-header-menu--right {\\n        right: 0.25rem;\\n    }\\n}\\n\\nhtml .note-editor-container {\\n    position: relative;\\n    display: flex;\\n    flex-direction: column;\\n    flex-grow: 1;\\n}\\n\\nhtml .notes-list-container .page-header-menu {\\n    margin-left: 2rem;\\n    margin-right: 2rem;\\n}\\n\\nhtml .ProseMirror {\\n    font-size: 1rem !important\\n}\\n\\n/* Titres */\\nhtml body .note-editor-container .ak-editor-content-area p,\\nhtml body .note-editor-container .akEditor li {\\n    font-size: var(--note-base-size) !important;\\n    line-height: var(--note-base-lh) !important;\\n    color: var(--primaryTextColor);\\n}\\n\\nhtml body .note-editor-container .akEditor h1 {\\n    border-top: 1px solid var(--borderMainColor);\\n    padding-top: var(--note-block-spacing);\\n    font-size: var(--note-title1-fs) !important;\\n    line-height: var(--note-title1-lh) !important;\\n    color: var(--primaryTextColor);\\n}\\n\\nhtml body .note-editor-container .akEditor h2 {\\n    font-size: var(--note-title2-fs) !important;\\n    line-height: var(--note-title2-lh) !important;\\n    color: var(--primaryTextColor);\\n}\\n\\nhtml body .note-editor-container .akEditor h3 {\\n    font-size: var(--note-title3-fs) !important;\\n    line-height: var(--note-title3-lh) !important;\\n    color: var(--primaryTextColor);\\n}\\n\\nhtml body .note-editor-container .akEditor h4 {\\n    font-size: var(--note-title4-fs) !important;\\n    line-height: var(--note-title4-lh) !important;\\n    color: var(--primaryTextColor);\\n}\\n\\nhtml body .note-editor-container .akEditor h5 {\\n    font-size: var(--note-title5-fs) !important;\\n    line-height: var(--note-title5-lh) !important;\\n    color: var(--primaryTextColor);\\n}\\n\\nhtml body .note-editor-container .akEditor h6 {\\n    font-size: var(--note-title6-fs) !important;\\n    line-height: var(--note-title6-lh) !important;\\n    color: var(--primaryTextColor);\\n}\\n\\n/* Titres dans la dropdown de la barre d'outils */\\nhtml body .note-editor-container .akEditor>div:first-child h4,\\nhtml body .note-editor-container .akEditor>div:first-child h5,\\nhtml body .note-editor-container .akEditor>div:first-child h6 {\\n    margin-bottom: 0;\\n}\\n\\n/* spacing between blocks */\\nhtml body .note-editor-container .ak-editor-content-area p,\\nhtml body .note-editor-container .akEditor ul,\\nhtml body .note-editor-container .akEditor ol,\\nhtml body .note-editor-container .akEditor blockquote,\\nhtml body .note-editor-container .akEditor hr,\\nhtml body .note-editor-container .akEditor .tableView-content-wrap,\\nhtml body .note-editor-container .akEditor .ak-editor-panel,\\nhtml body .note-editor-container .akEditor h1,\\nhtml body .note-editor-container .akEditor h2,\\nhtml body .note-editor-container .akEditor h3,\\nhtml body .note-editor-container .akEditor h4,\\nhtml body .note-editor-container .akEditor h5,\\nhtml body .note-editor-container .akEditor h6 {\\n    margin-top: 0;\\n    margin-bottom: var(--note-block-spacing);\\n}\\n\\nhtml body .note-editor-container .akEditor .ak-editor-panel__content> :last-child,\\nhtml body .note-editor-container .akEditor li>* {\\n    margin-bottom: 0;\\n}\\n\\n/* blockquote */\\nhtml body .note-editor-container .akEditor blockquote {\\n    margin-left: 0;\\n    padding-left: 28px;\\n    border-left: 4px solid var(--borderMainColor);\\n    font-style: italic;\\n}\\n\\nhtml body .note-editor-container .akEditor blockquote i,\\nhtml body .note-editor-container .akEditor blockquote em {\\n    font-style: normal;\\n}\\n\\nhtml body .note-editor-container .akEditor blockquote::before {\\n    display: none;\\n}\\n\\n/* hr */\\nhtml body .note-editor-container .akEditor hr {\\n    height: 1px;\\n    color: var(--dividerColor);\\n    background-color: var(--dividerColor);\\n}\\n\\n/* tables */\\nhtml body .note-editor-container .akEditor .tableView-content-wrap {\\n    margin-top: -1.8rem;\\n}\\n\\nhtml body .note-editor-container .akEditor .pm-table-wrapper>table {\\n    border-collapse: separate;\\n    border-spacing: 0;\\n    border-width: 0;\\n    background-color: var(--paperBackgroundColor);\\n    color: var(--primaryTextColor);\\n}\\n\\nhtml body .note-editor-container .akEditor .pm-table-wrapper>table td,\\nhtml body .note-editor-container .akEditor .pm-table-wrapper>table th {\\n    border: 1px solid var(--borderMainColor);\\n    background-color: var(--paperBackgroundColor) !important;\\n    color: var(--primaryTextColor) !important;\\n    border-bottom-width: 0;\\n    border-right-width: 0;\\n}\\n\\nhtml body .note-editor-container .akEditor .pm-table-numbered-column div {\\n    background-color: var(--defaultBackgroundColor);\\n    border: 1px solid var(--borderMainColor);\\n}\\n\\nhtml body .note-editor-container .akEditor .pm-table-numbered-column__button:last-child {\\n    border: 1px solid var(--borderMainColor);\\n}\\n\\nhtml body .note-editor-container .akEditor .pm-table-wrapper>table tr:last-child td,\\nhtml body .note-editor-container .akEditor .pm-table-wrapper>table tr:last-child th {\\n    border-bottom-width: 1px;\\n}\\n\\nhtml body .note-editor-container .akEditor .pm-table-wrapper>table td:last-child,\\nhtml body .note-editor-container .akEditor .pm-table-wrapper>table th:last-child {\\n    border-right-width: 1px;\\n}\\n\\nhtml body .note-editor-container .akEditor tbody>tr:first-child>th:first-child,\\nhtml body .note-editor-container .akEditor tbody>tr:first-child>td:first-child {\\n    border-top-left-radius: var(--note-border-radius);\\n}\\n\\nhtml body .note-editor-container .akEditor tbody>tr:first-child>th:last-child,\\nhtml body .note-editor-container .akEditor tbody>tr:first-child>td:last-child {\\n    border-top-right-radius: var(--note-border-radius);\\n}\\n\\nhtml body .note-editor-container .akEditor tbody>tr:last-child>th:first-child,\\nhtml body .note-editor-container .akEditor tbody>tr:last-child>td:first-child {\\n    border-bottom-left-radius: var(--note-border-radius);\\n}\\n\\nhtml body .note-editor-container .akEditor tbody>tr:last-child>th:last-child,\\nhtml body .note-editor-container .akEditor tbody>tr:last-child>td:last-child {\\n    border-bottom-right-radius: var(--note-border-radius);\\n}\\n\\n/* panels */\\nhtml body .note-editor-container .akEditor .ak-editor-panel {\\n    border-radius: var(--note-border-radius);\\n}\\n\\nhtml body .note-editor-container .akEditor .ak-editor-panel[data-panel-type=note] {\\n    background-color: var(--paperBackgroundColor);\\n}\\n\\nhtml body .note-editor-container .akEditor .ak-editor-panel[data-panel-type=note] .ak-editor-panel__icon {\\n    color: #96999D;\\n}\\n\\nhtml body .note-editor-container .akEditor .ak-editor-panel[data-panel-type=info] {\\n    background-color: var(--paperBackgroundColor);\\n}\\n\\nhtml body .note-editor-container .akEditor .ak-editor-panel[data-panel-type=info] .ak-editor-panel__icon {\\n    color: var(--primaryColor);\\n}\\n\\nhtml body .note-editor-container .akEditor .ak-editor-panel[data-panel-type=success] {\\n    background-color: var(--paperBackgroundColor);\\n}\\n\\nhtml body .note-editor-container .akEditor .ak-editor-panel[data-panel-type=success] .ak-editor-panel__icon {\\n    color: var(--successColor);\\n}\\n\\nhtml body .note-editor-container .akEditor .ak-editor-panel[data-panel-type=warning] {\\n    background-color: var(--paperBackgroundColor);\\n}\\n\\nhtml body .note-editor-container .akEditor .ak-editor-panel[data-panel-type=warning] .ak-editor-panel__icon {\\n    color: var(--warningColor);\\n}\\n\\nhtml body .note-editor-container .akEditor .ak-editor-panel[data-panel-type=error] {\\n    background-color: var(--paperBackgroundColor);\\n}\\n\\nhtml body .note-editor-container .akEditor .ak-editor-panel[data-panel-type=error] .ak-editor-panel__icon {\\n    color: var(--errorColor);\\n}\\n\\nhtml .akEditor {\\n    background-color: var(--documentMarginColor);\\n    min-width: calc(320px - 2rem);\\n}\\n\\nhtml .fabric-editor-popup-scroll-parent>div>div {\\n    margin: 0 auto;\\n    padding: 0;\\n    max-width: calc(var(--documentMaxWidth) + 2 * var(--documentPadding));\\n}\\n\\nhtml .ak-editor-content-area {\\n    padding: var(--documentTopPadding) var(--documentPadding) calc(3 * var(--note-base-size)) var(--documentPadding) !important;\\n    background-color: var(--paperBackgroundColor);\\n}\\n\\n#editor-scroll-gutter {\\n    display: none;\\n}\\n\\nhtml .fabric-editor-popup-scroll-parent>div>div {\\n    height: 100%;\\n}\\n\\n.notes-list {\\n    width: calc(100% - 20px);\\n}\\n\\n.notes-list td,\\n.notes-list th {\\n    text-align: left;\\n    color: var(--primaryTextColor);\\n}\\n\\n.notes-list tr>th:first-child {\\n    padding-left: 2rem;\\n}\\n\\n.notes-list tr>td:last-child,\\n.notes-list tr>th:last-child {\\n    padding-right: 2rem;\\n    text-align: right;\\n}\\n\\n.note-item {\\n    display: flex;\\n\\n    align-items: center;\\n}\\n\\n.note-icon {\\n    margin-right: 1rem;\\n}\\n\\n.note-link {\\n    text-decoration: none;\\n    text-transform: none;\\n    font-weight: normal;\\n}\\n\\n/* Used to avoid conflicts with sharing modal and toolbar */\\n[aria-label=\\\"Media floating controls\\\"],\\n.richMedia-resize-handle-left,\\n.richMedia-resize-handle-right {\\n    z-index: 1 !important;\\n}\\n\\n/* Required for toolbar's popups because unidentified internals miscalculate the popups position */\\n/* Since we always display the toolbar at the bottom of the screen we do not care about any other top position than zero */\\n[data-testid=\\\"ak-editor-main-toolbar\\\"] [aria-label*=\\\"Popup\\\"] {\\n    top: 0 !important;\\n}\\n\\n/* Weird overflow linked to the floating toolbar, could not locate the exact origin of the problem */\\nbody {\\n    overflow-x: hidden;\\n}\\n\\n/* We had misalignment between lines and lines number because line-number-gutter doesn't have\\nthe right padding-top.\\nHere we set it to 26px because: 12px (from .code-content padding top) + 14px (from pre margin top)\\n*/\\n.ProseMirror .code-block .line-number-gutter {\\n    padding: 26px 8px !important;\\n}\\n\\nhtml body .note-editor-container .akEditor .code-block {\\n    background-color: var(--defaultBackgroundColor);\\n}\\n\\nhtml body .note-editor-container .akEditor .code-block .code-content {\\n    color: var(--primaryTextColor);\\n}\\n\\n.ProseMirror div[data-task-list-local-id] {\\n    margin-bottom: var(--note-block-spacing) !important;\\n}\\n\\n.ProseMirror .placeholder-decoration {\\n    color: var(--secondaryTextColor) !important;\\n}\\n\\n/*\\n2 problems with tables:\\n\\nWhen the user is selecting text inside a cell,\\nfor unknown reasons AtlasKit will add CSS class `pm-table-last-item-in-cell` along other DOM elements at unpredictable places in the table.\\nThis specific class will add a margin-bottom 0 to the last item in a cell,\\nbut it will also change the height of the cell, triggering the cursor position of the user to be wrong,\\ntriggering in turn a whole new selection of text itself triggering a selection of the cell, and so on.\\nFinding the exact origin of the problem is too time-consuming at this point, so we just remove the margin-bottom 0 on that class and keep the default value,\\nthis way the table height should not jump around and the user's cursor should not be misplaced, avoiding the cascade of problems described above.\\n\\nThe second problem is that ProseMirror adds a margin-bottom inside each cell, which is not what we want.\\n\\nUpdating the CSS var responsible for both these margins to 0 (meaning no more layout change) will fix both problems.\\n*/\\n.ProseMirror table {\\n    --note-block-spacing: 0;\\n}\\n\", \"\"]);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8hLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvc3JjL2luZGV4LmpzPyEuL3NyYy9zdHlsZXMvaW5kZXguY3NzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3N0eWxlcy9pbmRleC5jc3M/YmJjMSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiKShmYWxzZSk7XG4vLyBNb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi8qIFRlbXBvcmFyeSBmaXggd2FpdGluZyBmb3IgaHR0cHM6Ly9naXRodWIuY29tL2NvenkvY296eS1iYXIvcHVsbC82NzUgKi9cXG4uY296LW5hdi1hcHBzLWJ0bnMtbWFpbiB7XFxuICAgIGZvbnQtc2l6ZTogMXJlbTtcXG59XFxuXFxuOnJvb3Qge1xcbiAgICAtLXNpZGViYXJIZWlnaHQ6IDAuMDFweDsgLyogdG8gYXZvaWQgcmVwbGFjaW5nIGJ5IGAwYCB3aGVuIGJ1aWxkaW5nIHRoZSBmaWxlICovXFxufVxcblxcbmh0bWwge1xcbiAgICAtLWRvY3VtZW50TWF4V2lkdGg6IDQ4cmVtO1xcbiAgICAtLWRvY3VtZW50RGl2aWRlckNvbG9yOiB2YXIoLS1kaXZpZGVyQ29sb3IpO1xcbiAgICAtLW5vdGUtYmFzZS1zaXplOiAxLjEyNXJlbTtcXG4gICAgLS1ub3RlLWJhc2UtbGg6IDEuNTtcXG4gICAgLS1ub3RlLWJsb2NrLXNwYWNpbmc6IGNhbGModmFyKC0tbm90ZS1iYXNlLXNpemUpICogMS4zMzMpO1xcbiAgICAtLW5vdGUtbWFpbnRpdGxlLXBhZGRpbmc6IDJyZW07XFxuICAgIC0tZG9jdW1lbnRUb3BQYWRkaW5nOiBjYWxjKDIgKiB2YXIoLS1ub3RlLWJhc2Utc2l6ZSkpO1xcbiAgICAtLWRvY3VtZW50UGFkZGluZzogY2FsYygyICogdmFyKC0tbm90ZS1iYXNlLXNpemUpKTtcXG4gICAgLS1ub3RlLXRpdGxlMC1mczogY2FsYygyICogdmFyKC0tbm90ZS1iYXNlLXNpemUpKTtcXG4gICAgLS1ub3RlLXRpdGxlMS1mczogY2FsYygxLjY2NiAqIHZhcigtLW5vdGUtYmFzZS1zaXplKSk7XFxuICAgIC0tbm90ZS10aXRsZTItZnM6IGNhbGMoMS4zMzMgKiB2YXIoLS1ub3RlLWJhc2Utc2l6ZSkpO1xcbiAgICAtLW5vdGUtdGl0bGUzLWZzOiB2YXIoLS1ub3RlLWJhc2Utc2l6ZSk7XFxuICAgIC0tbm90ZS10aXRsZTQtZnM6IHZhcigtLW5vdGUtYmFzZS1zaXplKTtcXG4gICAgLS1ub3RlLXRpdGxlNS1mczogY2FsYygodmFyKC0tbm90ZS1iYXNlLXNpemUpICogMC44OSkpO1xcbiAgICAtLW5vdGUtdGl0bGU2LWZzOiBjYWxjKCh2YXIoLS1ub3RlLWJhc2Utc2l6ZSkgKiAwLjc4KSk7XFxuICAgIC0tbm90ZS10aXRsZTAtbGg6IDEuMjtcXG4gICAgLS1ub3RlLXRpdGxlMS1saDogMS4zO1xcbiAgICAtLW5vdGUtdGl0bGUyLWxoOiAxLjQ7XFxuICAgIC0tbm90ZS10aXRsZTMtbGg6IHZhcigtLW5vdGUtYmFzZS1saCk7XFxuICAgIC0tbm90ZS10aXRsZTQtbGg6IHZhcigtLW5vdGUtYmFzZS1saCk7XFxuICAgIC0tbm90ZS10aXRsZTUtbGg6IDEuNTU7XFxuICAgIC0tbm90ZS10aXRsZTYtbGg6IDEuNjtcXG4gICAgLS1ub3RlLWJvcmRlci1yYWRpdXM6IDhweDtcXG4gICAgLS1ub3RlLWhlYWRlci1oZWlnaHQ6IDY0cHg7XFxuICAgIC0tbm90ZS1oZWFkZXItaGVpZ2h0LWhhbGY6IDEuNXJlbTtcXG4gICAgY29sb3I6IHZhcigtLXByaW1hcnlUZXh0Q29sb3IpO1xcbn1cXG5cXG5AbWVkaWEgKG1heC13aWR0aDogODAwcHgpIHtcXG4gICAgaHRtbCB7XFxuICAgICAgICAtLWRvY3VtZW50UGFkZGluZzogdmFyKC0tbm90ZS1iYXNlLXNpemUpO1xcbiAgICB9XFxufVxcblxcbkBtZWRpYSAobWF4LXdpZHRoOiA0MjBweCkge1xcbiAgICBodG1sIHtcXG4gICAgICAgIC0tbm90ZS1iYXNlLXNpemU6IDFyZW07XFxuICAgICAgICAtLW5vdGUtdGl0bGUwLWZzOiBjYWxjKDEuNzUgKiB2YXIoLS1ub3RlLWJhc2Utc2l6ZSkpO1xcbiAgICAgICAgLS1ub3RlLXRpdGxlMS1mczogY2FsYygxLjUgKiB2YXIoLS1ub3RlLWJhc2Utc2l6ZSkpO1xcbiAgICAgICAgLS1ub3RlLXRpdGxlMi1mczogY2FsYygxLjI1ICogdmFyKC0tbm90ZS1iYXNlLXNpemUpKTtcXG4gICAgICAgIC0tbm90ZS1ibG9jay1zcGFjaW5nOiB2YXIoLS1ub3RlLWJhc2Utc2l6ZSk7XFxuICAgICAgICAtLW5vdGUtbWFpbnRpdGxlLXBhZGRpbmc6IDA7XFxuICAgIH1cXG59XFxuXFxuLyogRm9yIGxheW91dCBjaGFuZ2UgaW4gY296eS11aSAqL1xcbi5ub3RlLWhlYWRlci1tZW51LS1lZGl0aW5nIHtcXG4gICAgcG9zaXRpb246IC13ZWJraXQtc3RpY2t5O1xcbiAgICBwb3NpdGlvbjogc3RpY2t5O1xcbiAgICB0b3A6IDA7XFxuICAgIHotaW5kZXg6IDI7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXBhcGVyQmFja2dyb3VuZENvbG9yKTtcXG59XFxuXFxuaHRtbCAuYWtFZGl0b3I+ZGl2OmZpcnN0LWNoaWxkIHtcXG4gICAgcG9zaXRpb246IC13ZWJraXQtc3RpY2t5O1xcbiAgICBwb3NpdGlvbjogc3RpY2t5O1xcbiAgICB0b3A6IDA7XFxuICAgIHotaW5kZXg6IDM7XFxufVxcblxcbi5ub3RlLWVkaXRvci1jb250YWluZXIge1xcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgICBtYXJnaW4tdG9wOiAzcmVtOyAvKiBUbyBnbyBiZWxvdyB0aGUgdG9vbGJhciB3aGljaCBpcyBmaXhlZCAqL1xcbn1cXG5cXG4vKiBwcm9zZSBtaXJyb3IgdG9vbGJhciBpbiB0aGUgdXBwZXIgYmFyICovXFxuaHRtbCAuYWtFZGl0b3I+ZGl2OmZpcnN0LWNoaWxkIHtcXG4gICAgd2lkdGg6IDEwMCU7XFxuICAgIGZsZXgtd3JhcDogd3JhcDtcXG4gICAgaGVpZ2h0OiBhdXRvO1xcbiAgICBwb3NpdGlvbjogZml4ZWQ7XFxuICAgIHRvcDogYXV0bztcXG4gICAgYm90dG9tOiBjYWxjKGVudihzYWZlLWFyZWEtaW5zZXQtYm90dG9tLCAxcmVtKSArIDFyZW0pO1xcbiAgICBsZWZ0OiA1MCU7XFxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTtcXG4gICAgYmFja2dyb3VuZDogbm9uZTtcXG4gICAgYm94LXNoYWRvdzogbm9uZTtcXG59XFxuXFxuLyogdG9vbGJhciBpbm5lciB3cmFwcGVyICovXFxuaHRtbCAuYWtFZGl0b3I+ZGl2OmZpcnN0LWNoaWxkPmRpdj5kaXY6bGFzdC1jaGlsZCB7XFxuICAgIGJveC1zaGFkb3c6IHZhcigtLXNoYWRvdzEpO1xcbiAgICBib3JkZXItcmFkaXVzOiA4cHg7XFxuICAgIHBhZGRpbmc6IDAuNXJlbTtcXG4gICAgYmFja2dyb3VuZDogdmFyKC0tcGFwZXJCYWNrZ3JvdW5kQ29sb3IpO1xcbn1cXG5cXG4vKiBUaGlzIGlzIHRoZSBtYWluIHRvb2xiYXIgd3JhcHBlciAqL1xcbmh0bWwgLmFrRWRpdG9yPmRpdjpmaXJzdC1jaGlsZD5kaXY6Zmlyc3QtY2hpbGQge1xcbiAgICBtYXJnaW46IDAgMTUlO1xcbiAgICBvdmVyZmxvdzogdmlzaWJsZTtcXG4gICAgLyogaW1wb3J0YW50IGZvciBkcm9wZG93bnMgKi9cXG59XFxuXFxuaHRtbCAuYWtFZGl0b3I+ZGl2OmZpcnN0LWNoaWxkPmRpdjpmaXJzdC1jaGlsZCtkaXYge1xcbiAgICBkaXNwbGF5OiBibG9jaztcXG4gICAgd2lkdGg6IDEwMCU7XFxufVxcblxcbmh0bWwgLmFrRWRpdG9yPmRpdjpmaXJzdC1jaGlsZD5kaXY6Zmlyc3QtY2hpbGQrZGl2IGhyIHtcXG4gICAgbWFyZ2luLWJvdHRvbTogMDtcXG59XFxuXFxuLyogaWNvbiBmb3IgdGV4dCBjb2xvciBpbiB0aGUgdG9vbGJhciB3YXMgbm90IGNvcnJlY3RseSBhbGlnbmVkICovXFxuLnNjLWd4TXR6SiB7XFxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gICAgdG9wOiAwLjJyZW07XFxufVxcblxcbi8qIFRoaXMgaXMgdGhlIG1haW4gdG9vbGJhciBpbm5lciB3cmFwcGVyICovXFxuLyogYXV0byBzaXplIGZvciB0aGUgdG9vbGJhciAuLi4gc2l6ZXMgZm9yIDUrNXJlbSBhcyBtYXJnaW4gKi9cXG5bZGF0YS10ZXN0aWQ9XFxcImFrLWVkaXRvci1tYWluLXRvb2xiYXJcXFwiXT5kaXY+ZGl2Om50aC1jaGlsZCgyKSB7XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICAgIG1heC13aWR0aDogNzY4cHg7XFxuICAgIG1hcmdpbjogYXV0bztcXG59XFxuXFxuW2RhdGEtdGVzdGlkPVxcXCJhay1lZGl0b3ItbWFpbi10b29sYmFyXFxcIl0gW3JvbGU9XFxcInByZXNlbnRhdGlvblxcXCJdID4gZGl2ID4gYnV0dG9uIHtcXG4gICAgY29sb3I6IHZhcigtLXByaW1hcnlUZXh0Q29sb3IpICFpbXBvcnRhbnQ7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXBhcGVyQmFja2dyb3VuZENvbG9yKTtcXG59XFxuXFxuW2RhdGEtdGVzdGlkPVxcXCJhay1lZGl0b3ItbWFpbi10b29sYmFyXFxcIl0gW3JvbGU9XFxcInByZXNlbnRhdGlvblxcXCJdID4gZGl2ID4gYnV0dG9uOmhvdmVyIHtcXG4gICAgLyogY29sb3I6IHZhcigtLXByaW1hcnlUZXh0Q29sb3IpICFpbXBvcnRhbnQ7ICovXFxuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWFjdGlvbkNvbG9ySG92ZXIpO1xcbn1cXG5cXG5bZGF0YS10ZXN0aWQ9XFxcImFrLWVkaXRvci1tYWluLXRvb2xiYXJcXFwiXSArIGRpdiB7XFxuICAgIGhlaWdodDogY2FsYygxMDAlKTtcXG59XFxuXFxuLyogbWFpbiB0b29sYmFyIG1lbnUgKi9cXG5bZGF0YS1yb2xlPVxcXCJkcm9wbGlzdENvbnRlbnRcXFwiXSB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXBhcGVyQmFja2dyb3VuZENvbG9yKSAhaW1wb3J0YW50O1xcbiAgICBib3gtc2hhZG93OiB2YXIoLS1zaGFkb3cxKSAhaW1wb3J0YW50O1xcbn1cXG5cXG5bZGF0YS1yb2xlPVxcXCJkcm9wbGlzdENvbnRlbnRcXFwiXSBbcm9sZT1cXFwiZ3JvdXBcXFwiXSA+IGRpdiA+IHNwYW4sXFxuW2RhdGEtcm9sZT1cXFwiZHJvcGxpc3RDb250ZW50XFxcIl0gW3JvbGU9XFxcImdyb3VwXFxcIl0gW3JvbGU9XFxcInByZXNlbnRhdGlvblxcXCJdID4gZGl2ID4gc3BhbiB7XFxuICAgIGNvbG9yOiB2YXIoLS1wcmltYXJ5VGV4dENvbG9yKSAhaW1wb3J0YW50O1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1wYXBlckJhY2tncm91bmRDb2xvcikgIWltcG9ydGFudDtcXG59XFxuXFxuW2RhdGEtcm9sZT1cXFwiZHJvcGxpc3RDb250ZW50XFxcIl0gW3JvbGU9XFxcImdyb3VwXFxcIl0gPiBkaXYgPiBzcGFuOmhvdmVyLFxcbltkYXRhLXJvbGU9XFxcImRyb3BsaXN0Q29udGVudFxcXCJdIFtyb2xlPVxcXCJncm91cFxcXCJdIFtyb2xlPVxcXCJwcmVzZW50YXRpb25cXFwiXSA+IGRpdiA+IHNwYW46aG92ZXIge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1hY3Rpb25Db2xvckhvdmVyKSAhaW1wb3J0YW50O1xcbn1cXG5cXG5bZGF0YS1yb2xlPVxcXCJkcm9wbGlzdENvbnRlbnRcXFwiXSBbcm9sZT1cXFwiZ3JvdXBcXFwiXSA+IGRpdiA+IHNwYW4gcCxcXG5bZGF0YS1yb2xlPVxcXCJkcm9wbGlzdENvbnRlbnRcXFwiXSBbcm9sZT1cXFwiZ3JvdXBcXFwiXSBbcm9sZT1cXFwicHJlc2VudGF0aW9uXFxcIl0gPiBkaXYgPiBzcGFuIHAge1xcbiAgICBjb2xvcjogdmFyKC0tcHJpbWFyeVRleHRDb2xvcikgIWltcG9ydGFudDtcXG59XFxuXFxuLyogc2hvcnRjdXQgdGFnIGluIG1haW4gdG9vbGJhciBtZW51ICovXFxuW2RhdGEtcm9sZT1cXFwiZHJvcGxpc3RDb250ZW50XFxcIl0gW3JvbGU9XFxcImdyb3VwXFxcIl0gPiBkaXYgPiBzcGFuID4gc3BhbjpsYXN0LWNoaWxkID4gZGl2LFxcbltkYXRhLXJvbGU9XFxcImRyb3BsaXN0Q29udGVudFxcXCJdIFtyb2xlPVxcXCJncm91cFxcXCJdIFtyb2xlPVxcXCJwcmVzZW50YXRpb25cXFwiXSA+IGRpdiA+IHNwYW4gPiBzcGFuOmxhc3QtY2hpbGQgPiBkaXYge1xcbiAgICBjb2xvcjogdmFyKC0tc2Vjb25kYXJ5VGV4dENvbG9yKTtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tZGVmYXVsdEJhY2tncm91bmRDb2xvcik7XFxufVxcblxcbi8qIGRhdGUgZWxlbWVudCAqL1xcbi5kYXRlVmlldy1jb250ZW50LXdyYXAgLmRhdGUtbG96ZW5nZXItY29udGFpbmVyID4gc3BhbiB7XFxuICAgIGNvbG9yOiB2YXIoLS1wcmltYXJ5VGV4dENvbG9yKTtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tZGVmYXVsdEJhY2tncm91bmRDb2xvcik7XFxufVxcblxcbi8qIGNhbGVuZGFyIHBvcHVwICovXFxuW3JvbGU9XFxcInByZXNlbnRhdGlvblxcXCJdID4gW2FyaWEtbGFiZWw9XFxcImNhbGVuZGFyXFxcIl0ge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1wYXBlckJhY2tncm91bmRDb2xvcik7XFxufVxcblxcbi8qIGNhbGVuZGFyIHBvcHVwIGhlYWRlciAqL1xcbltyb2xlPVxcXCJwcmVzZW50YXRpb25cXFwiXSA+IFthcmlhLWxhYmVsPVxcXCJjYWxlbmRhclxcXCJdID4gZGl2IHtcXG4gICAgY29sb3I6IHZhcigtLXNlY29uZGFyeVRleHRDb2xvcik7XFxufVxcblxcbi8qIGNhbGVuZGFyIHBvcHVwIGNvbnRlbnQgKi9cXG5bcm9sZT1cXFwicHJlc2VudGF0aW9uXFxcIl0gPiBbYXJpYS1sYWJlbD1cXFwiY2FsZW5kYXJcXFwiXSA+IHRhYmxlID4gdGgge1xcbiAgICBjb2xvcjogdmFyKC0tc2Vjb25kYXJ5VGV4dENvbG9yKTtcXG59XFxuXFxuW3JvbGU9XFxcInByZXNlbnRhdGlvblxcXCJdID4gW2FyaWEtbGFiZWw9XFxcImNhbGVuZGFyXFxcIl0gPiB0YWJsZSA+IHRib2R5IGRpdiB7XFxuICAgIGNvbG9yOiB2YXIoLS1wcmltYXJ5VGV4dENvbG9yKTtcXG59XFxuXFxuW3JvbGU9XFxcInByZXNlbnRhdGlvblxcXCJdID4gW2FyaWEtbGFiZWw9XFxcImNhbGVuZGFyXFxcIl0gPiB0YWJsZSA+IHRib2R5IGRpdltkYXRhLWZvY3VzZWQ9XFxcInRydWVcXFwiXSB7XFxuICAgIGJvcmRlci1jb2xvcjogdmFyKC0tcHJpbWFyeUNvbG9yKTtcXG59XFxuXFxuW3JvbGU9XFxcInByZXNlbnRhdGlvblxcXCJdID4gW2FyaWEtbGFiZWw9XFxcImNhbGVuZGFyXFxcIl0gPiB0YWJsZSA+IHRib2R5IGRpdltkYXRhLXRvZGF5PVxcXCJ0cnVlXFxcIl06YWZ0ZXIge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1wcmltYXJ5Q29sb3IpO1xcbn1cXG5cXG5bcm9sZT1cXFwicHJlc2VudGF0aW9uXFxcIl0gPiBbYXJpYS1sYWJlbD1cXFwiY2FsZW5kYXJcXFwiXSA+IHRhYmxlID4gdGJvZHkgZGl2OmhvdmVyIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYWN0aW9uQ29sb3JIb3Zlcik7XFxufVxcblxcbltyb2xlPVxcXCJwcmVzZW50YXRpb25cXFwiXSA+IFthcmlhLWxhYmVsPVxcXCJjYWxlbmRhclxcXCJdID4gdGFibGUgPiB0Ym9keSBkaXZbZGF0YS1zaWJsaW5nPVxcXCJ0cnVlXFxcIl0ge1xcbiAgICBjb2xvcjogdmFyKC0tc2Vjb25kYXJ5VGV4dENvbG9yKTtcXG59XFxuXFxuXFxuLyogSGFja3kgQ1NTIHRvIGhpZGUgYW55dGhpbmcgdGhhdCBpc24ndCB0aGUgdG9vbGJhciBpbiB0aGUgYXRsYXNraXQgdG9vbGJhciB3cmFwcGVyIChhdmF0YXIgY29tcG9uZW50IGZvciBpbnN0YW5jZSkgKi9cXG5bZGF0YS10ZXN0aWQ9XFxcImFrLWVkaXRvci1tYWluLXRvb2xiYXJcXFwiXT4gOm5vdCg6Zmlyc3QtY2hpbGQpIHtcXG4gICAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O1xcbn1cXG5cXG5AbWVkaWEgKG1heC13aWR0aDogMTAyM3B4KSB7XFxuICAgIGh0bWwge1xcbiAgICAgICAgLS11c2VsZXNzOiBhdXRvO1xcbiAgICAgICAgLyogRklYTUUgOiB3aXRob3V0IHRoaXMgYmxvY2ssIHRoZSBuZXh0IHJ1bGUgaXMgbm90IHRha2VuIGludG8gYWNjb3VudCAqL1xcbiAgICB9XFxufVxcblxcbkBtZWRpYSAobWF4LXdpZHRoOiAxMDIzcHgpIHtcXG4gICAgaHRtbCB7XFxuICAgICAgICAtLW5vdGVzLXNoYXJlLWJ1dHRvbi1sYWJlbDogbm9uZTtcXG4gICAgICAgIC8qIGRvIG5vdCBkaXNwbGF5IHRoZSBsYWJlbCBpbiBzaGFyaW5nIGJ1dHRvbiAqL1xcbiAgICB9XFxufVxcblxcbkBzdXBwb3J0cyAoLXdlYmtpdC10b3VjaC1jYWxsb3V0OiBub25lKSB7XFxuICAgIGJvZHkge1xcbiAgICAgICAgLXdlYmtpdC10ZXh0LXNpemUtYWRqdXN0OiAxMDAlXFxuICAgIH1cXG59XFxuXFxuLm5vdGUtaGVhZGVyLW1lbnUtLWVkaXRpbmcge1xcbiAgICB6LWluZGV4OiA0O1xcbn1cXG5cXG4ubm90ZS1oZWFkZXItbWVudS0tZWRpdGluZyAucGFnZS1oZWFkZXItbWVudS0tbGVmdCxcXG4ubm90ZS1oZWFkZXItbWVudS0tZWRpdGluZyAucGFnZS1oZWFkZXItbWVudS0tcmlnaHQge1xcbiAgICB0b3A6IHZhcigtLW5vdGUtaGVhZGVyLWhlaWdodC1oYWxmKTtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7XFxufVxcblxcbi5ub3RlLWhlYWRlci1tZW51LS1lZGl0aW5nIC5wYWdlLWhlYWRlci1tZW51LS1sZWZ0IHtcXG4gICAgbGVmdDogMXJlbTtcXG59XFxuXFxuLm5vdGUtaGVhZGVyLW1lbnUtLWVkaXRpbmcgLnBhZ2UtaGVhZGVyLW1lbnUtLXJpZ2h0IHtcXG4gICAgcmlnaHQ6IDFyZW07XFxufVxcblxcbi8qIFRyeWluZyB0byBhdm9pZCB0b29sYmFycyBvdmVybGFwcyBvbiBzbWFsbCB2aWV3cG9ydHMgKi9cXG4vKiBCcmVha3BvaW50IHdhcyB0YWtlbiBmcm9tIEJvb3RzdHJhcCdzIFxcXCJYLXNtYWxsXFxcIiBicmVha3BvaW50ICovXFxuQG1lZGlhIChtYXgtd2lkdGg6IDU3NnB4KSB7XFxuICAgIC5ub3RlLWhlYWRlci1tZW51LS1lZGl0aW5nIC5wYWdlLWhlYWRlci1tZW51LS1sZWZ0IHtcXG4gICAgICAgIGxlZnQ6IDAuMjVyZW07XFxuICAgIH1cXG5cXG4gICAgLm5vdGUtaGVhZGVyLW1lbnUtLWVkaXRpbmcgLnBhZ2UtaGVhZGVyLW1lbnUtLXJpZ2h0IHtcXG4gICAgICAgIHJpZ2h0OiAwLjI1cmVtO1xcbiAgICB9XFxufVxcblxcbmh0bWwgLm5vdGUtZWRpdG9yLWNvbnRhaW5lciB7XFxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gICAgZGlzcGxheTogZmxleDtcXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gICAgZmxleC1ncm93OiAxO1xcbn1cXG5cXG5odG1sIC5ub3Rlcy1saXN0LWNvbnRhaW5lciAucGFnZS1oZWFkZXItbWVudSB7XFxuICAgIG1hcmdpbi1sZWZ0OiAycmVtO1xcbiAgICBtYXJnaW4tcmlnaHQ6IDJyZW07XFxufVxcblxcbmh0bWwgLlByb3NlTWlycm9yIHtcXG4gICAgZm9udC1zaXplOiAxcmVtICFpbXBvcnRhbnRcXG59XFxuXFxuLyogVGl0cmVzICovXFxuaHRtbCBib2R5IC5ub3RlLWVkaXRvci1jb250YWluZXIgLmFrLWVkaXRvci1jb250ZW50LWFyZWEgcCxcXG5odG1sIGJvZHkgLm5vdGUtZWRpdG9yLWNvbnRhaW5lciAuYWtFZGl0b3IgbGkge1xcbiAgICBmb250LXNpemU6IHZhcigtLW5vdGUtYmFzZS1zaXplKSAhaW1wb3J0YW50O1xcbiAgICBsaW5lLWhlaWdodDogdmFyKC0tbm90ZS1iYXNlLWxoKSAhaW1wb3J0YW50O1xcbiAgICBjb2xvcjogdmFyKC0tcHJpbWFyeVRleHRDb2xvcik7XFxufVxcblxcbmh0bWwgYm9keSAubm90ZS1lZGl0b3ItY29udGFpbmVyIC5ha0VkaXRvciBoMSB7XFxuICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXJNYWluQ29sb3IpO1xcbiAgICBwYWRkaW5nLXRvcDogdmFyKC0tbm90ZS1ibG9jay1zcGFjaW5nKTtcXG4gICAgZm9udC1zaXplOiB2YXIoLS1ub3RlLXRpdGxlMS1mcykgIWltcG9ydGFudDtcXG4gICAgbGluZS1oZWlnaHQ6IHZhcigtLW5vdGUtdGl0bGUxLWxoKSAhaW1wb3J0YW50O1xcbiAgICBjb2xvcjogdmFyKC0tcHJpbWFyeVRleHRDb2xvcik7XFxufVxcblxcbmh0bWwgYm9keSAubm90ZS1lZGl0b3ItY29udGFpbmVyIC5ha0VkaXRvciBoMiB7XFxuICAgIGZvbnQtc2l6ZTogdmFyKC0tbm90ZS10aXRsZTItZnMpICFpbXBvcnRhbnQ7XFxuICAgIGxpbmUtaGVpZ2h0OiB2YXIoLS1ub3RlLXRpdGxlMi1saCkgIWltcG9ydGFudDtcXG4gICAgY29sb3I6IHZhcigtLXByaW1hcnlUZXh0Q29sb3IpO1xcbn1cXG5cXG5odG1sIGJvZHkgLm5vdGUtZWRpdG9yLWNvbnRhaW5lciAuYWtFZGl0b3IgaDMge1xcbiAgICBmb250LXNpemU6IHZhcigtLW5vdGUtdGl0bGUzLWZzKSAhaW1wb3J0YW50O1xcbiAgICBsaW5lLWhlaWdodDogdmFyKC0tbm90ZS10aXRsZTMtbGgpICFpbXBvcnRhbnQ7XFxuICAgIGNvbG9yOiB2YXIoLS1wcmltYXJ5VGV4dENvbG9yKTtcXG59XFxuXFxuaHRtbCBib2R5IC5ub3RlLWVkaXRvci1jb250YWluZXIgLmFrRWRpdG9yIGg0IHtcXG4gICAgZm9udC1zaXplOiB2YXIoLS1ub3RlLXRpdGxlNC1mcykgIWltcG9ydGFudDtcXG4gICAgbGluZS1oZWlnaHQ6IHZhcigtLW5vdGUtdGl0bGU0LWxoKSAhaW1wb3J0YW50O1xcbiAgICBjb2xvcjogdmFyKC0tcHJpbWFyeVRleHRDb2xvcik7XFxufVxcblxcbmh0bWwgYm9keSAubm90ZS1lZGl0b3ItY29udGFpbmVyIC5ha0VkaXRvciBoNSB7XFxuICAgIGZvbnQtc2l6ZTogdmFyKC0tbm90ZS10aXRsZTUtZnMpICFpbXBvcnRhbnQ7XFxuICAgIGxpbmUtaGVpZ2h0OiB2YXIoLS1ub3RlLXRpdGxlNS1saCkgIWltcG9ydGFudDtcXG4gICAgY29sb3I6IHZhcigtLXByaW1hcnlUZXh0Q29sb3IpO1xcbn1cXG5cXG5odG1sIGJvZHkgLm5vdGUtZWRpdG9yLWNvbnRhaW5lciAuYWtFZGl0b3IgaDYge1xcbiAgICBmb250LXNpemU6IHZhcigtLW5vdGUtdGl0bGU2LWZzKSAhaW1wb3J0YW50O1xcbiAgICBsaW5lLWhlaWdodDogdmFyKC0tbm90ZS10aXRsZTYtbGgpICFpbXBvcnRhbnQ7XFxuICAgIGNvbG9yOiB2YXIoLS1wcmltYXJ5VGV4dENvbG9yKTtcXG59XFxuXFxuLyogVGl0cmVzIGRhbnMgbGEgZHJvcGRvd24gZGUgbGEgYmFycmUgZCdvdXRpbHMgKi9cXG5odG1sIGJvZHkgLm5vdGUtZWRpdG9yLWNvbnRhaW5lciAuYWtFZGl0b3I+ZGl2OmZpcnN0LWNoaWxkIGg0LFxcbmh0bWwgYm9keSAubm90ZS1lZGl0b3ItY29udGFpbmVyIC5ha0VkaXRvcj5kaXY6Zmlyc3QtY2hpbGQgaDUsXFxuaHRtbCBib2R5IC5ub3RlLWVkaXRvci1jb250YWluZXIgLmFrRWRpdG9yPmRpdjpmaXJzdC1jaGlsZCBoNiB7XFxuICAgIG1hcmdpbi1ib3R0b206IDA7XFxufVxcblxcbi8qIHNwYWNpbmcgYmV0d2VlbiBibG9ja3MgKi9cXG5odG1sIGJvZHkgLm5vdGUtZWRpdG9yLWNvbnRhaW5lciAuYWstZWRpdG9yLWNvbnRlbnQtYXJlYSBwLFxcbmh0bWwgYm9keSAubm90ZS1lZGl0b3ItY29udGFpbmVyIC5ha0VkaXRvciB1bCxcXG5odG1sIGJvZHkgLm5vdGUtZWRpdG9yLWNvbnRhaW5lciAuYWtFZGl0b3Igb2wsXFxuaHRtbCBib2R5IC5ub3RlLWVkaXRvci1jb250YWluZXIgLmFrRWRpdG9yIGJsb2NrcXVvdGUsXFxuaHRtbCBib2R5IC5ub3RlLWVkaXRvci1jb250YWluZXIgLmFrRWRpdG9yIGhyLFxcbmh0bWwgYm9keSAubm90ZS1lZGl0b3ItY29udGFpbmVyIC5ha0VkaXRvciAudGFibGVWaWV3LWNvbnRlbnQtd3JhcCxcXG5odG1sIGJvZHkgLm5vdGUtZWRpdG9yLWNvbnRhaW5lciAuYWtFZGl0b3IgLmFrLWVkaXRvci1wYW5lbCxcXG5odG1sIGJvZHkgLm5vdGUtZWRpdG9yLWNvbnRhaW5lciAuYWtFZGl0b3IgaDEsXFxuaHRtbCBib2R5IC5ub3RlLWVkaXRvci1jb250YWluZXIgLmFrRWRpdG9yIGgyLFxcbmh0bWwgYm9keSAubm90ZS1lZGl0b3ItY29udGFpbmVyIC5ha0VkaXRvciBoMyxcXG5odG1sIGJvZHkgLm5vdGUtZWRpdG9yLWNvbnRhaW5lciAuYWtFZGl0b3IgaDQsXFxuaHRtbCBib2R5IC5ub3RlLWVkaXRvci1jb250YWluZXIgLmFrRWRpdG9yIGg1LFxcbmh0bWwgYm9keSAubm90ZS1lZGl0b3ItY29udGFpbmVyIC5ha0VkaXRvciBoNiB7XFxuICAgIG1hcmdpbi10b3A6IDA7XFxuICAgIG1hcmdpbi1ib3R0b206IHZhcigtLW5vdGUtYmxvY2stc3BhY2luZyk7XFxufVxcblxcbmh0bWwgYm9keSAubm90ZS1lZGl0b3ItY29udGFpbmVyIC5ha0VkaXRvciAuYWstZWRpdG9yLXBhbmVsX19jb250ZW50PiA6bGFzdC1jaGlsZCxcXG5odG1sIGJvZHkgLm5vdGUtZWRpdG9yLWNvbnRhaW5lciAuYWtFZGl0b3IgbGk+KiB7XFxuICAgIG1hcmdpbi1ib3R0b206IDA7XFxufVxcblxcbi8qIGJsb2NrcXVvdGUgKi9cXG5odG1sIGJvZHkgLm5vdGUtZWRpdG9yLWNvbnRhaW5lciAuYWtFZGl0b3IgYmxvY2txdW90ZSB7XFxuICAgIG1hcmdpbi1sZWZ0OiAwO1xcbiAgICBwYWRkaW5nLWxlZnQ6IDI4cHg7XFxuICAgIGJvcmRlci1sZWZ0OiA0cHggc29saWQgdmFyKC0tYm9yZGVyTWFpbkNvbG9yKTtcXG4gICAgZm9udC1zdHlsZTogaXRhbGljO1xcbn1cXG5cXG5odG1sIGJvZHkgLm5vdGUtZWRpdG9yLWNvbnRhaW5lciAuYWtFZGl0b3IgYmxvY2txdW90ZSBpLFxcbmh0bWwgYm9keSAubm90ZS1lZGl0b3ItY29udGFpbmVyIC5ha0VkaXRvciBibG9ja3F1b3RlIGVtIHtcXG4gICAgZm9udC1zdHlsZTogbm9ybWFsO1xcbn1cXG5cXG5odG1sIGJvZHkgLm5vdGUtZWRpdG9yLWNvbnRhaW5lciAuYWtFZGl0b3IgYmxvY2txdW90ZTo6YmVmb3JlIHtcXG4gICAgZGlzcGxheTogbm9uZTtcXG59XFxuXFxuLyogaHIgKi9cXG5odG1sIGJvZHkgLm5vdGUtZWRpdG9yLWNvbnRhaW5lciAuYWtFZGl0b3IgaHIge1xcbiAgICBoZWlnaHQ6IDFweDtcXG4gICAgY29sb3I6IHZhcigtLWRpdmlkZXJDb2xvcik7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWRpdmlkZXJDb2xvcik7XFxufVxcblxcbi8qIHRhYmxlcyAqL1xcbmh0bWwgYm9keSAubm90ZS1lZGl0b3ItY29udGFpbmVyIC5ha0VkaXRvciAudGFibGVWaWV3LWNvbnRlbnQtd3JhcCB7XFxuICAgIG1hcmdpbi10b3A6IC0xLjhyZW07XFxufVxcblxcbmh0bWwgYm9keSAubm90ZS1lZGl0b3ItY29udGFpbmVyIC5ha0VkaXRvciAucG0tdGFibGUtd3JhcHBlcj50YWJsZSB7XFxuICAgIGJvcmRlci1jb2xsYXBzZTogc2VwYXJhdGU7XFxuICAgIGJvcmRlci1zcGFjaW5nOiAwO1xcbiAgICBib3JkZXItd2lkdGg6IDA7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXBhcGVyQmFja2dyb3VuZENvbG9yKTtcXG4gICAgY29sb3I6IHZhcigtLXByaW1hcnlUZXh0Q29sb3IpO1xcbn1cXG5cXG5odG1sIGJvZHkgLm5vdGUtZWRpdG9yLWNvbnRhaW5lciAuYWtFZGl0b3IgLnBtLXRhYmxlLXdyYXBwZXI+dGFibGUgdGQsXFxuaHRtbCBib2R5IC5ub3RlLWVkaXRvci1jb250YWluZXIgLmFrRWRpdG9yIC5wbS10YWJsZS13cmFwcGVyPnRhYmxlIHRoIHtcXG4gICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyTWFpbkNvbG9yKTtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tcGFwZXJCYWNrZ3JvdW5kQ29sb3IpICFpbXBvcnRhbnQ7XFxuICAgIGNvbG9yOiB2YXIoLS1wcmltYXJ5VGV4dENvbG9yKSAhaW1wb3J0YW50O1xcbiAgICBib3JkZXItYm90dG9tLXdpZHRoOiAwO1xcbiAgICBib3JkZXItcmlnaHQtd2lkdGg6IDA7XFxufVxcblxcbmh0bWwgYm9keSAubm90ZS1lZGl0b3ItY29udGFpbmVyIC5ha0VkaXRvciAucG0tdGFibGUtbnVtYmVyZWQtY29sdW1uIGRpdiB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWRlZmF1bHRCYWNrZ3JvdW5kQ29sb3IpO1xcbiAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXJNYWluQ29sb3IpO1xcbn1cXG5cXG5odG1sIGJvZHkgLm5vdGUtZWRpdG9yLWNvbnRhaW5lciAuYWtFZGl0b3IgLnBtLXRhYmxlLW51bWJlcmVkLWNvbHVtbl9fYnV0dG9uOmxhc3QtY2hpbGQge1xcbiAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXJNYWluQ29sb3IpO1xcbn1cXG5cXG5odG1sIGJvZHkgLm5vdGUtZWRpdG9yLWNvbnRhaW5lciAuYWtFZGl0b3IgLnBtLXRhYmxlLXdyYXBwZXI+dGFibGUgdHI6bGFzdC1jaGlsZCB0ZCxcXG5odG1sIGJvZHkgLm5vdGUtZWRpdG9yLWNvbnRhaW5lciAuYWtFZGl0b3IgLnBtLXRhYmxlLXdyYXBwZXI+dGFibGUgdHI6bGFzdC1jaGlsZCB0aCB7XFxuICAgIGJvcmRlci1ib3R0b20td2lkdGg6IDFweDtcXG59XFxuXFxuaHRtbCBib2R5IC5ub3RlLWVkaXRvci1jb250YWluZXIgLmFrRWRpdG9yIC5wbS10YWJsZS13cmFwcGVyPnRhYmxlIHRkOmxhc3QtY2hpbGQsXFxuaHRtbCBib2R5IC5ub3RlLWVkaXRvci1jb250YWluZXIgLmFrRWRpdG9yIC5wbS10YWJsZS13cmFwcGVyPnRhYmxlIHRoOmxhc3QtY2hpbGQge1xcbiAgICBib3JkZXItcmlnaHQtd2lkdGg6IDFweDtcXG59XFxuXFxuaHRtbCBib2R5IC5ub3RlLWVkaXRvci1jb250YWluZXIgLmFrRWRpdG9yIHRib2R5PnRyOmZpcnN0LWNoaWxkPnRoOmZpcnN0LWNoaWxkLFxcbmh0bWwgYm9keSAubm90ZS1lZGl0b3ItY29udGFpbmVyIC5ha0VkaXRvciB0Ym9keT50cjpmaXJzdC1jaGlsZD50ZDpmaXJzdC1jaGlsZCB7XFxuICAgIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IHZhcigtLW5vdGUtYm9yZGVyLXJhZGl1cyk7XFxufVxcblxcbmh0bWwgYm9keSAubm90ZS1lZGl0b3ItY29udGFpbmVyIC5ha0VkaXRvciB0Ym9keT50cjpmaXJzdC1jaGlsZD50aDpsYXN0LWNoaWxkLFxcbmh0bWwgYm9keSAubm90ZS1lZGl0b3ItY29udGFpbmVyIC5ha0VkaXRvciB0Ym9keT50cjpmaXJzdC1jaGlsZD50ZDpsYXN0LWNoaWxkIHtcXG4gICAgYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IHZhcigtLW5vdGUtYm9yZGVyLXJhZGl1cyk7XFxufVxcblxcbmh0bWwgYm9keSAubm90ZS1lZGl0b3ItY29udGFpbmVyIC5ha0VkaXRvciB0Ym9keT50cjpsYXN0LWNoaWxkPnRoOmZpcnN0LWNoaWxkLFxcbmh0bWwgYm9keSAubm90ZS1lZGl0b3ItY29udGFpbmVyIC5ha0VkaXRvciB0Ym9keT50cjpsYXN0LWNoaWxkPnRkOmZpcnN0LWNoaWxkIHtcXG4gICAgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogdmFyKC0tbm90ZS1ib3JkZXItcmFkaXVzKTtcXG59XFxuXFxuaHRtbCBib2R5IC5ub3RlLWVkaXRvci1jb250YWluZXIgLmFrRWRpdG9yIHRib2R5PnRyOmxhc3QtY2hpbGQ+dGg6bGFzdC1jaGlsZCxcXG5odG1sIGJvZHkgLm5vdGUtZWRpdG9yLWNvbnRhaW5lciAuYWtFZGl0b3IgdGJvZHk+dHI6bGFzdC1jaGlsZD50ZDpsYXN0LWNoaWxkIHtcXG4gICAgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IHZhcigtLW5vdGUtYm9yZGVyLXJhZGl1cyk7XFxufVxcblxcbi8qIHBhbmVscyAqL1xcbmh0bWwgYm9keSAubm90ZS1lZGl0b3ItY29udGFpbmVyIC5ha0VkaXRvciAuYWstZWRpdG9yLXBhbmVsIHtcXG4gICAgYm9yZGVyLXJhZGl1czogdmFyKC0tbm90ZS1ib3JkZXItcmFkaXVzKTtcXG59XFxuXFxuaHRtbCBib2R5IC5ub3RlLWVkaXRvci1jb250YWluZXIgLmFrRWRpdG9yIC5hay1lZGl0b3ItcGFuZWxbZGF0YS1wYW5lbC10eXBlPW5vdGVdIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tcGFwZXJCYWNrZ3JvdW5kQ29sb3IpO1xcbn1cXG5cXG5odG1sIGJvZHkgLm5vdGUtZWRpdG9yLWNvbnRhaW5lciAuYWtFZGl0b3IgLmFrLWVkaXRvci1wYW5lbFtkYXRhLXBhbmVsLXR5cGU9bm90ZV0gLmFrLWVkaXRvci1wYW5lbF9faWNvbiB7XFxuICAgIGNvbG9yOiAjOTY5OTlEO1xcbn1cXG5cXG5odG1sIGJvZHkgLm5vdGUtZWRpdG9yLWNvbnRhaW5lciAuYWtFZGl0b3IgLmFrLWVkaXRvci1wYW5lbFtkYXRhLXBhbmVsLXR5cGU9aW5mb10ge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1wYXBlckJhY2tncm91bmRDb2xvcik7XFxufVxcblxcbmh0bWwgYm9keSAubm90ZS1lZGl0b3ItY29udGFpbmVyIC5ha0VkaXRvciAuYWstZWRpdG9yLXBhbmVsW2RhdGEtcGFuZWwtdHlwZT1pbmZvXSAuYWstZWRpdG9yLXBhbmVsX19pY29uIHtcXG4gICAgY29sb3I6IHZhcigtLXByaW1hcnlDb2xvcik7XFxufVxcblxcbmh0bWwgYm9keSAubm90ZS1lZGl0b3ItY29udGFpbmVyIC5ha0VkaXRvciAuYWstZWRpdG9yLXBhbmVsW2RhdGEtcGFuZWwtdHlwZT1zdWNjZXNzXSB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXBhcGVyQmFja2dyb3VuZENvbG9yKTtcXG59XFxuXFxuaHRtbCBib2R5IC5ub3RlLWVkaXRvci1jb250YWluZXIgLmFrRWRpdG9yIC5hay1lZGl0b3ItcGFuZWxbZGF0YS1wYW5lbC10eXBlPXN1Y2Nlc3NdIC5hay1lZGl0b3ItcGFuZWxfX2ljb24ge1xcbiAgICBjb2xvcjogdmFyKC0tc3VjY2Vzc0NvbG9yKTtcXG59XFxuXFxuaHRtbCBib2R5IC5ub3RlLWVkaXRvci1jb250YWluZXIgLmFrRWRpdG9yIC5hay1lZGl0b3ItcGFuZWxbZGF0YS1wYW5lbC10eXBlPXdhcm5pbmddIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tcGFwZXJCYWNrZ3JvdW5kQ29sb3IpO1xcbn1cXG5cXG5odG1sIGJvZHkgLm5vdGUtZWRpdG9yLWNvbnRhaW5lciAuYWtFZGl0b3IgLmFrLWVkaXRvci1wYW5lbFtkYXRhLXBhbmVsLXR5cGU9d2FybmluZ10gLmFrLWVkaXRvci1wYW5lbF9faWNvbiB7XFxuICAgIGNvbG9yOiB2YXIoLS13YXJuaW5nQ29sb3IpO1xcbn1cXG5cXG5odG1sIGJvZHkgLm5vdGUtZWRpdG9yLWNvbnRhaW5lciAuYWtFZGl0b3IgLmFrLWVkaXRvci1wYW5lbFtkYXRhLXBhbmVsLXR5cGU9ZXJyb3JdIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tcGFwZXJCYWNrZ3JvdW5kQ29sb3IpO1xcbn1cXG5cXG5odG1sIGJvZHkgLm5vdGUtZWRpdG9yLWNvbnRhaW5lciAuYWtFZGl0b3IgLmFrLWVkaXRvci1wYW5lbFtkYXRhLXBhbmVsLXR5cGU9ZXJyb3JdIC5hay1lZGl0b3ItcGFuZWxfX2ljb24ge1xcbiAgICBjb2xvcjogdmFyKC0tZXJyb3JDb2xvcik7XFxufVxcblxcbmh0bWwgLmFrRWRpdG9yIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tZG9jdW1lbnRNYXJnaW5Db2xvcik7XFxuICAgIG1pbi13aWR0aDogY2FsYygzMjBweCAtIDJyZW0pO1xcbn1cXG5cXG5odG1sIC5mYWJyaWMtZWRpdG9yLXBvcHVwLXNjcm9sbC1wYXJlbnQ+ZGl2PmRpdiB7XFxuICAgIG1hcmdpbjogMCBhdXRvO1xcbiAgICBwYWRkaW5nOiAwO1xcbiAgICBtYXgtd2lkdGg6IGNhbGModmFyKC0tZG9jdW1lbnRNYXhXaWR0aCkgKyAyICogdmFyKC0tZG9jdW1lbnRQYWRkaW5nKSk7XFxufVxcblxcbmh0bWwgLmFrLWVkaXRvci1jb250ZW50LWFyZWEge1xcbiAgICBwYWRkaW5nOiB2YXIoLS1kb2N1bWVudFRvcFBhZGRpbmcpIHZhcigtLWRvY3VtZW50UGFkZGluZykgY2FsYygzICogdmFyKC0tbm90ZS1iYXNlLXNpemUpKSB2YXIoLS1kb2N1bWVudFBhZGRpbmcpICFpbXBvcnRhbnQ7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXBhcGVyQmFja2dyb3VuZENvbG9yKTtcXG59XFxuXFxuI2VkaXRvci1zY3JvbGwtZ3V0dGVyIHtcXG4gICAgZGlzcGxheTogbm9uZTtcXG59XFxuXFxuaHRtbCAuZmFicmljLWVkaXRvci1wb3B1cC1zY3JvbGwtcGFyZW50PmRpdj5kaXYge1xcbiAgICBoZWlnaHQ6IDEwMCU7XFxufVxcblxcbi5ub3Rlcy1saXN0IHtcXG4gICAgd2lkdGg6IGNhbGMoMTAwJSAtIDIwcHgpO1xcbn1cXG5cXG4ubm90ZXMtbGlzdCB0ZCxcXG4ubm90ZXMtbGlzdCB0aCB7XFxuICAgIHRleHQtYWxpZ246IGxlZnQ7XFxuICAgIGNvbG9yOiB2YXIoLS1wcmltYXJ5VGV4dENvbG9yKTtcXG59XFxuXFxuLm5vdGVzLWxpc3QgdHI+dGg6Zmlyc3QtY2hpbGQge1xcbiAgICBwYWRkaW5nLWxlZnQ6IDJyZW07XFxufVxcblxcbi5ub3Rlcy1saXN0IHRyPnRkOmxhc3QtY2hpbGQsXFxuLm5vdGVzLWxpc3QgdHI+dGg6bGFzdC1jaGlsZCB7XFxuICAgIHBhZGRpbmctcmlnaHQ6IDJyZW07XFxuICAgIHRleHQtYWxpZ246IHJpZ2h0O1xcbn1cXG5cXG4ubm90ZS1pdGVtIHtcXG4gICAgZGlzcGxheTogZmxleDtcXG5cXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG59XFxuXFxuLm5vdGUtaWNvbiB7XFxuICAgIG1hcmdpbi1yaWdodDogMXJlbTtcXG59XFxuXFxuLm5vdGUtbGluayB7XFxuICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcXG4gICAgdGV4dC10cmFuc2Zvcm06IG5vbmU7XFxuICAgIGZvbnQtd2VpZ2h0OiBub3JtYWw7XFxufVxcblxcbi8qIFVzZWQgdG8gYXZvaWQgY29uZmxpY3RzIHdpdGggc2hhcmluZyBtb2RhbCBhbmQgdG9vbGJhciAqL1xcblthcmlhLWxhYmVsPVxcXCJNZWRpYSBmbG9hdGluZyBjb250cm9sc1xcXCJdLFxcbi5yaWNoTWVkaWEtcmVzaXplLWhhbmRsZS1sZWZ0LFxcbi5yaWNoTWVkaWEtcmVzaXplLWhhbmRsZS1yaWdodCB7XFxuICAgIHotaW5kZXg6IDEgIWltcG9ydGFudDtcXG59XFxuXFxuLyogUmVxdWlyZWQgZm9yIHRvb2xiYXIncyBwb3B1cHMgYmVjYXVzZSB1bmlkZW50aWZpZWQgaW50ZXJuYWxzIG1pc2NhbGN1bGF0ZSB0aGUgcG9wdXBzIHBvc2l0aW9uICovXFxuLyogU2luY2Ugd2UgYWx3YXlzIGRpc3BsYXkgdGhlIHRvb2xiYXIgYXQgdGhlIGJvdHRvbSBvZiB0aGUgc2NyZWVuIHdlIGRvIG5vdCBjYXJlIGFib3V0IGFueSBvdGhlciB0b3AgcG9zaXRpb24gdGhhbiB6ZXJvICovXFxuW2RhdGEtdGVzdGlkPVxcXCJhay1lZGl0b3ItbWFpbi10b29sYmFyXFxcIl0gW2FyaWEtbGFiZWwqPVxcXCJQb3B1cFxcXCJdIHtcXG4gICAgdG9wOiAwICFpbXBvcnRhbnQ7XFxufVxcblxcbi8qIFdlaXJkIG92ZXJmbG93IGxpbmtlZCB0byB0aGUgZmxvYXRpbmcgdG9vbGJhciwgY291bGQgbm90IGxvY2F0ZSB0aGUgZXhhY3Qgb3JpZ2luIG9mIHRoZSBwcm9ibGVtICovXFxuYm9keSB7XFxuICAgIG92ZXJmbG93LXg6IGhpZGRlbjtcXG59XFxuXFxuLyogV2UgaGFkIG1pc2FsaWdubWVudCBiZXR3ZWVuIGxpbmVzIGFuZCBsaW5lcyBudW1iZXIgYmVjYXVzZSBsaW5lLW51bWJlci1ndXR0ZXIgZG9lc24ndCBoYXZlXFxudGhlIHJpZ2h0IHBhZGRpbmctdG9wLlxcbkhlcmUgd2Ugc2V0IGl0IHRvIDI2cHggYmVjYXVzZTogMTJweCAoZnJvbSAuY29kZS1jb250ZW50IHBhZGRpbmcgdG9wKSArIDE0cHggKGZyb20gcHJlIG1hcmdpbiB0b3ApXFxuKi9cXG4uUHJvc2VNaXJyb3IgLmNvZGUtYmxvY2sgLmxpbmUtbnVtYmVyLWd1dHRlciB7XFxuICAgIHBhZGRpbmc6IDI2cHggOHB4ICFpbXBvcnRhbnQ7XFxufVxcblxcbmh0bWwgYm9keSAubm90ZS1lZGl0b3ItY29udGFpbmVyIC5ha0VkaXRvciAuY29kZS1ibG9jayB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWRlZmF1bHRCYWNrZ3JvdW5kQ29sb3IpO1xcbn1cXG5cXG5odG1sIGJvZHkgLm5vdGUtZWRpdG9yLWNvbnRhaW5lciAuYWtFZGl0b3IgLmNvZGUtYmxvY2sgLmNvZGUtY29udGVudCB7XFxuICAgIGNvbG9yOiB2YXIoLS1wcmltYXJ5VGV4dENvbG9yKTtcXG59XFxuXFxuLlByb3NlTWlycm9yIGRpdltkYXRhLXRhc2stbGlzdC1sb2NhbC1pZF0ge1xcbiAgICBtYXJnaW4tYm90dG9tOiB2YXIoLS1ub3RlLWJsb2NrLXNwYWNpbmcpICFpbXBvcnRhbnQ7XFxufVxcblxcbi5Qcm9zZU1pcnJvciAucGxhY2Vob2xkZXItZGVjb3JhdGlvbiB7XFxuICAgIGNvbG9yOiB2YXIoLS1zZWNvbmRhcnlUZXh0Q29sb3IpICFpbXBvcnRhbnQ7XFxufVxcblxcbi8qXFxuMiBwcm9ibGVtcyB3aXRoIHRhYmxlczpcXG5cXG5XaGVuIHRoZSB1c2VyIGlzIHNlbGVjdGluZyB0ZXh0IGluc2lkZSBhIGNlbGwsXFxuZm9yIHVua25vd24gcmVhc29ucyBBdGxhc0tpdCB3aWxsIGFkZCBDU1MgY2xhc3MgYHBtLXRhYmxlLWxhc3QtaXRlbS1pbi1jZWxsYCBhbG9uZyBvdGhlciBET00gZWxlbWVudHMgYXQgdW5wcmVkaWN0YWJsZSBwbGFjZXMgaW4gdGhlIHRhYmxlLlxcblRoaXMgc3BlY2lmaWMgY2xhc3Mgd2lsbCBhZGQgYSBtYXJnaW4tYm90dG9tIDAgdG8gdGhlIGxhc3QgaXRlbSBpbiBhIGNlbGwsXFxuYnV0IGl0IHdpbGwgYWxzbyBjaGFuZ2UgdGhlIGhlaWdodCBvZiB0aGUgY2VsbCwgdHJpZ2dlcmluZyB0aGUgY3Vyc29yIHBvc2l0aW9uIG9mIHRoZSB1c2VyIHRvIGJlIHdyb25nLFxcbnRyaWdnZXJpbmcgaW4gdHVybiBhIHdob2xlIG5ldyBzZWxlY3Rpb24gb2YgdGV4dCBpdHNlbGYgdHJpZ2dlcmluZyBhIHNlbGVjdGlvbiBvZiB0aGUgY2VsbCwgYW5kIHNvIG9uLlxcbkZpbmRpbmcgdGhlIGV4YWN0IG9yaWdpbiBvZiB0aGUgcHJvYmxlbSBpcyB0b28gdGltZS1jb25zdW1pbmcgYXQgdGhpcyBwb2ludCwgc28gd2UganVzdCByZW1vdmUgdGhlIG1hcmdpbi1ib3R0b20gMCBvbiB0aGF0IGNsYXNzIGFuZCBrZWVwIHRoZSBkZWZhdWx0IHZhbHVlLFxcbnRoaXMgd2F5IHRoZSB0YWJsZSBoZWlnaHQgc2hvdWxkIG5vdCBqdW1wIGFyb3VuZCBhbmQgdGhlIHVzZXIncyBjdXJzb3Igc2hvdWxkIG5vdCBiZSBtaXNwbGFjZWQsIGF2b2lkaW5nIHRoZSBjYXNjYWRlIG9mIHByb2JsZW1zIGRlc2NyaWJlZCBhYm92ZS5cXG5cXG5UaGUgc2Vjb25kIHByb2JsZW0gaXMgdGhhdCBQcm9zZU1pcnJvciBhZGRzIGEgbWFyZ2luLWJvdHRvbSBpbnNpZGUgZWFjaCBjZWxsLCB3aGljaCBpcyBub3Qgd2hhdCB3ZSB3YW50LlxcblxcblVwZGF0aW5nIHRoZSBDU1MgdmFyIHJlc3BvbnNpYmxlIGZvciBib3RoIHRoZXNlIG1hcmdpbnMgdG8gMCAobWVhbmluZyBubyBtb3JlIGxheW91dCBjaGFuZ2UpIHdpbGwgZml4IGJvdGggcHJvYmxlbXMuXFxuKi9cXG4uUHJvc2VNaXJyb3IgdGFibGUge1xcbiAgICAtLW5vdGUtYmxvY2stc3BhY2luZzogMDtcXG59XFxuXCIsIFwiXCJdKTtcblxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./src/styles/index.css\n");

/***/ }),

/***/ "./src/components/HeaderNotePath.jsx":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"HeaderNotePath\", function() { return HeaderNotePath; });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var lib_queries__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./src/lib/queries.js\");\n/* harmony import */ var lib_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./src/lib/utils.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var types_enums__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./src/types/enums.ts\");\n/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./node_modules/cozy-client/dist/index.js\");\n/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var cozy_client_dist_models_file__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./node_modules/cozy-client/dist/models/file.js\");\n/* harmony import */ var cozy_client_dist_models_file__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(cozy_client_dist_models_file__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _notes_List_NotePath__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./src/components/notes/List/NotePath.tsx\");\n/* harmony import */ var _notes_List_WithBreakpoints__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./src/components/notes/List/WithBreakpoints.tsx\");\n\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal[\"default\"].signature : function (a) {\n  return a;\n};\n\n\n\n\n\n\n\n\nvar HeaderNotePath = function HeaderNotePath(_ref) {\n  var file = _ref.file;\n  var client = Object(cozy_client__WEBPACK_IMPORTED_MODULE_5__[\"useClient\"])();\n  var parentQuery = Object(lib_queries__WEBPACK_IMPORTED_MODULE_1__[\"buildFileByIdQuery\"])(file.dir_id);\n  var parentResult = Object(cozy_client__WEBPACK_IMPORTED_MODULE_5__[\"useQuery\"])(parentQuery.definition, _objectSpread(_objectSpread({}, parentQuery.options), {}, {\n    enabled: !!file.dir_id\n  }));\n  var fileWithPath = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useMemo\"])(function () {\n    return parentResult.data ? Object(cozy_client_dist_models_file__WEBPACK_IMPORTED_MODULE_6__[\"ensureFilePath\"])(file, parentResult.data) : undefined;\n  }, [file, parentResult.data]);\n  var drivePath = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useMemo\"])(function () {\n    return Object(lib_utils__WEBPACK_IMPORTED_MODULE_2__[\"getDriveLink\"])(client, file.dir_id);\n  }, [client, file.dir_id]);\n  if (fileWithPath) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_notes_List_WithBreakpoints__WEBPACK_IMPORTED_MODULE_8__[\"WithBreakpoints\"], {\n      hideOn: types_enums__WEBPACK_IMPORTED_MODULE_4__[\"Breakpoints\"].Mobile\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_notes_List_NotePath__WEBPACK_IMPORTED_MODULE_7__[\"NotePath\"], {\n      drivePath: drivePath,\n      path: fileWithPath.path,\n      target: \"_blank\"\n    }));\n  }\n  return null;\n};\n__signature__(HeaderNotePath, \"useClient{client}\\nuseQuery{parentResult}\\nuseMemo{fileWithPath}\\nuseMemo{drivePath}\", function () {\n  return [cozy_client__WEBPACK_IMPORTED_MODULE_5__[\"useClient\"], cozy_client__WEBPACK_IMPORTED_MODULE_5__[\"useQuery\"]];\n});\n;\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n  if (!reactHotLoader) {\n    return;\n  }\n  reactHotLoader.register(HeaderNotePath, \"HeaderNotePath\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/HeaderNotePath.jsx\");\n})();\n;\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(\"./node_modules/webpack/buildin/harmony-module.js\")(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9IZWFkZXJOb3RlUGF0aC5qc3guanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9IZWFkZXJOb3RlUGF0aC5qc3g/MjIyNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBidWlsZEZpbGVCeUlkUXVlcnkgfSBmcm9tICdsaWIvcXVlcmllcydcbmltcG9ydCB7IGdldERyaXZlTGluayB9IGZyb20gJ2xpYi91dGlscydcbmltcG9ydCBSZWFjdCwgeyB1c2VNZW1vIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBCcmVha3BvaW50cyB9IGZyb20gJ3R5cGVzL2VudW1zJ1xuXG5pbXBvcnQgeyB1c2VDbGllbnQsIHVzZVF1ZXJ5IH0gZnJvbSAnY296eS1jbGllbnQnXG5pbXBvcnQgeyBlbnN1cmVGaWxlUGF0aCB9IGZyb20gJ2NvenktY2xpZW50L2Rpc3QvbW9kZWxzL2ZpbGUnXG5cbmltcG9ydCB7IE5vdGVQYXRoIH0gZnJvbSAnLi9ub3Rlcy9MaXN0L05vdGVQYXRoJ1xuaW1wb3J0IHsgV2l0aEJyZWFrcG9pbnRzIH0gZnJvbSAnLi9ub3Rlcy9MaXN0L1dpdGhCcmVha3BvaW50cydcblxuZXhwb3J0IGNvbnN0IEhlYWRlck5vdGVQYXRoID0gKHsgZmlsZSB9KSA9PiB7XG4gIGNvbnN0IGNsaWVudCA9IHVzZUNsaWVudCgpXG4gIGNvbnN0IHBhcmVudFF1ZXJ5ID0gYnVpbGRGaWxlQnlJZFF1ZXJ5KGZpbGUuZGlyX2lkKVxuICBjb25zdCBwYXJlbnRSZXN1bHQgPSB1c2VRdWVyeShwYXJlbnRRdWVyeS5kZWZpbml0aW9uLCB7XG4gICAgLi4ucGFyZW50UXVlcnkub3B0aW9ucyxcbiAgICBlbmFibGVkOiAhIWZpbGUuZGlyX2lkXG4gIH0pXG5cbiAgY29uc3QgZmlsZVdpdGhQYXRoID0gdXNlTWVtbyhcbiAgICAoKSA9PlxuICAgICAgcGFyZW50UmVzdWx0LmRhdGEgPyBlbnN1cmVGaWxlUGF0aChmaWxlLCBwYXJlbnRSZXN1bHQuZGF0YSkgOiB1bmRlZmluZWQsXG4gICAgW2ZpbGUsIHBhcmVudFJlc3VsdC5kYXRhXVxuICApXG5cbiAgY29uc3QgZHJpdmVQYXRoID0gdXNlTWVtbyhcbiAgICAoKSA9PiBnZXREcml2ZUxpbmsoY2xpZW50LCBmaWxlLmRpcl9pZCksXG4gICAgW2NsaWVudCwgZmlsZS5kaXJfaWRdXG4gIClcblxuICBpZiAoZmlsZVdpdGhQYXRoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxXaXRoQnJlYWtwb2ludHMgaGlkZU9uPXtCcmVha3BvaW50cy5Nb2JpbGV9PlxuICAgICAgICA8Tm90ZVBhdGhcbiAgICAgICAgICBkcml2ZVBhdGg9e2RyaXZlUGF0aH1cbiAgICAgICAgICBwYXRoPXtmaWxlV2l0aFBhdGgucGF0aH1cbiAgICAgICAgICB0YXJnZXQ9XCJfYmxhbmtcIlxuICAgICAgICAvPlxuICAgICAgPC9XaXRoQnJlYWtwb2ludHM+XG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIG51bGxcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFBQTtBQUlBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFJQTtBQUVBO0FBQ0E7QUFBQTtBQWhDQTtBQUdBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFIQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/HeaderNotePath.jsx\n");

/***/ }),

/***/ "./src/components/IsPublicContext.jsx":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal[\"default\"].signature : function (a) {\n  return a;\n};\n\nvar IsPublicContext = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createContext(false);\nvar _default = IsPublicContext;\n/* harmony default export */ __webpack_exports__[\"default\"] = (_default);\n;\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n  if (!reactHotLoader) {\n    return;\n  }\n  reactHotLoader.register(IsPublicContext, \"IsPublicContext\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/IsPublicContext.jsx\");\n  reactHotLoader.register(_default, \"default\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/IsPublicContext.jsx\");\n})();\n;\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(\"./node_modules/webpack/buildin/harmony-module.js\")(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9Jc1B1YmxpY0NvbnRleHQuanN4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvSXNQdWJsaWNDb250ZXh0LmpzeD9hYjk1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcblxuY29uc3QgSXNQdWJsaWNDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dChmYWxzZSlcbmV4cG9ydCBkZWZhdWx0IElzUHVibGljQ29udGV4dFxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/IsPublicContext.jsx\n");

/***/ }),

/***/ "./src/components/app.jsx":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/slicedToArray.js\");\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/extends.js\");\n/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var constants_routes__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./src/constants/routes.ts\");\n/* harmony import */ var constants_strings__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./src/constants/strings.ts\");\n/* harmony import */ var _sentry_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./node_modules/@sentry/react/esm/index.js\");\n/* harmony import */ var components_notes__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./src/components/notes/index.jsx\");\n/* harmony import */ var components_notes_NoteProvider__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./src/components/notes/NoteProvider.jsx\");\n/* harmony import */ var components_notes_new_route__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"./src/components/notes/new-route.jsx\");\n/* harmony import */ var hooks_usePreview__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"./src/hooks/usePreview.tsx\");\n/* harmony import */ var lib_initFromDom__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"./src/lib/initFromDom.js\");\n/* harmony import */ var lib_utils__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"./src/lib/utils.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(\"./node_modules/react-router-dom/dist/index.js\");\n/* harmony import */ var cozy_bar__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(\"./node_modules/cozy-bar/dist/index.js\");\n/* harmony import */ var cozy_bar__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(cozy_bar__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(\"./node_modules/cozy-client/dist/index.js\");\n/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_16__);\n/* harmony import */ var cozy_dataproxy_lib__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(\"./node_modules/cozy-dataproxy-lib/dist/index.js\");\n/* harmony import */ var cozy_dataproxy_lib__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(cozy_dataproxy_lib__WEBPACK_IMPORTED_MODULE_17__);\n/* harmony import */ var cozy_devtools__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(\"./node_modules/cozy-devtools/dist/index.js\");\n/* harmony import */ var cozy_devtools__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(cozy_devtools__WEBPACK_IMPORTED_MODULE_18__);\n/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(\"./node_modules/cozy-flags/dist/index.browser.js\");\n/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(cozy_flags__WEBPACK_IMPORTED_MODULE_19__);\n/* harmony import */ var cozy_sharing__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(\"./node_modules/cozy-sharing/dist/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_BarTitle__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/BarTitle/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_Icon_Sprite__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/Icon/Sprite.js\");\n/* harmony import */ var cozy_ui_transpiled_react_Layout__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/Layout/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_Spinner__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/Spinner/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_deprecated_Alerter__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/deprecated/Alerter/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_hooks_useClientErrors__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/hooks/useClientErrors.js\");\n/* harmony import */ var cozy_ui_transpiled_react_providers_Alert__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/providers/Alert/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_providers_Breakpoints__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/providers/Breakpoints/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_providers_I18n__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/providers/I18n/index.js\");\n\n\n\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal[\"default\"].signature : function (a) {\n  return a;\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar manifest = __webpack_require__(\"./manifest.webapp\");\nvar SentryRoutes = _sentry_react__WEBPACK_IMPORTED_MODULE_6__[\"withSentryReactRouterV6Routing\"](react_router_dom__WEBPACK_IMPORTED_MODULE_14__[\"Routes\"]);\nvar RoutedEditor = function RoutedEditor() {\n  var _useParams = Object(react_router_dom__WEBPACK_IMPORTED_MODULE_14__[\"useParams\"])(),\n    id = _useParams.id;\n  var returnUrl = Object(lib_utils__WEBPACK_IMPORTED_MODULE_12__[\"getReturnUrl\"])();\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(components_notes_NoteProvider__WEBPACK_IMPORTED_MODULE_8__[\"NoteProvider\"], {\n    noteId: id\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(components_notes__WEBPACK_IMPORTED_MODULE_7__[\"Editor\"], {\n    noteId: id,\n    returnUrl: returnUrl,\n    readOnly: false\n  }));\n};\n__signature__(RoutedEditor, \"useParams{{ id }}\", function () {\n  return [react_router_dom__WEBPACK_IMPORTED_MODULE_14__[\"useParams\"]];\n});\nvar PrivateContext = function PrivateContext() {\n  var location = Object(react_router_dom__WEBPACK_IMPORTED_MODULE_14__[\"useLocation\"])();\n  var navigate = Object(react_router_dom__WEBPACK_IMPORTED_MODULE_14__[\"useNavigate\"])();\n  var state = location.state;\n  var ModalElement = function ModalElement() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(cozy_sharing__WEBPACK_IMPORTED_MODULE_20__[\"ShareModal\"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_2___default()({\n      onClose: function onClose() {\n        return navigate(-1);\n      }\n    }, state.shareModalProps));\n  };\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_13___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(SentryRoutes, {\n    location: (state === null || state === void 0 ? void 0 : state.backgroundLocation) || location\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_14__[\"Route\"], {\n    path: constants_routes__WEBPACK_IMPORTED_MODULE_4__[\"AppRoutes\"].New,\n    element: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(components_notes_new_route__WEBPACK_IMPORTED_MODULE_9__[\"default\"], null)\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_14__[\"Route\"], {\n    path: constants_routes__WEBPACK_IMPORTED_MODULE_4__[\"AppRoutes\"].Root,\n    element: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(components_notes__WEBPACK_IMPORTED_MODULE_7__[\"List\"], null)\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_14__[\"Route\"], {\n    path: constants_routes__WEBPACK_IMPORTED_MODULE_4__[\"AppRoutes\"].Editor,\n    element: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(RoutedEditor, null)\n  }), cozy_bar__WEBPACK_IMPORTED_MODULE_15__[\"BarRoutes\"].map(function (BarRoute) {\n    return BarRoute;\n  })), (state === null || state === void 0 ? void 0 : state.backgroundLocation) && (state === null || state === void 0 ? void 0 : state.shareModalProps) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(SentryRoutes, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_14__[\"Route\"], {\n    path: constants_routes__WEBPACK_IMPORTED_MODULE_4__[\"AppRoutes\"].ShareFromEditor,\n    element: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(ModalElement, null)\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_14__[\"Route\"], {\n    path: constants_routes__WEBPACK_IMPORTED_MODULE_4__[\"AppRoutes\"].ShareFromList,\n    element: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(ModalElement, null)\n  })));\n};\n__signature__(PrivateContext, \"useLocation{location}\\nuseNavigate{navigate}\", function () {\n  return [react_router_dom__WEBPACK_IMPORTED_MODULE_14__[\"useLocation\"], react_router_dom__WEBPACK_IMPORTED_MODULE_14__[\"useNavigate\"]];\n});\nvar openSharingLinkFabButtonStyle = {\n  bottom: '4.5rem'\n};\nvar PublicContext = function PublicContext() {\n  var client = Object(cozy_client__WEBPACK_IMPORTED_MODULE_16__[\"useClient\"])();\n  var _useBreakpoints = Object(cozy_ui_transpiled_react_providers_Breakpoints__WEBPACK_IMPORTED_MODULE_28__[\"default\"])(),\n    isMobile = _useBreakpoints.isMobile;\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_13__[\"useState\"])(null),\n    _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState, 2),\n    sharedDocumentId = _useState2[0],\n    setSharedDocumentId = _useState2[1];\n  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_13__[\"useState\"])(false),\n    _useState4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState3, 2),\n    readOnly = _useState4[0],\n    setReadOnly = _useState4[1];\n  var returnUrl = Object(react__WEBPACK_IMPORTED_MODULE_13__[\"useMemo\"])(function () {\n    return Object(lib_utils__WEBPACK_IMPORTED_MODULE_12__[\"getReturnUrl\"])();\n  }, []);\n  var _useSharingInfos = Object(cozy_sharing__WEBPACK_IMPORTED_MODULE_20__[\"useSharingInfos\"])(constants_strings__WEBPACK_IMPORTED_MODULE_5__[\"SHARING_LOCATION\"]),\n    loading = _useSharingInfos.loading,\n    isSharingShortcutCreated = _useSharingInfos.isSharingShortcutCreated,\n    addSharingLink = _useSharingInfos.addSharingLink;\n  var isPreview = Object(hooks_usePreview__WEBPACK_IMPORTED_MODULE_10__[\"usePreview\"])(window.location.pathname);\n  var isAddToMyCozyFabDisplayed = isMobile && isPreview && !loading && !isSharingShortcutCreated;\n  Object(react__WEBPACK_IMPORTED_MODULE_13__[\"useEffect\"])(function () {\n    var fetchData = /*#__PURE__*/function () {\n      var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee() {\n        var searchParams, id, _readOnly, _yield$getSharedDocum, _id, _readOnly2;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                searchParams = new URLSearchParams(window.location.search);\n                if (!searchParams.has('id')) {\n                  _context.next = 11;\n                  break;\n                }\n                // public route = /public/?sharecode=xxxx&id=xxxxx\n                // The id of the note is necessary because the sharecode\n                // may be about a folder and not a specific note.\n                id = searchParams.get('id');\n                _context.next = 6;\n                return Object(lib_utils__WEBPACK_IMPORTED_MODULE_12__[\"fetchIfIsNoteReadOnly\"])(client, id);\n              case 6:\n                _readOnly = _context.sent;\n                setReadOnly(_readOnly);\n                setSharedDocumentId(id);\n                _context.next = 18;\n                break;\n              case 11:\n                _context.next = 13;\n                return Object(lib_utils__WEBPACK_IMPORTED_MODULE_12__[\"getSharedDocument\"])(client);\n              case 13:\n                _yield$getSharedDocum = _context.sent;\n                _id = _yield$getSharedDocum.id;\n                _readOnly2 = _yield$getSharedDocum.readOnly;\n                setReadOnly(_readOnly2);\n                setSharedDocumentId(_id);\n              case 18:\n                _context.next = 23;\n                break;\n              case 20:\n                _context.prev = 20;\n                _context.t0 = _context[\"catch\"](0);\n                setSharedDocumentId(false);\n              case 23:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[0, 20]]);\n      }));\n      return function fetchData() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    fetchData();\n  }, [client]);\n  if (sharedDocumentId) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(components_notes_NoteProvider__WEBPACK_IMPORTED_MODULE_8__[\"NoteProvider\"], {\n      noteId: sharedDocumentId\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(components_notes__WEBPACK_IMPORTED_MODULE_7__[\"Editor\"], {\n      readOnly: readOnly,\n      noteId: sharedDocumentId,\n      returnUrl: returnUrl\n    }), isAddToMyCozyFabDisplayed && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(cozy_sharing__WEBPACK_IMPORTED_MODULE_20__[\"OpenSharingLinkFabButton\"], {\n      link: addSharingLink,\n      isSharingShortcutCreated: isSharingShortcutCreated,\n      style: openSharingLinkFabButtonStyle\n    }));\n  } else if (sharedDocumentId !== null) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(components_notes__WEBPACK_IMPORTED_MODULE_7__[\"Unshared\"], null);\n  } else {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(cozy_ui_transpiled_react_Spinner__WEBPACK_IMPORTED_MODULE_24__[\"default\"], {\n      size: \"xxlarge\",\n      middle: true\n    });\n  }\n};\n__signature__(PublicContext, \"useClient{client}\\nuseBreakpoints{{ isMobile }}\\nuseState{[sharedDocumentId, setSharedDocumentId](null)}\\nuseState{[readOnly, setReadOnly](false)}\\nuseMemo{returnUrl}\\nuseSharingInfos{{ loading, isSharingShortcutCreated, addSharingLink }}\\nusePreview{isPreview}\\nuseEffect{}\", function () {\n  return [cozy_client__WEBPACK_IMPORTED_MODULE_16__[\"useClient\"], cozy_ui_transpiled_react_providers_Breakpoints__WEBPACK_IMPORTED_MODULE_28__[\"default\"], cozy_sharing__WEBPACK_IMPORTED_MODULE_20__[\"useSharingInfos\"], hooks_usePreview__WEBPACK_IMPORTED_MODULE_10__[\"usePreview\"]];\n});\nvar App = function App(_ref2) {\n  var isPublic = _ref2.isPublic;\n  var client = Object(cozy_client__WEBPACK_IMPORTED_MODULE_16__[\"useClient\"])();\n  var _useBreakpoints2 = Object(cozy_ui_transpiled_react_providers_Breakpoints__WEBPACK_IMPORTED_MODULE_28__[\"default\"])(),\n    isMobile = _useBreakpoints2.isMobile;\n  var _useClientErrors = Object(cozy_ui_transpiled_react_hooks_useClientErrors__WEBPACK_IMPORTED_MODULE_26__[\"default\"])(),\n    ClientErrors = _useClientErrors.ClientErrors;\n  var _useI18n = Object(cozy_ui_transpiled_react_providers_I18n__WEBPACK_IMPORTED_MODULE_29__[\"useI18n\"])(),\n    t = _useI18n.t;\n  var appName = isMobile ? Object(lib_initFromDom__WEBPACK_IMPORTED_MODULE_11__[\"getDataOrDefault\"])(client.getInstanceOptions().app.name, manifest.name) : '';\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_13___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_14__[\"HashRouter\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(cozy_ui_transpiled_react_Layout__WEBPACK_IMPORTED_MODULE_23__[\"Layout\"], {\n    monoColumn: true\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(cozy_bar__WEBPACK_IMPORTED_MODULE_15__[\"BarComponent\"], {\n    isPublic: isPublic\n  }), !isPublic && isMobile && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(cozy_bar__WEBPACK_IMPORTED_MODULE_15__[\"BarCenter\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(cozy_ui_transpiled_react_BarTitle__WEBPACK_IMPORTED_MODULE_21__[\"default\"], null, appName)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(cozy_ui_transpiled_react_Layout__WEBPACK_IMPORTED_MODULE_23__[\"Main\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(cozy_ui_transpiled_react_Layout__WEBPACK_IMPORTED_MODULE_23__[\"Content\"], {\n    className: isMobile ? '' : 'u-m-0 u-bdrs-0'\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(cozy_ui_transpiled_react_providers_Alert__WEBPACK_IMPORTED_MODULE_27__[\"default\"], null, isPublic ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(PublicContext, null) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(PrivateContext, null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(cozy_client__WEBPACK_IMPORTED_MODULE_16__[\"RealTimeQueries\"], {\n    doctype: \"io.cozy.settings\"\n  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(cozy_ui_transpiled_react_Icon_Sprite__WEBPACK_IMPORTED_MODULE_22__[\"default\"], null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(cozy_ui_transpiled_react_deprecated_Alerter__WEBPACK_IMPORTED_MODULE_25__[\"default\"], {\n    t: t\n  }), cozy_flags__WEBPACK_IMPORTED_MODULE_19___default()('debug') && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(cozy_devtools__WEBPACK_IMPORTED_MODULE_18___default.a, null))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(ClientErrors, null));\n};\n__signature__(App, \"useClient{client}\\nuseBreakpoints{{ isMobile }}\\nuseClientErrors{{ ClientErrors }}\\nuseI18n{{ t }}\", function () {\n  return [cozy_client__WEBPACK_IMPORTED_MODULE_16__[\"useClient\"], cozy_ui_transpiled_react_providers_Breakpoints__WEBPACK_IMPORTED_MODULE_28__[\"default\"], cozy_ui_transpiled_react_hooks_useClientErrors__WEBPACK_IMPORTED_MODULE_26__[\"default\"], cozy_ui_transpiled_react_providers_I18n__WEBPACK_IMPORTED_MODULE_29__[\"useI18n\"]];\n});\nvar WrappedApp = function WrappedApp(props) {\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(DataProxyWrapper, props, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(cozy_bar__WEBPACK_IMPORTED_MODULE_15__[\"BarProvider\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(cozy_ui_transpiled_react_providers_Breakpoints__WEBPACK_IMPORTED_MODULE_28__[\"BreakpointsProvider\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(App, props))));\n};\nvar DataProxyWrapper = function DataProxyWrapper(_ref3) {\n  var children = _ref3.children,\n    isPublic = _ref3.isPublic;\n  if (isPublic) {\n    // Do not include DataProxy for public sharings\n    console.log('is public');\n    return children;\n  }\n  console.log('not public');\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(cozy_dataproxy_lib__WEBPACK_IMPORTED_MODULE_17__[\"DataProxyProvider\"], null, children);\n};\nvar _default = WrappedApp;\n/* harmony default export */ __webpack_exports__[\"default\"] = (_default);\n;\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n  if (!reactHotLoader) {\n    return;\n  }\n  reactHotLoader.register(SentryRoutes, \"SentryRoutes\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/app.jsx\");\n  reactHotLoader.register(RoutedEditor, \"RoutedEditor\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/app.jsx\");\n  reactHotLoader.register(PrivateContext, \"PrivateContext\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/app.jsx\");\n  reactHotLoader.register(openSharingLinkFabButtonStyle, \"openSharingLinkFabButtonStyle\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/app.jsx\");\n  reactHotLoader.register(PublicContext, \"PublicContext\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/app.jsx\");\n  reactHotLoader.register(App, \"App\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/app.jsx\");\n  reactHotLoader.register(WrappedApp, \"WrappedApp\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/app.jsx\");\n  reactHotLoader.register(DataProxyWrapper, \"DataProxyWrapper\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/app.jsx\");\n  reactHotLoader.register(_default, \"default\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/app.jsx\");\n})();\n;\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(\"./node_modules/webpack/buildin/harmony-module.js\")(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9hcHAuanN4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvYXBwLmpzeD80M2E1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlcyB9IGZyb20gJ2NvbnN0YW50cy9yb3V0ZXMnXG5pbXBvcnQgeyBTSEFSSU5HX0xPQ0FUSU9OIH0gZnJvbSAnY29uc3RhbnRzL3N0cmluZ3MnXG5cbmltcG9ydCAqIGFzIFNlbnRyeSBmcm9tICdAc2VudHJ5L3JlYWN0J1xuaW1wb3J0IHsgTGlzdCwgRWRpdG9yLCBVbnNoYXJlZCB9IGZyb20gJ2NvbXBvbmVudHMvbm90ZXMnXG5pbXBvcnQgeyBOb3RlUHJvdmlkZXIgfSBmcm9tICdjb21wb25lbnRzL25vdGVzL05vdGVQcm92aWRlcidcbmltcG9ydCBSb3V0ZU5ldyBmcm9tICdjb21wb25lbnRzL25vdGVzL25ldy1yb3V0ZSdcbmltcG9ydCB7IHVzZVByZXZpZXcgfSBmcm9tICdob29rcy91c2VQcmV2aWV3J1xuaW1wb3J0IHsgZ2V0RGF0YU9yRGVmYXVsdCB9IGZyb20gJ2xpYi9pbml0RnJvbURvbSdcbmltcG9ydCB7IGZldGNoSWZJc05vdGVSZWFkT25seSB9IGZyb20gJ2xpYi91dGlscydcbmltcG9ydCB7IGdldFJldHVyblVybCwgZ2V0U2hhcmVkRG9jdW1lbnQgfSBmcm9tICdsaWIvdXRpbHMnXG5pbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VNZW1vLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHtcbiAgSGFzaFJvdXRlcixcbiAgUm91dGUsXG4gIFJvdXRlcyxcbiAgdXNlTG9jYXRpb24sXG4gIHVzZU5hdmlnYXRlLFxuICB1c2VQYXJhbXNcbn0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSdcblxuaW1wb3J0IHsgQmFyUm91dGVzIH0gZnJvbSAnY296eS1iYXInXG5pbXBvcnQgeyBCYXJQcm92aWRlciwgQmFyQ29tcG9uZW50LCBCYXJDZW50ZXIgfSBmcm9tICdjb3p5LWJhcidcbmltcG9ydCB7IFJlYWxUaW1lUXVlcmllcywgdXNlQ2xpZW50IH0gZnJvbSAnY296eS1jbGllbnQnXG5pbXBvcnQgeyBEYXRhUHJveHlQcm92aWRlciB9IGZyb20gJ2NvenktZGF0YXByb3h5LWxpYidcbmltcG9ydCBDb3p5RGV2VG9vbHMgZnJvbSAnY296eS1kZXZ0b29scydcbmltcG9ydCBmbGFnIGZyb20gJ2NvenktZmxhZ3MnXG5pbXBvcnQge1xuICBTaGFyZU1vZGFsLFxuICB1c2VTaGFyaW5nSW5mb3MsXG4gIE9wZW5TaGFyaW5nTGlua0ZhYkJ1dHRvblxufSBmcm9tICdjb3p5LXNoYXJpbmcnXG5pbXBvcnQgQmFyVGl0bGUgZnJvbSAnY296eS11aS90cmFuc3BpbGVkL3JlYWN0L0JhclRpdGxlJ1xuaW1wb3J0IEljb25TcHJpdGUgZnJvbSAnY296eS11aS90cmFuc3BpbGVkL3JlYWN0L0ljb24vU3ByaXRlJ1xuaW1wb3J0IHsgTGF5b3V0LCBNYWluLCBDb250ZW50IH0gZnJvbSAnY296eS11aS90cmFuc3BpbGVkL3JlYWN0L0xheW91dCdcbmltcG9ydCBTcGlubmVyIGZyb20gJ2NvenktdWkvdHJhbnNwaWxlZC9yZWFjdC9TcGlubmVyJ1xuaW1wb3J0IEFsZXJ0ZXIgZnJvbSAnY296eS11aS90cmFuc3BpbGVkL3JlYWN0L2RlcHJlY2F0ZWQvQWxlcnRlcidcbmltcG9ydCB1c2VDbGllbnRFcnJvcnMgZnJvbSAnY296eS11aS90cmFuc3BpbGVkL3JlYWN0L2hvb2tzL3VzZUNsaWVudEVycm9ycydcbmltcG9ydCBBbGVydFByb3ZpZGVyIGZyb20gJ2NvenktdWkvdHJhbnNwaWxlZC9yZWFjdC9wcm92aWRlcnMvQWxlcnQnXG5pbXBvcnQgdXNlQnJlYWtwb2ludHMsIHtcbiAgQnJlYWtwb2ludHNQcm92aWRlclxufSBmcm9tICdjb3p5LXVpL3RyYW5zcGlsZWQvcmVhY3QvcHJvdmlkZXJzL0JyZWFrcG9pbnRzJ1xuaW1wb3J0IHsgdXNlSTE4biB9IGZyb20gJ2NvenktdWkvdHJhbnNwaWxlZC9yZWFjdC9wcm92aWRlcnMvSTE4bidcblxuY29uc3QgbWFuaWZlc3QgPSByZXF1aXJlKCcuLi8uLi9tYW5pZmVzdC53ZWJhcHAnKVxuXG5jb25zdCBTZW50cnlSb3V0ZXMgPSBTZW50cnkud2l0aFNlbnRyeVJlYWN0Um91dGVyVjZSb3V0aW5nKFJvdXRlcylcblxuY29uc3QgUm91dGVkRWRpdG9yID0gKCkgPT4ge1xuICBjb25zdCB7IGlkIH0gPSB1c2VQYXJhbXMoKVxuICBjb25zdCByZXR1cm5VcmwgPSBnZXRSZXR1cm5VcmwoKVxuXG4gIHJldHVybiAoXG4gICAgPE5vdGVQcm92aWRlciBub3RlSWQ9e2lkfT5cbiAgICAgIDxFZGl0b3Igbm90ZUlkPXtpZH0gcmV0dXJuVXJsPXtyZXR1cm5Vcmx9IHJlYWRPbmx5PXtmYWxzZX0gLz5cbiAgICA8L05vdGVQcm92aWRlcj5cbiAgKVxufVxuXG5jb25zdCBQcml2YXRlQ29udGV4dCA9ICgpID0+IHtcbiAgY29uc3QgbG9jYXRpb24gPSB1c2VMb2NhdGlvbigpXG4gIGNvbnN0IG5hdmlnYXRlID0gdXNlTmF2aWdhdGUoKVxuICBjb25zdCBzdGF0ZSA9IGxvY2F0aW9uLnN0YXRlXG5cbiAgY29uc3QgTW9kYWxFbGVtZW50ID0gKCkgPT4gKFxuICAgIDxTaGFyZU1vZGFsIG9uQ2xvc2U9eygpID0+IG5hdmlnYXRlKC0xKX0gey4uLnN0YXRlLnNoYXJlTW9kYWxQcm9wc30gLz5cbiAgKVxuXG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIDxTZW50cnlSb3V0ZXMgbG9jYXRpb249e3N0YXRlPy5iYWNrZ3JvdW5kTG9jYXRpb24gfHwgbG9jYXRpb259PlxuICAgICAgICA8Um91dGUgcGF0aD17QXBwUm91dGVzLk5ld30gZWxlbWVudD17PFJvdXRlTmV3IC8+fSAvPlxuICAgICAgICA8Um91dGUgcGF0aD17QXBwUm91dGVzLlJvb3R9IGVsZW1lbnQ9ezxMaXN0IC8+fSAvPlxuICAgICAgICA8Um91dGUgcGF0aD17QXBwUm91dGVzLkVkaXRvcn0gZWxlbWVudD17PFJvdXRlZEVkaXRvciAvPn0gLz5cbiAgICAgICAge0JhclJvdXRlcy5tYXAoQmFyUm91dGUgPT4gQmFyUm91dGUpfVxuICAgICAgPC9TZW50cnlSb3V0ZXM+XG5cbiAgICAgIHtzdGF0ZT8uYmFja2dyb3VuZExvY2F0aW9uICYmIHN0YXRlPy5zaGFyZU1vZGFsUHJvcHMgJiYgKFxuICAgICAgICA8U2VudHJ5Um91dGVzPlxuICAgICAgICAgIDxSb3V0ZSBwYXRoPXtBcHBSb3V0ZXMuU2hhcmVGcm9tRWRpdG9yfSBlbGVtZW50PXs8TW9kYWxFbGVtZW50IC8+fSAvPlxuXG4gICAgICAgICAgPFJvdXRlIHBhdGg9e0FwcFJvdXRlcy5TaGFyZUZyb21MaXN0fSBlbGVtZW50PXs8TW9kYWxFbGVtZW50IC8+fSAvPlxuICAgICAgICA8L1NlbnRyeVJvdXRlcz5cbiAgICAgICl9XG4gICAgPC8+XG4gIClcbn1cblxuY29uc3Qgb3BlblNoYXJpbmdMaW5rRmFiQnV0dG9uU3R5bGUgPSB7XG4gIGJvdHRvbTogJzQuNXJlbSdcbn1cbmNvbnN0IFB1YmxpY0NvbnRleHQgPSAoKSA9PiB7XG4gIGNvbnN0IGNsaWVudCA9IHVzZUNsaWVudCgpXG4gIGNvbnN0IHsgaXNNb2JpbGUgfSA9IHVzZUJyZWFrcG9pbnRzKClcbiAgY29uc3QgW3NoYXJlZERvY3VtZW50SWQsIHNldFNoYXJlZERvY3VtZW50SWRdID0gdXNlU3RhdGUobnVsbClcbiAgY29uc3QgW3JlYWRPbmx5LCBzZXRSZWFkT25seV0gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgcmV0dXJuVXJsID0gdXNlTWVtbygoKSA9PiBnZXRSZXR1cm5VcmwoKSwgW10pXG4gIGNvbnN0IHsgbG9hZGluZywgaXNTaGFyaW5nU2hvcnRjdXRDcmVhdGVkLCBhZGRTaGFyaW5nTGluayB9ID1cbiAgICB1c2VTaGFyaW5nSW5mb3MoU0hBUklOR19MT0NBVElPTilcbiAgY29uc3QgaXNQcmV2aWV3ID0gdXNlUHJldmlldyh3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUpXG4gIGNvbnN0IGlzQWRkVG9NeUNvenlGYWJEaXNwbGF5ZWQgPVxuICAgIGlzTW9iaWxlICYmIGlzUHJldmlldyAmJiAhbG9hZGluZyAmJiAhaXNTaGFyaW5nU2hvcnRjdXRDcmVhdGVkXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBmZXRjaERhdGEgPSBhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBzZWFyY2hQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpXG4gICAgICAgIGlmIChzZWFyY2hQYXJhbXMuaGFzKCdpZCcpKSB7XG4gICAgICAgICAgLy8gcHVibGljIHJvdXRlID0gL3B1YmxpYy8/c2hhcmVjb2RlPXh4eHgmaWQ9eHh4eHhcbiAgICAgICAgICAvLyBUaGUgaWQgb2YgdGhlIG5vdGUgaXMgbmVjZXNzYXJ5IGJlY2F1c2UgdGhlIHNoYXJlY29kZVxuICAgICAgICAgIC8vIG1heSBiZSBhYm91dCBhIGZvbGRlciBhbmQgbm90IGEgc3BlY2lmaWMgbm90ZS5cbiAgICAgICAgICBjb25zdCBpZCA9IHNlYXJjaFBhcmFtcy5nZXQoJ2lkJylcbiAgICAgICAgICBjb25zdCByZWFkT25seSA9IGF3YWl0IGZldGNoSWZJc05vdGVSZWFkT25seShjbGllbnQsIGlkKVxuICAgICAgICAgIHNldFJlYWRPbmx5KHJlYWRPbmx5KVxuICAgICAgICAgIHNldFNoYXJlZERvY3VtZW50SWQoaWQpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gcHVibGljIHJvdXRlID0gL3B1YmxpYy8/c2hhcmVjb2RlPXh4eHh4XG4gICAgICAgICAgLy8gVGhlcmUgaXMgbm8gaWQuIEl0IHNob3VsZCBiZSBhIHNoYXJlY29kZVxuICAgICAgICAgIC8vIGRlZGljYXRlZCB0byBhIHVuaXF1ZSBub3RlLiBXZSBsb29rIGludG9cbiAgICAgICAgICAvLyBwZXJtaXNzaW9ucyBhbmQgdHJ5IHRvIG9wZW4gdGhlIGZpcnN0IGZpbGUuXG4gICAgICAgICAgY29uc3QgeyBpZCwgcmVhZE9ubHkgfSA9IGF3YWl0IGdldFNoYXJlZERvY3VtZW50KGNsaWVudClcbiAgICAgICAgICBzZXRSZWFkT25seShyZWFkT25seSlcbiAgICAgICAgICBzZXRTaGFyZWREb2N1bWVudElkKGlkKVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgc2V0U2hhcmVkRG9jdW1lbnRJZChmYWxzZSlcbiAgICAgIH1cbiAgICB9XG4gICAgZmV0Y2hEYXRhKClcbiAgfSwgW2NsaWVudF0pXG4gIGlmIChzaGFyZWREb2N1bWVudElkKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxOb3RlUHJvdmlkZXIgbm90ZUlkPXtzaGFyZWREb2N1bWVudElkfT5cbiAgICAgICAgPEVkaXRvclxuICAgICAgICAgIHJlYWRPbmx5PXtyZWFkT25seX1cbiAgICAgICAgICBub3RlSWQ9e3NoYXJlZERvY3VtZW50SWR9XG4gICAgICAgICAgcmV0dXJuVXJsPXtyZXR1cm5Vcmx9XG4gICAgICAgIC8+XG4gICAgICAgIHtpc0FkZFRvTXlDb3p5RmFiRGlzcGxheWVkICYmIChcbiAgICAgICAgICA8T3BlblNoYXJpbmdMaW5rRmFiQnV0dG9uXG4gICAgICAgICAgICBsaW5rPXthZGRTaGFyaW5nTGlua31cbiAgICAgICAgICAgIGlzU2hhcmluZ1Nob3J0Y3V0Q3JlYXRlZD17aXNTaGFyaW5nU2hvcnRjdXRDcmVhdGVkfVxuICAgICAgICAgICAgc3R5bGU9e29wZW5TaGFyaW5nTGlua0ZhYkJ1dHRvblN0eWxlfVxuICAgICAgICAgIC8+XG4gICAgICAgICl9XG4gICAgICA8L05vdGVQcm92aWRlcj5cbiAgICApXG4gIH0gZWxzZSBpZiAoc2hhcmVkRG9jdW1lbnRJZCAhPT0gbnVsbCkge1xuICAgIHJldHVybiA8VW5zaGFyZWQgLz5cbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gPFNwaW5uZXIgc2l6ZT1cInh4bGFyZ2VcIiBtaWRkbGUgLz5cbiAgfVxufVxuXG5jb25zdCBBcHAgPSAoeyBpc1B1YmxpYyB9KSA9PiB7XG4gIGNvbnN0IGNsaWVudCA9IHVzZUNsaWVudCgpXG4gIGNvbnN0IHsgaXNNb2JpbGUgfSA9IHVzZUJyZWFrcG9pbnRzKClcbiAgY29uc3QgeyBDbGllbnRFcnJvcnMgfSA9IHVzZUNsaWVudEVycm9ycygpXG4gIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpXG5cbiAgY29uc3QgYXBwTmFtZSA9IGlzTW9iaWxlXG4gICAgPyBnZXREYXRhT3JEZWZhdWx0KGNsaWVudC5nZXRJbnN0YW5jZU9wdGlvbnMoKS5hcHAubmFtZSwgbWFuaWZlc3QubmFtZSlcbiAgICA6ICcnXG5cbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAgPEhhc2hSb3V0ZXI+XG4gICAgICAgIDxMYXlvdXQgbW9ub0NvbHVtbj17dHJ1ZX0+XG4gICAgICAgICAgPEJhckNvbXBvbmVudCBpc1B1YmxpYz17aXNQdWJsaWN9IC8+XG4gICAgICAgICAgeyFpc1B1YmxpYyAmJiBpc01vYmlsZSAmJiAoXG4gICAgICAgICAgICA8QmFyQ2VudGVyPlxuICAgICAgICAgICAgICA8QmFyVGl0bGU+e2FwcE5hbWV9PC9CYXJUaXRsZT5cbiAgICAgICAgICAgIDwvQmFyQ2VudGVyPlxuICAgICAgICAgICl9XG5cbiAgICAgICAgICA8TWFpbj5cbiAgICAgICAgICAgIDxDb250ZW50IGNsYXNzTmFtZT17aXNNb2JpbGUgPyAnJyA6ICd1LW0tMCB1LWJkcnMtMCd9PlxuICAgICAgICAgICAgICA8QWxlcnRQcm92aWRlcj5cbiAgICAgICAgICAgICAgICB7aXNQdWJsaWMgPyA8UHVibGljQ29udGV4dCAvPiA6IDxQcml2YXRlQ29udGV4dCAvPn1cbiAgICAgICAgICAgICAgPC9BbGVydFByb3ZpZGVyPlxuICAgICAgICAgICAgICA8UmVhbFRpbWVRdWVyaWVzIGRvY3R5cGU9XCJpby5jb3p5LnNldHRpbmdzXCIgLz5cbiAgICAgICAgICAgIDwvQ29udGVudD5cbiAgICAgICAgICA8L01haW4+XG4gICAgICAgICAgPEljb25TcHJpdGUgLz5cbiAgICAgICAgICA8QWxlcnRlciB0PXt0fSAvPlxuICAgICAgICAgIHtmbGFnKCdkZWJ1ZycpICYmIDxDb3p5RGV2VG9vbHMgLz59XG4gICAgICAgIDwvTGF5b3V0PlxuICAgICAgPC9IYXNoUm91dGVyPlxuICAgICAgPENsaWVudEVycm9ycyAvPlxuICAgIDwvPlxuICApXG59XG5cbmNvbnN0IFdyYXBwZWRBcHAgPSBwcm9wcyA9PiAoXG4gIDxEYXRhUHJveHlXcmFwcGVyIHsuLi5wcm9wc30+XG4gICAgPEJhclByb3ZpZGVyPlxuICAgICAgPEJyZWFrcG9pbnRzUHJvdmlkZXI+XG4gICAgICAgIDxBcHAgey4uLnByb3BzfSAvPlxuICAgICAgPC9CcmVha3BvaW50c1Byb3ZpZGVyPlxuICAgIDwvQmFyUHJvdmlkZXI+XG4gIDwvRGF0YVByb3h5V3JhcHBlcj5cbilcblxuY29uc3QgRGF0YVByb3h5V3JhcHBlciA9ICh7IGNoaWxkcmVuLCBpc1B1YmxpYyB9KSA9PiB7XG4gIGlmIChpc1B1YmxpYykge1xuICAgIC8vIERvIG5vdCBpbmNsdWRlIERhdGFQcm94eSBmb3IgcHVibGljIHNoYXJpbmdzXG4gICAgY29uc29sZS5sb2coJ2lzIHB1YmxpYycpXG4gICAgcmV0dXJuIGNoaWxkcmVuXG4gIH1cbiAgY29uc29sZS5sb2coJ25vdCBwdWJsaWMnKVxuXG4gIHJldHVybiA8RGF0YVByb3h5UHJvdmlkZXI+e2NoaWxkcmVufTwvRGF0YVByb3h5UHJvdmlkZXI+XG59XG5cbmV4cG9ydCBkZWZhdWx0IFdyYXBwZWRBcHBcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUFBO0FBVEE7QUFDQTtBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBS0E7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBS0E7QUFBQTtBQTNCQTtBQUVBO0FBMkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFNQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUF2QkE7QUFBQTtBQUFBO0FBd0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBSUE7QUFDQTtBQUNBO0FBQUE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQTdEQTtBQVFBO0FBdURBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBSUE7QUFHQTtBQUFBO0FBQ0E7QUFBQTtBQVFBO0FBQUE7QUFJQTtBQUFBO0FBSUE7QUFBQTtBQU9BO0FBQUE7QUFyQ0E7QUFJQTtBQW1DQTtBQUFBO0FBT0E7QUFHQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBeEtBO0FBRUE7QUFXQTtBQTZCQTtBQUdBO0FBK0RBO0FBdUNBO0FBVUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/app.jsx\n");

/***/ }),

/***/ "./src/components/header_menu.jsx":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/extends.js\");\n/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var constants_strings__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./src/constants/strings.ts\");\n/* harmony import */ var hooks_useFetchIcons__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./src/hooks/useFetchIcons.tsx\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var types_enums__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./src/types/enums.ts\");\n/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./node_modules/cozy-client/dist/index.js\");\n/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var cozy_ui_transpiled_react_AppIcon__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/AppIcon/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_AppLinker__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/AppLinker/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_Divider__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/Divider/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_Link__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/Link/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/Typography/index.js\");\n/* harmony import */ var _HeaderNotePath__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"./src/components/HeaderNotePath.jsx\");\n/* harmony import */ var _header_menu_styl__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"./src/components/header_menu.styl\");\n/* harmony import */ var _header_menu_styl__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_header_menu_styl__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var _notes_List_WithBreakpoints__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(\"./src/components/notes/List/WithBreakpoints.tsx\");\n\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal[\"default\"].signature : function (a) {\n  return a;\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * HeaderMenu component.\n *\n * @component\n * @param {string} props.homeHref - The home href.\n * @param {ReactNode} props.leftComponent - The left component.\n * @param {ReactNode} props.rightComponent - The right component.\n * @param {boolean} props.isPublic - Indicates if the component is public.\n * @param {import('cozy-client/types').IOCozyFile} props.file - The file associated with the editor.\n * @param {ReactNode} props.bannerComponent - The banner component.\n */\nvar HeaderMenu = function HeaderMenu(_ref) {\n  var homeHref = _ref.homeHref,\n    leftComponent = _ref.leftComponent,\n    rightComponent = _ref.rightComponent,\n    isPublic = _ref.isPublic,\n    file = _ref.file,\n    bannerComponent = _ref.bannerComponent;\n  var _useFetchIcons = Object(hooks_useFetchIcons__WEBPACK_IMPORTED_MODULE_2__[\"useFetchIcons\"])(),\n    fetchHomeIcon = _useFetchIcons.fetchHomeIcon,\n    fetchNoteIcon = _useFetchIcons.fetchNoteIcon;\n  var _models$file$splitFil = cozy_client__WEBPACK_IMPORTED_MODULE_6__[\"models\"].file.splitFilename(file.attributes),\n    filename = _models$file$splitFil.filename;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"header\", {\n    className: _header_menu_styl__WEBPACK_IMPORTED_MODULE_13___default.a['header']\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"div\", {\n    className: _header_menu_styl__WEBPACK_IMPORTED_MODULE_13___default.a['header-menu']\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_notes_List_WithBreakpoints__WEBPACK_IMPORTED_MODULE_14__[\"WithBreakpoints\"], {\n    hideOn: types_enums__WEBPACK_IMPORTED_MODULE_5__[\"Breakpoints\"].Mobile\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(cozy_ui_transpiled_react_AppLinker__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n    app: {\n      slug: constants_strings__WEBPACK_IMPORTED_MODULE_1__[\"Slugs\"].Home\n    },\n    href: homeHref\n  }, function (_ref2) {\n    var href = _ref2.href;\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(cozy_ui_transpiled_react_Link__WEBPACK_IMPORTED_MODULE_10__[\"default\"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, !isPublic && {\n      href: href\n    }, {\n      className: _header_menu_styl__WEBPACK_IMPORTED_MODULE_13___default.a['home-link']\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(cozy_ui_transpiled_react_AppIcon__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n      app: constants_strings__WEBPACK_IMPORTED_MODULE_1__[\"Slugs\"].Home,\n      alt: constants_strings__WEBPACK_IMPORTED_MODULE_1__[\"Slugs\"].Home,\n      fetchIcon: fetchHomeIcon\n    }));\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(cozy_ui_transpiled_react_Divider__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n    orientation: \"vertical\",\n    className: \"u-ml-1\",\n    flexItem: true\n  })), leftComponent, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"div\", {\n    className: _header_menu_styl__WEBPACK_IMPORTED_MODULE_13___default.a['file-infos']\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_notes_List_WithBreakpoints__WEBPACK_IMPORTED_MODULE_14__[\"WithBreakpoints\"], {\n    hideOn: types_enums__WEBPACK_IMPORTED_MODULE_5__[\"Breakpoints\"].Mobile\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(cozy_ui_transpiled_react_AppIcon__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n    app: file.attributes.cozyMetadata.createdByApp,\n    className: _header_menu_styl__WEBPACK_IMPORTED_MODULE_13___default.a['app-icon'],\n    fetchIcon: fetchNoteIcon\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_11__[\"default\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"strong\", null, filename)), !isPublic && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_HeaderNotePath__WEBPACK_IMPORTED_MODULE_12__[\"HeaderNotePath\"], {\n    file: file\n  }))), rightComponent), bannerComponent);\n};\n__signature__(HeaderMenu, \"useFetchIcons{{ fetchHomeIcon, fetchNoteIcon }}\", function () {\n  return [hooks_useFetchIcons__WEBPACK_IMPORTED_MODULE_2__[\"useFetchIcons\"]];\n});\nHeaderMenu.propTypes = {\n  homeHref: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string,\n  leftComponent: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.node,\n  rightComponent: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.node,\n  isPublic: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.bool,\n  file: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.object.isRequired,\n  bannerComponent: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.node\n};\nvar _default = HeaderMenu;\n/* harmony default export */ __webpack_exports__[\"default\"] = (_default);\n;\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n  if (!reactHotLoader) {\n    return;\n  }\n  reactHotLoader.register(HeaderMenu, \"HeaderMenu\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/header_menu.jsx\");\n  reactHotLoader.register(_default, \"default\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/header_menu.jsx\");\n})();\n;\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(\"./node_modules/webpack/buildin/harmony-module.js\")(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9oZWFkZXJfbWVudS5qc3guanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9oZWFkZXJfbWVudS5qc3g/NGJjYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTbHVncyB9IGZyb20gJ2NvbnN0YW50cy9zdHJpbmdzJ1xuXG5pbXBvcnQgeyB1c2VGZXRjaEljb25zIH0gZnJvbSAnaG9va3MvdXNlRmV0Y2hJY29ucydcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcydcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCB7IEJyZWFrcG9pbnRzIH0gZnJvbSAndHlwZXMvZW51bXMnXG5cbmltcG9ydCB7IG1vZGVscyB9IGZyb20gJ2NvenktY2xpZW50J1xuaW1wb3J0IEFwcEljb24gZnJvbSAnY296eS11aS90cmFuc3BpbGVkL3JlYWN0L0FwcEljb24nXG5pbXBvcnQgQXBwTGlua2VyIGZyb20gJ2NvenktdWkvdHJhbnNwaWxlZC9yZWFjdC9BcHBMaW5rZXInXG5pbXBvcnQgRGl2aWRlciBmcm9tICdjb3p5LXVpL3RyYW5zcGlsZWQvcmVhY3QvRGl2aWRlcidcbmltcG9ydCBMaW5rIGZyb20gJ2NvenktdWkvdHJhbnNwaWxlZC9yZWFjdC9MaW5rJ1xuaW1wb3J0IFR5cG9ncmFwaHkgZnJvbSAnY296eS11aS90cmFuc3BpbGVkL3JlYWN0L1R5cG9ncmFwaHknXG5cbmltcG9ydCB7IEhlYWRlck5vdGVQYXRoIH0gZnJvbSAnLi9IZWFkZXJOb3RlUGF0aCdcbmltcG9ydCBzdHlsZXMgZnJvbSAnLi9oZWFkZXJfbWVudS5zdHlsJ1xuaW1wb3J0IHsgV2l0aEJyZWFrcG9pbnRzIH0gZnJvbSAnLi9ub3Rlcy9MaXN0L1dpdGhCcmVha3BvaW50cydcblxuLyoqXG4gKiBIZWFkZXJNZW51IGNvbXBvbmVudC5cbiAqXG4gKiBAY29tcG9uZW50XG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcHMuaG9tZUhyZWYgLSBUaGUgaG9tZSBocmVmLlxuICogQHBhcmFtIHtSZWFjdE5vZGV9IHByb3BzLmxlZnRDb21wb25lbnQgLSBUaGUgbGVmdCBjb21wb25lbnQuXG4gKiBAcGFyYW0ge1JlYWN0Tm9kZX0gcHJvcHMucmlnaHRDb21wb25lbnQgLSBUaGUgcmlnaHQgY29tcG9uZW50LlxuICogQHBhcmFtIHtib29sZWFufSBwcm9wcy5pc1B1YmxpYyAtIEluZGljYXRlcyBpZiB0aGUgY29tcG9uZW50IGlzIHB1YmxpYy5cbiAqIEBwYXJhbSB7aW1wb3J0KCdjb3p5LWNsaWVudC90eXBlcycpLklPQ296eUZpbGV9IHByb3BzLmZpbGUgLSBUaGUgZmlsZSBhc3NvY2lhdGVkIHdpdGggdGhlIGVkaXRvci5cbiAqIEBwYXJhbSB7UmVhY3ROb2RlfSBwcm9wcy5iYW5uZXJDb21wb25lbnQgLSBUaGUgYmFubmVyIGNvbXBvbmVudC5cbiAqL1xuY29uc3QgSGVhZGVyTWVudSA9ICh7XG4gIGhvbWVIcmVmLFxuICBsZWZ0Q29tcG9uZW50LFxuICByaWdodENvbXBvbmVudCxcbiAgaXNQdWJsaWMsXG4gIGZpbGUsXG4gIGJhbm5lckNvbXBvbmVudFxufSkgPT4ge1xuICBjb25zdCB7IGZldGNoSG9tZUljb24sIGZldGNoTm90ZUljb24gfSA9IHVzZUZldGNoSWNvbnMoKVxuICBjb25zdCB7IGZpbGVuYW1lIH0gPSBtb2RlbHMuZmlsZS5zcGxpdEZpbGVuYW1lKGZpbGUuYXR0cmlidXRlcylcblxuICByZXR1cm4gKFxuICAgIDxoZWFkZXIgY2xhc3NOYW1lPXtzdHlsZXNbJ2hlYWRlciddfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXNbJ2hlYWRlci1tZW51J119PlxuICAgICAgICA8V2l0aEJyZWFrcG9pbnRzIGhpZGVPbj17QnJlYWtwb2ludHMuTW9iaWxlfT5cbiAgICAgICAgICA8QXBwTGlua2VyIGFwcD17eyBzbHVnOiBTbHVncy5Ib21lIH19IGhyZWY9e2hvbWVIcmVmfT5cbiAgICAgICAgICAgIHsoeyBocmVmIH0pID0+IChcbiAgICAgICAgICAgICAgPExpbmtcbiAgICAgICAgICAgICAgICB7Li4uKCFpc1B1YmxpYyAmJiB7IGhyZWYgfSl9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtzdHlsZXNbJ2hvbWUtbGluayddfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPEFwcEljb25cbiAgICAgICAgICAgICAgICAgIGFwcD17U2x1Z3MuSG9tZX1cbiAgICAgICAgICAgICAgICAgIGFsdD17U2x1Z3MuSG9tZX1cbiAgICAgICAgICAgICAgICAgIGZldGNoSWNvbj17ZmV0Y2hIb21lSWNvbn1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvQXBwTGlua2VyPlxuXG4gICAgICAgICAgPERpdmlkZXIgb3JpZW50YXRpb249XCJ2ZXJ0aWNhbFwiIGNsYXNzTmFtZT1cInUtbWwtMVwiIGZsZXhJdGVtIC8+XG4gICAgICAgIDwvV2l0aEJyZWFrcG9pbnRzPlxuXG4gICAgICAgIHtsZWZ0Q29tcG9uZW50fVxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXNbJ2ZpbGUtaW5mb3MnXX0+XG4gICAgICAgICAgPFdpdGhCcmVha3BvaW50cyBoaWRlT249e0JyZWFrcG9pbnRzLk1vYmlsZX0+XG4gICAgICAgICAgICA8QXBwSWNvblxuICAgICAgICAgICAgICBhcHA9e2ZpbGUuYXR0cmlidXRlcy5jb3p5TWV0YWRhdGEuY3JlYXRlZEJ5QXBwfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9e3N0eWxlc1snYXBwLWljb24nXX1cbiAgICAgICAgICAgICAgZmV0Y2hJY29uPXtmZXRjaE5vdGVJY29ufVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L1dpdGhCcmVha3BvaW50cz5cblxuICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8VHlwb2dyYXBoeT5cbiAgICAgICAgICAgICAgPHN0cm9uZz57ZmlsZW5hbWV9PC9zdHJvbmc+XG4gICAgICAgICAgICA8L1R5cG9ncmFwaHk+XG5cbiAgICAgICAgICAgIHshaXNQdWJsaWMgJiYgPEhlYWRlck5vdGVQYXRoIGZpbGU9e2ZpbGV9IC8+fVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7cmlnaHRDb21wb25lbnR9XG4gICAgICA8L2Rpdj5cbiAgICAgIHtiYW5uZXJDb21wb25lbnR9XG4gICAgPC9oZWFkZXI+XG4gIClcbn1cblxuSGVhZGVyTWVudS5wcm9wVHlwZXMgPSB7XG4gIGhvbWVIcmVmOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBsZWZ0Q29tcG9uZW50OiBQcm9wVHlwZXMubm9kZSxcbiAgcmlnaHRDb21wb25lbnQ6IFByb3BUeXBlcy5ub2RlLFxuICBpc1B1YmxpYzogUHJvcFR5cGVzLmJvb2wsXG4gIGZpbGU6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcbiAgYmFubmVyQ29tcG9uZW50OiBQcm9wVHlwZXMubm9kZVxufVxuXG5leHBvcnQgZGVmYXVsdCBIZWFkZXJNZW51XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFJQTtBQUFBO0FBQUE7QUFBQTtBQUtBO0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFTQTtBQUFBO0FBU0E7QUFBQTtBQTFEQTtBQVFBO0FBb0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFyRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/header_menu.jsx\n");

/***/ }),

/***/ "./src/components/header_menu.styl":
/***/ (function(module, exports, __webpack_require__) {

eval("\nvar content = __webpack_require__(\"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/stylus-loader/index.js?!./src/components/header_menu.styl\");\n\nif(typeof content === 'string') content = [[module.i, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = __webpack_require__(\"./node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(true) {\n\tmodule.hot.accept(\"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/stylus-loader/index.js?!./src/components/header_menu.styl\", function() {\n\t\tvar newContent = __webpack_require__(\"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/stylus-loader/index.js?!./src/components/header_menu.styl\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.i, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9oZWFkZXJfbWVudS5zdHlsLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvaGVhZGVyX21lbnUuc3R5bD9kN2ViIl0sInNvdXJjZXNDb250ZW50IjpbIlxudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0xMS0xIS4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3Bvc3Rjc3MhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWx1cy1sb2FkZXIvaW5kZXguanM/P3JlZi0tMTEtMyEuL2hlYWRlcl9tZW51LnN0eWxcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXG52YXIgdHJhbnNmb3JtO1xudmFyIGluc2VydEludG87XG5cblxuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG5vcHRpb25zLmluc2VydEludG8gPSB1bmRlZmluZWQ7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cbmlmKG1vZHVsZS5ob3QpIHtcblx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTExLTEhLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cG9zdGNzcyEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bHVzLWxvYWRlci9pbmRleC5qcz8/cmVmLS0xMS0zIS4vaGVhZGVyX21lbnUuc3R5bFwiLCBmdW5jdGlvbigpIHtcblx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTExLTEhLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cG9zdGNzcyEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bHVzLWxvYWRlci9pbmRleC5qcz8/cmVmLS0xMS0zIS4vaGVhZGVyX21lbnUuc3R5bFwiKTtcblxuXHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXG5cdFx0dmFyIGxvY2FscyA9IChmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHR2YXIga2V5LCBpZHggPSAwO1xuXG5cdFx0XHRmb3Ioa2V5IGluIGEpIHtcblx0XHRcdFx0aWYoIWIgfHwgYVtrZXldICE9PSBiW2tleV0pIHJldHVybiBmYWxzZTtcblx0XHRcdFx0aWR4Kys7XG5cdFx0XHR9XG5cblx0XHRcdGZvcihrZXkgaW4gYikgaWR4LS07XG5cblx0XHRcdHJldHVybiBpZHggPT09IDA7XG5cdFx0fShjb250ZW50LmxvY2FscywgbmV3Q29udGVudC5sb2NhbHMpKTtcblxuXHRcdGlmKCFsb2NhbHMpIHRocm93IG5ldyBFcnJvcignQWJvcnRpbmcgQ1NTIEhNUiBkdWUgdG8gY2hhbmdlZCBjc3MtbW9kdWxlcyBsb2NhbHMuJyk7XG5cblx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdH0pO1xuXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/header_menu.styl\n");

/***/ }),

/***/ "./src/components/notes/EditorCorner.jsx":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony import */ var constants_strings__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./src/constants/strings.ts\");\n/* harmony import */ var components_notes_PublicToolbarMoreMenu__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./src/components/notes/PublicToolbarMoreMenu.jsx\");\n/* harmony import */ var components_notes_sharing__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./src/components/notes/sharing.jsx\");\n/* harmony import */ var hooks_usePreview__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./src/hooks/usePreview.tsx\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var cozy_sharing__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./node_modules/cozy-sharing/dist/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_ActionsMenu_Actions__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/ActionsMenu/Actions/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/Icon/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_Tooltip__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/Tooltip/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_providers_Breakpoints__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/providers/Breakpoints/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_providers_I18n__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/providers/I18n/index.js\");\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal[\"default\"].signature : function (a) {\n  return a;\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\n// https://mui.com/components/tooltips/#custom-child-element\nvar ForwardedIcon = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.forwardRef(function ForwardedIcon(props, ref) {\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(\"div\", {\n    ref: ref\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_8__[\"default\"], props));\n});\n\n/**\n * EditorCorner is responsible to display the sharing button or the lock icon\n *\n * @component\n * @param {boolean} isPublic - Indicates whether the editor is public or not.\n * @param {boolean} isReadOnly - Indicates whether the editor is read-only or not.\n * @param {string} title - The title of the editor.\n * @param {import('cozy-client/types').IOCozyFile} file - The file associated with the editor.\n */\nvar EditorCorner = function EditorCorner(_ref) {\n  var isPublic = _ref.isPublic,\n    isReadOnly = _ref.isReadOnly,\n    title = _ref.title,\n    file = _ref.file;\n  var _useI18n = Object(cozy_ui_transpiled_react_providers_I18n__WEBPACK_IMPORTED_MODULE_11__[\"useI18n\"])(),\n    t = _useI18n.t;\n  var _useBreakpoints = Object(cozy_ui_transpiled_react_providers_Breakpoints__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(),\n    isMobile = _useBreakpoints.isMobile;\n  var _useSharingInfos = Object(cozy_sharing__WEBPACK_IMPORTED_MODULE_6__[\"useSharingInfos\"])(constants_strings__WEBPACK_IMPORTED_MODULE_0__[\"SHARING_LOCATION\"]),\n    addSharingLink = _useSharingInfos.addSharingLink,\n    isSharingShortcutCreated = _useSharingInfos.isSharingShortcutCreated,\n    loading = _useSharingInfos.loading;\n  var isPreview = Object(hooks_usePreview__WEBPACK_IMPORTED_MODULE_3__[\"usePreview\"])(window.location.pathname);\n  var actions = Object(cozy_ui_transpiled_react_ActionsMenu_Actions__WEBPACK_IMPORTED_MODULE_7__[\"makeActions\"])([cozy_sharing__WEBPACK_IMPORTED_MODULE_6__[\"addToCozySharingLink\"], cozy_sharing__WEBPACK_IMPORTED_MODULE_6__[\"syncToCozySharingLink\"]], {\n    isSharingShortcutCreated: isSharingShortcutCreated,\n    addSharingLink: addSharingLink\n  });\n  if (!isPublic) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(components_notes_sharing__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n      file: file,\n      title: title\n    });\n  }\n  var isToolbarButtonsDisplayed = !isMobile && isPreview && !loading && !isSharingShortcutCreated;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_5___default.a.Fragment, null, isToolbarButtonsDisplayed && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(cozy_sharing__WEBPACK_IMPORTED_MODULE_6__[\"OpenSharingLinkButton\"], {\n    link: addSharingLink,\n    isSharingShortcutCreated: isSharingShortcutCreated\n  }), isPreview && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(components_notes_PublicToolbarMoreMenu__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n    files: [file],\n    actions: actions\n  }), isReadOnly && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(cozy_ui_transpiled_react_Tooltip__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n    title: t('Notes.Editor.read_only'),\n    className: \"u-ml-half\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(ForwardedIcon, {\n    icon: \"lock\",\n    color: \"var(--primaryTextColor)\"\n  })));\n};\n__signature__(EditorCorner, \"useI18n{{ t }}\\nuseBreakpoints{{ isMobile }}\\nuseSharingInfos{{ addSharingLink, isSharingShortcutCreated, loading }}\\nusePreview{isPreview}\", function () {\n  return [cozy_ui_transpiled_react_providers_I18n__WEBPACK_IMPORTED_MODULE_11__[\"useI18n\"], cozy_ui_transpiled_react_providers_Breakpoints__WEBPACK_IMPORTED_MODULE_10__[\"default\"], cozy_sharing__WEBPACK_IMPORTED_MODULE_6__[\"useSharingInfos\"], hooks_usePreview__WEBPACK_IMPORTED_MODULE_3__[\"usePreview\"]];\n});\nEditorCorner.propTypes = {\n  isPublic: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.bool.isRequired,\n  isReadOnly: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.bool.isRequired,\n  title: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string.isRequired,\n  file: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.object.isRequired\n};\nvar _default = EditorCorner;\n/* harmony default export */ __webpack_exports__[\"default\"] = (_default);\n;\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n  if (!reactHotLoader) {\n    return;\n  }\n  reactHotLoader.register(ForwardedIcon, \"ForwardedIcon\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/notes/EditorCorner.jsx\");\n  reactHotLoader.register(EditorCorner, \"EditorCorner\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/notes/EditorCorner.jsx\");\n  reactHotLoader.register(_default, \"default\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/notes/EditorCorner.jsx\");\n})();\n;\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(\"./node_modules/webpack/buildin/harmony-module.js\")(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9ub3Rlcy9FZGl0b3JDb3JuZXIuanN4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvbm90ZXMvRWRpdG9yQ29ybmVyLmpzeD8yYjU4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNIQVJJTkdfTE9DQVRJT04gfSBmcm9tICdjb25zdGFudHMvc3RyaW5ncydcblxuaW1wb3J0IFB1YmxpY1Rvb2xiYXJNb3JlTWVudSBmcm9tICdjb21wb25lbnRzL25vdGVzL1B1YmxpY1Rvb2xiYXJNb3JlTWVudSdcbmltcG9ydCBTaGFyaW5nV2lkZ2V0IGZyb20gJ2NvbXBvbmVudHMvbm90ZXMvc2hhcmluZydcbmltcG9ydCB7IHVzZVByZXZpZXcgfSBmcm9tICdob29rcy91c2VQcmV2aWV3J1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJ1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuXG5pbXBvcnQge1xuICB1c2VTaGFyaW5nSW5mb3MsXG4gIGFkZFRvQ296eVNoYXJpbmdMaW5rLFxuICBzeW5jVG9Db3p5U2hhcmluZ0xpbmssXG4gIE9wZW5TaGFyaW5nTGlua0J1dHRvblxufSBmcm9tICdjb3p5LXNoYXJpbmcnXG5pbXBvcnQgeyBtYWtlQWN0aW9ucyB9IGZyb20gJ2NvenktdWkvdHJhbnNwaWxlZC9yZWFjdC9BY3Rpb25zTWVudS9BY3Rpb25zJ1xuaW1wb3J0IEljb24gZnJvbSAnY296eS11aS90cmFuc3BpbGVkL3JlYWN0L0ljb24nXG5pbXBvcnQgVG9vbHRpcCBmcm9tICdjb3p5LXVpL3RyYW5zcGlsZWQvcmVhY3QvVG9vbHRpcCdcbmltcG9ydCB1c2VCcmVha3BvaW50cyBmcm9tICdjb3p5LXVpL3RyYW5zcGlsZWQvcmVhY3QvcHJvdmlkZXJzL0JyZWFrcG9pbnRzJ1xuaW1wb3J0IHsgdXNlSTE4biB9IGZyb20gJ2NvenktdWkvdHJhbnNwaWxlZC9yZWFjdC9wcm92aWRlcnMvSTE4bidcblxuLy8gaHR0cHM6Ly9tdWkuY29tL2NvbXBvbmVudHMvdG9vbHRpcHMvI2N1c3RvbS1jaGlsZC1lbGVtZW50XG5jb25zdCBGb3J3YXJkZWRJY29uID0gUmVhY3QuZm9yd2FyZFJlZihmdW5jdGlvbiBGb3J3YXJkZWRJY29uKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IHJlZj17cmVmfT5cbiAgICAgIDxJY29uIHsuLi5wcm9wc30gLz5cbiAgICA8L2Rpdj5cbiAgKVxufSlcblxuLyoqXG4gKiBFZGl0b3JDb3JuZXIgaXMgcmVzcG9uc2libGUgdG8gZGlzcGxheSB0aGUgc2hhcmluZyBidXR0b24gb3IgdGhlIGxvY2sgaWNvblxuICpcbiAqIEBjb21wb25lbnRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNQdWJsaWMgLSBJbmRpY2F0ZXMgd2hldGhlciB0aGUgZWRpdG9yIGlzIHB1YmxpYyBvciBub3QuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGlzUmVhZE9ubHkgLSBJbmRpY2F0ZXMgd2hldGhlciB0aGUgZWRpdG9yIGlzIHJlYWQtb25seSBvciBub3QuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGl0bGUgLSBUaGUgdGl0bGUgb2YgdGhlIGVkaXRvci5cbiAqIEBwYXJhbSB7aW1wb3J0KCdjb3p5LWNsaWVudC90eXBlcycpLklPQ296eUZpbGV9IGZpbGUgLSBUaGUgZmlsZSBhc3NvY2lhdGVkIHdpdGggdGhlIGVkaXRvci5cbiAqL1xuY29uc3QgRWRpdG9yQ29ybmVyID0gKHsgaXNQdWJsaWMsIGlzUmVhZE9ubHksIHRpdGxlLCBmaWxlIH0pID0+IHtcbiAgY29uc3QgeyB0IH0gPSB1c2VJMThuKClcbiAgY29uc3QgeyBpc01vYmlsZSB9ID0gdXNlQnJlYWtwb2ludHMoKVxuICBjb25zdCB7IGFkZFNoYXJpbmdMaW5rLCBpc1NoYXJpbmdTaG9ydGN1dENyZWF0ZWQsIGxvYWRpbmcgfSA9XG4gICAgdXNlU2hhcmluZ0luZm9zKFNIQVJJTkdfTE9DQVRJT04pXG4gIGNvbnN0IGlzUHJldmlldyA9IHVzZVByZXZpZXcod2luZG93LmxvY2F0aW9uLnBhdGhuYW1lKVxuXG4gIGNvbnN0IGFjdGlvbnMgPSBtYWtlQWN0aW9ucyhbYWRkVG9Db3p5U2hhcmluZ0xpbmssIHN5bmNUb0NvenlTaGFyaW5nTGlua10sIHtcbiAgICBpc1NoYXJpbmdTaG9ydGN1dENyZWF0ZWQsXG4gICAgYWRkU2hhcmluZ0xpbmtcbiAgfSlcblxuICBpZiAoIWlzUHVibGljKSB7XG4gICAgcmV0dXJuIDxTaGFyaW5nV2lkZ2V0IGZpbGU9e2ZpbGV9IHRpdGxlPXt0aXRsZX0gLz5cbiAgfVxuXG4gIGNvbnN0IGlzVG9vbGJhckJ1dHRvbnNEaXNwbGF5ZWQgPVxuICAgICFpc01vYmlsZSAmJiBpc1ByZXZpZXcgJiYgIWxvYWRpbmcgJiYgIWlzU2hhcmluZ1Nob3J0Y3V0Q3JlYXRlZFxuXG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIHtpc1Rvb2xiYXJCdXR0b25zRGlzcGxheWVkICYmIChcbiAgICAgICAgPE9wZW5TaGFyaW5nTGlua0J1dHRvblxuICAgICAgICAgIGxpbms9e2FkZFNoYXJpbmdMaW5rfVxuICAgICAgICAgIGlzU2hhcmluZ1Nob3J0Y3V0Q3JlYXRlZD17aXNTaGFyaW5nU2hvcnRjdXRDcmVhdGVkfVxuICAgICAgICAvPlxuICAgICAgKX1cbiAgICAgIHtpc1ByZXZpZXcgJiYgPFB1YmxpY1Rvb2xiYXJNb3JlTWVudSBmaWxlcz17W2ZpbGVdfSBhY3Rpb25zPXthY3Rpb25zfSAvPn1cbiAgICAgIHtpc1JlYWRPbmx5ICYmIChcbiAgICAgICAgPFRvb2x0aXAgdGl0bGU9e3QoJ05vdGVzLkVkaXRvci5yZWFkX29ubHknKX0gY2xhc3NOYW1lPVwidS1tbC1oYWxmXCI+XG4gICAgICAgICAgPEZvcndhcmRlZEljb24gaWNvbj1cImxvY2tcIiBjb2xvcj1cInZhcigtLXByaW1hcnlUZXh0Q29sb3IpXCIgLz5cbiAgICAgICAgPC9Ub29sdGlwPlxuICAgICAgKX1cbiAgICA8Lz5cbiAgKVxufVxuXG5FZGl0b3JDb3JuZXIucHJvcFR5cGVzID0ge1xuICBpc1B1YmxpYzogUHJvcFR5cGVzLmJvb2wuaXNSZXF1aXJlZCxcbiAgaXNSZWFkT25seTogUHJvcFR5cGVzLmJvb2wuaXNSZXF1aXJlZCxcbiAgdGl0bGU6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgZmlsZTogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkXG59XG5cbmV4cG9ydCBkZWZhdWx0IEVkaXRvckNvcm5lclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBR0E7QUFJQTtBQUNBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFLQTtBQUFBO0FBbkNBO0FBS0E7QUFnQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBN0RBO0FBaUJBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/notes/EditorCorner.jsx\n");

/***/ }),

/***/ "./src/components/notes/List/AppTitle.jsx":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/Typography/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_providers_I18n__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/providers/I18n/index.js\");\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal[\"default\"].signature : function (a) {\n  return a;\n};\n\n\n\n\n\n// We don't display the Title this way in Mobile.\n// We use BarCentrer and BarTitle\nvar AppTitle = function AppTitle(_ref) {\n  var t = _ref.t,\n    isMobile = _ref.breakpoints.isMobile;\n  return !isMobile && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n    variant: \"h3\",\n    component: \"h1\"\n  }, t('Notes.List.latest_notes'));\n};\nvar ConnectedAppTitle = Object(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_1__[\"withBreakpoints\"])()(Object(cozy_ui_transpiled_react_providers_I18n__WEBPACK_IMPORTED_MODULE_3__[\"translate\"])()(AppTitle));\nvar _default = ConnectedAppTitle;\n/* harmony default export */ __webpack_exports__[\"default\"] = (_default);\n;\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n  if (!reactHotLoader) {\n    return;\n  }\n  reactHotLoader.register(AppTitle, \"AppTitle\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/notes/List/AppTitle.jsx\");\n  reactHotLoader.register(ConnectedAppTitle, \"ConnectedAppTitle\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/notes/List/AppTitle.jsx\");\n  reactHotLoader.register(_default, \"default\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/notes/List/AppTitle.jsx\");\n})();\n;\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(\"./node_modules/webpack/buildin/harmony-module.js\")(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9ub3Rlcy9MaXN0L0FwcFRpdGxlLmpzeC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL25vdGVzL0xpc3QvQXBwVGl0bGUuanN4P2U3MzMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuXG5pbXBvcnQgeyB3aXRoQnJlYWtwb2ludHMgfSBmcm9tICdjb3p5LXVpL3RyYW5zcGlsZWQvcmVhY3QnXG5pbXBvcnQgVHlwb2dyYXBoeSBmcm9tICdjb3p5LXVpL3RyYW5zcGlsZWQvcmVhY3QvVHlwb2dyYXBoeSdcbmltcG9ydCB7IHRyYW5zbGF0ZSB9IGZyb20gJ2NvenktdWkvdHJhbnNwaWxlZC9yZWFjdC9wcm92aWRlcnMvSTE4bidcblxuLy8gV2UgZG9uJ3QgZGlzcGxheSB0aGUgVGl0bGUgdGhpcyB3YXkgaW4gTW9iaWxlLlxuLy8gV2UgdXNlIEJhckNlbnRyZXIgYW5kIEJhclRpdGxlXG5jb25zdCBBcHBUaXRsZSA9ICh7IHQsIGJyZWFrcG9pbnRzOiB7IGlzTW9iaWxlIH0gfSkgPT4ge1xuICByZXR1cm4gKFxuICAgICFpc01vYmlsZSAmJiAoXG4gICAgICA8VHlwb2dyYXBoeSB2YXJpYW50PVwiaDNcIiBjb21wb25lbnQ9XCJoMVwiPlxuICAgICAgICB7dCgnTm90ZXMuTGlzdC5sYXRlc3Rfbm90ZXMnKX1cbiAgICAgIDwvVHlwb2dyYXBoeT5cbiAgICApXG4gIClcbn1cblxuY29uc3QgQ29ubmVjdGVkQXBwVGl0bGUgPSB3aXRoQnJlYWtwb2ludHMoKSh0cmFuc2xhdGUoKShBcHBUaXRsZSkpXG5cbmV4cG9ydCBkZWZhdWx0IENvbm5lY3RlZEFwcFRpdGxlXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBS0E7QUFFQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVpBO0FBVUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/notes/List/AppTitle.jsx\n");

/***/ }),

/***/ "./src/components/notes/List/EmptyComponent.jsx":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony import */ var constants_strings__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./src/constants/strings.ts\");\n/* harmony import */ var components_notes_add__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./src/components/notes/add.jsx\");\n/* harmony import */ var hooks_useReferencedFolderForNote__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./src/hooks/useReferencedFolderForNote.jsx\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./node_modules/cozy-client/dist/index.js\");\n/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var cozy_ui_transpiled_react_AppLinker__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/AppLinker/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_Empty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/Empty/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_Icons_Notes__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/Icons/Notes.js\");\n/* harmony import */ var cozy_ui_transpiled_react_providers_I18n__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/providers/I18n/index.js\");\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal[\"default\"].signature : function (a) {\n  return a;\n};\n\n\n\n\n\n\n\n\n\nvar EmptyComponent = function EmptyComponent(_ref) {\n  var t = _ref.t,\n    client = _ref.client;\n  var _useReferencedFolderF = Object(hooks_useReferencedFolderForNote__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(client),\n    notesFolder = _useReferencedFolderF.notesFolder;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"div\", {\n    className: \"empty\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_Empty__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n    id: \"empty\",\n    icon: cozy_ui_transpiled_react_Icons_Notes__WEBPACK_IMPORTED_MODULE_7__[\"default\"],\n    title: t('Notes.Empty.welcome'),\n    text: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_AppLinker__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n      href: notesFolder,\n      app: {\n        slug: constants_strings__WEBPACK_IMPORTED_MODULE_0__[\"Slugs\"].Drive\n      }\n    }, function (_ref2) {\n      var href = _ref2.href,\n        onClick = _ref2.onClick;\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"span\", {\n        className: \"u-mb-half\"\n      }, t('Notes.Empty.after_created'), ' ', /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"a\", {\n        href: href,\n        onClick: onClick\n      }, \"Twake Drive\"), \".\");\n    })\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(components_notes_add__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n    className: \"u-mt-1\"\n  })));\n};\n__signature__(EmptyComponent, \"useReferencedFolderForNote{{ notesFolder }}\", function () {\n  return [hooks_useReferencedFolderForNote__WEBPACK_IMPORTED_MODULE_2__[\"default\"]];\n});\nvar _default = Object(cozy_ui_transpiled_react_providers_I18n__WEBPACK_IMPORTED_MODULE_8__[\"translate\"])()(Object(cozy_client__WEBPACK_IMPORTED_MODULE_4__[\"withClient\"])(EmptyComponent));\n/* harmony default export */ __webpack_exports__[\"default\"] = (_default);\n;\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n  if (!reactHotLoader) {\n    return;\n  }\n  reactHotLoader.register(EmptyComponent, \"EmptyComponent\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/notes/List/EmptyComponent.jsx\");\n  reactHotLoader.register(_default, \"default\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/notes/List/EmptyComponent.jsx\");\n})();\n;\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(\"./node_modules/webpack/buildin/harmony-module.js\")(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9ub3Rlcy9MaXN0L0VtcHR5Q29tcG9uZW50LmpzeC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL25vdGVzL0xpc3QvRW1wdHlDb21wb25lbnQuanN4Pzc2ODEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU2x1Z3MgfSBmcm9tICdjb25zdGFudHMvc3RyaW5ncydcblxuaW1wb3J0IEFkZCBmcm9tICdjb21wb25lbnRzL25vdGVzL2FkZCdcbmltcG9ydCB1c2VSZWZlcmVuY2VkRm9sZGVyRm9yTm90ZSBmcm9tICdob29rcy91c2VSZWZlcmVuY2VkRm9sZGVyRm9yTm90ZSdcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcblxuaW1wb3J0IHsgd2l0aENsaWVudCB9IGZyb20gJ2NvenktY2xpZW50J1xuaW1wb3J0IEFwcExpbmtlciBmcm9tICdjb3p5LXVpL3RyYW5zcGlsZWQvcmVhY3QvQXBwTGlua2VyJ1xuaW1wb3J0IEVtcHR5IGZyb20gJ2NvenktdWkvdHJhbnNwaWxlZC9yZWFjdC9FbXB0eSdcbmltcG9ydCBOb3Rlc0ljb24gZnJvbSAnY296eS11aS90cmFuc3BpbGVkL3JlYWN0L0ljb25zL05vdGVzJ1xuaW1wb3J0IHsgdHJhbnNsYXRlIH0gZnJvbSAnY296eS11aS90cmFuc3BpbGVkL3JlYWN0L3Byb3ZpZGVycy9JMThuJ1xuXG5jb25zdCBFbXB0eUNvbXBvbmVudCA9ICh7IHQsIGNsaWVudCB9KSA9PiB7XG4gIGNvbnN0IHsgbm90ZXNGb2xkZXIgfSA9IHVzZVJlZmVyZW5jZWRGb2xkZXJGb3JOb3RlKGNsaWVudClcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImVtcHR5XCI+XG4gICAgICA8RW1wdHlcbiAgICAgICAgaWQ9XCJlbXB0eVwiXG4gICAgICAgIGljb249e05vdGVzSWNvbn1cbiAgICAgICAgdGl0bGU9e3QoJ05vdGVzLkVtcHR5LndlbGNvbWUnKX1cbiAgICAgICAgdGV4dD17XG4gICAgICAgICAgPEFwcExpbmtlciBocmVmPXtub3Rlc0ZvbGRlcn0gYXBwPXt7IHNsdWc6IFNsdWdzLkRyaXZlIH19PlxuICAgICAgICAgICAgeyh7IGhyZWYsIG9uQ2xpY2sgfSkgPT4ge1xuICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInUtbWItaGFsZlwiPlxuICAgICAgICAgICAgICAgICAge3QoJ05vdGVzLkVtcHR5LmFmdGVyX2NyZWF0ZWQnKX17JyAnfVxuICAgICAgICAgICAgICAgICAgPGEgaHJlZj17aHJlZn0gb25DbGljaz17b25DbGlja30+XG4gICAgICAgICAgICAgICAgICAgIFR3YWtlIERyaXZlXG4gICAgICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICAgICAgICAuXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9fVxuICAgICAgICAgIDwvQXBwTGlua2VyPlxuICAgICAgICB9XG4gICAgICA+XG4gICAgICAgIDxBZGQgY2xhc3NOYW1lPVwidS1tdC0xXCIgLz5cbiAgICAgIDwvRW1wdHk+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgdHJhbnNsYXRlKCkod2l0aENsaWVudChFbXB0eUNvbXBvbmVudCkpXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQU1BO0FBRUE7QUFFQTtBQUFBO0FBSUE7QUFBQTtBQTVCQTtBQUNBO0FBQUE7QUE2QkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQTlCQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/notes/List/EmptyComponent.jsx\n");

/***/ }),

/***/ "./src/components/notes/List/List.jsx":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony import */ var components_notes_List_EmptyComponent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./src/components/notes/List/EmptyComponent.jsx\");\n/* harmony import */ var components_notes_List_NoteRow__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./src/components/notes/List/NoteRow.jsx\");\n/* harmony import */ var components_notes_List_list_styl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./src/components/notes/List/list.styl\");\n/* harmony import */ var components_notes_List_list_styl__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(components_notes_List_list_styl__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var types_enums__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./src/types/enums.ts\");\n/* harmony import */ var cozy_ui_transpiled_react_Spinner__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/Spinner/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_deprecated_Table__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/deprecated/Table/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_providers_I18n__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/providers/I18n/index.js\");\n/* harmony import */ var _WithBreakpoints__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./src/components/notes/List/WithBreakpoints.tsx\");\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal[\"default\"].signature : function (a) {\n  return a;\n};\n\n\n\n\n\n\n\n\n\nvar EmptyTableRow = function EmptyTableRow() {\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_deprecated_Table__WEBPACK_IMPORTED_MODULE_6__[\"TableRow\"], {\n    className: components_notes_List_list_styl__WEBPACK_IMPORTED_MODULE_2___default.a.tableSpecialRow\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_deprecated_Table__WEBPACK_IMPORTED_MODULE_6__[\"TableCell\"], {\n    className: components_notes_List_list_styl__WEBPACK_IMPORTED_MODULE_2___default.a.tableCellEmpty\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(components_notes_List_EmptyComponent__WEBPACK_IMPORTED_MODULE_0__[\"default\"], null)));\n};\nvar LoadingTableRow = function LoadingTableRow() {\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_deprecated_Table__WEBPACK_IMPORTED_MODULE_6__[\"TableRow\"], {\n    className: components_notes_List_list_styl__WEBPACK_IMPORTED_MODULE_2___default.a.tableSpecialRow\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_deprecated_Table__WEBPACK_IMPORTED_MODULE_6__[\"TableCell\"], {\n    className: \"\".concat(components_notes_List_list_styl__WEBPACK_IMPORTED_MODULE_2___default.a.tableCellEmpty, \" u-ta-center\")\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_Spinner__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n    size: \"xxlarge\"\n  })));\n};\nvar List = function List(_ref) {\n  var t = _ref.t,\n    notes = _ref.notes,\n    fetchStatus = _ref.fetchStatus;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_deprecated_Table__WEBPACK_IMPORTED_MODULE_6__[\"Table\"], {\n    className: \"\".concat(components_notes_List_list_styl__WEBPACK_IMPORTED_MODULE_2___default.a.table, \" \").concat(notes.length === 0 && components_notes_List_list_styl__WEBPACK_IMPORTED_MODULE_2___default.a.notable)\n  }, notes.length > 0 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_deprecated_Table__WEBPACK_IMPORTED_MODULE_6__[\"TableHead\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_deprecated_Table__WEBPACK_IMPORTED_MODULE_6__[\"TableRow\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_deprecated_Table__WEBPACK_IMPORTED_MODULE_6__[\"TableHeader\"], {\n    className: components_notes_List_list_styl__WEBPACK_IMPORTED_MODULE_2___default.a.tableCellName\n  }, t('Notes.List.name')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_WithBreakpoints__WEBPACK_IMPORTED_MODULE_8__[\"WithBreakpoints\"], {\n    hideOn: types_enums__WEBPACK_IMPORTED_MODULE_4__[\"Breakpoints\"].Mobile\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_deprecated_Table__WEBPACK_IMPORTED_MODULE_6__[\"TableHeader\"], {\n    className: components_notes_List_list_styl__WEBPACK_IMPORTED_MODULE_2___default.a.tableCell\n  }, t('Notes.List.updated_at')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_deprecated_Table__WEBPACK_IMPORTED_MODULE_6__[\"TableHeader\"], {\n    className: \"\".concat(components_notes_List_list_styl__WEBPACK_IMPORTED_MODULE_2___default.a.tableCell, \" u-flex-shrink-0\")\n  }, t('Notes.List.location')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_deprecated_Table__WEBPACK_IMPORTED_MODULE_6__[\"TableHeader\"], {\n    className: components_notes_List_list_styl__WEBPACK_IMPORTED_MODULE_2___default.a.tableCell\n  }, t('Notes.List.sharings'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_deprecated_Table__WEBPACK_IMPORTED_MODULE_6__[\"TableHeader\"], {\n    className: components_notes_List_list_styl__WEBPACK_IMPORTED_MODULE_2___default.a.tableCell\n  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_deprecated_Table__WEBPACK_IMPORTED_MODULE_6__[\"TableBody\"], null, fetchStatus === 'loading' ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(LoadingTableRow, null) : notes.length === 0 ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(EmptyTableRow, null) : notes.map(function (note) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(components_notes_List_NoteRow__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n      note: note,\n      key: note._id\n    });\n  })));\n};\nvar _default = Object(cozy_ui_transpiled_react_providers_I18n__WEBPACK_IMPORTED_MODULE_7__[\"translate\"])()(List);\n/* harmony default export */ __webpack_exports__[\"default\"] = (_default);\n;\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n  if (!reactHotLoader) {\n    return;\n  }\n  reactHotLoader.register(EmptyTableRow, \"EmptyTableRow\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/notes/List/List.jsx\");\n  reactHotLoader.register(LoadingTableRow, \"LoadingTableRow\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/notes/List/List.jsx\");\n  reactHotLoader.register(List, \"List\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/notes/List/List.jsx\");\n  reactHotLoader.register(_default, \"default\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/notes/List/List.jsx\");\n})();\n;\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(\"./node_modules/webpack/buildin/harmony-module.js\")(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9ub3Rlcy9MaXN0L0xpc3QuanN4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvbm90ZXMvTGlzdC9MaXN0LmpzeD9mNzVkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBFbXB0eUNvbXBvbmVudCBmcm9tICdjb21wb25lbnRzL25vdGVzL0xpc3QvRW1wdHlDb21wb25lbnQnXG5pbXBvcnQgTm90ZVJvdyBmcm9tICdjb21wb25lbnRzL25vdGVzL0xpc3QvTm90ZVJvdydcbmltcG9ydCBzdHlsZXMgZnJvbSAnY29tcG9uZW50cy9ub3Rlcy9MaXN0L2xpc3Quc3R5bCdcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCB7IEJyZWFrcG9pbnRzIH0gZnJvbSAndHlwZXMvZW51bXMnXG5cbmltcG9ydCBTcGlubmVyIGZyb20gJ2NvenktdWkvdHJhbnNwaWxlZC9yZWFjdC9TcGlubmVyJ1xuaW1wb3J0IHtcbiAgVGFibGUsXG4gIFRhYmxlSGVhZCxcbiAgVGFibGVCb2R5LFxuICBUYWJsZVJvdyxcbiAgVGFibGVIZWFkZXIsXG4gIFRhYmxlQ2VsbFxufSBmcm9tICdjb3p5LXVpL3RyYW5zcGlsZWQvcmVhY3QvZGVwcmVjYXRlZC9UYWJsZSdcbmltcG9ydCB7IHRyYW5zbGF0ZSB9IGZyb20gJ2NvenktdWkvdHJhbnNwaWxlZC9yZWFjdC9wcm92aWRlcnMvSTE4bidcblxuaW1wb3J0IHsgV2l0aEJyZWFrcG9pbnRzIH0gZnJvbSAnLi9XaXRoQnJlYWtwb2ludHMnXG5cbmNvbnN0IEVtcHR5VGFibGVSb3cgPSAoKSA9PiAoXG4gIDxUYWJsZVJvdyBjbGFzc05hbWU9e3N0eWxlcy50YWJsZVNwZWNpYWxSb3d9PlxuICAgIDxUYWJsZUNlbGwgY2xhc3NOYW1lPXtzdHlsZXMudGFibGVDZWxsRW1wdHl9PlxuICAgICAgPEVtcHR5Q29tcG9uZW50IC8+XG4gICAgPC9UYWJsZUNlbGw+XG4gIDwvVGFibGVSb3c+XG4pXG5cbmNvbnN0IExvYWRpbmdUYWJsZVJvdyA9ICgpID0+IChcbiAgPFRhYmxlUm93IGNsYXNzTmFtZT17c3R5bGVzLnRhYmxlU3BlY2lhbFJvd30+XG4gICAgPFRhYmxlQ2VsbCBjbGFzc05hbWU9e2Ake3N0eWxlcy50YWJsZUNlbGxFbXB0eX0gdS10YS1jZW50ZXJgfT5cbiAgICAgIDxTcGlubmVyIHNpemU9XCJ4eGxhcmdlXCIgLz5cbiAgICA8L1RhYmxlQ2VsbD5cbiAgPC9UYWJsZVJvdz5cbilcblxuY29uc3QgTGlzdCA9ICh7IHQsIG5vdGVzLCBmZXRjaFN0YXR1cyB9KSA9PiAoXG4gIDxUYWJsZSBjbGFzc05hbWU9e2Ake3N0eWxlcy50YWJsZX0gJHtub3Rlcy5sZW5ndGggPT09IDAgJiYgc3R5bGVzLm5vdGFibGV9YH0+XG4gICAge25vdGVzLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgPFRhYmxlSGVhZD5cbiAgICAgICAgPFRhYmxlUm93PlxuICAgICAgICAgIDxUYWJsZUhlYWRlciBjbGFzc05hbWU9e3N0eWxlcy50YWJsZUNlbGxOYW1lfT5cbiAgICAgICAgICAgIHt0KCdOb3Rlcy5MaXN0Lm5hbWUnKX1cbiAgICAgICAgICA8L1RhYmxlSGVhZGVyPlxuXG4gICAgICAgICAgPFdpdGhCcmVha3BvaW50cyBoaWRlT249e0JyZWFrcG9pbnRzLk1vYmlsZX0+XG4gICAgICAgICAgICA8VGFibGVIZWFkZXIgY2xhc3NOYW1lPXtzdHlsZXMudGFibGVDZWxsfT5cbiAgICAgICAgICAgICAge3QoJ05vdGVzLkxpc3QudXBkYXRlZF9hdCcpfVxuICAgICAgICAgICAgPC9UYWJsZUhlYWRlcj5cblxuICAgICAgICAgICAgPFRhYmxlSGVhZGVyIGNsYXNzTmFtZT17YCR7c3R5bGVzLnRhYmxlQ2VsbH0gdS1mbGV4LXNocmluay0wYH0+XG4gICAgICAgICAgICAgIHt0KCdOb3Rlcy5MaXN0LmxvY2F0aW9uJyl9XG4gICAgICAgICAgICA8L1RhYmxlSGVhZGVyPlxuXG4gICAgICAgICAgICA8VGFibGVIZWFkZXIgY2xhc3NOYW1lPXtzdHlsZXMudGFibGVDZWxsfT5cbiAgICAgICAgICAgICAge3QoJ05vdGVzLkxpc3Quc2hhcmluZ3MnKX1cbiAgICAgICAgICAgIDwvVGFibGVIZWFkZXI+XG4gICAgICAgICAgPC9XaXRoQnJlYWtwb2ludHM+XG5cbiAgICAgICAgICA8VGFibGVIZWFkZXIgY2xhc3NOYW1lPXtzdHlsZXMudGFibGVDZWxsfSAvPlxuICAgICAgICA8L1RhYmxlUm93PlxuICAgICAgPC9UYWJsZUhlYWQ+XG4gICAgKX1cblxuICAgIDxUYWJsZUJvZHk+XG4gICAgICB7ZmV0Y2hTdGF0dXMgPT09ICdsb2FkaW5nJyA/IChcbiAgICAgICAgPExvYWRpbmdUYWJsZVJvdyAvPlxuICAgICAgKSA6IG5vdGVzLmxlbmd0aCA9PT0gMCA/IChcbiAgICAgICAgPEVtcHR5VGFibGVSb3cgLz5cbiAgICAgICkgOiAoXG4gICAgICAgIG5vdGVzLm1hcChub3RlID0+IDxOb3RlUm93IG5vdGU9e25vdGV9IGtleT17bm90ZS5faWR9IC8+KVxuICAgICAgKX1cbiAgICA8L1RhYmxlQm9keT5cbiAgPC9UYWJsZT5cbilcblxuZXhwb3J0IGRlZmF1bHQgdHJhbnNsYXRlKCkoTGlzdClcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBUUE7QUFFQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUdBO0FBR0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBR0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFJQTtBQUFBO0FBSUE7QUFBQTtBQUNBO0FBQUE7QUFJQTtBQUFBO0FBSUE7QUFBQTtBQUtBO0FBQUE7QUFXQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUF4REE7QUFRQTtBQVFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/notes/List/List.jsx\n");

/***/ }),

/***/ "./src/components/notes/List/NotePath.tsx":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"NotePath\", function() { return NotePath; });\n/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/extends.js\");\n/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var constants_strings__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./src/constants/strings.ts\");\n/* harmony import */ var lib_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./src/lib/helpers.ts\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var cozy_ui_transpiled_react_AppLinker__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/AppLinker/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_FilePath__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/FilePath/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_FilePathLink__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/FilePathLink/index.js\");\n\n\n\n\n\n\n\nvar makeTarget = function makeTarget(target) {\n  return typeof target !== 'string' ? {} : target === '_blank' ? {\n    target: '_blank',\n    rel: 'noreferrer noopener'\n  } : {\n    target: target\n  };\n};\nvar NotePath = function NotePath(_ref) {\n  var drivePath = _ref.drivePath,\n    path = _ref.path,\n    target = _ref.target,\n    noLink = _ref.noLink;\n  if (noLink) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_FilePath__WEBPACK_IMPORTED_MODULE_5__[\"default\"], null, Object(lib_helpers__WEBPACK_IMPORTED_MODULE_2__[\"removeFilename\"])(path));\n  }\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_AppLinker__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n    href: drivePath,\n    app: {\n      slug: constants_strings__WEBPACK_IMPORTED_MODULE_1__[\"Slugs\"].Drive\n    }\n  }, function (_ref2) {\n    var href = _ref2.href,\n      onClick = _ref2.onClick;\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_FilePathLink__WEBPACK_IMPORTED_MODULE_6__[\"default\"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({\n      href: href,\n      onClick: onClick\n    }, makeTarget(target)), Object(lib_helpers__WEBPACK_IMPORTED_MODULE_2__[\"removeFilename\"])(path));\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9ub3Rlcy9MaXN0L05vdGVQYXRoLnRzeC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL25vdGVzL0xpc3QvTm90ZVBhdGgudHN4P2YzYjciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU2x1Z3MgfSBmcm9tICdjb25zdGFudHMvc3RyaW5ncydcblxuaW1wb3J0IHsgcmVtb3ZlRmlsZW5hbWUgfSBmcm9tICdsaWIvaGVscGVycydcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcblxuaW1wb3J0IEFwcExpbmtlciBmcm9tICdjb3p5LXVpL3RyYW5zcGlsZWQvcmVhY3QvQXBwTGlua2VyJ1xuaW1wb3J0IEZpbGVQYXRoIGZyb20gJ2NvenktdWkvdHJhbnNwaWxlZC9yZWFjdC9GaWxlUGF0aCdcbmltcG9ydCBGaWxlUGF0aExpbmsgZnJvbSAnY296eS11aS90cmFuc3BpbGVkL3JlYWN0L0ZpbGVQYXRoTGluaydcblxuaW50ZXJmYWNlIE5vdGVQYXRoUHJvcHMge1xuICBkcml2ZVBhdGg6IHN0cmluZ1xuICBwYXRoOiBzdHJpbmdcbiAgdGFyZ2V0Pzogc3RyaW5nXG4gIG5vTGluaz86IGJvb2xlYW5cbn1cblxuaW50ZXJmYWNlIEFwcExpbmtlckNhbGxiYWNrIHtcbiAgaHJlZjogc3RyaW5nXG4gIG9uQ2xpY2s6ICgpID0+IHZvaWRcbn1cblxudHlwZSBUYXJnZXRQYXJhbSA9XG4gIHwgUmVjb3JkPHN0cmluZywgbmV2ZXI+XG4gIHwgeyB0YXJnZXQ6IHN0cmluZzsgcmVsOiBzdHJpbmcgfVxuICB8IHsgdGFyZ2V0OiBzdHJpbmcgfVxuXG5jb25zdCBtYWtlVGFyZ2V0ID0gKHRhcmdldD86IHN0cmluZyk6IFRhcmdldFBhcmFtID0+XG4gIHR5cGVvZiB0YXJnZXQgIT09ICdzdHJpbmcnXG4gICAgPyB7fVxuICAgIDogdGFyZ2V0ID09PSAnX2JsYW5rJ1xuICAgID8geyB0YXJnZXQ6ICdfYmxhbmsnLCByZWw6ICdub3JlZmVycmVyIG5vb3BlbmVyJyB9XG4gICAgOiB7IHRhcmdldCB9XG5cbmV4cG9ydCBjb25zdCBOb3RlUGF0aDogUmVhY3QuRkM8Tm90ZVBhdGhQcm9wcz4gPSAoe1xuICBkcml2ZVBhdGgsXG4gIHBhdGgsXG4gIHRhcmdldCxcbiAgbm9MaW5rXG59KSA9PiB7XG4gIGlmIChub0xpbmspIHtcbiAgICByZXR1cm4gPEZpbGVQYXRoPntyZW1vdmVGaWxlbmFtZShwYXRoKX08L0ZpbGVQYXRoPlxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8QXBwTGlua2VyIGhyZWY9e2RyaXZlUGF0aH0gYXBwPXt7IHNsdWc6IFNsdWdzLkRyaXZlIH19PlxuICAgICAgeyh7IGhyZWYsIG9uQ2xpY2sgfTogQXBwTGlua2VyQ2FsbGJhY2spOiBSZWFjdC5SZWFjdEVsZW1lbnQgPT4gKFxuICAgICAgICA8RmlsZVBhdGhMaW5rIGhyZWY9e2hyZWZ9IG9uQ2xpY2s9e29uQ2xpY2t9IHsuLi5tYWtlVGFyZ2V0KHRhcmdldCl9PlxuICAgICAgICAgIHtyZW1vdmVGaWxlbmFtZShwYXRoKX1cbiAgICAgICAgPC9GaWxlUGF0aExpbms+XG4gICAgICApfVxuICAgIDwvQXBwTGlua2VyPlxuICApXG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQW1CQTtBQUFBO0FBSUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFLQTtBQUhBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBSUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/notes/List/NotePath.tsx\n");

/***/ }),

/***/ "./src/components/notes/List/NoteRow.jsx":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/slicedToArray.js\");\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var constants_routes__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./src/constants/routes.ts\");\n/* harmony import */ var constants_strings__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./src/constants/strings.ts\");\n/* harmony import */ var components_notes_List_list_styl__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./src/components/notes/List/list.styl\");\n/* harmony import */ var components_notes_List_list_styl__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(components_notes_List_list_styl__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var lib_utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./src/lib/utils.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"./node_modules/react-router-dom/dist/index.js\");\n/* harmony import */ var types_enums__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"./src/types/enums.ts\");\n/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"./node_modules/cozy-client/dist/index.js\");\n/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var cozy_doctypes__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"./node_modules/cozy-doctypes/dist/index.js\");\n/* harmony import */ var cozy_doctypes__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(cozy_doctypes__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var cozy_sharing__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"./node_modules/cozy-sharing/dist/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_ActionsMenu__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/ActionsMenu/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_ActionsMenu_Actions__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/ActionsMenu/Actions/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/Icon/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_IconButton__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/IconButton/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_Icons_FileTypeNote__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/Icons/FileTypeNote.js\");\n/* harmony import */ var cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/Typography/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_deprecated_Table__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/deprecated/Table/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_providers_Alert__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/providers/Alert/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_providers_Breakpoints__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/providers/Breakpoints/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_providers_I18n__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/providers/I18n/index.js\");\n/* harmony import */ var _NotePath__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(\"./src/components/notes/List/NotePath.tsx\");\n/* harmony import */ var _WithBreakpoints__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(\"./src/components/notes/List/WithBreakpoints.tsx\");\n/* harmony import */ var _actions_deleteNote__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(\"./src/components/notes/List/actions/deleteNote.jsx\");\n/* harmony import */ var _actions_shareNote__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(\"./src/components/notes/List/actions/shareNote.jsx\");\n\n\n\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal[\"default\"].signature : function (a) {\n  return a;\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar NoteRow = function NoteRow(_ref) {\n  var note = _ref.note,\n    f = _ref.f,\n    t = _ref.t,\n    client = _ref.client;\n  var _useBreakpoints = Object(cozy_ui_transpiled_react_providers_Breakpoints__WEBPACK_IMPORTED_MODULE_22__[\"default\"])(),\n    isMobile = _useBreakpoints.isMobile;\n  var location = Object(react_router_dom__WEBPACK_IMPORTED_MODULE_9__[\"useLocation\"])();\n  var navigate = Object(react_router_dom__WEBPACK_IMPORTED_MODULE_9__[\"useNavigate\"])();\n  var _CozyFile$splitFilena = cozy_doctypes__WEBPACK_IMPORTED_MODULE_12__[\"CozyFile\"].splitFilename(note),\n    filename = _CozyFile$splitFilena.filename,\n    extension = _CozyFile$splitFilena.extension;\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_8__[\"useState\"])(false),\n    _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState, 2),\n    isMenuOpen = _useState2[0],\n    setMenuOpen = _useState2[1];\n  var _useAlert = Object(cozy_ui_transpiled_react_providers_Alert__WEBPACK_IMPORTED_MODULE_21__[\"useAlert\"])(),\n    showAlert = _useAlert.showAlert;\n  var _useNativeFileSharing = Object(cozy_sharing__WEBPACK_IMPORTED_MODULE_13__[\"useNativeFileSharing\"])(),\n    isNativeFileSharingAvailable = _useNativeFileSharing.isNativeFileSharingAvailable,\n    shareFilesNative = _useNativeFileSharing.shareFilesNative;\n  var openMenu = Object(react__WEBPACK_IMPORTED_MODULE_8__[\"useCallback\"])(function (e) {\n    setMenuOpen(true);\n    e.stopPropagation();\n  }, [setMenuOpen]);\n  var closeMenu = Object(react__WEBPACK_IMPORTED_MODULE_8__[\"useCallback\"])(function () {\n    return setMenuOpen(false);\n  }, [setMenuOpen]);\n  var onDeleteNote = Object(react__WEBPACK_IMPORTED_MODULE_8__[\"useCallback\"])( /*#__PURE__*/_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee() {\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return client.destroy(note);\n          case 3:\n            setMenuOpen(false);\n            showAlert({\n              message: t('Notes.Delete.deleted'),\n              severity: 'success'\n            });\n            _context.next = 10;\n            break;\n          case 7:\n            _context.prev = 7;\n            _context.t0 = _context[\"catch\"](0);\n            showAlert({\n              message: t('Notes.Delete.failed'),\n              severity: 'error'\n            });\n          case 10:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[0, 7]]);\n  })), [client, note, t, setMenuOpen, showAlert]);\n  var onShareNote = function onShareNote() {\n    navigate(constants_routes__WEBPACK_IMPORTED_MODULE_4__[\"AppRoutes\"].ShareFromList, {\n      state: {\n        backgroundLocation: location,\n        shareModalProps: {\n          document: _objectSpread(_objectSpread({}, note), {}, {\n            name: note.attributes.name\n          }),\n          documentType: constants_strings__WEBPACK_IMPORTED_MODULE_5__[\"DocumentTypes\"].Notes,\n          sharingDesc: note.attributes.name\n        }\n      }\n    });\n  };\n  var actions = Object(cozy_ui_transpiled_react_ActionsMenu_Actions__WEBPACK_IMPORTED_MODULE_15__[\"makeActions\"])([_actions_shareNote__WEBPACK_IMPORTED_MODULE_27__[\"shareNote\"], cozy_sharing__WEBPACK_IMPORTED_MODULE_13__[\"shareNative\"], _actions_deleteNote__WEBPACK_IMPORTED_MODULE_26__[\"deleteNote\"]], {\n    onDeleteNote: onDeleteNote,\n    isNativeFileSharingAvailable: isNativeFileSharingAvailable,\n    shareFilesNative: shareFilesNative,\n    onShareNote: onShareNote,\n    t: t\n  });\n  var drivePath = Object(react__WEBPACK_IMPORTED_MODULE_8__[\"useMemo\"])(function () {\n    return Object(lib_utils__WEBPACK_IMPORTED_MODULE_7__[\"getDriveLink\"])(client, note.dir_id);\n  }, [client, note]);\n  var menuTriggerRef = react__WEBPACK_IMPORTED_MODULE_8___default.a.useRef();\n  var goToNote = /*#__PURE__*/function () {\n    var _ref3 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee2() {\n      var url;\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return Object(lib_utils__WEBPACK_IMPORTED_MODULE_7__[\"generateReturnUrlToNotesIndex\"])(client, note);\n            case 3:\n              url = _context2.sent;\n              window.location.href = url;\n              _context2.next = 10;\n              break;\n            case 7:\n              _context2.prev = 7;\n              _context2.t0 = _context2[\"catch\"](0);\n              showAlert({\n                message: t('Error.loading_error_title'),\n                severity: 'error'\n              });\n            case 10:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 7]]);\n    }));\n    return function goToNote() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var handleKeyDown = function handleKeyDown(e) {\n    if (e.key === 'Enter') {\n      goToNote();\n    }\n  };\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_8___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(cozy_ui_transpiled_react_deprecated_Table__WEBPACK_IMPORTED_MODULE_20__[\"TableRow\"], {\n    className: \"u-c-pointer \".concat(components_notes_List_list_styl__WEBPACK_IMPORTED_MODULE_6___default.a.tableRow),\n    role: \"button\",\n    tabIndex: \"0\",\n    onKeyDown: handleKeyDown,\n    onClick: goToNote\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(cozy_ui_transpiled_react_deprecated_Table__WEBPACK_IMPORTED_MODULE_20__[\"TableCell\"], {\n    className: \"\".concat(components_notes_List_list_styl__WEBPACK_IMPORTED_MODULE_6___default.a.tableCellName, \" u-flex u-flex-items-center u-fz-medium\")\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n    icon: cozy_ui_transpiled_react_Icons_FileTypeNote__WEBPACK_IMPORTED_MODULE_18__[\"default\"],\n    size: 32,\n    className: \"u-mr-1 u-flex-shrink-0\"\n  }), isMobile ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(\"div\", {\n    className: \"u-flex u-flex-column u-flex-grow-1\",\n    style: {\n      minWidth: 0\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n    display: \"inline\",\n    noWrap: true\n  }, filename), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_NotePath__WEBPACK_IMPORTED_MODULE_24__[\"NotePath\"], {\n    drivePath: drivePath,\n    path: note.path,\n    noLink: true\n  })) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(\"div\", {\n    className: \"u-flex-grow-1\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n    display: \"inline\",\n    noWrap: true\n  }, filename), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(\"span\", {\n    className: \"u-ellipsis\"\n  }, extension))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_WithBreakpoints__WEBPACK_IMPORTED_MODULE_25__[\"WithBreakpoints\"], {\n    hideOn: types_enums__WEBPACK_IMPORTED_MODULE_10__[\"Breakpoints\"].Mobile\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(cozy_ui_transpiled_react_deprecated_Table__WEBPACK_IMPORTED_MODULE_20__[\"TableCell\"], {\n    className: components_notes_List_list_styl__WEBPACK_IMPORTED_MODULE_6___default.a.tableCell\n  }, t('Notes.List.at', {\n    date: f(note.updated_at, 'dd LLLL'),\n    time: f(note.updated_at, 'HH:mm')\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(cozy_ui_transpiled_react_deprecated_Table__WEBPACK_IMPORTED_MODULE_20__[\"TableCell\"], {\n    className: \"\".concat(components_notes_List_list_styl__WEBPACK_IMPORTED_MODULE_6___default.a.tableCell, \" u-flex-shrink-0\"),\n    onClick: function onClick(e) {\n      return e.stopPropagation();\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_NotePath__WEBPACK_IMPORTED_MODULE_24__[\"NotePath\"], {\n    drivePath: drivePath,\n    path: note.path\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(cozy_ui_transpiled_react_deprecated_Table__WEBPACK_IMPORTED_MODULE_20__[\"TableCell\"], {\n    className: components_notes_List_list_styl__WEBPACK_IMPORTED_MODULE_6___default.a.tableCell\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_9__[\"Link\"], {\n    onClick: function onClick(e) {\n      return e.stopPropagation();\n    },\n    to: constants_routes__WEBPACK_IMPORTED_MODULE_4__[\"AppRoutes\"].ShareFromList,\n    state: {\n      backgroundLocation: location,\n      shareModalProps: {\n        document: _objectSpread(_objectSpread({}, note), {}, {\n          name: note.attributes.name\n        }),\n        documentType: constants_strings__WEBPACK_IMPORTED_MODULE_5__[\"DocumentTypes\"].Notes,\n        sharingDesc: note.attributes.name\n      }\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(cozy_sharing__WEBPACK_IMPORTED_MODULE_13__[\"SharedRecipients\"], {\n    docId: note._id,\n    size: 24\n  })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(cozy_ui_transpiled_react_deprecated_Table__WEBPACK_IMPORTED_MODULE_20__[\"TableCell\"], {\n    className: components_notes_List_list_styl__WEBPACK_IMPORTED_MODULE_6___default.a.tableCell,\n    onClick: isMobile ? openMenu : undefined\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(\"span\", {\n    ref: menuTriggerRef\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(cozy_ui_transpiled_react_IconButton__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n    onClick: !isMobile ? openMenu : undefined\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n    icon: \"dots\"\n  }))))), isMenuOpen && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(cozy_ui_transpiled_react_ActionsMenu__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n    open: true,\n    ref: menuTriggerRef,\n    onClose: closeMenu,\n    actions: actions,\n    docs: [note],\n    autoClose: true\n  }));\n};\n__signature__(NoteRow, \"useBreakpoints{{ isMobile }}\\nuseLocation{location}\\nuseNavigate{navigate}\\nuseState{[isMenuOpen, setMenuOpen](false)}\\nuseAlert{{ showAlert }}\\nuseNativeFileSharing{{ isNativeFileSharingAvailable, shareFilesNative }}\\nuseCallback{openMenu}\\nuseCallback{closeMenu}\\nuseCallback{onDeleteNote}\\nuseMemo{drivePath}\\nuseRef{menuTriggerRef}\", function () {\n  return [cozy_ui_transpiled_react_providers_Breakpoints__WEBPACK_IMPORTED_MODULE_22__[\"default\"], react_router_dom__WEBPACK_IMPORTED_MODULE_9__[\"useLocation\"], react_router_dom__WEBPACK_IMPORTED_MODULE_9__[\"useNavigate\"], cozy_ui_transpiled_react_providers_Alert__WEBPACK_IMPORTED_MODULE_21__[\"useAlert\"], cozy_sharing__WEBPACK_IMPORTED_MODULE_13__[\"useNativeFileSharing\"]];\n});\nvar _default = Object(cozy_ui_transpiled_react_providers_I18n__WEBPACK_IMPORTED_MODULE_23__[\"translate\"])()(Object(cozy_client__WEBPACK_IMPORTED_MODULE_11__[\"withClient\"])(NoteRow));\n/* harmony default export */ __webpack_exports__[\"default\"] = (_default);\n;\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n  if (!reactHotLoader) {\n    return;\n  }\n  reactHotLoader.register(NoteRow, \"NoteRow\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/notes/List/NoteRow.jsx\");\n  reactHotLoader.register(_default, \"default\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/notes/List/NoteRow.jsx\");\n})();\n;\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(\"./node_modules/webpack/buildin/harmony-module.js\")(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9ub3Rlcy9MaXN0L05vdGVSb3cuanN4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvbm90ZXMvTGlzdC9Ob3RlUm93LmpzeD8wYzU0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlcyB9IGZyb20gJ2NvbnN0YW50cy9yb3V0ZXMnXG5pbXBvcnQgeyBEb2N1bWVudFR5cGVzIH0gZnJvbSAnY29uc3RhbnRzL3N0cmluZ3MnXG5cbmltcG9ydCBzdHlsZXMgZnJvbSAnY29tcG9uZW50cy9ub3Rlcy9MaXN0L2xpc3Quc3R5bCdcbmltcG9ydCB7IGdlbmVyYXRlUmV0dXJuVXJsVG9Ob3Rlc0luZGV4LCBnZXREcml2ZUxpbmsgfSBmcm9tICdsaWIvdXRpbHMnXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUNhbGxiYWNrLCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBMaW5rLCB1c2VMb2NhdGlvbiwgdXNlTmF2aWdhdGUgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJ1xuaW1wb3J0IHsgQnJlYWtwb2ludHMgfSBmcm9tICd0eXBlcy9lbnVtcydcblxuaW1wb3J0IHsgd2l0aENsaWVudCB9IGZyb20gJ2NvenktY2xpZW50J1xuaW1wb3J0IHsgQ296eUZpbGUgfSBmcm9tICdjb3p5LWRvY3R5cGVzJ1xuaW1wb3J0IHtcbiAgU2hhcmVkUmVjaXBpZW50cyxcbiAgdXNlTmF0aXZlRmlsZVNoYXJpbmcsXG4gIHNoYXJlTmF0aXZlXG59IGZyb20gJ2Nvenktc2hhcmluZydcbmltcG9ydCBBY3Rpb25zTWVudSBmcm9tICdjb3p5LXVpL3RyYW5zcGlsZWQvcmVhY3QvQWN0aW9uc01lbnUnXG5pbXBvcnQgeyBtYWtlQWN0aW9ucyB9IGZyb20gJ2NvenktdWkvdHJhbnNwaWxlZC9yZWFjdC9BY3Rpb25zTWVudS9BY3Rpb25zJ1xuaW1wb3J0IEljb24gZnJvbSAnY296eS11aS90cmFuc3BpbGVkL3JlYWN0L0ljb24nXG5pbXBvcnQgSWNvbkJ1dHRvbiBmcm9tICdjb3p5LXVpL3RyYW5zcGlsZWQvcmVhY3QvSWNvbkJ1dHRvbidcbmltcG9ydCBGaWxlVHlwZU5vdGVJY29uIGZyb20gJ2NvenktdWkvdHJhbnNwaWxlZC9yZWFjdC9JY29ucy9GaWxlVHlwZU5vdGUnXG5pbXBvcnQgVHlwb2dyYXBoeSBmcm9tICdjb3p5LXVpL3RyYW5zcGlsZWQvcmVhY3QvVHlwb2dyYXBoeSdcbmltcG9ydCB7IFRhYmxlUm93LCBUYWJsZUNlbGwgfSBmcm9tICdjb3p5LXVpL3RyYW5zcGlsZWQvcmVhY3QvZGVwcmVjYXRlZC9UYWJsZSdcbmltcG9ydCB7IHVzZUFsZXJ0IH0gZnJvbSAnY296eS11aS90cmFuc3BpbGVkL3JlYWN0L3Byb3ZpZGVycy9BbGVydCdcbmltcG9ydCB1c2VCcmVha3BvaW50cyBmcm9tICdjb3p5LXVpL3RyYW5zcGlsZWQvcmVhY3QvcHJvdmlkZXJzL0JyZWFrcG9pbnRzJ1xuaW1wb3J0IHsgdHJhbnNsYXRlIH0gZnJvbSAnY296eS11aS90cmFuc3BpbGVkL3JlYWN0L3Byb3ZpZGVycy9JMThuJ1xuXG5pbXBvcnQgeyBOb3RlUGF0aCB9IGZyb20gJy4vTm90ZVBhdGgnXG5pbXBvcnQgeyBXaXRoQnJlYWtwb2ludHMgfSBmcm9tICcuL1dpdGhCcmVha3BvaW50cydcbmltcG9ydCB7IGRlbGV0ZU5vdGUgfSBmcm9tICcuL2FjdGlvbnMvZGVsZXRlTm90ZSdcbmltcG9ydCB7IHNoYXJlTm90ZSB9IGZyb20gJy4vYWN0aW9ucy9zaGFyZU5vdGUnXG5cbmNvbnN0IE5vdGVSb3cgPSAoeyBub3RlLCBmLCB0LCBjbGllbnQgfSkgPT4ge1xuICBjb25zdCB7IGlzTW9iaWxlIH0gPSB1c2VCcmVha3BvaW50cygpXG4gIGNvbnN0IGxvY2F0aW9uID0gdXNlTG9jYXRpb24oKVxuICBjb25zdCBuYXZpZ2F0ZSA9IHVzZU5hdmlnYXRlKClcbiAgY29uc3QgeyBmaWxlbmFtZSwgZXh0ZW5zaW9uIH0gPSBDb3p5RmlsZS5zcGxpdEZpbGVuYW1lKG5vdGUpXG4gIGNvbnN0IFtpc01lbnVPcGVuLCBzZXRNZW51T3Blbl0gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgeyBzaG93QWxlcnQgfSA9IHVzZUFsZXJ0KClcbiAgY29uc3QgeyBpc05hdGl2ZUZpbGVTaGFyaW5nQXZhaWxhYmxlLCBzaGFyZUZpbGVzTmF0aXZlIH0gPVxuICAgIHVzZU5hdGl2ZUZpbGVTaGFyaW5nKClcblxuICBjb25zdCBvcGVuTWVudSA9IHVzZUNhbGxiYWNrKFxuICAgIGUgPT4ge1xuICAgICAgc2V0TWVudU9wZW4odHJ1ZSlcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKClcbiAgICB9LFxuICAgIFtzZXRNZW51T3Blbl1cbiAgKVxuXG4gIGNvbnN0IGNsb3NlTWVudSA9IHVzZUNhbGxiYWNrKCgpID0+IHNldE1lbnVPcGVuKGZhbHNlKSwgW3NldE1lbnVPcGVuXSlcblxuICBjb25zdCBvbkRlbGV0ZU5vdGUgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IGNsaWVudC5kZXN0cm95KG5vdGUpXG4gICAgICBzZXRNZW51T3BlbihmYWxzZSlcbiAgICAgIHNob3dBbGVydCh7IG1lc3NhZ2U6IHQoJ05vdGVzLkRlbGV0ZS5kZWxldGVkJyksIHNldmVyaXR5OiAnc3VjY2VzcycgfSlcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgc2hvd0FsZXJ0KHsgbWVzc2FnZTogdCgnTm90ZXMuRGVsZXRlLmZhaWxlZCcpLCBzZXZlcml0eTogJ2Vycm9yJyB9KVxuICAgIH1cbiAgfSwgW2NsaWVudCwgbm90ZSwgdCwgc2V0TWVudU9wZW4sIHNob3dBbGVydF0pXG5cbiAgY29uc3Qgb25TaGFyZU5vdGUgPSAoKSA9PiB7XG4gICAgbmF2aWdhdGUoQXBwUm91dGVzLlNoYXJlRnJvbUxpc3QsIHtcbiAgICAgIHN0YXRlOiB7XG4gICAgICAgIGJhY2tncm91bmRMb2NhdGlvbjogbG9jYXRpb24sXG4gICAgICAgIHNoYXJlTW9kYWxQcm9wczoge1xuICAgICAgICAgIGRvY3VtZW50OiB7IC4uLm5vdGUsIG5hbWU6IG5vdGUuYXR0cmlidXRlcy5uYW1lIH0sXG4gICAgICAgICAgZG9jdW1lbnRUeXBlOiBEb2N1bWVudFR5cGVzLk5vdGVzLFxuICAgICAgICAgIHNoYXJpbmdEZXNjOiBub3RlLmF0dHJpYnV0ZXMubmFtZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGNvbnN0IGFjdGlvbnMgPSBtYWtlQWN0aW9ucyhbc2hhcmVOb3RlLCBzaGFyZU5hdGl2ZSwgZGVsZXRlTm90ZV0sIHtcbiAgICBvbkRlbGV0ZU5vdGUsXG4gICAgaXNOYXRpdmVGaWxlU2hhcmluZ0F2YWlsYWJsZSxcbiAgICBzaGFyZUZpbGVzTmF0aXZlLFxuICAgIG9uU2hhcmVOb3RlLFxuICAgIHRcbiAgfSlcblxuICBjb25zdCBkcml2ZVBhdGggPSB1c2VNZW1vKFxuICAgICgpID0+IGdldERyaXZlTGluayhjbGllbnQsIG5vdGUuZGlyX2lkKSxcbiAgICBbY2xpZW50LCBub3RlXVxuICApXG5cbiAgY29uc3QgbWVudVRyaWdnZXJSZWYgPSBSZWFjdC51c2VSZWYoKVxuXG4gIGNvbnN0IGdvVG9Ob3RlID0gYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB1cmwgPSBhd2FpdCBnZW5lcmF0ZVJldHVyblVybFRvTm90ZXNJbmRleChjbGllbnQsIG5vdGUpXG4gICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHVybFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBzaG93QWxlcnQoeyBtZXNzYWdlOiB0KCdFcnJvci5sb2FkaW5nX2Vycm9yX3RpdGxlJyksIHNldmVyaXR5OiAnZXJyb3InIH0pXG4gICAgfVxuICB9XG5cbiAgY29uc3QgaGFuZGxlS2V5RG93biA9IGUgPT4ge1xuICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJykge1xuICAgICAgZ29Ub05vdGUoKVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIDxUYWJsZVJvd1xuICAgICAgICBjbGFzc05hbWU9e2B1LWMtcG9pbnRlciAke3N0eWxlcy50YWJsZVJvd31gfVxuICAgICAgICByb2xlPVwiYnV0dG9uXCJcbiAgICAgICAgdGFiSW5kZXg9XCIwXCJcbiAgICAgICAgb25LZXlEb3duPXtoYW5kbGVLZXlEb3dufVxuICAgICAgICBvbkNsaWNrPXtnb1RvTm90ZX1cbiAgICAgID5cbiAgICAgICAgPFRhYmxlQ2VsbFxuICAgICAgICAgIGNsYXNzTmFtZT17YCR7c3R5bGVzLnRhYmxlQ2VsbE5hbWV9IHUtZmxleCB1LWZsZXgtaXRlbXMtY2VudGVyIHUtZnotbWVkaXVtYH1cbiAgICAgICAgPlxuICAgICAgICAgIDxJY29uXG4gICAgICAgICAgICBpY29uPXtGaWxlVHlwZU5vdGVJY29ufVxuICAgICAgICAgICAgc2l6ZT17MzJ9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ1LW1yLTEgdS1mbGV4LXNocmluay0wXCJcbiAgICAgICAgICAvPlxuXG4gICAgICAgICAge2lzTW9iaWxlID8gKFxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ1LWZsZXggdS1mbGV4LWNvbHVtbiB1LWZsZXgtZ3Jvdy0xXCJcbiAgICAgICAgICAgICAgc3R5bGU9e3sgbWluV2lkdGg6IDAgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPFR5cG9ncmFwaHkgZGlzcGxheT1cImlubGluZVwiIG5vV3JhcD5cbiAgICAgICAgICAgICAgICB7ZmlsZW5hbWV9XG4gICAgICAgICAgICAgIDwvVHlwb2dyYXBoeT5cbiAgICAgICAgICAgICAgPE5vdGVQYXRoIGRyaXZlUGF0aD17ZHJpdmVQYXRofSBwYXRoPXtub3RlLnBhdGh9IG5vTGluayAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidS1mbGV4LWdyb3ctMVwiPlxuICAgICAgICAgICAgICA8VHlwb2dyYXBoeSBkaXNwbGF5PVwiaW5saW5lXCIgbm9XcmFwPlxuICAgICAgICAgICAgICAgIHtmaWxlbmFtZX1cbiAgICAgICAgICAgICAgPC9UeXBvZ3JhcGh5PlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ1LWVsbGlwc2lzXCI+e2V4dGVuc2lvbn08L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICA8L1RhYmxlQ2VsbD5cblxuICAgICAgICA8V2l0aEJyZWFrcG9pbnRzIGhpZGVPbj17QnJlYWtwb2ludHMuTW9iaWxlfT5cbiAgICAgICAgICA8VGFibGVDZWxsIGNsYXNzTmFtZT17c3R5bGVzLnRhYmxlQ2VsbH0+XG4gICAgICAgICAgICB7dCgnTm90ZXMuTGlzdC5hdCcsIHtcbiAgICAgICAgICAgICAgZGF0ZTogZihub3RlLnVwZGF0ZWRfYXQsICdkZCBMTExMJyksXG4gICAgICAgICAgICAgIHRpbWU6IGYobm90ZS51cGRhdGVkX2F0LCAnSEg6bW0nKVxuICAgICAgICAgICAgfSl9XG4gICAgICAgICAgPC9UYWJsZUNlbGw+XG5cbiAgICAgICAgICA8VGFibGVDZWxsXG4gICAgICAgICAgICBjbGFzc05hbWU9e2Ake3N0eWxlcy50YWJsZUNlbGx9IHUtZmxleC1zaHJpbmstMGB9XG4gICAgICAgICAgICBvbkNsaWNrPXtlID0+IGUuc3RvcFByb3BhZ2F0aW9uKCl9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPE5vdGVQYXRoIGRyaXZlUGF0aD17ZHJpdmVQYXRofSBwYXRoPXtub3RlLnBhdGh9IC8+XG4gICAgICAgICAgPC9UYWJsZUNlbGw+XG5cbiAgICAgICAgICA8VGFibGVDZWxsIGNsYXNzTmFtZT17c3R5bGVzLnRhYmxlQ2VsbH0+XG4gICAgICAgICAgICA8TGlua1xuICAgICAgICAgICAgICBvbkNsaWNrPXtlID0+IGUuc3RvcFByb3BhZ2F0aW9uKCl9XG4gICAgICAgICAgICAgIHRvPXtBcHBSb3V0ZXMuU2hhcmVGcm9tTGlzdH1cbiAgICAgICAgICAgICAgc3RhdGU9e3tcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kTG9jYXRpb246IGxvY2F0aW9uLFxuICAgICAgICAgICAgICAgIHNoYXJlTW9kYWxQcm9wczoge1xuICAgICAgICAgICAgICAgICAgZG9jdW1lbnQ6IHsgLi4ubm90ZSwgbmFtZTogbm90ZS5hdHRyaWJ1dGVzLm5hbWUgfSxcbiAgICAgICAgICAgICAgICAgIGRvY3VtZW50VHlwZTogRG9jdW1lbnRUeXBlcy5Ob3RlcyxcbiAgICAgICAgICAgICAgICAgIHNoYXJpbmdEZXNjOiBub3RlLmF0dHJpYnV0ZXMubmFtZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPFNoYXJlZFJlY2lwaWVudHMgZG9jSWQ9e25vdGUuX2lkfSBzaXplPXsyNH0gLz5cbiAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICA8L1RhYmxlQ2VsbD5cbiAgICAgICAgPC9XaXRoQnJlYWtwb2ludHM+XG5cbiAgICAgICAgPFRhYmxlQ2VsbFxuICAgICAgICAgIGNsYXNzTmFtZT17c3R5bGVzLnRhYmxlQ2VsbH1cbiAgICAgICAgICBvbkNsaWNrPXtpc01vYmlsZSA/IG9wZW5NZW51IDogdW5kZWZpbmVkfVxuICAgICAgICA+XG4gICAgICAgICAgPHNwYW4gcmVmPXttZW51VHJpZ2dlclJlZn0+XG4gICAgICAgICAgICA8SWNvbkJ1dHRvbiBvbkNsaWNrPXshaXNNb2JpbGUgPyBvcGVuTWVudSA6IHVuZGVmaW5lZH0+XG4gICAgICAgICAgICAgIDxJY29uIGljb249XCJkb3RzXCIgLz5cbiAgICAgICAgICAgIDwvSWNvbkJ1dHRvbj5cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvVGFibGVDZWxsPlxuICAgICAgPC9UYWJsZVJvdz5cblxuICAgICAge2lzTWVudU9wZW4gJiYgKFxuICAgICAgICA8QWN0aW9uc01lbnVcbiAgICAgICAgICBvcGVuXG4gICAgICAgICAgcmVmPXttZW51VHJpZ2dlclJlZn1cbiAgICAgICAgICBvbkNsb3NlPXtjbG9zZU1lbnV9XG4gICAgICAgICAgYWN0aW9ucz17YWN0aW9uc31cbiAgICAgICAgICBkb2NzPXtbbm90ZV19XG4gICAgICAgICAgYXV0b0Nsb3NlXG4gICAgICAgID48L0FjdGlvbnNNZW51PlxuICAgICAgKX1cbiAgICA8Lz5cbiAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCB0cmFuc2xhdGUoKSh3aXRoQ2xpZW50KE5vdGVSb3cpKVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBSUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBSUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFQQTtBQUFBO0FBQUE7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQUE7QUFLQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBR0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBR0E7QUFBQTtBQUtBO0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUdBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFNQTtBQUNBO0FBQUE7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUtBO0FBQUE7QUF4S0E7QUFRQTtBQUFBO0FBa0tBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUExS0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/notes/List/NoteRow.jsx\n");

/***/ }),

/***/ "./src/components/notes/List/WithBreakpoints.tsx":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"WithBreakpoints\", function() { return WithBreakpoints; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var cozy_ui_transpiled_react_providers_Breakpoints__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/providers/Breakpoints/index.js\");\n\n\nvar WithBreakpoints = function WithBreakpoints(_ref) {\n  var hideOn = _ref.hideOn,\n    showOn = _ref.showOn,\n    children = _ref.children;\n  var breakpoints = Object(cozy_ui_transpiled_react_providers_Breakpoints__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\n  var hidden = hideOn && breakpoints[hideOn];\n  var shown = showOn && breakpoints[showOn];\n  var Component = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, children);\n  return hideOn ? hidden ? null : Component : showOn ? shown ? Component : null : Component;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9ub3Rlcy9MaXN0L1dpdGhCcmVha3BvaW50cy50c3guanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9ub3Rlcy9MaXN0L1dpdGhCcmVha3BvaW50cy50c3g/MGYzOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBCcmVha3BvaW50cyB9IGZyb20gJ3R5cGVzL2VudW1zJ1xuXG5pbXBvcnQgdXNlQnJlYWtwb2ludHMgZnJvbSAnY296eS11aS90cmFuc3BpbGVkL3JlYWN0L3Byb3ZpZGVycy9CcmVha3BvaW50cydcblxuaW50ZXJmYWNlIFByb3BzIHtcbiAgaGlkZU9uPzogQnJlYWtwb2ludHNcbiAgc2hvd09uPzogQnJlYWtwb2ludHNcbn1cblxuZXhwb3J0IGNvbnN0IFdpdGhCcmVha3BvaW50czogUmVhY3QuRkM8UHJvcHM+ID0gKHtcbiAgaGlkZU9uLFxuICBzaG93T24sXG4gIGNoaWxkcmVuXG59KSA9PiB7XG4gIGNvbnN0IGJyZWFrcG9pbnRzID0gdXNlQnJlYWtwb2ludHMoKVxuICBjb25zdCBoaWRkZW4gPSBoaWRlT24gJiYgYnJlYWtwb2ludHNbaGlkZU9uXVxuICBjb25zdCBzaG93biA9IHNob3dPbiAmJiBicmVha3BvaW50c1tzaG93T25dXG4gIGNvbnN0IENvbXBvbmVudCA9IDw+e2NoaWxkcmVufTwvPlxuXG4gIHJldHVybiBoaWRlT25cbiAgICA/IGhpZGRlblxuICAgICAgPyBudWxsXG4gICAgICA6IENvbXBvbmVudFxuICAgIDogc2hvd09uXG4gICAgPyBzaG93blxuICAgICAgPyBDb21wb25lbnRcbiAgICAgIDogbnVsbFxuICAgIDogQ29tcG9uZW50XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBT0E7QUFJQTtBQUZBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBU0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/notes/List/WithBreakpoints.tsx\n");

/***/ }),

/***/ "./src/components/notes/List/actions/deleteNote.jsx":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"deleteNote\", function() { return deleteNote; });\n/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/extends.js\");\n/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var cozy_ui_transpiled_react_ActionsMenu_ActionsMenuItem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/ActionsMenu/ActionsMenuItem.js\");\n/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/Icon/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_Icons_Trash__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/Icons/Trash.js\");\n/* harmony import */ var cozy_ui_transpiled_react_ListItemIcon__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/ListItemIcon/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_ListItemText__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/ListItemText/index.js\");\n\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal[\"default\"].signature : function (a) {\n  return a;\n};\n\n\n\n\n\n\nvar makeComponent = function makeComponent(label, icon) {\n  var Component = /*#__PURE__*/Object(react__WEBPACK_IMPORTED_MODULE_1__[\"forwardRef\"])(function (props, ref) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_ActionsMenu_ActionsMenuItem__WEBPACK_IMPORTED_MODULE_2__[\"default\"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, props, {\n      ref: ref\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_ListItemIcon__WEBPACK_IMPORTED_MODULE_5__[\"default\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n      icon: icon\n    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_ListItemText__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n      primary: label\n    }));\n  });\n  Component.displayName = 'DeleteNote';\n  return Component;\n};\nvar deleteNote = function deleteNote(_ref) {\n  var t = _ref.t,\n    onDeleteNote = _ref.onDeleteNote;\n  var label = t('Notes.Delete.delete_note');\n  var icon = cozy_ui_transpiled_react_Icons_Trash__WEBPACK_IMPORTED_MODULE_4__[\"default\"];\n  return {\n    name: 'deleteNote',\n    label: label,\n    icon: icon,\n    action: function action(data) {\n      onDeleteNote(data[0]);\n    },\n    Component: makeComponent(label, icon)\n  };\n};\n;\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n  if (!reactHotLoader) {\n    return;\n  }\n  reactHotLoader.register(makeComponent, \"makeComponent\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/notes/List/actions/deleteNote.jsx\");\n  reactHotLoader.register(deleteNote, \"deleteNote\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/notes/List/actions/deleteNote.jsx\");\n})();\n;\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(\"./node_modules/webpack/buildin/harmony-module.js\")(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9ub3Rlcy9MaXN0L2FjdGlvbnMvZGVsZXRlTm90ZS5qc3guanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9ub3Rlcy9MaXN0L2FjdGlvbnMvZGVsZXRlTm90ZS5qc3g/ZjRlZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgZm9yd2FyZFJlZiB9IGZyb20gJ3JlYWN0J1xuXG5pbXBvcnQgQWN0aW9uc01lbnVJdGVtIGZyb20gJ2NvenktdWkvdHJhbnNwaWxlZC9yZWFjdC9BY3Rpb25zTWVudS9BY3Rpb25zTWVudUl0ZW0nXG5pbXBvcnQgSWNvbiBmcm9tICdjb3p5LXVpL3RyYW5zcGlsZWQvcmVhY3QvSWNvbidcbmltcG9ydCBUcmFzaEljb24gZnJvbSAnY296eS11aS90cmFuc3BpbGVkL3JlYWN0L0ljb25zL1RyYXNoJ1xuaW1wb3J0IExpc3RJdGVtSWNvbiBmcm9tICdjb3p5LXVpL3RyYW5zcGlsZWQvcmVhY3QvTGlzdEl0ZW1JY29uJ1xuaW1wb3J0IExpc3RJdGVtVGV4dCBmcm9tICdjb3p5LXVpL3RyYW5zcGlsZWQvcmVhY3QvTGlzdEl0ZW1UZXh0J1xuXG5jb25zdCBtYWtlQ29tcG9uZW50ID0gKGxhYmVsLCBpY29uKSA9PiB7XG4gIGNvbnN0IENvbXBvbmVudCA9IGZvcndhcmRSZWYoKHByb3BzLCByZWYpID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgPEFjdGlvbnNNZW51SXRlbSB7Li4ucHJvcHN9IHJlZj17cmVmfT5cbiAgICAgICAgPExpc3RJdGVtSWNvbj5cbiAgICAgICAgICA8SWNvbiBpY29uPXtpY29ufSAvPlxuICAgICAgICA8L0xpc3RJdGVtSWNvbj5cbiAgICAgICAgPExpc3RJdGVtVGV4dCBwcmltYXJ5PXtsYWJlbH0gLz5cbiAgICAgIDwvQWN0aW9uc01lbnVJdGVtPlxuICAgIClcbiAgfSlcbiAgQ29tcG9uZW50LmRpc3BsYXlOYW1lID0gJ0RlbGV0ZU5vdGUnXG5cbiAgcmV0dXJuIENvbXBvbmVudFxufVxuXG5leHBvcnQgY29uc3QgZGVsZXRlTm90ZSA9ICh7IHQsIG9uRGVsZXRlTm90ZSB9KSA9PiB7XG4gIGNvbnN0IGxhYmVsID0gdCgnTm90ZXMuRGVsZXRlLmRlbGV0ZV9ub3RlJylcbiAgY29uc3QgaWNvbiA9IFRyYXNoSWNvblxuXG4gIHJldHVybiB7XG4gICAgbmFtZTogJ2RlbGV0ZU5vdGUnLFxuICAgIGxhYmVsLFxuICAgIGljb24sXG4gICAgYWN0aW9uOiBkYXRhID0+IHtcbiAgICAgIG9uRGVsZXRlTm90ZShkYXRhWzBdKVxuICAgIH0sXG4gICAgQ29tcG9uZW50OiBtYWtlQ29tcG9uZW50KGxhYmVsLCBpY29uKVxuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUVBO0FBQUE7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBN0JBO0FBZ0JBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/notes/List/actions/deleteNote.jsx\n");

/***/ }),

/***/ "./src/components/notes/List/actions/shareNote.jsx":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"shareNote\", function() { return shareNote; });\n/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/extends.js\");\n/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var types_enums__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./src/types/enums.ts\");\n/* harmony import */ var cozy_sharing__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./node_modules/cozy-sharing/dist/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_ActionsMenu_ActionsMenuItem__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/ActionsMenu/ActionsMenuItem.js\");\n/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/Icon/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_IconButton__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/IconButton/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_Icons_Share__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/Icons/Share.js\");\n/* harmony import */ var cozy_ui_transpiled_react_ListItemIcon__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/ListItemIcon/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_ListItemSecondaryAction__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/ListItemSecondaryAction/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_ListItemText__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/ListItemText/index.js\");\n/* harmony import */ var _WithBreakpoints__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"./src/components/notes/List/WithBreakpoints.tsx\");\n\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal[\"default\"].signature : function (a) {\n  return a;\n};\n\n\n\n\n\n\n\n\n\n\n\nvar makeComponent = function makeComponent(label, icon) {\n  var Component = /*#__PURE__*/Object(react__WEBPACK_IMPORTED_MODULE_1__[\"forwardRef\"])(function (props, ref) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_ActionsMenu_ActionsMenuItem__WEBPACK_IMPORTED_MODULE_4__[\"default\"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, props, {\n      ref: ref\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_ListItemIcon__WEBPACK_IMPORTED_MODULE_8__[\"default\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n      icon: icon\n    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_ListItemText__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n      primary: label\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_WithBreakpoints__WEBPACK_IMPORTED_MODULE_11__[\"WithBreakpoints\"], {\n      showOn: types_enums__WEBPACK_IMPORTED_MODULE_2__[\"Breakpoints\"].Mobile\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_ListItemSecondaryAction__WEBPACK_IMPORTED_MODULE_9__[\"default\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_IconButton__WEBPACK_IMPORTED_MODULE_6__[\"default\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_sharing__WEBPACK_IMPORTED_MODULE_3__[\"SharedRecipients\"], {\n      docId: props.docs[0]._id,\n      size: \"small\"\n    })))));\n  });\n  Component.displayName = 'ShareNote';\n  return Component;\n};\nvar shareNote = function shareNote(_ref) {\n  var t = _ref.t,\n    onShareNote = _ref.onShareNote;\n  var label = t('Notes.Files.share.cta');\n  var icon = cozy_ui_transpiled_react_Icons_Share__WEBPACK_IMPORTED_MODULE_7__[\"default\"];\n  return {\n    name: 'shareNote',\n    label: label,\n    icon: icon,\n    action: function action(data) {\n      onShareNote(data[0]);\n    },\n    Component: makeComponent(label, icon)\n  };\n};\n;\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n  if (!reactHotLoader) {\n    return;\n  }\n  reactHotLoader.register(makeComponent, \"makeComponent\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/notes/List/actions/shareNote.jsx\");\n  reactHotLoader.register(shareNote, \"shareNote\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/notes/List/actions/shareNote.jsx\");\n})();\n;\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(\"./node_modules/webpack/buildin/harmony-module.js\")(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9ub3Rlcy9MaXN0L2FjdGlvbnMvc2hhcmVOb3RlLmpzeC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL25vdGVzL0xpc3QvYWN0aW9ucy9zaGFyZU5vdGUuanN4PzBlYmMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IGZvcndhcmRSZWYgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IEJyZWFrcG9pbnRzIH0gZnJvbSAndHlwZXMvZW51bXMnXG5cbmltcG9ydCB7IFNoYXJlZFJlY2lwaWVudHMgfSBmcm9tICdjb3p5LXNoYXJpbmcnXG5pbXBvcnQgQWN0aW9uc01lbnVJdGVtIGZyb20gJ2NvenktdWkvdHJhbnNwaWxlZC9yZWFjdC9BY3Rpb25zTWVudS9BY3Rpb25zTWVudUl0ZW0nXG5pbXBvcnQgSWNvbiBmcm9tICdjb3p5LXVpL3RyYW5zcGlsZWQvcmVhY3QvSWNvbidcbmltcG9ydCBJY29uQnV0dG9uIGZyb20gJ2NvenktdWkvdHJhbnNwaWxlZC9yZWFjdC9JY29uQnV0dG9uJ1xuaW1wb3J0IFNoYXJlSWNvbiBmcm9tICdjb3p5LXVpL3RyYW5zcGlsZWQvcmVhY3QvSWNvbnMvU2hhcmUnXG5pbXBvcnQgTGlzdEl0ZW1JY29uIGZyb20gJ2NvenktdWkvdHJhbnNwaWxlZC9yZWFjdC9MaXN0SXRlbUljb24nXG5pbXBvcnQgTGlzdEl0ZW1TZWNvbmRhcnlBY3Rpb24gZnJvbSAnY296eS11aS90cmFuc3BpbGVkL3JlYWN0L0xpc3RJdGVtU2Vjb25kYXJ5QWN0aW9uJ1xuaW1wb3J0IExpc3RJdGVtVGV4dCBmcm9tICdjb3p5LXVpL3RyYW5zcGlsZWQvcmVhY3QvTGlzdEl0ZW1UZXh0J1xuXG5pbXBvcnQgeyBXaXRoQnJlYWtwb2ludHMgfSBmcm9tICcuLi9XaXRoQnJlYWtwb2ludHMnXG5cbmNvbnN0IG1ha2VDb21wb25lbnQgPSAobGFiZWwsIGljb24pID0+IHtcbiAgY29uc3QgQ29tcG9uZW50ID0gZm9yd2FyZFJlZigocHJvcHMsIHJlZikgPT4ge1xuICAgIHJldHVybiAoXG4gICAgICA8QWN0aW9uc01lbnVJdGVtIHsuLi5wcm9wc30gcmVmPXtyZWZ9PlxuICAgICAgICA8TGlzdEl0ZW1JY29uPlxuICAgICAgICAgIDxJY29uIGljb249e2ljb259IC8+XG4gICAgICAgIDwvTGlzdEl0ZW1JY29uPlxuICAgICAgICA8TGlzdEl0ZW1UZXh0IHByaW1hcnk9e2xhYmVsfSAvPlxuICAgICAgICA8V2l0aEJyZWFrcG9pbnRzIHNob3dPbj17QnJlYWtwb2ludHMuTW9iaWxlfT5cbiAgICAgICAgICA8TGlzdEl0ZW1TZWNvbmRhcnlBY3Rpb24+XG4gICAgICAgICAgICA8SWNvbkJ1dHRvbj5cbiAgICAgICAgICAgICAgPFNoYXJlZFJlY2lwaWVudHMgZG9jSWQ9e3Byb3BzLmRvY3NbMF0uX2lkfSBzaXplPVwic21hbGxcIiAvPlxuICAgICAgICAgICAgPC9JY29uQnV0dG9uPlxuICAgICAgICAgIDwvTGlzdEl0ZW1TZWNvbmRhcnlBY3Rpb24+XG4gICAgICAgIDwvV2l0aEJyZWFrcG9pbnRzPlxuICAgICAgPC9BY3Rpb25zTWVudUl0ZW0+XG4gICAgKVxuICB9KVxuICBDb21wb25lbnQuZGlzcGxheU5hbWUgPSAnU2hhcmVOb3RlJ1xuXG4gIHJldHVybiBDb21wb25lbnRcbn1cblxuZXhwb3J0IGNvbnN0IHNoYXJlTm90ZSA9ICh7IHQsIG9uU2hhcmVOb3RlIH0pID0+IHtcbiAgY29uc3QgbGFiZWwgPSB0KCdOb3Rlcy5GaWxlcy5zaGFyZS5jdGEnKVxuICBjb25zdCBpY29uID0gU2hhcmVJY29uXG5cbiAgcmV0dXJuIHtcbiAgICBuYW1lOiAnc2hhcmVOb3RlJyxcbiAgICBsYWJlbCxcbiAgICBpY29uLFxuICAgIGFjdGlvbjogZGF0YSA9PiB7XG4gICAgICBvblNoYXJlTm90ZShkYXRhWzBdKVxuICAgIH0sXG4gICAgQ29tcG9uZW50OiBtYWtlQ29tcG9uZW50KGxhYmVsLCBpY29uKVxuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBR0E7QUFBQTtBQUFBO0FBTUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQXBDQTtBQXVCQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/notes/List/actions/shareNote.jsx\n");

/***/ }),

/***/ "./src/components/notes/List/index.jsx":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony import */ var components_notes_List_AppTitle__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./src/components/notes/List/AppTitle.jsx\");\n/* harmony import */ var components_notes_List_List__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./src/components/notes/List/List.jsx\");\n/* harmony import */ var components_notes_List_list_styl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./src/components/notes/List/list.styl\");\n/* harmony import */ var components_notes_List_list_styl__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(components_notes_List_list_styl__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var components_notes_add__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./src/components/notes/add.jsx\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var types_enums__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./src/types/enums.ts\");\n/* harmony import */ var cozy_bar__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./node_modules/cozy-bar/dist/index.js\");\n/* harmony import */ var cozy_bar__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(cozy_bar__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./node_modules/cozy-client/dist/index.js\");\n/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var cozy_ui_transpiled_react_Stack__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/Stack/index.js\");\n/* harmony import */ var _WithBreakpoints__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"./src/components/notes/List/WithBreakpoints.tsx\");\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal[\"default\"].signature : function (a) {\n  return a;\n};\n\n\n\n\n\n\n\n\n\n\nvar shouldDisplayAddButton = function shouldDisplayAddButton(fetchStatus, notes) {\n  return fetchStatus === 'loaded' && notes.length > 0;\n};\nvar ListView = function ListView() {\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(cozy_client__WEBPACK_IMPORTED_MODULE_7__[\"Query\"], {\n    query: function query() {\n      return Object(cozy_client__WEBPACK_IMPORTED_MODULE_7__[\"Q\"])('io.cozy.notes');\n    }\n  }, function (_ref) {\n    var notes = _ref.data,\n      fetchStatus = _ref.fetchStatus;\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_4___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(cozy_ui_transpiled_react_Stack__WEBPACK_IMPORTED_MODULE_8__[\"default\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_WithBreakpoints__WEBPACK_IMPORTED_MODULE_9__[\"WithBreakpoints\"], {\n      hideOn: types_enums__WEBPACK_IMPORTED_MODULE_5__[\"Breakpoints\"].Mobile\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"div\", {\n      className: notes.length > 0 ? \"\".concat(components_notes_List_list_styl__WEBPACK_IMPORTED_MODULE_2___default.a.appHeader, \" u-flex u-flex-justify-between u-flex-items-center u-mt-1\") : ''\n    }, notes.length > 0 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(components_notes_List_AppTitle__WEBPACK_IMPORTED_MODULE_0__[\"default\"], null), shouldDisplayAddButton(fetchStatus, notes) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(components_notes_add__WEBPACK_IMPORTED_MODULE_3__[\"default\"], null))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(components_notes_List_List__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n      notes: notes,\n      fetchStatus: fetchStatus\n    })), shouldDisplayAddButton(fetchStatus, notes) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_WithBreakpoints__WEBPACK_IMPORTED_MODULE_9__[\"WithBreakpoints\"], {\n      showOn: types_enums__WEBPACK_IMPORTED_MODULE_5__[\"Breakpoints\"].Mobile\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(cozy_bar__WEBPACK_IMPORTED_MODULE_6__[\"BarRight\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(components_notes_add__WEBPACK_IMPORTED_MODULE_3__[\"AddMobile\"], null))));\n  });\n};\nvar _default = ListView;\n/* harmony default export */ __webpack_exports__[\"default\"] = (_default);\n;\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n  if (!reactHotLoader) {\n    return;\n  }\n  reactHotLoader.register(shouldDisplayAddButton, \"shouldDisplayAddButton\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/notes/List/index.jsx\");\n  reactHotLoader.register(ListView, \"ListView\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/notes/List/index.jsx\");\n  reactHotLoader.register(_default, \"default\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/notes/List/index.jsx\");\n})();\n;\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(\"./node_modules/webpack/buildin/harmony-module.js\")(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9ub3Rlcy9MaXN0L2luZGV4LmpzeC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL25vdGVzL0xpc3QvaW5kZXguanN4P2U2N2IiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEFwcFRpdGxlIGZyb20gJ2NvbXBvbmVudHMvbm90ZXMvTGlzdC9BcHBUaXRsZSdcbmltcG9ydCBMaXN0IGZyb20gJ2NvbXBvbmVudHMvbm90ZXMvTGlzdC9MaXN0J1xuaW1wb3J0IHN0eWxlcyBmcm9tICdjb21wb25lbnRzL25vdGVzL0xpc3QvbGlzdC5zdHlsJ1xuaW1wb3J0IEFkZCwgeyBBZGRNb2JpbGUgfSBmcm9tICdjb21wb25lbnRzL25vdGVzL2FkZCdcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCB7IEJyZWFrcG9pbnRzIH0gZnJvbSAndHlwZXMvZW51bXMnXG5cbmltcG9ydCB7IEJhclJpZ2h0IH0gZnJvbSAnY296eS1iYXInXG5pbXBvcnQgeyBRdWVyeSwgUSB9IGZyb20gJ2NvenktY2xpZW50J1xuaW1wb3J0IFN0YWNrIGZyb20gJ2NvenktdWkvdHJhbnNwaWxlZC9yZWFjdC9TdGFjaydcblxuaW1wb3J0IHsgV2l0aEJyZWFrcG9pbnRzIH0gZnJvbSAnLi9XaXRoQnJlYWtwb2ludHMnXG5cbmNvbnN0IHNob3VsZERpc3BsYXlBZGRCdXR0b24gPSAoZmV0Y2hTdGF0dXMsIG5vdGVzKSA9PlxuICBmZXRjaFN0YXR1cyA9PT0gJ2xvYWRlZCcgJiYgbm90ZXMubGVuZ3RoID4gMFxuXG5jb25zdCBMaXN0VmlldyA9ICgpID0+IHtcbiAgcmV0dXJuIChcbiAgICA8UXVlcnkgcXVlcnk9eygpID0+IFEoJ2lvLmNvenkubm90ZXMnKX0+XG4gICAgICB7KHsgZGF0YTogbm90ZXMsIGZldGNoU3RhdHVzIH0pID0+IChcbiAgICAgICAgPD5cbiAgICAgICAgICA8U3RhY2s+XG4gICAgICAgICAgICA8V2l0aEJyZWFrcG9pbnRzIGhpZGVPbj17QnJlYWtwb2ludHMuTW9iaWxlfT5cbiAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17XG4gICAgICAgICAgICAgICAgICBub3Rlcy5sZW5ndGggPiAwXG4gICAgICAgICAgICAgICAgICAgID8gYCR7c3R5bGVzLmFwcEhlYWRlcn0gdS1mbGV4IHUtZmxleC1qdXN0aWZ5LWJldHdlZW4gdS1mbGV4LWl0ZW1zLWNlbnRlciB1LW10LTFgXG4gICAgICAgICAgICAgICAgICAgIDogJydcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7bm90ZXMubGVuZ3RoID4gMCAmJiA8QXBwVGl0bGUgLz59XG5cbiAgICAgICAgICAgICAgICB7c2hvdWxkRGlzcGxheUFkZEJ1dHRvbihmZXRjaFN0YXR1cywgbm90ZXMpICYmIDxBZGQgLz59XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9XaXRoQnJlYWtwb2ludHM+XG5cbiAgICAgICAgICAgIDxMaXN0IG5vdGVzPXtub3Rlc30gZmV0Y2hTdGF0dXM9e2ZldGNoU3RhdHVzfSAvPlxuICAgICAgICAgIDwvU3RhY2s+XG5cbiAgICAgICAgICB7c2hvdWxkRGlzcGxheUFkZEJ1dHRvbihmZXRjaFN0YXR1cywgbm90ZXMpICYmIChcbiAgICAgICAgICAgIDxXaXRoQnJlYWtwb2ludHMgc2hvd09uPXtCcmVha3BvaW50cy5Nb2JpbGV9PlxuICAgICAgICAgICAgICA8QmFyUmlnaHQ+XG4gICAgICAgICAgICAgICAgPEFkZE1vYmlsZSAvPlxuICAgICAgICAgICAgICA8L0JhclJpZ2h0PlxuICAgICAgICAgICAgPC9XaXRoQnJlYWtwb2ludHM+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC8+XG4gICAgICApfVxuICAgIDwvUXVlcnk+XG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgTGlzdFZpZXdcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBR0E7QUFBQTtBQUVBO0FBSUE7QUFRQTtBQUFBO0FBQUE7QUFJQTtBQUFBO0FBTUE7QUFJQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQXZDQTtBQUdBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/notes/List/index.jsx\n");

/***/ }),

/***/ "./src/components/notes/List/list.styl":
/***/ (function(module, exports, __webpack_require__) {

eval("\nvar content = __webpack_require__(\"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/stylus-loader/index.js?!./src/components/notes/List/list.styl\");\n\nif(typeof content === 'string') content = [[module.i, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = __webpack_require__(\"./node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(true) {\n\tmodule.hot.accept(\"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/stylus-loader/index.js?!./src/components/notes/List/list.styl\", function() {\n\t\tvar newContent = __webpack_require__(\"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/stylus-loader/index.js?!./src/components/notes/List/list.styl\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.i, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9ub3Rlcy9MaXN0L2xpc3Quc3R5bC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL25vdGVzL0xpc3QvbGlzdC5zdHlsPzA5OTUiXSwic291cmNlc0NvbnRlbnQiOlsiXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTExLTEhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cG9zdGNzcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bHVzLWxvYWRlci9pbmRleC5qcz8/cmVmLS0xMS0zIS4vbGlzdC5zdHlsXCIpO1xuXG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblxudmFyIHRyYW5zZm9ybTtcbnZhciBpbnNlcnRJbnRvO1xuXG5cblxudmFyIG9wdGlvbnMgPSB7XCJobXJcIjp0cnVlfVxuXG5vcHRpb25zLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVxub3B0aW9ucy5pbnNlcnRJbnRvID0gdW5kZWZpbmVkO1xuXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanNcIikoY29udGVudCwgb3B0aW9ucyk7XG5cbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXG5pZihtb2R1bGUuaG90KSB7XG5cdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0xMS0xIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3Bvc3Rjc3MhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWx1cy1sb2FkZXIvaW5kZXguanM/P3JlZi0tMTEtMyEuL2xpc3Quc3R5bFwiLCBmdW5jdGlvbigpIHtcblx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTExLTEhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cG9zdGNzcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bHVzLWxvYWRlci9pbmRleC5qcz8/cmVmLS0xMS0zIS4vbGlzdC5zdHlsXCIpO1xuXG5cdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cblx0XHR2YXIgbG9jYWxzID0gKGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdHZhciBrZXksIGlkeCA9IDA7XG5cblx0XHRcdGZvcihrZXkgaW4gYSkge1xuXHRcdFx0XHRpZighYiB8fCBhW2tleV0gIT09IGJba2V5XSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRpZHgrKztcblx0XHRcdH1cblxuXHRcdFx0Zm9yKGtleSBpbiBiKSBpZHgtLTtcblxuXHRcdFx0cmV0dXJuIGlkeCA9PT0gMDtcblx0XHR9KGNvbnRlbnQubG9jYWxzLCBuZXdDb250ZW50LmxvY2FscykpO1xuXG5cdFx0aWYoIWxvY2FscykgdGhyb3cgbmV3IEVycm9yKCdBYm9ydGluZyBDU1MgSE1SIGR1ZSB0byBjaGFuZ2VkIGNzcy1tb2R1bGVzIGxvY2Fscy4nKTtcblxuXHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0fSk7XG5cblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/notes/List/list.styl\n");

/***/ }),

/***/ "./src/components/notes/MoreButton.jsx":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MoreButton\", function() { return MoreButton; });\n/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/extends.js\");\n/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/objectWithoutProperties.js\");\n/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/classnames/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var cozy_ui_transpiled_react_Buttons__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/Buttons/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/Icon/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_Icons_Dots__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/Icons/Dots.js\");\n/* harmony import */ var cozy_ui_transpiled_react_providers_Breakpoints__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/providers/Breakpoints/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_providers_I18n__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/providers/I18n/index.js\");\n\n\nvar _excluded = [\"disabled\", \"onClick\"];\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal[\"default\"].signature : function (a) {\n  return a;\n};\n\n\n\n\n\n\n\n\nvar MoreButton = /*#__PURE__*/Object(react__WEBPACK_IMPORTED_MODULE_4__[\"forwardRef\"])(__signature__(function (_ref, ref) {\n  var disabled = _ref.disabled,\n    onClick = _ref.onClick,\n    props = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default()(_ref, _excluded);\n  var _useI18n = Object(cozy_ui_transpiled_react_providers_I18n__WEBPACK_IMPORTED_MODULE_9__[\"useI18n\"])(),\n    t = _useI18n.t;\n  var _useBreakpoints = Object(cozy_ui_transpiled_react_providers_Breakpoints__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(),\n    isMobile = _useBreakpoints.isMobile;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(cozy_ui_transpiled_react_Buttons__WEBPACK_IMPORTED_MODULE_5__[\"default\"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({\n    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()('u-miw-auto', {\n      'u-ml-half': !isMobile\n    }),\n    variant: \"secondary\",\n    disabled: disabled,\n    onClick: onClick,\n    label: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n      icon: cozy_ui_transpiled_react_Icons_Dots__WEBPACK_IMPORTED_MODULE_7__[\"default\"]\n    }),\n    \"aria-label\": t('MoreButton.more'),\n    ref: ref\n  }, props));\n}, \"useI18n{{ t }}\\nuseBreakpoints{{ isMobile }}\", function () {\n  return [cozy_ui_transpiled_react_providers_I18n__WEBPACK_IMPORTED_MODULE_9__[\"useI18n\"], cozy_ui_transpiled_react_providers_Breakpoints__WEBPACK_IMPORTED_MODULE_8__[\"default\"]];\n}));\nMoreButton.displayName = 'MoreButton';\nMoreButton.propTypes = {\n  disabled: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.bool,\n  onClick: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.func.isRequired\n};\n;\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n  if (!reactHotLoader) {\n    return;\n  }\n  reactHotLoader.register(MoreButton, \"MoreButton\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/notes/MoreButton.jsx\");\n})();\n;\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(\"./node_modules/webpack/buildin/harmony-module.js\")(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9ub3Rlcy9Nb3JlQnV0dG9uLmpzeC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL25vdGVzL01vcmVCdXR0b24uanN4P2YxZDciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGN4IGZyb20gJ2NsYXNzbmFtZXMnXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnXG5pbXBvcnQgUmVhY3QsIHsgZm9yd2FyZFJlZiB9IGZyb20gJ3JlYWN0J1xuXG5pbXBvcnQgQnV0dG9uIGZyb20gJ2NvenktdWkvdHJhbnNwaWxlZC9yZWFjdC9CdXR0b25zJ1xuaW1wb3J0IEljb24gZnJvbSAnY296eS11aS90cmFuc3BpbGVkL3JlYWN0L0ljb24nXG5pbXBvcnQgRG90c0ljb24gZnJvbSAnY296eS11aS90cmFuc3BpbGVkL3JlYWN0L0ljb25zL0RvdHMnXG5pbXBvcnQgdXNlQnJlYWtwb2ludHMgZnJvbSAnY296eS11aS90cmFuc3BpbGVkL3JlYWN0L3Byb3ZpZGVycy9CcmVha3BvaW50cydcbmltcG9ydCB7IHVzZUkxOG4gfSBmcm9tICdjb3p5LXVpL3RyYW5zcGlsZWQvcmVhY3QvcHJvdmlkZXJzL0kxOG4nXG5cbmV4cG9ydCBjb25zdCBNb3JlQnV0dG9uID0gZm9yd2FyZFJlZigoeyBkaXNhYmxlZCwgb25DbGljaywgLi4ucHJvcHMgfSwgcmVmKSA9PiB7XG4gIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpXG4gIGNvbnN0IHsgaXNNb2JpbGUgfSA9IHVzZUJyZWFrcG9pbnRzKClcblxuICByZXR1cm4gKFxuICAgIDxCdXR0b25cbiAgICAgIGNsYXNzTmFtZT17Y3goJ3UtbWl3LWF1dG8nLCB7ICd1LW1sLWhhbGYnOiAhaXNNb2JpbGUgfSl9XG4gICAgICB2YXJpYW50PVwic2Vjb25kYXJ5XCJcbiAgICAgIGRpc2FibGVkPXtkaXNhYmxlZH1cbiAgICAgIG9uQ2xpY2s9e29uQ2xpY2t9XG4gICAgICBsYWJlbD17PEljb24gaWNvbj17RG90c0ljb259IC8+fVxuICAgICAgYXJpYS1sYWJlbD17dCgnTW9yZUJ1dHRvbi5tb3JlJyl9XG4gICAgICByZWY9e3JlZn1cbiAgICAgIHsuLi5wcm9wc31cbiAgICAvPlxuICApXG59KVxuXG5Nb3JlQnV0dG9uLmRpc3BsYXlOYW1lID0gJ01vcmVCdXR0b24nXG5cbk1vcmVCdXR0b24ucHJvcFR5cGVzID0ge1xuICBkaXNhYmxlZDogUHJvcFR5cGVzLmJvb2wsXG4gIG9uQ2xpY2s6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWRcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFFQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUlBO0FBQUE7QUFkQTtBQWdCQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUF2QkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/notes/MoreButton.jsx\n");

/***/ }),

/***/ "./src/components/notes/NoteProvider.jsx":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"NoteProvider\", function() { return NoteProvider; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"useNoteContext\", function() { return useNoteContext; });\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/slicedToArray.js\");\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var hooks_useServiceClient__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./src/hooks/useServiceClient.jsx\");\n/* harmony import */ var hooks_useUser__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./src/hooks/useUser.jsx\");\n/* harmony import */ var lib_collab_schema__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./src/lib/collab/schema.js\");\n/* harmony import */ var lib_queries__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./src/lib/queries.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./node_modules/cozy-client/dist/index.js\");\n/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_8__);\n\n\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal[\"default\"].signature : function (a) {\n  return a;\n};\n\n\n\n\n\n\nvar NoteContext = /*#__PURE__*/Object(react__WEBPACK_IMPORTED_MODULE_7__[\"createContext\"])();\nvar useNoteContext = function useNoteContext() {\n  return Object(react__WEBPACK_IMPORTED_MODULE_7__[\"useContext\"])(NoteContext);\n};\n__signature__(useNoteContext, \"useContext{}\");\nvar NoteProvider = function NoteProvider(_ref) {\n  var children = _ref.children,\n    noteId = _ref.noteId,\n    _ref$readOnly = _ref.readOnly,\n    readOnly = _ref$readOnly === void 0 ? false : _ref$readOnly;\n  var client = Object(cozy_client__WEBPACK_IMPORTED_MODULE_8__[\"useClient\"])();\n  var previousNoteId = Object(react__WEBPACK_IMPORTED_MODULE_7__[\"useRef\"])(noteId);\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_7__[\"useState\"])('pending'),\n    _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState, 2),\n    status = _useState2[0],\n    setStatus = _useState2[1];\n  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_7__[\"useState\"])(),\n    _useState4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState3, 2),\n    title = _useState4[0],\n    setTitle = _useState4[1];\n  var _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_7__[\"useState\"])(),\n    _useState6 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState5, 2),\n    formatedDocument = _useState6[0],\n    setFormatedDocument = _useState6[1];\n  var _useUser = Object(hooks_useUser__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(),\n    userName = _useUser.userName,\n    userId = _useUser.userId;\n  var serviceClient = Object(hooks_useServiceClient__WEBPACK_IMPORTED_MODULE_3__[\"default\"])({\n    userId: userId,\n    userName: userName,\n    cozyClient: client\n  });\n  var noteQuery = Object(lib_queries__WEBPACK_IMPORTED_MODULE_6__[\"buildNoteByIdQuery\"])(noteId);\n  var noteResult = Object(cozy_client__WEBPACK_IMPORTED_MODULE_8__[\"useQuery\"])(noteQuery.definition, noteQuery.options);\n  Object(react__WEBPACK_IMPORTED_MODULE_7__[\"useEffect\"])(function () {\n    var format = /*#__PURE__*/function () {\n      var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee() {\n        var doc;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                setStatus('loading');\n                _context.prev = 1;\n                doc = serviceClient.getFormatedDoc(noteResult === null || noteResult === void 0 ? void 0 : noteResult.data); // If the note's schema doesn't correspond to the App one\n                // that means that the App's schema has been updated but\n                // not the on for the Note. We need to update it in order\n                // to be able to use the latest features brought by\n                // the new schema\n                if (!(!readOnly && doc.schemaVersion !== Object(lib_collab_schema__WEBPACK_IMPORTED_MODULE_5__[\"getSchemaVersion\"])())) {\n                  _context.next = 8;\n                  break;\n                }\n                if (!(status !== 'failed')) {\n                  _context.next = 8;\n                  break;\n                }\n                _context.next = 7;\n                return serviceClient.updateSchema(noteId, lib_collab_schema__WEBPACK_IMPORTED_MODULE_5__[\"schemaOrdered\"]);\n              case 7:\n                doc = _context.sent;\n              case 8:\n                setTitle(doc.title || '');\n                setFormatedDocument(doc);\n                setStatus('loaded');\n                _context.next = 16;\n                break;\n              case 13:\n                _context.prev = 13;\n                _context.t0 = _context[\"catch\"](1);\n                setStatus('failed');\n              case 16:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[1, 13]]);\n      }));\n      return function format() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n    if (noteResult.fetchStatus === 'loaded' && serviceClient && status !== 'loading' && formatedDocument === undefined) {\n      format();\n    }\n  }, [formatedDocument, noteId, noteResult, readOnly, serviceClient, status]);\n  Object(react__WEBPACK_IMPORTED_MODULE_7__[\"useEffect\"])(function () {\n    if (noteId !== previousNoteId.current) {\n      setStatus('pending');\n      setTitle(undefined);\n      setFormatedDocument(undefined);\n    }\n    previousNoteId.current = noteId;\n  }, [noteId]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(NoteContext.Provider, {\n    value: {\n      doc: formatedDocument,\n      serviceClient: serviceClient,\n      status: status,\n      title: title,\n      setTitle: setTitle\n    }\n  }, children);\n};\n__signature__(NoteProvider, \"useClient{client}\\nuseRef{previousNoteId}\\nuseState{[status, setStatus]('pending')}\\nuseState{[title, setTitle]}\\nuseState{[formatedDocument, setFormatedDocument]}\\nuseUser{{ userName, userId }}\\nuseServiceClient{serviceClient}\\nuseQuery{noteResult}\\nuseEffect{}\\nuseEffect{}\", function () {\n  return [cozy_client__WEBPACK_IMPORTED_MODULE_8__[\"useClient\"], hooks_useUser__WEBPACK_IMPORTED_MODULE_4__[\"default\"], hooks_useServiceClient__WEBPACK_IMPORTED_MODULE_3__[\"default\"], cozy_client__WEBPACK_IMPORTED_MODULE_8__[\"useQuery\"]];\n});\n\n;\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n  if (!reactHotLoader) {\n    return;\n  }\n  reactHotLoader.register(NoteContext, \"NoteContext\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/notes/NoteProvider.jsx\");\n  reactHotLoader.register(useNoteContext, \"useNoteContext\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/notes/NoteProvider.jsx\");\n  reactHotLoader.register(NoteProvider, \"NoteProvider\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/notes/NoteProvider.jsx\");\n})();\n;\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(\"./node_modules/webpack/buildin/harmony-module.js\")(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9ub3Rlcy9Ob3RlUHJvdmlkZXIuanN4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvbm90ZXMvTm90ZVByb3ZpZGVyLmpzeD8zNmZhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB1c2VTZXJ2aWNlQ2xpZW50IGZyb20gJ2hvb2tzL3VzZVNlcnZpY2VDbGllbnQnXG5pbXBvcnQgdXNlVXNlciBmcm9tICdob29rcy91c2VVc2VyJ1xuaW1wb3J0IHsgZ2V0U2NoZW1hVmVyc2lvbiwgc2NoZW1hT3JkZXJlZCB9IGZyb20gJ2xpYi9jb2xsYWIvc2NoZW1hJ1xuaW1wb3J0IHsgYnVpbGROb3RlQnlJZFF1ZXJ5IH0gZnJvbSAnbGliL3F1ZXJpZXMnXG5pbXBvcnQgUmVhY3QsIHtcbiAgY3JlYXRlQ29udGV4dCxcbiAgdXNlQ29udGV4dCxcbiAgdXNlRWZmZWN0LFxuICB1c2VTdGF0ZSxcbiAgdXNlUmVmXG59IGZyb20gJ3JlYWN0J1xuXG5pbXBvcnQgeyB1c2VDbGllbnQsIHVzZVF1ZXJ5IH0gZnJvbSAnY296eS1jbGllbnQnXG5cbmNvbnN0IE5vdGVDb250ZXh0ID0gY3JlYXRlQ29udGV4dCgpXG5cbmNvbnN0IHVzZU5vdGVDb250ZXh0ID0gKCkgPT4gdXNlQ29udGV4dChOb3RlQ29udGV4dClcblxuY29uc3QgTm90ZVByb3ZpZGVyID0gKHsgY2hpbGRyZW4sIG5vdGVJZCwgcmVhZE9ubHkgPSBmYWxzZSB9KSA9PiB7XG4gIGNvbnN0IGNsaWVudCA9IHVzZUNsaWVudCgpXG5cbiAgY29uc3QgcHJldmlvdXNOb3RlSWQgPSB1c2VSZWYobm90ZUlkKVxuICBjb25zdCBbc3RhdHVzLCBzZXRTdGF0dXNdID0gdXNlU3RhdGUoJ3BlbmRpbmcnKVxuICBjb25zdCBbdGl0bGUsIHNldFRpdGxlXSA9IHVzZVN0YXRlKClcbiAgY29uc3QgW2Zvcm1hdGVkRG9jdW1lbnQsIHNldEZvcm1hdGVkRG9jdW1lbnRdID0gdXNlU3RhdGUoKVxuXG4gIGNvbnN0IHsgdXNlck5hbWUsIHVzZXJJZCB9ID0gdXNlVXNlcigpXG4gIGNvbnN0IHNlcnZpY2VDbGllbnQgPSB1c2VTZXJ2aWNlQ2xpZW50KHtcbiAgICB1c2VySWQsXG4gICAgdXNlck5hbWUsXG4gICAgY296eUNsaWVudDogY2xpZW50XG4gIH0pXG5cbiAgY29uc3Qgbm90ZVF1ZXJ5ID0gYnVpbGROb3RlQnlJZFF1ZXJ5KG5vdGVJZClcbiAgY29uc3Qgbm90ZVJlc3VsdCA9IHVzZVF1ZXJ5KG5vdGVRdWVyeS5kZWZpbml0aW9uLCBub3RlUXVlcnkub3B0aW9ucylcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGZvcm1hdCA9IGFzeW5jICgpID0+IHtcbiAgICAgIHNldFN0YXR1cygnbG9hZGluZycpXG4gICAgICB0cnkge1xuICAgICAgICBsZXQgZG9jID0gc2VydmljZUNsaWVudC5nZXRGb3JtYXRlZERvYyhub3RlUmVzdWx0Py5kYXRhKVxuICAgICAgICAvLyBJZiB0aGUgbm90ZSdzIHNjaGVtYSBkb2Vzbid0IGNvcnJlc3BvbmQgdG8gdGhlIEFwcCBvbmVcbiAgICAgICAgLy8gdGhhdCBtZWFucyB0aGF0IHRoZSBBcHAncyBzY2hlbWEgaGFzIGJlZW4gdXBkYXRlZCBidXRcbiAgICAgICAgLy8gbm90IHRoZSBvbiBmb3IgdGhlIE5vdGUuIFdlIG5lZWQgdG8gdXBkYXRlIGl0IGluIG9yZGVyXG4gICAgICAgIC8vIHRvIGJlIGFibGUgdG8gdXNlIHRoZSBsYXRlc3QgZmVhdHVyZXMgYnJvdWdodCBieVxuICAgICAgICAvLyB0aGUgbmV3IHNjaGVtYVxuICAgICAgICBpZiAoIXJlYWRPbmx5ICYmIGRvYy5zY2hlbWFWZXJzaW9uICE9PSBnZXRTY2hlbWFWZXJzaW9uKCkpIHtcbiAgICAgICAgICAvLyBPbmx5IGF0dGVtcHQgdXBkYXRlIGlmIG5vdCBwcmV2aW91c2x5IGZhaWxlZCwgYXMgdGhpcyB3b3VsZCB0cmlnZ2VyIGFuIGluZmluaXRlIGxvb3BcbiAgICAgICAgICBpZiAoc3RhdHVzICE9PSAnZmFpbGVkJykge1xuICAgICAgICAgICAgZG9jID0gYXdhaXQgc2VydmljZUNsaWVudC51cGRhdGVTY2hlbWEobm90ZUlkLCBzY2hlbWFPcmRlcmVkKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzZXRUaXRsZShkb2MudGl0bGUgfHwgJycpXG4gICAgICAgIHNldEZvcm1hdGVkRG9jdW1lbnQoZG9jKVxuICAgICAgICBzZXRTdGF0dXMoJ2xvYWRlZCcpXG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgc2V0U3RhdHVzKCdmYWlsZWQnKVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChcbiAgICAgIG5vdGVSZXN1bHQuZmV0Y2hTdGF0dXMgPT09ICdsb2FkZWQnICYmXG4gICAgICBzZXJ2aWNlQ2xpZW50ICYmXG4gICAgICBzdGF0dXMgIT09ICdsb2FkaW5nJyAmJlxuICAgICAgZm9ybWF0ZWREb2N1bWVudCA9PT0gdW5kZWZpbmVkXG4gICAgKSB7XG4gICAgICBmb3JtYXQoKVxuICAgIH1cbiAgfSwgW2Zvcm1hdGVkRG9jdW1lbnQsIG5vdGVJZCwgbm90ZVJlc3VsdCwgcmVhZE9ubHksIHNlcnZpY2VDbGllbnQsIHN0YXR1c10pXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAobm90ZUlkICE9PSBwcmV2aW91c05vdGVJZC5jdXJyZW50KSB7XG4gICAgICBzZXRTdGF0dXMoJ3BlbmRpbmcnKVxuICAgICAgc2V0VGl0bGUodW5kZWZpbmVkKVxuICAgICAgc2V0Rm9ybWF0ZWREb2N1bWVudCh1bmRlZmluZWQpXG4gICAgfVxuICAgIHByZXZpb3VzTm90ZUlkLmN1cnJlbnQgPSBub3RlSWRcbiAgfSwgW25vdGVJZF0pXG5cbiAgcmV0dXJuIChcbiAgICA8Tm90ZUNvbnRleHQuUHJvdmlkZXJcbiAgICAgIHZhbHVlPXt7XG4gICAgICAgIGRvYzogZm9ybWF0ZWREb2N1bWVudCxcbiAgICAgICAgc2VydmljZUNsaWVudCxcbiAgICAgICAgc3RhdHVzLFxuICAgICAgICB0aXRsZSxcbiAgICAgICAgc2V0VGl0bGVcbiAgICAgIH19XG4gICAgPlxuICAgICAge2NoaWxkcmVufVxuICAgIDwvTm90ZUNvbnRleHQuUHJvdmlkZXI+XG4gIClcbn1cblxuZXhwb3J0IHsgTm90ZVByb3ZpZGVyLCB1c2VOb3RlQ29udGV4dCB9XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFRQTtBQUVBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBckJBO0FBQUE7QUFBQTtBQXVCQTtBQU1BO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFLQTtBQUFBO0FBMUVBO0FBZ0JBO0FBNERBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFoRkE7QUFFQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/notes/NoteProvider.jsx\n");

/***/ }),

/***/ "./src/components/notes/PublicToolbarMoreMenu.jsx":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/slicedToArray.js\");\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var components_notes_MoreButton__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./src/components/notes/MoreButton.jsx\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var cozy_ui_transpiled_react_ActionsMenu__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/ActionsMenu/index.js\");\n\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal[\"default\"].signature : function (a) {\n  return a;\n};\n\n\n\n\nvar PublicToolbarMoreMenu = function PublicToolbarMoreMenu(_ref) {\n  var files = _ref.files,\n    actions = _ref.actions;\n  var moreButtonRef = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useRef\"])();\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(false),\n    _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState, 2),\n    menuIsVisible = _useState2[0],\n    setMenuVisible = _useState2[1];\n  var openMenu = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useCallback\"])(function () {\n    return setMenuVisible(true);\n  }, [setMenuVisible]);\n  var closeMenu = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useCallback\"])(function () {\n    return setMenuVisible(false);\n  }, [setMenuVisible]);\n  var toggleMenu = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useCallback\"])(function () {\n    if (menuIsVisible) return closeMenu();\n    openMenu();\n  }, [closeMenu, openMenu, menuIsVisible]);\n  if (actions.length === 0) return null;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_3___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(components_notes_MoreButton__WEBPACK_IMPORTED_MODULE_1__[\"MoreButton\"], {\n    onClick: toggleMenu,\n    ref: moreButtonRef\n  }), menuIsVisible && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_ActionsMenu__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n    open: true,\n    onClose: closeMenu,\n    ref: moreButtonRef,\n    docs: files,\n    actions: actions\n  }));\n};\n__signature__(PublicToolbarMoreMenu, \"useRef{moreButtonRef}\\nuseState{[menuIsVisible, setMenuVisible](false)}\\nuseCallback{openMenu}\\nuseCallback{closeMenu}\\nuseCallback{toggleMenu}\");\nPublicToolbarMoreMenu.propTypes = {\n  files: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object).isRequired,\n  actions: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object)\n};\nvar _default = PublicToolbarMoreMenu;\n/* harmony default export */ __webpack_exports__[\"default\"] = (_default);\n;\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n  if (!reactHotLoader) {\n    return;\n  }\n  reactHotLoader.register(PublicToolbarMoreMenu, \"PublicToolbarMoreMenu\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/notes/PublicToolbarMoreMenu.jsx\");\n  reactHotLoader.register(_default, \"default\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/notes/PublicToolbarMoreMenu.jsx\");\n})();\n;\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(\"./node_modules/webpack/buildin/harmony-module.js\")(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9ub3Rlcy9QdWJsaWNUb29sYmFyTW9yZU1lbnUuanN4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvbm90ZXMvUHVibGljVG9vbGJhck1vcmVNZW51LmpzeD8xZGZiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE1vcmVCdXR0b24gfSBmcm9tICdjb21wb25lbnRzL25vdGVzL01vcmVCdXR0b24nXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUNhbGxiYWNrLCB1c2VSZWYgfSBmcm9tICdyZWFjdCdcblxuaW1wb3J0IEFjdGlvbnNNZW51IGZyb20gJ2NvenktdWkvdHJhbnNwaWxlZC9yZWFjdC9BY3Rpb25zTWVudSdcblxuY29uc3QgUHVibGljVG9vbGJhck1vcmVNZW51ID0gKHsgZmlsZXMsIGFjdGlvbnMgfSkgPT4ge1xuICBjb25zdCBtb3JlQnV0dG9uUmVmID0gdXNlUmVmKClcblxuICBjb25zdCBbbWVudUlzVmlzaWJsZSwgc2V0TWVudVZpc2libGVdID0gdXNlU3RhdGUoZmFsc2UpXG5cbiAgY29uc3Qgb3Blbk1lbnUgPSB1c2VDYWxsYmFjaygoKSA9PiBzZXRNZW51VmlzaWJsZSh0cnVlKSwgW3NldE1lbnVWaXNpYmxlXSlcbiAgY29uc3QgY2xvc2VNZW51ID0gdXNlQ2FsbGJhY2soKCkgPT4gc2V0TWVudVZpc2libGUoZmFsc2UpLCBbc2V0TWVudVZpc2libGVdKVxuICBjb25zdCB0b2dnbGVNZW51ID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGlmIChtZW51SXNWaXNpYmxlKSByZXR1cm4gY2xvc2VNZW51KClcbiAgICBvcGVuTWVudSgpXG4gIH0sIFtjbG9zZU1lbnUsIG9wZW5NZW51LCBtZW51SXNWaXNpYmxlXSlcblxuICBpZiAoYWN0aW9ucy5sZW5ndGggPT09IDApIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAgPE1vcmVCdXR0b24gb25DbGljaz17dG9nZ2xlTWVudX0gcmVmPXttb3JlQnV0dG9uUmVmfSAvPlxuICAgICAge21lbnVJc1Zpc2libGUgJiYgKFxuICAgICAgICA8QWN0aW9uc01lbnVcbiAgICAgICAgICBvcGVuXG4gICAgICAgICAgb25DbG9zZT17Y2xvc2VNZW51fVxuICAgICAgICAgIHJlZj17bW9yZUJ1dHRvblJlZn1cbiAgICAgICAgICBkb2NzPXtmaWxlc31cbiAgICAgICAgICBhY3Rpb25zPXthY3Rpb25zfVxuICAgICAgICAvPlxuICAgICAgKX1cbiAgICA8Lz5cbiAgKVxufVxuXG5QdWJsaWNUb29sYmFyTW9yZU1lbnUucHJvcFR5cGVzID0ge1xuICBmaWxlczogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLm9iamVjdCkuaXNSZXF1aXJlZCxcbiAgYWN0aW9uczogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLm9iamVjdClcbn1cblxuZXhwb3J0IGRlZmF1bHQgUHVibGljVG9vbGJhck1vcmVNZW51XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBS0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBbkNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/notes/PublicToolbarMoreMenu.jsx\n");

/***/ }),

/***/ "./src/components/notes/TrashedBanner/DestroyConfirm.jsx":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DestroyConfirm\", function() { return DestroyConfirm; });\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/slicedToArray.js\");\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./node_modules/cozy-client/dist/index.js\");\n/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var cozy_ui_transpiled_react_Buttons__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/Buttons/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_CozyDialogs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/CozyDialogs/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/Icon/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_Icons_Forbidden__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/Icons/Forbidden.js\");\n/* harmony import */ var cozy_ui_transpiled_react_Icons_Restore__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/Icons/Restore.js\");\n/* harmony import */ var cozy_ui_transpiled_react_List__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/List/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_ListItem__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/ListItem/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_ListItemIcon__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/ListItemIcon/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_ListItemText__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/ListItemText/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_providers_Alert__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/providers/Alert/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_providers_I18n__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/providers/I18n/index.js\");\n\n\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal[\"default\"].signature : function (a) {\n  return a;\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar DestroyConfirm = function DestroyConfirm(_ref) {\n  var noteId = _ref.noteId,\n    onCancel = _ref.onCancel,\n    onConfirm = _ref.onConfirm;\n  var _useI18n = Object(cozy_ui_transpiled_react_providers_I18n__WEBPACK_IMPORTED_MODULE_15__[\"useI18n\"])(),\n    t = _useI18n.t;\n  var client = Object(cozy_client__WEBPACK_IMPORTED_MODULE_4__[\"useClient\"])();\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(false),\n    _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState, 2),\n    isBusy = _useState2[0],\n    setBusy = _useState2[1];\n  var _useAlert = Object(cozy_ui_transpiled_react_providers_Alert__WEBPACK_IMPORTED_MODULE_14__[\"useAlert\"])(),\n    showAlert = _useAlert.showAlert;\n  var handleDestroy = /*#__PURE__*/function () {\n    var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee() {\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              setBusy(true);\n              _context.next = 4;\n              return client.collection('io.cozy.files').deleteFilePermanently(noteId);\n            case 4:\n              onConfirm();\n              _context.next = 12;\n              break;\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](0);\n              showAlert({\n                message: t('TrashedBanner.deleteError'),\n                severity: 'error'\n              });\n              onCancel();\n              setBusy(false);\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 7]]);\n    }));\n    return function handleDestroy() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_CozyDialogs__WEBPACK_IMPORTED_MODULE_6__[\"ConfirmDialog\"], {\n    open: true,\n    onClose: onCancel,\n    title: t('DestroyConfirm.title'),\n    content: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_List__WEBPACK_IMPORTED_MODULE_10__[\"default\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_ListItem__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n      gutters: \"disabled\",\n      size: \"small\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_ListItemIcon__WEBPACK_IMPORTED_MODULE_12__[\"default\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n      icon: cozy_ui_transpiled_react_Icons_Forbidden__WEBPACK_IMPORTED_MODULE_8__[\"default\"]\n    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_ListItemText__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n      primary: t(\"DestroyConfirm.forbidden\")\n    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_ListItem__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n      gutters: \"disabled\",\n      size: \"small\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_ListItemIcon__WEBPACK_IMPORTED_MODULE_12__[\"default\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n      icon: cozy_ui_transpiled_react_Icons_Restore__WEBPACK_IMPORTED_MODULE_9__[\"default\"]\n    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_ListItemText__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n      primary: t(\"DestroyConfirm.restore\")\n    }))),\n    actions: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_3___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_Buttons__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n      variant: \"secondary\",\n      onClick: onCancel,\n      label: t('DestroyConfirm.cancel'),\n      disabled: isBusy\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_Buttons__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n      color: \"error\",\n      onClick: handleDestroy,\n      label: t('DestroyConfirm.delete'),\n      busy: isBusy\n    }))\n  });\n};\n__signature__(DestroyConfirm, \"useI18n{{ t }}\\nuseClient{client}\\nuseState{[isBusy, setBusy](false)}\\nuseAlert{{ showAlert }}\", function () {\n  return [cozy_ui_transpiled_react_providers_I18n__WEBPACK_IMPORTED_MODULE_15__[\"useI18n\"], cozy_client__WEBPACK_IMPORTED_MODULE_4__[\"useClient\"], cozy_ui_transpiled_react_providers_Alert__WEBPACK_IMPORTED_MODULE_14__[\"useAlert\"]];\n});\n\n;\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n  if (!reactHotLoader) {\n    return;\n  }\n  reactHotLoader.register(DestroyConfirm, \"DestroyConfirm\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/notes/TrashedBanner/DestroyConfirm.jsx\");\n})();\n;\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(\"./node_modules/webpack/buildin/harmony-module.js\")(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9ub3Rlcy9UcmFzaGVkQmFubmVyL0Rlc3Ryb3lDb25maXJtLmpzeC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL25vdGVzL1RyYXNoZWRCYW5uZXIvRGVzdHJveUNvbmZpcm0uanN4P2VlODQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnXG5cbmltcG9ydCB7IHVzZUNsaWVudCB9IGZyb20gJ2NvenktY2xpZW50J1xuaW1wb3J0IEJ1dHRvbiBmcm9tICdjb3p5LXVpL3RyYW5zcGlsZWQvcmVhY3QvQnV0dG9ucydcbmltcG9ydCB7IENvbmZpcm1EaWFsb2cgfSBmcm9tICdjb3p5LXVpL3RyYW5zcGlsZWQvcmVhY3QvQ296eURpYWxvZ3MnXG5pbXBvcnQgSWNvbiBmcm9tICdjb3p5LXVpL3RyYW5zcGlsZWQvcmVhY3QvSWNvbidcbmltcG9ydCBGb3JiaWRkZW5JY29uIGZyb20gJ2NvenktdWkvdHJhbnNwaWxlZC9yZWFjdC9JY29ucy9Gb3JiaWRkZW4nXG5pbXBvcnQgUmVzdG9yZUljb24gZnJvbSAnY296eS11aS90cmFuc3BpbGVkL3JlYWN0L0ljb25zL1Jlc3RvcmUnXG5pbXBvcnQgTGlzdCBmcm9tICdjb3p5LXVpL3RyYW5zcGlsZWQvcmVhY3QvTGlzdCdcbmltcG9ydCBMaXN0SXRlbSBmcm9tICdjb3p5LXVpL3RyYW5zcGlsZWQvcmVhY3QvTGlzdEl0ZW0nXG5pbXBvcnQgTGlzdEl0ZW1JY29uIGZyb20gJ2NvenktdWkvdHJhbnNwaWxlZC9yZWFjdC9MaXN0SXRlbUljb24nXG5pbXBvcnQgTGlzdEl0ZW1UZXh0IGZyb20gJ2NvenktdWkvdHJhbnNwaWxlZC9yZWFjdC9MaXN0SXRlbVRleHQnXG5pbXBvcnQgeyB1c2VBbGVydCB9IGZyb20gJ2NvenktdWkvdHJhbnNwaWxlZC9yZWFjdC9wcm92aWRlcnMvQWxlcnQnXG5pbXBvcnQgeyB1c2VJMThuIH0gZnJvbSAnY296eS11aS90cmFuc3BpbGVkL3JlYWN0L3Byb3ZpZGVycy9JMThuJ1xuXG5jb25zdCBEZXN0cm95Q29uZmlybSA9ICh7IG5vdGVJZCwgb25DYW5jZWwsIG9uQ29uZmlybSB9KSA9PiB7XG4gIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpXG4gIGNvbnN0IGNsaWVudCA9IHVzZUNsaWVudCgpXG4gIGNvbnN0IFtpc0J1c3ksIHNldEJ1c3ldID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IHsgc2hvd0FsZXJ0IH0gPSB1c2VBbGVydCgpXG5cbiAgY29uc3QgaGFuZGxlRGVzdHJveSA9IGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgc2V0QnVzeSh0cnVlKVxuICAgICAgYXdhaXQgY2xpZW50LmNvbGxlY3Rpb24oJ2lvLmNvenkuZmlsZXMnKS5kZWxldGVGaWxlUGVybWFuZW50bHkobm90ZUlkKVxuICAgICAgb25Db25maXJtKClcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBzaG93QWxlcnQoeyBtZXNzYWdlOiB0KCdUcmFzaGVkQmFubmVyLmRlbGV0ZUVycm9yJyksIHNldmVyaXR5OiAnZXJyb3InIH0pXG4gICAgICBvbkNhbmNlbCgpXG4gICAgICBzZXRCdXN5KGZhbHNlKVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPENvbmZpcm1EaWFsb2dcbiAgICAgIG9wZW5cbiAgICAgIG9uQ2xvc2U9e29uQ2FuY2VsfVxuICAgICAgdGl0bGU9e3QoJ0Rlc3Ryb3lDb25maXJtLnRpdGxlJyl9XG4gICAgICBjb250ZW50PXtcbiAgICAgICAgPExpc3Q+XG4gICAgICAgICAgPExpc3RJdGVtIGd1dHRlcnM9XCJkaXNhYmxlZFwiIHNpemU9XCJzbWFsbFwiPlxuICAgICAgICAgICAgPExpc3RJdGVtSWNvbj5cbiAgICAgICAgICAgICAgPEljb24gaWNvbj17Rm9yYmlkZGVuSWNvbn0gLz5cbiAgICAgICAgICAgIDwvTGlzdEl0ZW1JY29uPlxuICAgICAgICAgICAgPExpc3RJdGVtVGV4dCBwcmltYXJ5PXt0KGBEZXN0cm95Q29uZmlybS5mb3JiaWRkZW5gKX0gLz5cbiAgICAgICAgICA8L0xpc3RJdGVtPlxuICAgICAgICAgIDxMaXN0SXRlbSBndXR0ZXJzPVwiZGlzYWJsZWRcIiBzaXplPVwic21hbGxcIj5cbiAgICAgICAgICAgIDxMaXN0SXRlbUljb24+XG4gICAgICAgICAgICAgIDxJY29uIGljb249e1Jlc3RvcmVJY29ufSAvPlxuICAgICAgICAgICAgPC9MaXN0SXRlbUljb24+XG4gICAgICAgICAgICA8TGlzdEl0ZW1UZXh0IHByaW1hcnk9e3QoYERlc3Ryb3lDb25maXJtLnJlc3RvcmVgKX0gLz5cbiAgICAgICAgICA8L0xpc3RJdGVtPlxuICAgICAgICA8L0xpc3Q+XG4gICAgICB9XG4gICAgICBhY3Rpb25zPXtcbiAgICAgICAgPD5cbiAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICB2YXJpYW50PVwic2Vjb25kYXJ5XCJcbiAgICAgICAgICAgIG9uQ2xpY2s9e29uQ2FuY2VsfVxuICAgICAgICAgICAgbGFiZWw9e3QoJ0Rlc3Ryb3lDb25maXJtLmNhbmNlbCcpfVxuICAgICAgICAgICAgZGlzYWJsZWQ9e2lzQnVzeX1cbiAgICAgICAgICAvPlxuICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgIGNvbG9yPVwiZXJyb3JcIlxuICAgICAgICAgICAgb25DbGljaz17aGFuZGxlRGVzdHJveX1cbiAgICAgICAgICAgIGxhYmVsPXt0KCdEZXN0cm95Q29uZmlybS5kZWxldGUnKX1cbiAgICAgICAgICAgIGJ1c3k9e2lzQnVzeX1cbiAgICAgICAgICAvPlxuICAgICAgICA8Lz5cbiAgICAgIH1cbiAgICAvPlxuICApXG59XG5cbmV4cG9ydCB7IERlc3Ryb3lDb25maXJtIH1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBVkE7QUFBQTtBQUFBO0FBWUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFFQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUVBO0FBQUE7QUFJQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFHQTtBQUFBO0FBekRBO0FBSUE7QUF1REE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQTNEQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/notes/TrashedBanner/DestroyConfirm.jsx\n");

/***/ }),

/***/ "./src/components/notes/TrashedBanner/TrashedBanner.jsx":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TrashedBanner\", function() { return TrashedBanner; });\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/slicedToArray.js\");\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var components_notes_TrashedBanner_DestroyConfirm__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./src/components/notes/TrashedBanner/DestroyConfirm.jsx\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./node_modules/cozy-client/dist/index.js\");\n/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var cozy_ui_transpiled_react_Alert__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/Alert/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_Buttons__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/Buttons/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/Icon/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_Icons_TrashDuotone__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/Icons/TrashDuotone.js\");\n/* harmony import */ var cozy_ui_transpiled_react_providers_Alert__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/providers/Alert/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_providers_Breakpoints__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/providers/Breakpoints/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_providers_I18n__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/providers/I18n/index.js\");\n\n\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal[\"default\"].signature : function (a) {\n  return a;\n};\n\n\n\n\n\n\n\n\n\n\nvar TrashedBanner = function TrashedBanner(_ref) {\n  var noteId = _ref.noteId,\n    isPublic = _ref.isPublic,\n    returnUrl = _ref.returnUrl;\n  var _useI18n = Object(cozy_ui_transpiled_react_providers_I18n__WEBPACK_IMPORTED_MODULE_12__[\"useI18n\"])(),\n    t = _useI18n.t;\n  var client = Object(cozy_client__WEBPACK_IMPORTED_MODULE_5__[\"useClient\"])();\n  var _useAlert = Object(cozy_ui_transpiled_react_providers_Alert__WEBPACK_IMPORTED_MODULE_10__[\"useAlert\"])(),\n    showAlert = _useAlert.showAlert;\n  var _useBreakpoints = Object(cozy_ui_transpiled_react_providers_Breakpoints__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(),\n    isMobile = _useBreakpoints.isMobile;\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])(false),\n    _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState, 2),\n    isDestroyConfirmationDisplayed = _useState2[0],\n    setDestroyConfirmationDisplayed = _useState2[1];\n  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])(false),\n    _useState4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState3, 2),\n    isBusy = _useState4[0],\n    setBusy = _useState4[1];\n  var restore = /*#__PURE__*/function () {\n    var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee() {\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return client.collection('io.cozy.files').restore(noteId);\n            case 3:\n              showAlert({\n                message: t('TrashedBanner.restoreSuccess'),\n                severity: 'secondary'\n              });\n              _context.next = 9;\n              break;\n            case 6:\n              _context.prev = 6;\n              _context.t0 = _context[\"catch\"](0);\n              showAlert({\n                message: t('TrashedBanner.restoreError'),\n                severity: 'error'\n              });\n            case 9:\n              _context.prev = 9;\n              setBusy(false);\n              return _context.finish(9);\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 6, 9, 12]]);\n    }));\n    return function restore() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var destroy = /*#__PURE__*/function () {\n    var _ref3 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee2() {\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              setDestroyConfirmationDisplayed(true);\n            case 1:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n    return function destroy() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var handleDestroyCancel = function handleDestroyCancel() {\n    setDestroyConfirmationDisplayed(false);\n  };\n  var handleDestroyConfirm = function handleDestroyConfirm() {\n    window.location = returnUrl;\n  };\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_4___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(cozy_ui_transpiled_react_Alert__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n    square: true,\n    severity: \"secondary\",\n    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n      icon: cozy_ui_transpiled_react_Icons_TrashDuotone__WEBPACK_IMPORTED_MODULE_9__[\"default\"],\n      size: 32\n    }),\n    block: isMobile,\n    action: !isPublic ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_4___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(cozy_ui_transpiled_react_Buttons__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n      size: \"small\",\n      variant: \"text\",\n      label: t('TrashedBanner.restore'),\n      onClick: restore,\n      busy: isBusy\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(cozy_ui_transpiled_react_Buttons__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n      size: \"small\",\n      variant: \"text\",\n      label: t('TrashedBanner.destroy'),\n      onClick: destroy,\n      disabled: isBusy\n    })) : null\n  }, t('TrashedBanner.text')), isDestroyConfirmationDisplayed ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(components_notes_TrashedBanner_DestroyConfirm__WEBPACK_IMPORTED_MODULE_3__[\"DestroyConfirm\"], {\n    noteId: noteId,\n    onCancel: handleDestroyCancel,\n    onConfirm: handleDestroyConfirm\n  }) : null);\n};\n__signature__(TrashedBanner, \"useI18n{{ t }}\\nuseClient{client}\\nuseAlert{{ showAlert }}\\nuseBreakpoints{{ isMobile }}\\nuseState{[isDestroyConfirmationDisplayed, setDestroyConfirmationDisplayed](false)}\\nuseState{[isBusy, setBusy](false)}\", function () {\n  return [cozy_ui_transpiled_react_providers_I18n__WEBPACK_IMPORTED_MODULE_12__[\"useI18n\"], cozy_client__WEBPACK_IMPORTED_MODULE_5__[\"useClient\"], cozy_ui_transpiled_react_providers_Alert__WEBPACK_IMPORTED_MODULE_10__[\"useAlert\"], cozy_ui_transpiled_react_providers_Breakpoints__WEBPACK_IMPORTED_MODULE_11__[\"default\"]];\n});\n\n;\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n  if (!reactHotLoader) {\n    return;\n  }\n  reactHotLoader.register(TrashedBanner, \"TrashedBanner\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/notes/TrashedBanner/TrashedBanner.jsx\");\n})();\n;\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(\"./node_modules/webpack/buildin/harmony-module.js\")(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9ub3Rlcy9UcmFzaGVkQmFubmVyL1RyYXNoZWRCYW5uZXIuanN4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvbm90ZXMvVHJhc2hlZEJhbm5lci9UcmFzaGVkQmFubmVyLmpzeD9lODI4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERlc3Ryb3lDb25maXJtIH0gZnJvbSAnY29tcG9uZW50cy9ub3Rlcy9UcmFzaGVkQmFubmVyL0Rlc3Ryb3lDb25maXJtJ1xuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnXG5cbmltcG9ydCB7IHVzZUNsaWVudCB9IGZyb20gJ2NvenktY2xpZW50J1xuaW1wb3J0IEFsZXJ0IGZyb20gJ2NvenktdWkvdHJhbnNwaWxlZC9yZWFjdC9BbGVydCdcbmltcG9ydCBCdXR0b25zIGZyb20gJ2NvenktdWkvdHJhbnNwaWxlZC9yZWFjdC9CdXR0b25zJ1xuaW1wb3J0IEljb24gZnJvbSAnY296eS11aS90cmFuc3BpbGVkL3JlYWN0L0ljb24nXG5pbXBvcnQgVHJhc2hEdW90b25lSWNvbiBmcm9tICdjb3p5LXVpL3RyYW5zcGlsZWQvcmVhY3QvSWNvbnMvVHJhc2hEdW90b25lJ1xuaW1wb3J0IHsgdXNlQWxlcnQgfSBmcm9tICdjb3p5LXVpL3RyYW5zcGlsZWQvcmVhY3QvcHJvdmlkZXJzL0FsZXJ0J1xuaW1wb3J0IHVzZUJyZWFrcG9pbnRzIGZyb20gJ2NvenktdWkvdHJhbnNwaWxlZC9yZWFjdC9wcm92aWRlcnMvQnJlYWtwb2ludHMnXG5pbXBvcnQgeyB1c2VJMThuIH0gZnJvbSAnY296eS11aS90cmFuc3BpbGVkL3JlYWN0L3Byb3ZpZGVycy9JMThuJ1xuXG5jb25zdCBUcmFzaGVkQmFubmVyID0gKHsgbm90ZUlkLCBpc1B1YmxpYywgcmV0dXJuVXJsIH0pID0+IHtcbiAgY29uc3QgeyB0IH0gPSB1c2VJMThuKClcbiAgY29uc3QgY2xpZW50ID0gdXNlQ2xpZW50KClcbiAgY29uc3QgeyBzaG93QWxlcnQgfSA9IHVzZUFsZXJ0KClcbiAgY29uc3QgeyBpc01vYmlsZSB9ID0gdXNlQnJlYWtwb2ludHMoKVxuICBjb25zdCBbaXNEZXN0cm95Q29uZmlybWF0aW9uRGlzcGxheWVkLCBzZXREZXN0cm95Q29uZmlybWF0aW9uRGlzcGxheWVkXSA9XG4gICAgdXNlU3RhdGUoZmFsc2UpXG5cbiAgY29uc3QgW2lzQnVzeSwgc2V0QnVzeV0gPSB1c2VTdGF0ZShmYWxzZSlcblxuICBjb25zdCByZXN0b3JlID0gYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBjbGllbnQuY29sbGVjdGlvbignaW8uY296eS5maWxlcycpLnJlc3RvcmUobm90ZUlkKVxuICAgICAgc2hvd0FsZXJ0KHtcbiAgICAgICAgbWVzc2FnZTogdCgnVHJhc2hlZEJhbm5lci5yZXN0b3JlU3VjY2VzcycpLFxuICAgICAgICBzZXZlcml0eTogJ3NlY29uZGFyeSdcbiAgICAgIH0pXG4gICAgfSBjYXRjaCB7XG4gICAgICBzaG93QWxlcnQoeyBtZXNzYWdlOiB0KCdUcmFzaGVkQmFubmVyLnJlc3RvcmVFcnJvcicpLCBzZXZlcml0eTogJ2Vycm9yJyB9KVxuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRCdXN5KGZhbHNlKVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGRlc3Ryb3kgPSBhc3luYyAoKSA9PiB7XG4gICAgc2V0RGVzdHJveUNvbmZpcm1hdGlvbkRpc3BsYXllZCh0cnVlKVxuICB9XG5cbiAgY29uc3QgaGFuZGxlRGVzdHJveUNhbmNlbCA9ICgpID0+IHtcbiAgICBzZXREZXN0cm95Q29uZmlybWF0aW9uRGlzcGxheWVkKGZhbHNlKVxuICB9XG5cbiAgY29uc3QgaGFuZGxlRGVzdHJveUNvbmZpcm0gPSAoKSA9PiB7XG4gICAgd2luZG93LmxvY2F0aW9uID0gcmV0dXJuVXJsXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDw+XG4gICAgICA8QWxlcnRcbiAgICAgICAgc3F1YXJlXG4gICAgICAgIHNldmVyaXR5PVwic2Vjb25kYXJ5XCJcbiAgICAgICAgaWNvbj17PEljb24gaWNvbj17VHJhc2hEdW90b25lSWNvbn0gc2l6ZT17MzJ9IC8+fVxuICAgICAgICBibG9jaz17aXNNb2JpbGV9XG4gICAgICAgIGFjdGlvbj17XG4gICAgICAgICAgIWlzUHVibGljID8gKFxuICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgPEJ1dHRvbnNcbiAgICAgICAgICAgICAgICBzaXplPVwic21hbGxcIlxuICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICBsYWJlbD17dCgnVHJhc2hlZEJhbm5lci5yZXN0b3JlJyl9XG4gICAgICAgICAgICAgICAgb25DbGljaz17cmVzdG9yZX1cbiAgICAgICAgICAgICAgICBidXN5PXtpc0J1c3l9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDxCdXR0b25zXG4gICAgICAgICAgICAgICAgc2l6ZT1cInNtYWxsXCJcbiAgICAgICAgICAgICAgICB2YXJpYW50PVwidGV4dFwiXG4gICAgICAgICAgICAgICAgbGFiZWw9e3QoJ1RyYXNoZWRCYW5uZXIuZGVzdHJveScpfVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2Rlc3Ryb3l9XG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzQnVzeX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvPlxuICAgICAgICAgICkgOiBudWxsXG4gICAgICAgIH1cbiAgICAgID5cbiAgICAgICAge3QoJ1RyYXNoZWRCYW5uZXIudGV4dCcpfVxuICAgICAgPC9BbGVydD5cbiAgICAgIHtpc0Rlc3Ryb3lDb25maXJtYXRpb25EaXNwbGF5ZWQgPyAoXG4gICAgICAgIDxEZXN0cm95Q29uZmlybVxuICAgICAgICAgIG5vdGVJZD17bm90ZUlkfVxuICAgICAgICAgIG9uQ2FuY2VsPXtoYW5kbGVEZXN0cm95Q2FuY2VsfVxuICAgICAgICAgIG9uQ29uZmlybT17aGFuZGxlRGVzdHJveUNvbmZpcm19XG4gICAgICAgIC8+XG4gICAgICApIDogbnVsbH1cbiAgICA8Lz5cbiAgKVxufVxuXG5leHBvcnQgeyBUcmFzaGVkQmFubmVyIH1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQURBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFaQTtBQUFBO0FBQUE7QUFjQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFGQTtBQUFBO0FBQUE7QUFJQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFJQTtBQU1BO0FBQ0E7QUFDQTtBQUFBO0FBS0E7QUFBQTtBQTNFQTtBQUlBO0FBeUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUE3RUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/notes/TrashedBanner/TrashedBanner.jsx\n");

/***/ }),

/***/ "./src/components/notes/add.jsx":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Add; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AddMobile\", function() { return AddMobile; });\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/slicedToArray.js\");\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var lib_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./src/lib/utils.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./node_modules/cozy-client/dist/index.js\");\n/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var cozy_ui_transpiled_react_BarButton__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/BarButton/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_Buttons__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/Buttons/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/Icon/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_providers_I18n__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/providers/I18n/index.js\");\n\n\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal[\"default\"].signature : function (a) {\n  return a;\n};\n\n\n\n\n\n\n\nfunction Add(_ref) {\n  var className = _ref.className;\n  var _useI18n = Object(cozy_ui_transpiled_react_providers_I18n__WEBPACK_IMPORTED_MODULE_9__[\"useI18n\"])(),\n    t = _useI18n.t;\n  var client = Object(cozy_client__WEBPACK_IMPORTED_MODULE_5__[\"useClient\"])();\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])(false),\n    _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState, 2),\n    isWorking = _useState2[0],\n    setIsWorking = _useState2[1];\n  var handleClick = Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useCallback\"])( /*#__PURE__*/_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee() {\n    var _yield$createNoteDocu, doc;\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            setIsWorking(true);\n            _context.next = 3;\n            return Object(lib_utils__WEBPACK_IMPORTED_MODULE_3__[\"createNoteDocument\"])(client);\n          case 3:\n            _yield$createNoteDocu = _context.sent;\n            doc = _yield$createNoteDocu.data;\n            _context.next = 7;\n            return Object(lib_utils__WEBPACK_IMPORTED_MODULE_3__[\"generateReturnUrlToNotesIndex\"])(client, doc);\n          case 7:\n            window.location.href = _context.sent;\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  })), [client]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(cozy_ui_transpiled_react_Buttons__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n    onClick: handleClick,\n    type: \"submit\",\n    busy: isWorking,\n    startIcon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n      icon: \"plus\"\n    }),\n    label: t('Notes.Add.add_note'),\n    className: className\n  });\n}\n__signature__(Add, \"useI18n{{ t }}\\nuseClient{client}\\nuseState{[isWorking, setIsWorking](false)}\\nuseCallback{handleClick}\", function () {\n  return [cozy_ui_transpiled_react_providers_I18n__WEBPACK_IMPORTED_MODULE_9__[\"useI18n\"], cozy_client__WEBPACK_IMPORTED_MODULE_5__[\"useClient\"]];\n});\nfunction AddMobile(props) {\n  var client = Object(cozy_client__WEBPACK_IMPORTED_MODULE_5__[\"useClient\"])() || props.client;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(cozy_ui_transpiled_react_BarButton__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n    onClick: /*#__PURE__*/_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee2() {\n      var _yield$createNoteDocu2, doc;\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return Object(lib_utils__WEBPACK_IMPORTED_MODULE_3__[\"createNoteDocument\"])(client);\n            case 2:\n              _yield$createNoteDocu2 = _context2.sent;\n              doc = _yield$createNoteDocu2.data;\n              _context2.next = 6;\n              return Object(lib_utils__WEBPACK_IMPORTED_MODULE_3__[\"generateReturnUrlToNotesIndex\"])(client, doc);\n            case 6:\n              window.location.href = _context2.sent;\n            case 7:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    })),\n    icon: \"plus\",\n    className: \"u-c-pointer\"\n  });\n}\n__signature__(AddMobile, \"useClient{}\", function () {\n  return [cozy_client__WEBPACK_IMPORTED_MODULE_5__[\"useClient\"]];\n});\n;\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n  if (!reactHotLoader) {\n    return;\n  }\n  reactHotLoader.register(Add, \"Add\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/notes/add.jsx\");\n  reactHotLoader.register(AddMobile, \"AddMobile\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/notes/add.jsx\");\n})();\n;\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(\"./node_modules/webpack/buildin/harmony-module.js\")(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9ub3Rlcy9hZGQuanN4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvbm90ZXMvYWRkLmpzeD80NTE4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZU5vdGVEb2N1bWVudCwgZ2VuZXJhdGVSZXR1cm5VcmxUb05vdGVzSW5kZXggfSBmcm9tICdsaWIvdXRpbHMnXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnXG5cbmltcG9ydCB7IHVzZUNsaWVudCB9IGZyb20gJ2NvenktY2xpZW50J1xuaW1wb3J0IEJhckJ1dHRvbiBmcm9tICdjb3p5LXVpL3RyYW5zcGlsZWQvcmVhY3QvQmFyQnV0dG9uJ1xuaW1wb3J0IEJ1dHRvbiBmcm9tICdjb3p5LXVpL3RyYW5zcGlsZWQvcmVhY3QvQnV0dG9ucydcbmltcG9ydCBJY29uIGZyb20gJ2NvenktdWkvdHJhbnNwaWxlZC9yZWFjdC9JY29uJ1xuaW1wb3J0IHsgdXNlSTE4biB9IGZyb20gJ2NvenktdWkvdHJhbnNwaWxlZC9yZWFjdC9wcm92aWRlcnMvSTE4bidcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQWRkKHsgY2xhc3NOYW1lIH0pIHtcbiAgY29uc3QgeyB0IH0gPSB1c2VJMThuKClcbiAgY29uc3QgY2xpZW50ID0gdXNlQ2xpZW50KClcbiAgY29uc3QgW2lzV29ya2luZywgc2V0SXNXb3JraW5nXSA9IHVzZVN0YXRlKGZhbHNlKVxuICBjb25zdCBoYW5kbGVDbGljayA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICBzZXRJc1dvcmtpbmcodHJ1ZSlcbiAgICBjb25zdCB7IGRhdGE6IGRvYyB9ID0gYXdhaXQgY3JlYXRlTm90ZURvY3VtZW50KGNsaWVudClcbiAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGF3YWl0IGdlbmVyYXRlUmV0dXJuVXJsVG9Ob3Rlc0luZGV4KGNsaWVudCwgZG9jKVxuICB9LCBbY2xpZW50XSlcblxuICByZXR1cm4gKFxuICAgIDxCdXR0b25cbiAgICAgIG9uQ2xpY2s9e2hhbmRsZUNsaWNrfVxuICAgICAgdHlwZT1cInN1Ym1pdFwiXG4gICAgICBidXN5PXtpc1dvcmtpbmd9XG4gICAgICBzdGFydEljb249ezxJY29uIGljb249XCJwbHVzXCIgLz59XG4gICAgICBsYWJlbD17dCgnTm90ZXMuQWRkLmFkZF9ub3RlJyl9XG4gICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZX1cbiAgICAvPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBBZGRNb2JpbGUocHJvcHMpIHtcbiAgY29uc3QgY2xpZW50ID0gdXNlQ2xpZW50KCkgfHwgcHJvcHMuY2xpZW50XG4gIHJldHVybiAoXG4gICAgPEJhckJ1dHRvblxuICAgICAgb25DbGljaz17YXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCB7IGRhdGE6IGRvYyB9ID0gYXdhaXQgY3JlYXRlTm90ZURvY3VtZW50KGNsaWVudClcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBhd2FpdCBnZW5lcmF0ZVJldHVyblVybFRvTm90ZXNJbmRleChjbGllbnQsIGRvYylcbiAgICAgIH19XG4gICAgICBpY29uPVwicGx1c1wiXG4gICAgICBjbGFzc05hbWU9XCJ1LWMtcG9pbnRlclwiXG4gICAgLz5cbiAgKVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUFBO0FBcEJBO0FBRUE7QUFvQkE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFHQTtBQUFBO0FBWkE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBdkJBO0FBc0JBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/notes/add.jsx\n");

/***/ }),

/***/ "./src/components/notes/back_from_editing.jsx":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return BackFromEditing; });\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var constants_strings__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./src/constants/strings.ts\");\n/* harmony import */ var components_IsPublicContext__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./src/components/IsPublicContext.jsx\");\n/* harmony import */ var lib_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./src/lib/utils.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./node_modules/cozy-client/dist/index.js\");\n/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var cozy_ui_transpiled_react_AppLinker__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/AppLinker/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/Icon/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_IconButton__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/IconButton/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_Icons_Previous__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/Icons/Previous.js\");\n\n\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal[\"default\"].signature : function (a) {\n  return a;\n};\n\n\n\n\n\n\n\n\n\n\n\n/**\n * Simple fake event to detect if the handler\n * tries to prevent the default action\n */\nvar FakeEvent = /*#__PURE__*/function () {\n  function FakeEvent() {\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, FakeEvent);\n  }\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(FakeEvent, [{\n    key: \"preventDefault\",\n    value: function preventDefault() {\n      this.prevented = true;\n    }\n  }, {\n    key: \"__reactstandin__regenerateByEval\",\n    value: // @ts-ignore\n    function __reactstandin__regenerateByEval(key, code) {\n      // @ts-ignore\n      this[key] = eval(code);\n    }\n  }]);\n  return FakeEvent;\n}();\n/**\n * Create a click handler for a link or button\n *\n * Always call requestToLeave, with a function\n * that should mimic the original behaviour (onClick +  href)\n * @param {function} requestToLeave - as  in useConfirmExit in cozy-ui\n * @param {string} href - URL to go to\n * @param {function} onClick -  regular onClick handler for the button or link\n */\nfunction createOnClick(requestToLeave, href, onClick) {\n  var go = function go() {\n    var ev = new FakeEvent();\n    if (onClick) onClick(ev);\n    if (!ev.prevented) document.location = href;\n  };\n  return function (ev) {\n    ev.preventDefault();\n    requestToLeave(go);\n  };\n}\nvar getSlugFromUrl = function getSlugFromUrl(client, url) {\n  try {\n    var _client$getInstanceOp = client.getInstanceOptions(),\n      subdomain = _client$getInstanceOp.subdomain;\n    var _deconstructCozyWebLi = Object(cozy_client__WEBPACK_IMPORTED_MODULE_7__[\"deconstructCozyWebLinkWithSlug\"])(url, subdomain),\n      slug = _deconstructCozyWebLi.slug;\n    return slug;\n  } catch (e) {\n    return constants_strings__WEBPACK_IMPORTED_MODULE_2__[\"Slugs\"].Notes;\n  }\n};\n\n/**\n * React component, draws a button to go back, outside of the editor\n *\n * Default is going back to the root of the app if in a private view\n * or do nothing if in a public view\n * @param {string} [returnUrl] - URL to go back to\n * @param {import('cozy-client/types').IOCozyFile} file - io.cozy.file object to generate a folder link\n * @param {function} [requestToLeave] - function, if present, it should\n * wrap any regular action that should have taken place when clicking the button\n */\nfunction BackFromEditing(_ref) {\n  var returnUrl = _ref.returnUrl,\n    file = _ref.file,\n    requestToLeave = _ref.requestToLeave;\n  var isPublic = Object(react__WEBPACK_IMPORTED_MODULE_6__[\"useContext\"])(components_IsPublicContext__WEBPACK_IMPORTED_MODULE_3__[\"default\"]);\n  var client = Object(cozy_client__WEBPACK_IMPORTED_MODULE_7__[\"useClient\"])();\n  if (isPublic) {\n    return null;\n  }\n  if (returnUrl) {\n    var folderId = cozy_client__WEBPACK_IMPORTED_MODULE_7__[\"models\"].file.getParentFolderId(file);\n    var nativePath = Object(lib_utils__WEBPACK_IMPORTED_MODULE_4__[\"getFolderLink\"])(folderId);\n    var slug = getSlugFromUrl(client, returnUrl);\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(cozy_ui_transpiled_react_AppLinker__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n      app: {\n        slug: slug\n      },\n      href: returnUrl,\n      nativePath: nativePath\n    }, function (_ref2) {\n      var onClick = _ref2.onClick,\n        href = _ref2.href;\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(cozy_ui_transpiled_react_IconButton__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n        component: \"a\",\n        href: href,\n        onClick: createOnClick(requestToLeave, href, onClick)\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n        icon: cozy_ui_transpiled_react_Icons_Previous__WEBPACK_IMPORTED_MODULE_11__[\"default\"]\n      }));\n    });\n  } else {\n    var href = '#/';\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(cozy_ui_transpiled_react_IconButton__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n      component: \"a\",\n      href: href,\n      onClick: createOnClick(requestToLeave, href)\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n      icon: cozy_ui_transpiled_react_Icons_Previous__WEBPACK_IMPORTED_MODULE_11__[\"default\"]\n    }));\n  }\n}\n__signature__(BackFromEditing, \"useContext{isPublic}\\nuseClient{client}\", function () {\n  return [cozy_client__WEBPACK_IMPORTED_MODULE_7__[\"useClient\"]];\n});\nBackFromEditing.propTypes = {\n  returnUrl: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,\n  file: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object.isRequired,\n  requestToLeave: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func\n};\n;\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n  if (!reactHotLoader) {\n    return;\n  }\n  reactHotLoader.register(FakeEvent, \"FakeEvent\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/notes/back_from_editing.jsx\");\n  reactHotLoader.register(createOnClick, \"createOnClick\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/notes/back_from_editing.jsx\");\n  reactHotLoader.register(getSlugFromUrl, \"getSlugFromUrl\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/notes/back_from_editing.jsx\");\n  reactHotLoader.register(BackFromEditing, \"BackFromEditing\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/notes/back_from_editing.jsx\");\n})();\n;\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(\"./node_modules/webpack/buildin/harmony-module.js\")(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9ub3Rlcy9iYWNrX2Zyb21fZWRpdGluZy5qc3guanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9ub3Rlcy9iYWNrX2Zyb21fZWRpdGluZy5qc3g/ZmZiOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTbHVncyB9IGZyb20gJ2NvbnN0YW50cy9zdHJpbmdzJ1xuXG5pbXBvcnQgSXNQdWJsaWNDb250ZXh0IGZyb20gJ2NvbXBvbmVudHMvSXNQdWJsaWNDb250ZXh0J1xuaW1wb3J0IHsgZ2V0Rm9sZGVyTGluayB9IGZyb20gJ2xpYi91dGlscydcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcydcbmltcG9ydCBSZWFjdCwgeyB1c2VDb250ZXh0IH0gZnJvbSAncmVhY3QnXG5cbmltcG9ydCB7IGRlY29uc3RydWN0Q296eVdlYkxpbmtXaXRoU2x1ZywgbW9kZWxzLCB1c2VDbGllbnQgfSBmcm9tICdjb3p5LWNsaWVudCdcbmltcG9ydCBBcHBMaW5rZXIgZnJvbSAnY296eS11aS90cmFuc3BpbGVkL3JlYWN0L0FwcExpbmtlcidcbmltcG9ydCBJY29uIGZyb20gJ2NvenktdWkvdHJhbnNwaWxlZC9yZWFjdC9JY29uJ1xuaW1wb3J0IEljb25CdXR0b24gZnJvbSAnY296eS11aS90cmFuc3BpbGVkL3JlYWN0L0ljb25CdXR0b24nXG5pbXBvcnQgUHJldmlvdXNJY29uIGZyb20gJ2NvenktdWkvdHJhbnNwaWxlZC9yZWFjdC9JY29ucy9QcmV2aW91cydcblxuLyoqXG4gKiBTaW1wbGUgZmFrZSBldmVudCB0byBkZXRlY3QgaWYgdGhlIGhhbmRsZXJcbiAqIHRyaWVzIHRvIHByZXZlbnQgdGhlIGRlZmF1bHQgYWN0aW9uXG4gKi9cbmNsYXNzIEZha2VFdmVudCB7XG4gIHByZXZlbnREZWZhdWx0KCkge1xuICAgIHRoaXMucHJldmVudGVkID0gdHJ1ZVxuICB9XG59XG5cbi8qKlxuICogQ3JlYXRlIGEgY2xpY2sgaGFuZGxlciBmb3IgYSBsaW5rIG9yIGJ1dHRvblxuICpcbiAqIEFsd2F5cyBjYWxsIHJlcXVlc3RUb0xlYXZlLCB3aXRoIGEgZnVuY3Rpb25cbiAqIHRoYXQgc2hvdWxkIG1pbWljIHRoZSBvcmlnaW5hbCBiZWhhdmlvdXIgKG9uQ2xpY2sgKyAgaHJlZilcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IHJlcXVlc3RUb0xlYXZlIC0gYXMgIGluIHVzZUNvbmZpcm1FeGl0IGluIGNvenktdWlcbiAqIEBwYXJhbSB7c3RyaW5nfSBocmVmIC0gVVJMIHRvIGdvIHRvXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBvbkNsaWNrIC0gIHJlZ3VsYXIgb25DbGljayBoYW5kbGVyIGZvciB0aGUgYnV0dG9uIG9yIGxpbmtcbiAqL1xuZnVuY3Rpb24gY3JlYXRlT25DbGljayhyZXF1ZXN0VG9MZWF2ZSwgaHJlZiwgb25DbGljaykge1xuICBjb25zdCBnbyA9ICgpID0+IHtcbiAgICBjb25zdCBldiA9IG5ldyBGYWtlRXZlbnQoKVxuICAgIGlmIChvbkNsaWNrKSBvbkNsaWNrKGV2KVxuICAgIGlmICghZXYucHJldmVudGVkKSBkb2N1bWVudC5sb2NhdGlvbiA9IGhyZWZcbiAgfVxuICByZXR1cm4gZnVuY3Rpb24gKGV2KSB7XG4gICAgZXYucHJldmVudERlZmF1bHQoKVxuICAgIHJlcXVlc3RUb0xlYXZlKGdvKVxuICB9XG59XG5cbmNvbnN0IGdldFNsdWdGcm9tVXJsID0gKGNsaWVudCwgdXJsKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyBzdWJkb21haW4gfSA9IGNsaWVudC5nZXRJbnN0YW5jZU9wdGlvbnMoKVxuXG4gICAgY29uc3QgeyBzbHVnIH0gPSBkZWNvbnN0cnVjdENvenlXZWJMaW5rV2l0aFNsdWcodXJsLCBzdWJkb21haW4pXG5cbiAgICByZXR1cm4gc2x1Z1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIFNsdWdzLk5vdGVzXG4gIH1cbn1cblxuLyoqXG4gKiBSZWFjdCBjb21wb25lbnQsIGRyYXdzIGEgYnV0dG9uIHRvIGdvIGJhY2ssIG91dHNpZGUgb2YgdGhlIGVkaXRvclxuICpcbiAqIERlZmF1bHQgaXMgZ29pbmcgYmFjayB0byB0aGUgcm9vdCBvZiB0aGUgYXBwIGlmIGluIGEgcHJpdmF0ZSB2aWV3XG4gKiBvciBkbyBub3RoaW5nIGlmIGluIGEgcHVibGljIHZpZXdcbiAqIEBwYXJhbSB7c3RyaW5nfSBbcmV0dXJuVXJsXSAtIFVSTCB0byBnbyBiYWNrIHRvXG4gKiBAcGFyYW0ge2ltcG9ydCgnY296eS1jbGllbnQvdHlwZXMnKS5JT0NvenlGaWxlfSBmaWxlIC0gaW8uY296eS5maWxlIG9iamVjdCB0byBnZW5lcmF0ZSBhIGZvbGRlciBsaW5rXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBbcmVxdWVzdFRvTGVhdmVdIC0gZnVuY3Rpb24sIGlmIHByZXNlbnQsIGl0IHNob3VsZFxuICogd3JhcCBhbnkgcmVndWxhciBhY3Rpb24gdGhhdCBzaG91bGQgaGF2ZSB0YWtlbiBwbGFjZSB3aGVuIGNsaWNraW5nIHRoZSBidXR0b25cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQmFja0Zyb21FZGl0aW5nKHsgcmV0dXJuVXJsLCBmaWxlLCByZXF1ZXN0VG9MZWF2ZSB9KSB7XG4gIGNvbnN0IGlzUHVibGljID0gdXNlQ29udGV4dChJc1B1YmxpY0NvbnRleHQpXG4gIGNvbnN0IGNsaWVudCA9IHVzZUNsaWVudCgpXG5cbiAgaWYgKGlzUHVibGljKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIGlmIChyZXR1cm5VcmwpIHtcbiAgICBjb25zdCBmb2xkZXJJZCA9IG1vZGVscy5maWxlLmdldFBhcmVudEZvbGRlcklkKGZpbGUpXG4gICAgY29uc3QgbmF0aXZlUGF0aCA9IGdldEZvbGRlckxpbmsoZm9sZGVySWQpXG5cbiAgICBjb25zdCBzbHVnID0gZ2V0U2x1Z0Zyb21VcmwoY2xpZW50LCByZXR1cm5VcmwpXG5cbiAgICByZXR1cm4gKFxuICAgICAgPEFwcExpbmtlciBhcHA9e3sgc2x1Zzogc2x1ZyB9fSBocmVmPXtyZXR1cm5Vcmx9IG5hdGl2ZVBhdGg9e25hdGl2ZVBhdGh9PlxuICAgICAgICB7KHsgb25DbGljaywgaHJlZiB9KSA9PiB7XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxJY29uQnV0dG9uXG4gICAgICAgICAgICAgIGNvbXBvbmVudD1cImFcIlxuICAgICAgICAgICAgICBocmVmPXtocmVmfVxuICAgICAgICAgICAgICBvbkNsaWNrPXtjcmVhdGVPbkNsaWNrKHJlcXVlc3RUb0xlYXZlLCBocmVmLCBvbkNsaWNrKX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPEljb24gaWNvbj17UHJldmlvdXNJY29ufSAvPlxuICAgICAgICAgICAgPC9JY29uQnV0dG9uPlxuICAgICAgICAgIClcbiAgICAgICAgfX1cbiAgICAgIDwvQXBwTGlua2VyPlxuICAgIClcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBocmVmID0gJyMvJ1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxJY29uQnV0dG9uXG4gICAgICAgIGNvbXBvbmVudD1cImFcIlxuICAgICAgICBocmVmPXtocmVmfVxuICAgICAgICBvbkNsaWNrPXtjcmVhdGVPbkNsaWNrKHJlcXVlc3RUb0xlYXZlLCBocmVmKX1cbiAgICAgID5cbiAgICAgICAgPEljb24gaWNvbj17UHJldmlvdXNJY29ufSAvPlxuICAgICAgPC9JY29uQnV0dG9uPlxuICAgIClcbiAgfVxufVxuXG5CYWNrRnJvbUVkaXRpbmcucHJvcFR5cGVzID0ge1xuICByZXR1cm5Vcmw6IFByb3BUeXBlcy5zdHJpbmcsXG4gIGZpbGU6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcbiAgcmVxdWVzdFRvTGVhdmU6IFByb3BUeXBlcy5mdW5jXG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUlBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQUE7QUFHQTtBQUdBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQTFDQTtBQUVBO0FBMENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQWpHQTtBQWVBO0FBWUE7QUFzQkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/notes/back_from_editing.jsx\n");

/***/ }),

/***/ "./src/components/notes/editor-loading-error.jsx":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_Buttons__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/Buttons/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_providers_I18n__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/providers/I18n/index.js\");\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal[\"default\"].signature : function (a) {\n  return a;\n};\n\n\n\n\nfunction EditorLoadingError(props) {\n  var returnUrl = props.returnUrl;\n  var _useI18n = Object(cozy_ui_transpiled_react_providers_I18n__WEBPACK_IMPORTED_MODULE_3__[\"useI18n\"])(),\n    t = _useI18n.t;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_1__[\"Empty\"], {\n    icon: \"cross-small\",\n    title: t(\"Error.loading_error_title\"),\n    text: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"p\", {\n      className: \"u-mb-half\"\n    }, t(\"Error.loading_error_text_noReturnUrl\")), returnUrl && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Buttons__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n      variant: \"text\",\n      label: t('Error.back'),\n      href: returnUrl\n    }))\n  });\n}\n__signature__(EditorLoadingError, \"useI18n{{ t }}\", function () {\n  return [cozy_ui_transpiled_react_providers_I18n__WEBPACK_IMPORTED_MODULE_3__[\"useI18n\"]];\n});\nvar _default = EditorLoadingError;\n/* harmony default export */ __webpack_exports__[\"default\"] = (_default);\n;\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n  if (!reactHotLoader) {\n    return;\n  }\n  reactHotLoader.register(EditorLoadingError, \"EditorLoadingError\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/notes/editor-loading-error.jsx\");\n  reactHotLoader.register(_default, \"default\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/notes/editor-loading-error.jsx\");\n})();\n;\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(\"./node_modules/webpack/buildin/harmony-module.js\")(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9ub3Rlcy9lZGl0b3ItbG9hZGluZy1lcnJvci5qc3guanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9ub3Rlcy9lZGl0b3ItbG9hZGluZy1lcnJvci5qc3g/NzMwOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5cbmltcG9ydCB7IEVtcHR5IH0gZnJvbSAnY296eS11aS90cmFuc3BpbGVkL3JlYWN0J1xuaW1wb3J0IEJ1dHRvbiBmcm9tICdjb3p5LXVpL3RyYW5zcGlsZWQvcmVhY3QvQnV0dG9ucydcbmltcG9ydCB7IHVzZUkxOG4gfSBmcm9tICdjb3p5LXVpL3RyYW5zcGlsZWQvcmVhY3QvcHJvdmlkZXJzL0kxOG4nXG5cbmZ1bmN0aW9uIEVkaXRvckxvYWRpbmdFcnJvcihwcm9wcykge1xuICBjb25zdCB7IHJldHVyblVybCB9ID0gcHJvcHNcbiAgY29uc3QgeyB0IH0gPSB1c2VJMThuKClcbiAgcmV0dXJuIChcbiAgICA8RW1wdHlcbiAgICAgIGljb249XCJjcm9zcy1zbWFsbFwiXG4gICAgICB0aXRsZT17dChgRXJyb3IubG9hZGluZ19lcnJvcl90aXRsZWApfVxuICAgICAgdGV4dD17XG4gICAgICAgIDw+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidS1tYi1oYWxmXCI+XG4gICAgICAgICAgICB7dChgRXJyb3IubG9hZGluZ19lcnJvcl90ZXh0X25vUmV0dXJuVXJsYCl9XG4gICAgICAgICAgPC9wPlxuXG4gICAgICAgICAge3JldHVyblVybCAmJiAoXG4gICAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9XCJ0ZXh0XCIgbGFiZWw9e3QoJ0Vycm9yLmJhY2snKX0gaHJlZj17cmV0dXJuVXJsfSAvPlxuICAgICAgICAgICl9XG4gICAgICAgIDwvPlxuICAgICAgfVxuICAgIC8+XG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgRWRpdG9yTG9hZGluZ0Vycm9yXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBS0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUdBO0FBQUE7QUFwQkE7QUFFQTtBQUFBO0FBb0JBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUF0QkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/notes/editor-loading-error.jsx\n");

/***/ }),

/***/ "./src/components/notes/editor-loading.jsx":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var cozy_ui_transpiled_react_Spinner__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/Spinner/index.js\");\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal[\"default\"].signature : function (a) {\n  return a;\n};\n\n\nfunction EditorLoading() {\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"u-mv-3\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Spinner__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n    size: \"xxlarge\",\n    middle: true\n  }));\n}\nvar _default = EditorLoading;\n/* harmony default export */ __webpack_exports__[\"default\"] = (_default);\n;\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n  if (!reactHotLoader) {\n    return;\n  }\n  reactHotLoader.register(EditorLoading, \"EditorLoading\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/notes/editor-loading.jsx\");\n  reactHotLoader.register(_default, \"default\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/notes/editor-loading.jsx\");\n})();\n;\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(\"./node_modules/webpack/buildin/harmony-module.js\")(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9ub3Rlcy9lZGl0b3ItbG9hZGluZy5qc3guanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9ub3Rlcy9lZGl0b3ItbG9hZGluZy5qc3g/Yjc0MyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5cbmltcG9ydCBTcGlubmVyIGZyb20gJ2NvenktdWkvdHJhbnNwaWxlZC9yZWFjdC9TcGlubmVyJ1xuXG5mdW5jdGlvbiBFZGl0b3JMb2FkaW5nKCkge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwidS1tdi0zXCI+XG4gICAgICA8U3Bpbm5lciBzaXplPVwieHhsYXJnZVwiIG1pZGRsZSAvPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IEVkaXRvckxvYWRpbmdcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFHQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVJBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/notes/editor-loading.jsx\n");

/***/ }),

/***/ "./src/components/notes/editor-view.jsx":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/extends.js\");\n/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/slicedToArray.js\");\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _atlaskit_editor_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/index.ts\");\n/* harmony import */ var components_notes_editor_view_styl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./src/components/notes/editor-view.styl\");\n/* harmony import */ var components_notes_editor_view_styl__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(components_notes_editor_view_styl__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var components_notes_editor_config__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./src/components/notes/editor_config.ts\");\n/* harmony import */ var lib_image_upload_provider__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./src/lib/image-upload-provider.ts\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var cozy_ui_transpiled_react_Spinner__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/Spinner/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_TextField__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/TextField/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_deprecated_Overlay__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/deprecated/Overlay/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_hooks_useEventListener__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/hooks/useEventListener.js\");\n/* harmony import */ var cozy_ui_transpiled_react_providers_I18n__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/providers/I18n/index.js\");\n\n\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal[\"default\"].signature : function (a) {\n  return a;\n};\n\n\n\n\n\n\n\n\n\n\nfunction updateTextareaHeight(target) {\n  if (target) target.style.height = \"\".concat(target.scrollHeight, \"px\");\n}\nvar nullCallback = function nullCallback() {};\nfunction EditorView(props) {\n  var defaultValue = props.defaultValue,\n    onTitleChange = props.onTitleChange,\n    onTitleBlur = props.onTitleBlur,\n    defaultTitle = props.defaultTitle,\n    title = props.title,\n    collabProvider = props.collabProvider,\n    onContentChange = props.onContentChange,\n    readOnly = props.readOnly,\n    bannerRef = props.bannerRef,\n    headerMenu = props.headerMenu,\n    isIntent = props.isIntent,\n    children = props.children;\n  var _useI18n = Object(cozy_ui_transpiled_react_providers_I18n__WEBPACK_IMPORTED_MODULE_11__[\"useI18n\"])(),\n    t = _useI18n.t;\n  var titleEl = Object(react__WEBPACK_IMPORTED_MODULE_6__[\"useRef\"])(null);\n  var onTitleEvent = Object(react__WEBPACK_IMPORTED_MODULE_6__[\"useCallback\"])(function (e) {\n    if (onTitleChange) onTitleChange(e);\n  }, [onTitleChange]);\n\n  // put the provider in readonly mode if requested and react to changes of values\n  Object(react__WEBPACK_IMPORTED_MODULE_6__[\"useMemo\"])(function () {\n    return collabProvider && collabProvider.setReadOnly(!!readOnly);\n  }, [readOnly, collabProvider]);\n  var collabEdit = Object(react__WEBPACK_IMPORTED_MODULE_6__[\"useMemo\"])(function () {\n    return collabProvider && {\n      useNativePlugin: true,\n      provider: Promise.resolve(collabProvider),\n      inviteToEditHandler: function inviteToEditHandler() {\n        return undefined;\n      },\n      isInviteToEditButtonSelected: false,\n      userId: collabProvider.serviceClient.getSessionId()\n    };\n  }, [collabProvider]);\n  Object(react__WEBPACK_IMPORTED_MODULE_6__[\"useEffect\"])(function () {\n    return updateTextareaHeight(titleEl.current);\n  }, [title]);\n  Object(cozy_ui_transpiled_react_hooks_useEventListener__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(titleEl.current, 'blur', onTitleBlur);\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_6__[\"useState\"])(false),\n    _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState, 2),\n    isUploading = _useState2[0],\n    setUploading = _useState2[1];\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(\"article\", {\n    className: \"\".concat(components_notes_editor_view_styl__WEBPACK_IMPORTED_MODULE_3___default.a['note-article']).concat(isIntent ? ' ' + components_notes_editor_view_styl__WEBPACK_IMPORTED_MODULE_3___default.a['note-article--intents'] : '')\n  }, isUploading && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(cozy_ui_transpiled_react_deprecated_Overlay__WEBPACK_IMPORTED_MODULE_9__[\"default\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(cozy_ui_transpiled_react_Spinner__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n    size: \"xxlarge\",\n    middle: true\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(\"style\", null, \"#coz-bar \", '{ display: none }'), headerMenu, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(\"section\", {\n    className: \"note-editor-container\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_atlaskit_editor_core__WEBPACK_IMPORTED_MODULE_2__[\"Editor\"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, components_notes_editor_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n    disabled: collabProvider ? false : readOnly,\n    collabEdit: collabEdit,\n    onChange: onContentChange || nullCallback,\n    defaultValue: defaultValue,\n    appearance: \"full-page\",\n    placeholder: t('Notes.EditorView.main_placeholder'),\n    shouldFocus: !readOnly,\n    legacyImageUploadProvider: Object(lib_image_upload_provider__WEBPACK_IMPORTED_MODULE_5__[\"imageUploadProvider\"])({\n      collabProvider: collabProvider,\n      t: t,\n      setUploading: setUploading\n    }),\n    contentComponents: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_atlaskit_editor_core__WEBPACK_IMPORTED_MODULE_2__[\"WithEditorActions\"], {\n      render: function render(actions) {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_6___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(\"aside\", {\n          ref: bannerRef,\n          className: components_notes_editor_view_styl__WEBPACK_IMPORTED_MODULE_3___default.a.banner\n        }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(cozy_ui_transpiled_react_TextField__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n          ref: titleEl,\n          className: components_notes_editor_view_styl__WEBPACK_IMPORTED_MODULE_3___default.a.title,\n          multiline: true,\n          minRows: 1,\n          value: title,\n          placeholder: defaultTitle,\n          fullWidth: true,\n          InputProps: {\n            disableUnderline: true\n          },\n          inputProps: {\n            className: components_notes_editor_view_styl__WEBPACK_IMPORTED_MODULE_3___default.a.titleInput,\n            readOnly: !!readOnly\n          },\n          onChange: readOnly ? nullCallback : onTitleEvent\n        }), react__WEBPACK_IMPORTED_MODULE_6___default.a.Children.map(children, function (child) {\n          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.isValidElement(child) ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.cloneElement(child, {\n            actions: actions\n          }) : null;\n        }));\n      }\n    })\n  }))));\n}\n__signature__(EditorView, \"useI18n{{ t }}\\nuseRef{titleEl}\\nuseCallback{onTitleEvent}\\nuseMemo{}\\nuseMemo{collabEdit}\\nuseEffect{}\\nuseEventListener{}\\nuseState{[isUploading, setUploading](false)}\", function () {\n  return [cozy_ui_transpiled_react_providers_I18n__WEBPACK_IMPORTED_MODULE_11__[\"useI18n\"], cozy_ui_transpiled_react_hooks_useEventListener__WEBPACK_IMPORTED_MODULE_10__[\"default\"]];\n});\nvar _default = EditorView;\n/* harmony default export */ __webpack_exports__[\"default\"] = (_default);\n;\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n  if (!reactHotLoader) {\n    return;\n  }\n  reactHotLoader.register(updateTextareaHeight, \"updateTextareaHeight\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/notes/editor-view.jsx\");\n  reactHotLoader.register(nullCallback, \"nullCallback\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/notes/editor-view.jsx\");\n  reactHotLoader.register(EditorView, \"EditorView\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/notes/editor-view.jsx\");\n  reactHotLoader.register(_default, \"default\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/notes/editor-view.jsx\");\n})();\n;\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(\"./node_modules/webpack/buildin/harmony-module.js\")(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9ub3Rlcy9lZGl0b3Itdmlldy5qc3guanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9ub3Rlcy9lZGl0b3Itdmlldy5qc3g/NmRmMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFZGl0b3IsIFdpdGhFZGl0b3JBY3Rpb25zIH0gZnJvbSAnQGF0bGFza2l0L2VkaXRvci1jb3JlJ1xuaW1wb3J0IHN0eWxlcyBmcm9tICdjb21wb25lbnRzL25vdGVzL2VkaXRvci12aWV3LnN0eWwnXG5pbXBvcnQgZWRpdG9yQ29uZmlnIGZyb20gJ2NvbXBvbmVudHMvbm90ZXMvZWRpdG9yX2NvbmZpZydcbmltcG9ydCB7IGltYWdlVXBsb2FkUHJvdmlkZXIgfSBmcm9tICdsaWIvaW1hZ2UtdXBsb2FkLXByb3ZpZGVyJ1xuaW1wb3J0IFJlYWN0LCB7IHVzZUNhbGxiYWNrLCB1c2VSZWYsIHVzZUVmZmVjdCwgdXNlTWVtbywgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCdcblxuaW1wb3J0IFNwaW5uZXIgZnJvbSAnY296eS11aS90cmFuc3BpbGVkL3JlYWN0L1NwaW5uZXInXG5pbXBvcnQgVGV4dEZpZWxkIGZyb20gJ2NvenktdWkvdHJhbnNwaWxlZC9yZWFjdC9UZXh0RmllbGQnXG5pbXBvcnQgT3ZlcmxheSBmcm9tICdjb3p5LXVpL3RyYW5zcGlsZWQvcmVhY3QvZGVwcmVjYXRlZC9PdmVybGF5J1xuaW1wb3J0IHVzZUV2ZW50TGlzdGVuZXIgZnJvbSAnY296eS11aS90cmFuc3BpbGVkL3JlYWN0L2hvb2tzL3VzZUV2ZW50TGlzdGVuZXInXG5pbXBvcnQgeyB1c2VJMThuIH0gZnJvbSAnY296eS11aS90cmFuc3BpbGVkL3JlYWN0L3Byb3ZpZGVycy9JMThuJ1xuXG5mdW5jdGlvbiB1cGRhdGVUZXh0YXJlYUhlaWdodCh0YXJnZXQpIHtcbiAgaWYgKHRhcmdldCkgdGFyZ2V0LnN0eWxlLmhlaWdodCA9IGAke3RhcmdldC5zY3JvbGxIZWlnaHR9cHhgXG59XG5cbmNvbnN0IG51bGxDYWxsYmFjayA9ICgpID0+IHt9XG5cbmZ1bmN0aW9uIEVkaXRvclZpZXcocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGRlZmF1bHRWYWx1ZSxcbiAgICBvblRpdGxlQ2hhbmdlLFxuICAgIG9uVGl0bGVCbHVyLFxuICAgIGRlZmF1bHRUaXRsZSxcbiAgICB0aXRsZSxcbiAgICBjb2xsYWJQcm92aWRlcixcbiAgICBvbkNvbnRlbnRDaGFuZ2UsXG4gICAgcmVhZE9ubHksXG4gICAgYmFubmVyUmVmLFxuICAgIGhlYWRlck1lbnUsXG4gICAgaXNJbnRlbnQsXG4gICAgY2hpbGRyZW5cbiAgfSA9IHByb3BzXG4gIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpXG5cbiAgY29uc3QgdGl0bGVFbCA9IHVzZVJlZihudWxsKVxuXG4gIGNvbnN0IG9uVGl0bGVFdmVudCA9IHVzZUNhbGxiYWNrKFxuICAgIGUgPT4ge1xuICAgICAgaWYgKG9uVGl0bGVDaGFuZ2UpIG9uVGl0bGVDaGFuZ2UoZSlcbiAgICB9LFxuICAgIFtvblRpdGxlQ2hhbmdlXVxuICApXG5cbiAgLy8gcHV0IHRoZSBwcm92aWRlciBpbiByZWFkb25seSBtb2RlIGlmIHJlcXVlc3RlZCBhbmQgcmVhY3QgdG8gY2hhbmdlcyBvZiB2YWx1ZXNcbiAgdXNlTWVtbyhcbiAgICAoKSA9PiBjb2xsYWJQcm92aWRlciAmJiBjb2xsYWJQcm92aWRlci5zZXRSZWFkT25seSghIXJlYWRPbmx5KSxcbiAgICBbcmVhZE9ubHksIGNvbGxhYlByb3ZpZGVyXVxuICApXG5cbiAgY29uc3QgY29sbGFiRWRpdCA9IHVzZU1lbW8oXG4gICAgKCkgPT5cbiAgICAgIGNvbGxhYlByb3ZpZGVyICYmIHtcbiAgICAgICAgdXNlTmF0aXZlUGx1Z2luOiB0cnVlLFxuICAgICAgICBwcm92aWRlcjogUHJvbWlzZS5yZXNvbHZlKGNvbGxhYlByb3ZpZGVyKSxcbiAgICAgICAgaW52aXRlVG9FZGl0SGFuZGxlcjogKCkgPT4gdW5kZWZpbmVkLFxuICAgICAgICBpc0ludml0ZVRvRWRpdEJ1dHRvblNlbGVjdGVkOiBmYWxzZSxcbiAgICAgICAgdXNlcklkOiBjb2xsYWJQcm92aWRlci5zZXJ2aWNlQ2xpZW50LmdldFNlc3Npb25JZCgpXG4gICAgICB9LFxuICAgIFtjb2xsYWJQcm92aWRlcl1cbiAgKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB1cGRhdGVUZXh0YXJlYUhlaWdodCh0aXRsZUVsLmN1cnJlbnQpLCBbdGl0bGVdKVxuXG4gIHVzZUV2ZW50TGlzdGVuZXIodGl0bGVFbC5jdXJyZW50LCAnYmx1cicsIG9uVGl0bGVCbHVyKVxuXG4gIGNvbnN0IFtpc1VwbG9hZGluZywgc2V0VXBsb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKVxuXG4gIHJldHVybiAoXG4gICAgPGFydGljbGVcbiAgICAgIGNsYXNzTmFtZT17YCR7c3R5bGVzWydub3RlLWFydGljbGUnXX0ke1xuICAgICAgICBpc0ludGVudCA/ICcgJyArIHN0eWxlc1snbm90ZS1hcnRpY2xlLS1pbnRlbnRzJ10gOiAnJ1xuICAgICAgfWB9XG4gICAgPlxuICAgICAge2lzVXBsb2FkaW5nICYmIChcbiAgICAgICAgPE92ZXJsYXk+XG4gICAgICAgICAgPFNwaW5uZXIgc2l6ZT1cInh4bGFyZ2VcIiBtaWRkbGUgLz5cbiAgICAgICAgPC9PdmVybGF5PlxuICAgICAgKX1cbiAgICAgIDxzdHlsZT4jY296LWJhciB7J3sgZGlzcGxheTogbm9uZSB9J308L3N0eWxlPlxuICAgICAge2hlYWRlck1lbnV9XG4gICAgICA8c2VjdGlvbiBjbGFzc05hbWU9XCJub3RlLWVkaXRvci1jb250YWluZXJcIj5cbiAgICAgICAgPEVkaXRvclxuICAgICAgICAgIHsuLi5lZGl0b3JDb25maWd9XG4gICAgICAgICAgZGlzYWJsZWQ9e2NvbGxhYlByb3ZpZGVyID8gZmFsc2UgOiByZWFkT25seX1cbiAgICAgICAgICBjb2xsYWJFZGl0PXtjb2xsYWJFZGl0fVxuICAgICAgICAgIG9uQ2hhbmdlPXtvbkNvbnRlbnRDaGFuZ2UgfHwgbnVsbENhbGxiYWNrfVxuICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZGVmYXVsdFZhbHVlfVxuICAgICAgICAgIGFwcGVhcmFuY2U9XCJmdWxsLXBhZ2VcIlxuICAgICAgICAgIHBsYWNlaG9sZGVyPXt0KCdOb3Rlcy5FZGl0b3JWaWV3Lm1haW5fcGxhY2Vob2xkZXInKX1cbiAgICAgICAgICBzaG91bGRGb2N1cz17IXJlYWRPbmx5fVxuICAgICAgICAgIGxlZ2FjeUltYWdlVXBsb2FkUHJvdmlkZXI9e2ltYWdlVXBsb2FkUHJvdmlkZXIoe1xuICAgICAgICAgICAgY29sbGFiUHJvdmlkZXIsXG4gICAgICAgICAgICB0LFxuICAgICAgICAgICAgc2V0VXBsb2FkaW5nXG4gICAgICAgICAgfSl9XG4gICAgICAgICAgY29udGVudENvbXBvbmVudHM9e1xuICAgICAgICAgICAgPFdpdGhFZGl0b3JBY3Rpb25zXG4gICAgICAgICAgICAgIHJlbmRlcj17YWN0aW9ucyA9PiAoXG4gICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgIDxhc2lkZSByZWY9e2Jhbm5lclJlZn0gY2xhc3NOYW1lPXtzdHlsZXMuYmFubmVyfT48L2FzaWRlPlxuICAgICAgICAgICAgICAgICAgPFRleHRGaWVsZFxuICAgICAgICAgICAgICAgICAgICByZWY9e3RpdGxlRWx9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17c3R5bGVzLnRpdGxlfVxuICAgICAgICAgICAgICAgICAgICBtdWx0aWxpbmVcbiAgICAgICAgICAgICAgICAgICAgbWluUm93cz17MX1cbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RpdGxlfVxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17ZGVmYXVsdFRpdGxlfVxuICAgICAgICAgICAgICAgICAgICBmdWxsV2lkdGg9e3RydWV9XG4gICAgICAgICAgICAgICAgICAgIElucHV0UHJvcHM9e3sgZGlzYWJsZVVuZGVybGluZTogdHJ1ZSB9fVxuICAgICAgICAgICAgICAgICAgICBpbnB1dFByb3BzPXt7XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBzdHlsZXMudGl0bGVJbnB1dCxcbiAgICAgICAgICAgICAgICAgICAgICByZWFkT25seTogISFyZWFkT25seVxuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17cmVhZE9ubHkgPyBudWxsQ2FsbGJhY2sgOiBvblRpdGxlRXZlbnR9XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAge1JlYWN0LkNoaWxkcmVuLm1hcChjaGlsZHJlbiwgY2hpbGQgPT5cbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuaXNWYWxpZEVsZW1lbnQoY2hpbGQpXG4gICAgICAgICAgICAgICAgICAgICAgPyBSZWFjdC5jbG9uZUVsZW1lbnQoY2hpbGQsIHsgYWN0aW9ucyB9KVxuICAgICAgICAgICAgICAgICAgICAgIDogbnVsbFxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgfVxuICAgICAgICAvPlxuICAgICAgPC9zZWN0aW9uPlxuICAgIDwvYXJ0aWNsZT5cbiAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBFZGl0b3JWaWV3XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUlBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFJQTtBQUFBO0FBQUE7QUFFQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFFQTtBQUVBO0FBSUE7QUFBQTtBQUFBO0FBS0E7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFFQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFLQTtBQUFBO0FBL0dBO0FBOENBO0FBQUE7QUFtRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQXZIQTtBQUlBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/notes/editor-view.jsx\n");

/***/ }),

/***/ "./src/components/notes/editor-view.styl":
/***/ (function(module, exports, __webpack_require__) {

eval("\nvar content = __webpack_require__(\"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/stylus-loader/index.js?!./src/components/notes/editor-view.styl\");\n\nif(typeof content === 'string') content = [[module.i, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = __webpack_require__(\"./node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(true) {\n\tmodule.hot.accept(\"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/stylus-loader/index.js?!./src/components/notes/editor-view.styl\", function() {\n\t\tvar newContent = __webpack_require__(\"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/stylus-loader/index.js?!./src/components/notes/editor-view.styl\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.i, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9ub3Rlcy9lZGl0b3Itdmlldy5zdHlsLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvbm90ZXMvZWRpdG9yLXZpZXcuc3R5bD85MjU2Il0sInNvdXJjZXNDb250ZW50IjpbIlxudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0xMS0xIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3Bvc3Rjc3MhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWx1cy1sb2FkZXIvaW5kZXguanM/P3JlZi0tMTEtMyEuL2VkaXRvci12aWV3LnN0eWxcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXG52YXIgdHJhbnNmb3JtO1xudmFyIGluc2VydEludG87XG5cblxuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG5vcHRpb25zLmluc2VydEludG8gPSB1bmRlZmluZWQ7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cbmlmKG1vZHVsZS5ob3QpIHtcblx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTExLTEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cG9zdGNzcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bHVzLWxvYWRlci9pbmRleC5qcz8/cmVmLS0xMS0zIS4vZWRpdG9yLXZpZXcuc3R5bFwiLCBmdW5jdGlvbigpIHtcblx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTExLTEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cG9zdGNzcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bHVzLWxvYWRlci9pbmRleC5qcz8/cmVmLS0xMS0zIS4vZWRpdG9yLXZpZXcuc3R5bFwiKTtcblxuXHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXG5cdFx0dmFyIGxvY2FscyA9IChmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHR2YXIga2V5LCBpZHggPSAwO1xuXG5cdFx0XHRmb3Ioa2V5IGluIGEpIHtcblx0XHRcdFx0aWYoIWIgfHwgYVtrZXldICE9PSBiW2tleV0pIHJldHVybiBmYWxzZTtcblx0XHRcdFx0aWR4Kys7XG5cdFx0XHR9XG5cblx0XHRcdGZvcihrZXkgaW4gYikgaWR4LS07XG5cblx0XHRcdHJldHVybiBpZHggPT09IDA7XG5cdFx0fShjb250ZW50LmxvY2FscywgbmV3Q29udGVudC5sb2NhbHMpKTtcblxuXHRcdGlmKCFsb2NhbHMpIHRocm93IG5ldyBFcnJvcignQWJvcnRpbmcgQ1NTIEhNUiBkdWUgdG8gY2hhbmdlZCBjc3MtbW9kdWxlcyBsb2NhbHMuJyk7XG5cblx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdH0pO1xuXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/notes/editor-view.styl\n");

/***/ }),

/***/ "./src/components/notes/editor.jsx":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Editor; });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var components_IsPublicContext__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./src/components/IsPublicContext.jsx\");\n/* harmony import */ var components_header_menu__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./src/components/header_menu.jsx\");\n/* harmony import */ var components_notes_EditorCorner__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./src/components/notes/EditorCorner.jsx\");\n/* harmony import */ var components_notes_NoteProvider__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./src/components/notes/NoteProvider.jsx\");\n/* harmony import */ var components_notes_TrashedBanner_TrashedBanner__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./src/components/notes/TrashedBanner/TrashedBanner.jsx\");\n/* harmony import */ var components_notes_back_from_editing__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./src/components/notes/back_from_editing.jsx\");\n/* harmony import */ var components_notes_editor_loading__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./src/components/notes/editor-loading.jsx\");\n/* harmony import */ var components_notes_editor_loading_error__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./src/components/notes/editor-loading-error.jsx\");\n/* harmony import */ var components_notes_editor_view__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"./src/components/notes/editor-view.jsx\");\n/* harmony import */ var components_notes_saving_indicator__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"./src/components/notes/saving-indicator.jsx\");\n/* harmony import */ var hooks_useCollabProvider__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"./src/hooks/useCollabProvider.jsx\");\n/* harmony import */ var hooks_useFixedToBottomOnIos__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"./src/hooks/useFixedToBottomOnIos.ts\");\n/* harmony import */ var hooks_useForceSync__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"./src/hooks/useForceSync.jsx\");\n/* harmony import */ var hooks_usePreview__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(\"./src/hooks/usePreview.tsx\");\n/* harmony import */ var hooks_useReturnUrl__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(\"./src/hooks/useReturnUrl.jsx\");\n/* harmony import */ var hooks_useTitleChanges__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(\"./src/hooks/useTitleChanges.jsx\");\n/* harmony import */ var lib_debug__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(\"./src/lib/debug.jsx\");\n/* harmony import */ var lib_queries__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(\"./src/lib/queries.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(\"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_19__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_20__);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(\"./node_modules/react-router-dom/dist/index.js\");\n/* harmony import */ var rooks_dist_esm_hooks_useWindowEventListener__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(\"./node_modules/rooks/dist/esm/hooks/useWindowEventListener.js\");\n/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(\"./node_modules/cozy-client/dist/index.js\");\n/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_23___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_23__);\n/* harmony import */ var cozy_sharing__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(\"./node_modules/cozy-sharing/dist/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_hooks_useConfirmExit__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/hooks/useConfirmExit/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_providers_I18n__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/providers/I18n/index.js\");\n/* harmony import */ var _constants_strings__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(\"./src/constants/strings.ts\");\n\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal[\"default\"].signature : function (a) {\n  return a;\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction Editor(props) {\n  var _location$state, _file$trashed;\n  // base parameters\n  var cozyClient = Object(cozy_client__WEBPACK_IMPORTED_MODULE_23__[\"useClient\"])();\n  var noteId = props.noteId,\n    readOnly = props.readOnly;\n  var _useI18n = Object(cozy_ui_transpiled_react_providers_I18n__WEBPACK_IMPORTED_MODULE_26__[\"useI18n\"])(),\n    t = _useI18n.t;\n  var _useSharingInfos = Object(cozy_sharing__WEBPACK_IMPORTED_MODULE_24__[\"useSharingInfos\"])(_constants_strings__WEBPACK_IMPORTED_MODULE_27__[\"SHARING_LOCATION\"]),\n    loading = _useSharingInfos.loading,\n    isSharingShortcutCreated = _useSharingInfos.isSharingShortcutCreated;\n  var bannerRef = Object(react__WEBPACK_IMPORTED_MODULE_20__[\"useRef\"])();\n  var location = Object(react_router_dom__WEBPACK_IMPORTED_MODULE_21__[\"useLocation\"])();\n  var fileQuery = Object(lib_queries__WEBPACK_IMPORTED_MODULE_18__[\"buildFileByIdQuery\"])(noteId);\n  var fileResult = Object(cozy_client__WEBPACK_IMPORTED_MODULE_23__[\"useQuery\"])(fileQuery.definition, fileQuery.options);\n  // On iOS, the toolbar is fixed to the bottom of the screen manually\n  // This is to avoid an issue with the keyboard that hides the toolbar\n  Object(hooks_useFixedToBottomOnIos__WEBPACK_IMPORTED_MODULE_12__[\"useFixedToBottomOnIOS\"])();\n\n  // plugins and config\n  var isPublic = Object(react__WEBPACK_IMPORTED_MODULE_20__[\"useContext\"])(components_IsPublicContext__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\n  var _useNoteContext = Object(components_notes_NoteProvider__WEBPACK_IMPORTED_MODULE_4__[\"useNoteContext\"])(),\n    doc = _useNoteContext.doc,\n    serviceClient = _useNoteContext.serviceClient,\n    status = _useNoteContext.status,\n    title = _useNoteContext.title,\n    setTitle = _useNoteContext.setTitle;\n  var returnUrl = Object(hooks_useReturnUrl__WEBPACK_IMPORTED_MODULE_15__[\"default\"])({\n    returnUrl: props.returnUrl || (location === null || location === void 0 ? void 0 : (_location$state = location.state) === null || _location$state === void 0 ? void 0 : _location$state.returnUrl),\n    cozyClient: cozyClient,\n    doc: doc\n  });\n  var collabProvider = Object(hooks_useCollabProvider__WEBPACK_IMPORTED_MODULE_11__[\"default\"])({\n    noteId: noteId,\n    serviceClient: serviceClient,\n    doc: doc\n  });\n\n  // callbacks\n  var _useTitleChanges = Object(hooks_useTitleChanges__WEBPACK_IMPORTED_MODULE_16__[\"default\"])({\n      noteId: noteId,\n      title: title,\n      setTitle: setTitle,\n      serviceClient: serviceClient\n    }),\n    onLocalTitleChange = _useTitleChanges.onLocalTitleChange;\n  var _useForceSync = Object(hooks_useForceSync__WEBPACK_IMPORTED_MODULE_13__[\"default\"])({\n      doc: doc,\n      collabProvider: collabProvider\n    }),\n    forceSync = _useForceSync.forceSync,\n    emergencySync = _useForceSync.emergencySync;\n\n  // when leaving the component\n  Object(rooks_dist_esm_hooks_useWindowEventListener__WEBPACK_IMPORTED_MODULE_22__[\"useWindowEventListener\"])('beforeunload', function () {\n    forceSync();\n  });\n\n  // when changing doc\n  Object(react__WEBPACK_IMPORTED_MODULE_20__[\"useEffect\"])(function () {\n    return forceSync;\n  }, [noteId, doc, forceSync]);\n\n  // when quitting the webpage\n  var activate = Object(react__WEBPACK_IMPORTED_MODULE_20__[\"useCallback\"])(function () {\n    return collabProvider.isDirty();\n  }, [collabProvider]);\n  var _useConfirmExit = Object(cozy_ui_transpiled_react_hooks_useConfirmExit__WEBPACK_IMPORTED_MODULE_25__[\"default\"])({\n      activate: activate,\n      onLeave: emergencySync,\n      title: t('Notes.Editor.exit_confirmation_title'),\n      message: t('Notes.Editor.exit_confirmation_message'),\n      leaveLabel: t('Notes.Editor.exit_confirmation_leave'),\n      cancelLabel: t('Notes.Editor.exit_confirmation_cancel')\n    }),\n    exitConfirmationModal = _useConfirmExit.exitConfirmationModal,\n    requestToLeave = _useConfirmExit.requestToLeave;\n  var file = fileResult === null || fileResult === void 0 ? void 0 : fileResult.data;\n  var isTrashed = (_file$trashed = file === null || file === void 0 ? void 0 : file.trashed) !== null && _file$trashed !== void 0 ? _file$trashed : false;\n  var isReadOnly = readOnly || isTrashed;\n  var isPreview = Object(hooks_usePreview__WEBPACK_IMPORTED_MODULE_14__[\"usePreview\"])(window.location.pathname);\n  var isSharingBannerDisplayed = isPreview && !loading && !isSharingShortcutCreated;\n  Object(lib_debug__WEBPACK_IMPORTED_MODULE_17__[\"useDebugValue\"])('client', cozyClient);\n  Object(lib_debug__WEBPACK_IMPORTED_MODULE_17__[\"useDebugValue\"])('notes.service', serviceClient);\n  Object(lib_debug__WEBPACK_IMPORTED_MODULE_17__[\"useDebugValue\"])('notes.collabProvider', collabProvider);\n  Object(lib_debug__WEBPACK_IMPORTED_MODULE_17__[\"useDebugValue\"])('notes.channel', collabProvider && collabProvider.channel);\n  Object(lib_debug__WEBPACK_IMPORTED_MODULE_17__[\"useDebugValue\"])('notes.noteId', noteId);\n  Object(lib_debug__WEBPACK_IMPORTED_MODULE_17__[\"useDebugValue\"])('notes.doc', doc && _objectSpread(_objectSpread({}, doc.doc), {}, {\n    version: doc.version\n  }));\n  Object(lib_debug__WEBPACK_IMPORTED_MODULE_17__[\"useDebugValue\"])('notes.file', doc && doc.file);\n  Object(lib_debug__WEBPACK_IMPORTED_MODULE_17__[\"useDebugValue\"])('notes.returnUrl', returnUrl);\n\n  // rendering\n  if (doc && file) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_20___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_20___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_20___default.a.createElement(cozy_client__WEBPACK_IMPORTED_MODULE_23__[\"RealTimeQueries\"], {\n      doctype: \"io.cozy.files\"\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_20___default.a.createElement(components_notes_editor_view__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n      bannerRef: bannerRef,\n      readOnly: isReadOnly,\n      onTitleChange: onLocalTitleChange,\n      onTitleBlur: emergencySync,\n      collabProvider: collabProvider,\n      defaultTitle: t('Notes.Editor.title_placeholder'),\n      defaultValue: _objectSpread(_objectSpread({}, doc.doc), {}, {\n        version: doc.version\n      }),\n      title: title && title.length > 0 ? title : undefined,\n      headerMenu: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_20___default.a.createElement(components_header_menu__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n        leftComponent: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_20___default.a.createElement(components_notes_back_from_editing__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n          returnUrl: returnUrl,\n          file: file,\n          requestToLeave: requestToLeave\n        }),\n        rightComponent: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_20___default.a.createElement(components_notes_EditorCorner__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n          file: file,\n          isPublic: isPublic,\n          isReadOnly: isReadOnly,\n          title: title\n        }),\n        bannerComponent: isTrashed ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_20___default.a.createElement(components_notes_TrashedBanner_TrashedBanner__WEBPACK_IMPORTED_MODULE_5__[\"TrashedBanner\"], {\n          noteId: noteId,\n          isPublic: isPublic,\n          returnUrl: returnUrl\n        }) : isSharingBannerDisplayed ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_20___default.a.createElement(cozy_sharing__WEBPACK_IMPORTED_MODULE_24__[\"SharingBannerPlugin\"], {\n          previewPath: _constants_strings__WEBPACK_IMPORTED_MODULE_27__[\"SHARING_LOCATION\"]\n        }) : null,\n        homeHref: collabProvider.serviceClient.cozyClient.getStackClient().uri,\n        isPublic: isPublic,\n        file: file\n      })\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_20___default.a.createElement(components_notes_saving_indicator__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n      collabProvider: collabProvider,\n      bannerRef: bannerRef\n    }), exitConfirmationModal);\n  }\n  if (status === 'failed' || fileResult.fetchStatus === 'failed') {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_20___default.a.createElement(components_notes_editor_loading_error__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n      returnUrl: returnUrl\n    });\n  }\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_20___default.a.createElement(components_notes_editor_loading__WEBPACK_IMPORTED_MODULE_7__[\"default\"], null);\n}\n__signature__(Editor, \"useClient{cozyClient}\\nuseI18n{{ t }}\\nuseSharingInfos{{ loading, isSharingShortcutCreated }}\\nuseRef{bannerRef}\\nuseLocation{location}\\nuseQuery{fileResult}\\nuseFixedToBottomOnIOS{}\\nuseContext{isPublic}\\nuseNoteContext{{ doc, serviceClient, status, title, setTitle }}\\nuseReturnUrl{returnUrl}\\nuseCollabProvider{collabProvider}\\nuseTitleChanges{{ onLocalTitleChange }}\\nuseForceSync{{ forceSync, emergencySync }}\\nuseWindowEventListener{}\\nuseEffect{}\\nuseCallback{activate}\\nuseConfirmExit{{ exitConfirmationModal, requestToLeave }}\\nusePreview{isPreview}\\nuseDebugValue{}\\nuseDebugValue{}\\nuseDebugValue{}\\nuseDebugValue{}\\nuseDebugValue{}\\nuseDebugValue{}\\nuseDebugValue{}\\nuseDebugValue{}\", function () {\n  return [cozy_client__WEBPACK_IMPORTED_MODULE_23__[\"useClient\"], cozy_ui_transpiled_react_providers_I18n__WEBPACK_IMPORTED_MODULE_26__[\"useI18n\"], cozy_sharing__WEBPACK_IMPORTED_MODULE_24__[\"useSharingInfos\"], react_router_dom__WEBPACK_IMPORTED_MODULE_21__[\"useLocation\"], cozy_client__WEBPACK_IMPORTED_MODULE_23__[\"useQuery\"], hooks_useFixedToBottomOnIos__WEBPACK_IMPORTED_MODULE_12__[\"useFixedToBottomOnIOS\"], components_notes_NoteProvider__WEBPACK_IMPORTED_MODULE_4__[\"useNoteContext\"], hooks_useReturnUrl__WEBPACK_IMPORTED_MODULE_15__[\"default\"], hooks_useCollabProvider__WEBPACK_IMPORTED_MODULE_11__[\"default\"], hooks_useTitleChanges__WEBPACK_IMPORTED_MODULE_16__[\"default\"], hooks_useForceSync__WEBPACK_IMPORTED_MODULE_13__[\"default\"], rooks_dist_esm_hooks_useWindowEventListener__WEBPACK_IMPORTED_MODULE_22__[\"useWindowEventListener\"], cozy_ui_transpiled_react_hooks_useConfirmExit__WEBPACK_IMPORTED_MODULE_25__[\"default\"], hooks_usePreview__WEBPACK_IMPORTED_MODULE_14__[\"usePreview\"]];\n});\nEditor.propTypes = {\n  noteId: prop_types__WEBPACK_IMPORTED_MODULE_19___default.a.string.isRequired,\n  readOnly: prop_types__WEBPACK_IMPORTED_MODULE_19___default.a.bool.isRequired,\n  userName: prop_types__WEBPACK_IMPORTED_MODULE_19___default.a.string,\n  returnUrl: prop_types__WEBPACK_IMPORTED_MODULE_19___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_19___default.a.string, prop_types__WEBPACK_IMPORTED_MODULE_19___default.a.bool])\n};\n;\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n  if (!reactHotLoader) {\n    return;\n  }\n  reactHotLoader.register(Editor, \"Editor\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/notes/editor.jsx\");\n})();\n;\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(\"./node_modules/webpack/buildin/harmony-module.js\")(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9ub3Rlcy9lZGl0b3IuanN4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvbm90ZXMvZWRpdG9yLmpzeD8xMmIxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBJc1B1YmxpY0NvbnRleHQgZnJvbSAnY29tcG9uZW50cy9Jc1B1YmxpY0NvbnRleHQnXG5pbXBvcnQgSGVhZGVyTWVudSBmcm9tICdjb21wb25lbnRzL2hlYWRlcl9tZW51J1xuaW1wb3J0IEVkaXRvckNvcm5lciBmcm9tICdjb21wb25lbnRzL25vdGVzL0VkaXRvckNvcm5lcidcbmltcG9ydCB7IHVzZU5vdGVDb250ZXh0IH0gZnJvbSAnY29tcG9uZW50cy9ub3Rlcy9Ob3RlUHJvdmlkZXInXG5pbXBvcnQgeyBUcmFzaGVkQmFubmVyIH0gZnJvbSAnY29tcG9uZW50cy9ub3Rlcy9UcmFzaGVkQmFubmVyL1RyYXNoZWRCYW5uZXInXG5pbXBvcnQgQmFja0Zyb21FZGl0aW5nIGZyb20gJ2NvbXBvbmVudHMvbm90ZXMvYmFja19mcm9tX2VkaXRpbmcnXG5pbXBvcnQgRWRpdG9yTG9hZGluZyBmcm9tICdjb21wb25lbnRzL25vdGVzL2VkaXRvci1sb2FkaW5nJ1xuaW1wb3J0IEVkaXRvckxvYWRpbmdFcnJvciBmcm9tICdjb21wb25lbnRzL25vdGVzL2VkaXRvci1sb2FkaW5nLWVycm9yJ1xuaW1wb3J0IEVkaXRvclZpZXcgZnJvbSAnY29tcG9uZW50cy9ub3Rlcy9lZGl0b3ItdmlldydcbmltcG9ydCBTYXZpbmdJbmRpY2F0b3IgZnJvbSAnY29tcG9uZW50cy9ub3Rlcy9zYXZpbmctaW5kaWNhdG9yJ1xuaW1wb3J0IHVzZUNvbGxhYlByb3ZpZGVyIGZyb20gJ2hvb2tzL3VzZUNvbGxhYlByb3ZpZGVyJ1xuaW1wb3J0IHsgdXNlRml4ZWRUb0JvdHRvbU9uSU9TIH0gZnJvbSAnaG9va3MvdXNlRml4ZWRUb0JvdHRvbU9uSW9zJ1xuaW1wb3J0IHVzZUZvcmNlU3luYyBmcm9tICdob29rcy91c2VGb3JjZVN5bmMnXG5pbXBvcnQgeyB1c2VQcmV2aWV3IH0gZnJvbSAnaG9va3MvdXNlUHJldmlldydcbmltcG9ydCB1c2VSZXR1cm5VcmwgZnJvbSAnaG9va3MvdXNlUmV0dXJuVXJsJ1xuaW1wb3J0IHVzZVRpdGxlQ2hhbmdlcyBmcm9tICdob29rcy91c2VUaXRsZUNoYW5nZXMnXG5pbXBvcnQgeyB1c2VEZWJ1Z1ZhbHVlIH0gZnJvbSAnbGliL2RlYnVnJ1xuaW1wb3J0IHsgYnVpbGRGaWxlQnlJZFF1ZXJ5IH0gZnJvbSAnbGliL3F1ZXJpZXMnXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnXG5pbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VDb250ZXh0LCB1c2VDYWxsYmFjaywgdXNlUmVmIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyB1c2VMb2NhdGlvbiB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nXG5pbXBvcnQgeyB1c2VXaW5kb3dFdmVudExpc3RlbmVyIH0gZnJvbSAncm9va3MvZGlzdC9lc20vaG9va3MvdXNlV2luZG93RXZlbnRMaXN0ZW5lcidcblxuaW1wb3J0IHsgUmVhbFRpbWVRdWVyaWVzLCB1c2VDbGllbnQsIHVzZVF1ZXJ5IH0gZnJvbSAnY296eS1jbGllbnQnXG5pbXBvcnQgeyBTaGFyaW5nQmFubmVyUGx1Z2luIH0gZnJvbSAnY296eS1zaGFyaW5nJ1xuaW1wb3J0IHsgdXNlU2hhcmluZ0luZm9zIH0gZnJvbSAnY296eS1zaGFyaW5nJ1xuaW1wb3J0IHVzZUNvbmZpcm1FeGl0IGZyb20gJ2NvenktdWkvdHJhbnNwaWxlZC9yZWFjdC9ob29rcy91c2VDb25maXJtRXhpdCdcbmltcG9ydCB7IHVzZUkxOG4gfSBmcm9tICdjb3p5LXVpL3RyYW5zcGlsZWQvcmVhY3QvcHJvdmlkZXJzL0kxOG4nXG5cbmltcG9ydCB7IFNIQVJJTkdfTE9DQVRJT04gfSBmcm9tICcuLi8uLi9jb25zdGFudHMvc3RyaW5ncydcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRWRpdG9yKHByb3BzKSB7XG4gIC8vIGJhc2UgcGFyYW1ldGVyc1xuICBjb25zdCBjb3p5Q2xpZW50ID0gdXNlQ2xpZW50KClcbiAgY29uc3QgeyBub3RlSWQsIHJlYWRPbmx5IH0gPSBwcm9wc1xuICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKVxuICBjb25zdCB7IGxvYWRpbmcsIGlzU2hhcmluZ1Nob3J0Y3V0Q3JlYXRlZCB9ID1cbiAgICB1c2VTaGFyaW5nSW5mb3MoU0hBUklOR19MT0NBVElPTilcbiAgY29uc3QgYmFubmVyUmVmID0gdXNlUmVmKClcbiAgY29uc3QgbG9jYXRpb24gPSB1c2VMb2NhdGlvbigpXG4gIGNvbnN0IGZpbGVRdWVyeSA9IGJ1aWxkRmlsZUJ5SWRRdWVyeShub3RlSWQpXG4gIGNvbnN0IGZpbGVSZXN1bHQgPSB1c2VRdWVyeShmaWxlUXVlcnkuZGVmaW5pdGlvbiwgZmlsZVF1ZXJ5Lm9wdGlvbnMpXG4gIC8vIE9uIGlPUywgdGhlIHRvb2xiYXIgaXMgZml4ZWQgdG8gdGhlIGJvdHRvbSBvZiB0aGUgc2NyZWVuIG1hbnVhbGx5XG4gIC8vIFRoaXMgaXMgdG8gYXZvaWQgYW4gaXNzdWUgd2l0aCB0aGUga2V5Ym9hcmQgdGhhdCBoaWRlcyB0aGUgdG9vbGJhclxuICB1c2VGaXhlZFRvQm90dG9tT25JT1MoKVxuXG4gIC8vIHBsdWdpbnMgYW5kIGNvbmZpZ1xuICBjb25zdCBpc1B1YmxpYyA9IHVzZUNvbnRleHQoSXNQdWJsaWNDb250ZXh0KVxuICBjb25zdCB7IGRvYywgc2VydmljZUNsaWVudCwgc3RhdHVzLCB0aXRsZSwgc2V0VGl0bGUgfSA9IHVzZU5vdGVDb250ZXh0KClcblxuICBjb25zdCByZXR1cm5VcmwgPSB1c2VSZXR1cm5Vcmwoe1xuICAgIHJldHVyblVybDogcHJvcHMucmV0dXJuVXJsIHx8IGxvY2F0aW9uPy5zdGF0ZT8ucmV0dXJuVXJsLFxuICAgIGNvenlDbGllbnQsXG4gICAgZG9jXG4gIH0pXG4gIGNvbnN0IGNvbGxhYlByb3ZpZGVyID0gdXNlQ29sbGFiUHJvdmlkZXIoe1xuICAgIG5vdGVJZCxcbiAgICBzZXJ2aWNlQ2xpZW50LFxuICAgIGRvY1xuICB9KVxuXG4gIC8vIGNhbGxiYWNrc1xuICBjb25zdCB7IG9uTG9jYWxUaXRsZUNoYW5nZSB9ID0gdXNlVGl0bGVDaGFuZ2VzKHtcbiAgICBub3RlSWQsXG4gICAgdGl0bGUsXG4gICAgc2V0VGl0bGUsXG4gICAgc2VydmljZUNsaWVudFxuICB9KVxuICBjb25zdCB7IGZvcmNlU3luYywgZW1lcmdlbmN5U3luYyB9ID0gdXNlRm9yY2VTeW5jKHtcbiAgICBkb2MsXG4gICAgY29sbGFiUHJvdmlkZXJcbiAgfSlcblxuICAvLyB3aGVuIGxlYXZpbmcgdGhlIGNvbXBvbmVudFxuICB1c2VXaW5kb3dFdmVudExpc3RlbmVyKCdiZWZvcmV1bmxvYWQnLCAoKSA9PiB7XG4gICAgZm9yY2VTeW5jKClcbiAgfSlcblxuICAvLyB3aGVuIGNoYW5naW5nIGRvY1xuICB1c2VFZmZlY3QoKCkgPT4gZm9yY2VTeW5jLCBbbm90ZUlkLCBkb2MsIGZvcmNlU3luY10pXG5cbiAgLy8gd2hlbiBxdWl0dGluZyB0aGUgd2VicGFnZVxuICBjb25zdCBhY3RpdmF0ZSA9IHVzZUNhbGxiYWNrKCgpID0+IGNvbGxhYlByb3ZpZGVyLmlzRGlydHkoKSwgW2NvbGxhYlByb3ZpZGVyXSlcbiAgY29uc3QgeyBleGl0Q29uZmlybWF0aW9uTW9kYWwsIHJlcXVlc3RUb0xlYXZlIH0gPSB1c2VDb25maXJtRXhpdCh7XG4gICAgYWN0aXZhdGUsXG4gICAgb25MZWF2ZTogZW1lcmdlbmN5U3luYyxcbiAgICB0aXRsZTogdCgnTm90ZXMuRWRpdG9yLmV4aXRfY29uZmlybWF0aW9uX3RpdGxlJyksXG4gICAgbWVzc2FnZTogdCgnTm90ZXMuRWRpdG9yLmV4aXRfY29uZmlybWF0aW9uX21lc3NhZ2UnKSxcbiAgICBsZWF2ZUxhYmVsOiB0KCdOb3Rlcy5FZGl0b3IuZXhpdF9jb25maXJtYXRpb25fbGVhdmUnKSxcbiAgICBjYW5jZWxMYWJlbDogdCgnTm90ZXMuRWRpdG9yLmV4aXRfY29uZmlybWF0aW9uX2NhbmNlbCcpXG4gIH0pXG5cbiAgY29uc3QgZmlsZSA9IGZpbGVSZXN1bHQ/LmRhdGFcbiAgY29uc3QgaXNUcmFzaGVkID0gZmlsZT8udHJhc2hlZCA/PyBmYWxzZVxuICBjb25zdCBpc1JlYWRPbmx5ID0gcmVhZE9ubHkgfHwgaXNUcmFzaGVkXG5cbiAgY29uc3QgaXNQcmV2aWV3ID0gdXNlUHJldmlldyh3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUpXG4gIGNvbnN0IGlzU2hhcmluZ0Jhbm5lckRpc3BsYXllZCA9XG4gICAgaXNQcmV2aWV3ICYmICFsb2FkaW5nICYmICFpc1NoYXJpbmdTaG9ydGN1dENyZWF0ZWRcblxuICB1c2VEZWJ1Z1ZhbHVlKCdjbGllbnQnLCBjb3p5Q2xpZW50KVxuICB1c2VEZWJ1Z1ZhbHVlKCdub3Rlcy5zZXJ2aWNlJywgc2VydmljZUNsaWVudClcbiAgdXNlRGVidWdWYWx1ZSgnbm90ZXMuY29sbGFiUHJvdmlkZXInLCBjb2xsYWJQcm92aWRlcilcbiAgdXNlRGVidWdWYWx1ZSgnbm90ZXMuY2hhbm5lbCcsIGNvbGxhYlByb3ZpZGVyICYmIGNvbGxhYlByb3ZpZGVyLmNoYW5uZWwpXG4gIHVzZURlYnVnVmFsdWUoJ25vdGVzLm5vdGVJZCcsIG5vdGVJZClcbiAgdXNlRGVidWdWYWx1ZSgnbm90ZXMuZG9jJywgZG9jICYmIHsgLi4uZG9jLmRvYywgdmVyc2lvbjogZG9jLnZlcnNpb24gfSlcbiAgdXNlRGVidWdWYWx1ZSgnbm90ZXMuZmlsZScsIGRvYyAmJiBkb2MuZmlsZSlcbiAgdXNlRGVidWdWYWx1ZSgnbm90ZXMucmV0dXJuVXJsJywgcmV0dXJuVXJsKVxuXG4gIC8vIHJlbmRlcmluZ1xuICBpZiAoZG9jICYmIGZpbGUpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPD5cbiAgICAgICAgPFJlYWxUaW1lUXVlcmllcyBkb2N0eXBlPVwiaW8uY296eS5maWxlc1wiIC8+XG4gICAgICAgIDxFZGl0b3JWaWV3XG4gICAgICAgICAgYmFubmVyUmVmPXtiYW5uZXJSZWZ9XG4gICAgICAgICAgcmVhZE9ubHk9e2lzUmVhZE9ubHl9XG4gICAgICAgICAgb25UaXRsZUNoYW5nZT17b25Mb2NhbFRpdGxlQ2hhbmdlfVxuICAgICAgICAgIG9uVGl0bGVCbHVyPXtlbWVyZ2VuY3lTeW5jfVxuICAgICAgICAgIGNvbGxhYlByb3ZpZGVyPXtjb2xsYWJQcm92aWRlcn1cbiAgICAgICAgICBkZWZhdWx0VGl0bGU9e3QoJ05vdGVzLkVkaXRvci50aXRsZV9wbGFjZWhvbGRlcicpfVxuICAgICAgICAgIGRlZmF1bHRWYWx1ZT17eyAuLi5kb2MuZG9jLCB2ZXJzaW9uOiBkb2MudmVyc2lvbiB9fVxuICAgICAgICAgIHRpdGxlPXt0aXRsZSAmJiB0aXRsZS5sZW5ndGggPiAwID8gdGl0bGUgOiB1bmRlZmluZWR9XG4gICAgICAgICAgaGVhZGVyTWVudT17XG4gICAgICAgICAgICA8SGVhZGVyTWVudVxuICAgICAgICAgICAgICBsZWZ0Q29tcG9uZW50PXtcbiAgICAgICAgICAgICAgICA8QmFja0Zyb21FZGl0aW5nXG4gICAgICAgICAgICAgICAgICByZXR1cm5Vcmw9e3JldHVyblVybH1cbiAgICAgICAgICAgICAgICAgIGZpbGU9e2ZpbGV9XG4gICAgICAgICAgICAgICAgICByZXF1ZXN0VG9MZWF2ZT17cmVxdWVzdFRvTGVhdmV9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByaWdodENvbXBvbmVudD17XG4gICAgICAgICAgICAgICAgPEVkaXRvckNvcm5lclxuICAgICAgICAgICAgICAgICAgZmlsZT17ZmlsZX1cbiAgICAgICAgICAgICAgICAgIGlzUHVibGljPXtpc1B1YmxpY31cbiAgICAgICAgICAgICAgICAgIGlzUmVhZE9ubHk9e2lzUmVhZE9ubHl9XG4gICAgICAgICAgICAgICAgICB0aXRsZT17dGl0bGV9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBiYW5uZXJDb21wb25lbnQ9e1xuICAgICAgICAgICAgICAgIGlzVHJhc2hlZCA/IChcbiAgICAgICAgICAgICAgICAgIDxUcmFzaGVkQmFubmVyXG4gICAgICAgICAgICAgICAgICAgIG5vdGVJZD17bm90ZUlkfVxuICAgICAgICAgICAgICAgICAgICBpc1B1YmxpYz17aXNQdWJsaWN9XG4gICAgICAgICAgICAgICAgICAgIHJldHVyblVybD17cmV0dXJuVXJsfVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICApIDogaXNTaGFyaW5nQmFubmVyRGlzcGxheWVkID8gKFxuICAgICAgICAgICAgICAgICAgPFNoYXJpbmdCYW5uZXJQbHVnaW4gcHJldmlld1BhdGg9e1NIQVJJTkdfTE9DQVRJT059IC8+XG4gICAgICAgICAgICAgICAgKSA6IG51bGxcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBob21lSHJlZj17XG4gICAgICAgICAgICAgICAgY29sbGFiUHJvdmlkZXIuc2VydmljZUNsaWVudC5jb3p5Q2xpZW50LmdldFN0YWNrQ2xpZW50KCkudXJpXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaXNQdWJsaWM9e2lzUHVibGljfVxuICAgICAgICAgICAgICBmaWxlPXtmaWxlfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICB9XG4gICAgICAgIC8+XG4gICAgICAgIDxTYXZpbmdJbmRpY2F0b3JcbiAgICAgICAgICBjb2xsYWJQcm92aWRlcj17Y29sbGFiUHJvdmlkZXJ9XG4gICAgICAgICAgYmFubmVyUmVmPXtiYW5uZXJSZWZ9XG4gICAgICAgIC8+XG4gICAgICAgIHtleGl0Q29uZmlybWF0aW9uTW9kYWx9XG4gICAgICA8Lz5cbiAgICApXG4gIH1cblxuICBpZiAoc3RhdHVzID09PSAnZmFpbGVkJyB8fCBmaWxlUmVzdWx0LmZldGNoU3RhdHVzID09PSAnZmFpbGVkJykge1xuICAgIHJldHVybiA8RWRpdG9yTG9hZGluZ0Vycm9yIHJldHVyblVybD17cmV0dXJuVXJsfSAvPlxuICB9XG5cbiAgcmV0dXJuIDxFZGl0b3JMb2FkaW5nIC8+XG59XG5cbkVkaXRvci5wcm9wVHlwZXMgPSB7XG4gIG5vdGVJZDogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICByZWFkT25seTogUHJvcFR5cGVzLmJvb2wuaXNSZXF1aXJlZCxcbiAgdXNlck5hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gIHJldHVyblVybDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLmJvb2xdKVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTEE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBQUE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUEE7QUFBQTtBQVNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBQUE7QUFHQTtBQUdBO0FBQ0E7QUFBQTtBQUVBO0FBR0E7QUFDQTtBQUFBO0FBS0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBOUlBO0FBaUVBO0FBK0VBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBckpBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/notes/editor.jsx\n");

/***/ }),

/***/ "./src/components/notes/editor_config.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// if you change something here,\n// you should update /lib/collab/schema.js\n// otherwise the server part won't work\nvar editorConfig = {\n  allowBreakout: true,\n  allowTextColor: true,\n  allowTextAlignment: true,\n  allowIndentation: true,\n  allowTables: {\n    allowColumnSorting: true,\n    allowColumnResizing: true,\n    allowMergeCells: true,\n    allowNumberColumn: true,\n    allowBackgroundColor: true,\n    allowHeaderRow: true,\n    allowHeaderColumn: true,\n    permittedLayouts: 'all',\n    stickToolbarToBottom: true\n  },\n  allowPanel: true,\n  allowStatus: true,\n  allowRule: true,\n  allowDate: true,\n  allowTasksAndDecisions: true\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (editorConfig);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9ub3Rlcy9lZGl0b3JfY29uZmlnLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvbm90ZXMvZWRpdG9yX2NvbmZpZy50cz85MTc3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEVkaXRvclByb3BzIH0gZnJvbSAnQGF0bGFza2l0L2VkaXRvci1jb3JlJ1xuXG4vLyBpZiB5b3UgY2hhbmdlIHNvbWV0aGluZyBoZXJlLFxuLy8geW91IHNob3VsZCB1cGRhdGUgL2xpYi9jb2xsYWIvc2NoZW1hLmpzXG4vLyBvdGhlcndpc2UgdGhlIHNlcnZlciBwYXJ0IHdvbid0IHdvcmtcbmNvbnN0IGVkaXRvckNvbmZpZzogRWRpdG9yUHJvcHMgPSB7XG4gIGFsbG93QnJlYWtvdXQ6IHRydWUsXG4gIGFsbG93VGV4dENvbG9yOiB0cnVlLFxuICBhbGxvd1RleHRBbGlnbm1lbnQ6IHRydWUsXG4gIGFsbG93SW5kZW50YXRpb246IHRydWUsXG4gIGFsbG93VGFibGVzOiB7XG4gICAgYWxsb3dDb2x1bW5Tb3J0aW5nOiB0cnVlLFxuICAgIGFsbG93Q29sdW1uUmVzaXppbmc6IHRydWUsXG4gICAgYWxsb3dNZXJnZUNlbGxzOiB0cnVlLFxuICAgIGFsbG93TnVtYmVyQ29sdW1uOiB0cnVlLFxuICAgIGFsbG93QmFja2dyb3VuZENvbG9yOiB0cnVlLFxuICAgIGFsbG93SGVhZGVyUm93OiB0cnVlLFxuICAgIGFsbG93SGVhZGVyQ29sdW1uOiB0cnVlLFxuICAgIHBlcm1pdHRlZExheW91dHM6ICdhbGwnLFxuICAgIHN0aWNrVG9vbGJhclRvQm90dG9tOiB0cnVlXG4gIH0sXG4gIGFsbG93UGFuZWw6IHRydWUsXG4gIGFsbG93U3RhdHVzOiB0cnVlLFxuICBhbGxvd1J1bGU6IHRydWUsXG4gIGFsbG93RGF0ZTogdHJ1ZSxcbiAgYWxsb3dUYXNrc0FuZERlY2lzaW9uczogdHJ1ZVxufVxuXG5leHBvcnQgZGVmYXVsdCBlZGl0b3JDb25maWdcbiJdLCJtYXBwaW5ncyI6IkFBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/notes/editor_config.ts\n");

/***/ }),

/***/ "./src/components/notes/index.jsx":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var components_notes_List__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./src/components/notes/List/index.jsx\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"List\", function() { return components_notes_List__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; });\n\n/* harmony import */ var components_notes_add__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./src/components/notes/add.jsx\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Add\", function() { return components_notes_add__WEBPACK_IMPORTED_MODULE_1__[\"default\"]; });\n\n/* harmony import */ var components_notes_editor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./src/components/notes/editor.jsx\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Editor\", function() { return components_notes_editor__WEBPACK_IMPORTED_MODULE_2__[\"default\"]; });\n\n/* harmony import */ var components_notes_sharing__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./src/components/notes/sharing.jsx\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Sharing\", function() { return components_notes_sharing__WEBPACK_IMPORTED_MODULE_3__[\"default\"]; });\n\n/* harmony import */ var components_notes_unshared__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./src/components/notes/unshared.jsx\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Unshared\", function() { return components_notes_unshared__WEBPACK_IMPORTED_MODULE_4__[\"default\"]; });\n\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal[\"default\"].signature : function (a) {\n  return a;\n};\n\n\n\n\n\n\n//\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9ub3Rlcy9pbmRleC5qc3guanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9ub3Rlcy9pbmRleC5qc3g/N2Q0YiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgTGlzdCBmcm9tICdjb21wb25lbnRzL25vdGVzL0xpc3QnXG5pbXBvcnQgQWRkIGZyb20gJ2NvbXBvbmVudHMvbm90ZXMvYWRkJ1xuaW1wb3J0IEVkaXRvciBmcm9tICdjb21wb25lbnRzL25vdGVzL2VkaXRvcidcbmltcG9ydCBTaGFyaW5nIGZyb20gJ2NvbXBvbmVudHMvbm90ZXMvc2hhcmluZydcbmltcG9ydCBVbnNoYXJlZCBmcm9tICdjb21wb25lbnRzL25vdGVzL3Vuc2hhcmVkJ1xuXG4vL1xuZXhwb3J0IHsgTGlzdCwgRWRpdG9yLCBBZGQsIFNoYXJpbmcsIFVuc2hhcmVkIH1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/notes/index.jsx\n");

/***/ }),

/***/ "./src/components/notes/new-route.jsx":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var lib_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./src/lib/utils.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./node_modules/react-router-dom/dist/index.js\");\n/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./node_modules/cozy-client/dist/index.js\");\n/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var cozy_ui_transpiled_react_Spinner__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/Spinner/index.js\");\n\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal[\"default\"].signature : function (a) {\n  return a;\n};\n\n\n\n\n\n\nvar NewRoute = function NewRoute() {\n  var client = Object(cozy_client__WEBPACK_IMPORTED_MODULE_5__[\"useClient\"])();\n  var _client$getInstanceOp = client.getInstanceOptions(),\n    subDomainType = _client$getInstanceOp.subdomain;\n  var navigate = Object(react_router_dom__WEBPACK_IMPORTED_MODULE_4__[\"useNavigate\"])();\n  Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useEffect\"])(function () {\n    var createNote = /*#__PURE__*/function () {\n      var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee() {\n        var _yield$createNoteDocu, doc, returnUrl, link;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return Object(lib_utils__WEBPACK_IMPORTED_MODULE_2__[\"createNoteDocument\"])(client);\n              case 2:\n                _yield$createNoteDocu = _context.sent;\n                doc = _yield$createNoteDocu.data;\n                returnUrl = Object(cozy_client__WEBPACK_IMPORTED_MODULE_5__[\"generateWebLink\"])({\n                  slug: 'notes',\n                  cozyUrl: client.getStackClient().uri,\n                  subDomainType: subDomainType,\n                  pathname: '/'\n                });\n                link = \"/n/\".concat(doc.id);\n                navigate(link, {\n                  replace: true,\n                  state: {\n                    returnUrl: returnUrl\n                  }\n                });\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n      return function createNote() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    createNote();\n  }, [client, subDomainType, navigate]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_Spinner__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n    size: \"xxlarge\",\n    middle: true\n  });\n};\n__signature__(NewRoute, \"useClient{client}\\nuseNavigate{navigate}\\nuseEffect{}\", function () {\n  return [cozy_client__WEBPACK_IMPORTED_MODULE_5__[\"useClient\"], react_router_dom__WEBPACK_IMPORTED_MODULE_4__[\"useNavigate\"]];\n});\nvar _default = NewRoute;\n/* harmony default export */ __webpack_exports__[\"default\"] = (_default);\n;\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n  if (!reactHotLoader) {\n    return;\n  }\n  reactHotLoader.register(NewRoute, \"NewRoute\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/notes/new-route.jsx\");\n  reactHotLoader.register(_default, \"default\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/notes/new-route.jsx\");\n})();\n;\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(\"./node_modules/webpack/buildin/harmony-module.js\")(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9ub3Rlcy9uZXctcm91dGUuanN4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvbm90ZXMvbmV3LXJvdXRlLmpzeD85OWU3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZU5vdGVEb2N1bWVudCB9IGZyb20gJ2xpYi91dGlscydcbmltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IHVzZU5hdmlnYXRlIH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSdcblxuaW1wb3J0IHsgdXNlQ2xpZW50IH0gZnJvbSAnY296eS1jbGllbnQnXG5pbXBvcnQgeyBnZW5lcmF0ZVdlYkxpbmsgfSBmcm9tICdjb3p5LWNsaWVudCdcbmltcG9ydCBTcGlubmVyIGZyb20gJ2NvenktdWkvdHJhbnNwaWxlZC9yZWFjdC9TcGlubmVyJ1xuXG5jb25zdCBOZXdSb3V0ZSA9ICgpID0+IHtcbiAgY29uc3QgY2xpZW50ID0gdXNlQ2xpZW50KClcbiAgY29uc3QgeyBzdWJkb21haW46IHN1YkRvbWFpblR5cGUgfSA9IGNsaWVudC5nZXRJbnN0YW5jZU9wdGlvbnMoKVxuICBjb25zdCBuYXZpZ2F0ZSA9IHVzZU5hdmlnYXRlKClcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGNyZWF0ZU5vdGUgPSBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB7IGRhdGE6IGRvYyB9ID0gYXdhaXQgY3JlYXRlTm90ZURvY3VtZW50KGNsaWVudClcbiAgICAgIGNvbnN0IHJldHVyblVybCA9IGdlbmVyYXRlV2ViTGluayh7XG4gICAgICAgIHNsdWc6ICdub3RlcycsXG4gICAgICAgIGNvenlVcmw6IGNsaWVudC5nZXRTdGFja0NsaWVudCgpLnVyaSxcbiAgICAgICAgc3ViRG9tYWluVHlwZTogc3ViRG9tYWluVHlwZSxcbiAgICAgICAgcGF0aG5hbWU6ICcvJ1xuICAgICAgfSlcbiAgICAgIGNvbnN0IGxpbmsgPSBgL24vJHtkb2MuaWR9YFxuICAgICAgbmF2aWdhdGUobGluaywgeyByZXBsYWNlOiB0cnVlLCBzdGF0ZTogeyByZXR1cm5VcmwgfSB9KVxuICAgIH1cblxuICAgIGNyZWF0ZU5vdGUoKVxuICB9LCBbY2xpZW50LCBzdWJEb21haW5UeXBlLCBuYXZpZ2F0ZV0pXG5cbiAgcmV0dXJuIDxTcGlubmVyIHNpemU9XCJ4eGxhcmdlXCIgbWlkZGxlIC8+XG59XG5cbmV4cG9ydCBkZWZhdWx0IE5ld1JvdXRlXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQVZBO0FBQUE7QUFBQTtBQVlBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUF0QkE7QUFHQTtBQUFBO0FBcUJBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUF4QkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/notes/new-route.jsx\n");

/***/ }),

/***/ "./src/components/notes/offline-indicator.jsx":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return OfflineIndicator; });\n/* harmony import */ var components_notes_offline_indicator_styl__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./src/components/notes/offline-indicator.styl\");\n/* harmony import */ var components_notes_offline_indicator_styl__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(components_notes_offline_indicator_styl__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/react-dom/index.js\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var cozy_ui_transpiled_react_Grid__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/Grid/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/Icon/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_Tooltip__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/Tooltip/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_deprecated_Chip__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/deprecated/Chip/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_providers_Breakpoints__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/providers/Breakpoints/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_providers_I18n__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/providers/I18n/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_styles__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/styles/index.js\");\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal[\"default\"].signature : function (a) {\n  return a;\n};\n\n\n\n\n\n\n\n\n\n\nvar tooltipStyles = {\n  tooltipPlacementBottom: {\n    margin: '12px 24px'\n  },\n  tooltipPlacementTop: {\n    margin: '12px 24px'\n  }\n};\nvar StyledTooltip = Object(cozy_ui_transpiled_react_styles__WEBPACK_IMPORTED_MODULE_9__[\"withStyles\"])(tooltipStyles, {\n  name: 'MuiTooltip'\n})(cozy_ui_transpiled_react_Tooltip__WEBPACK_IMPORTED_MODULE_5__[\"default\"]);\n\n/**\n * Large tooltip, for browser view\n *\n * @param {object} props\n * @param {boolean} props.open - true if we should force the tooltip to be opened\n * @param {*} props.content - what to display inside the banner\n * @param {*} props.children - the saving indicator\n */\nfunction Balloon(props) {\n  // We add a dynamic `key`property to throw the old\n  // instance and get a new one if the `open` property changes.\n  // This is because we want to force the tooltip to be open\n  // for a few seconds (and MUI initializes the component to\n  // a controlled one) but we want the automatic (no-controlled)\n  // mode afterwards\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(StyledTooltip, {\n    title: props.content,\n    open: props.open || undefined,\n    key: props.open ? 'open' : 'auto'\n  }, props.children);\n}\n\n/**\n * Banner on top of the editor, for mobile view\n *\n * @param {object} props\n * @param {Ref} props.bannerRef - where to display the banner\n * @param {*} props.content - what to display inside the banner\n * @param {*} props.children - the saving indicator\n */\nfunction Banner(props) {\n  var ref = props.bannerRef && props.bannerRef.current;\n  if (ref) {\n    return /*#__PURE__*/react_dom__WEBPACK_IMPORTED_MODULE_2___default.a.createPortal( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n      className: components_notes_offline_indicator_styl__WEBPACK_IMPORTED_MODULE_0___default.a.banner\n    }, props.content), ref);\n  }\n  return null;\n}\n\n/**\n * Adds an indicator when offline\n *\n * It's mapped to a tooltip for browser views\n * and to a banner for mobile views\n * @param {object} props\n * @param {boolean} props.open - true if we should force the tooltip to be opened\n * @param {Ref} props.bannerRef - where to display the banner\n * @param {*} props.children - the saving indicator\n */\nfunction OfflineIndicator(props) {\n  var _useI18n = Object(cozy_ui_transpiled_react_providers_I18n__WEBPACK_IMPORTED_MODULE_8__[\"useI18n\"])(),\n    t = _useI18n.t;\n  var _useBreakpoints = Object(cozy_ui_transpiled_react_providers_Breakpoints__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(),\n    isMobile = _useBreakpoints.isMobile;\n  var content = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Grid__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n    direction: \"row\",\n    container: true,\n    wrap: \"nowrap\",\n    spacing: 1,\n    className: components_notes_offline_indicator_styl__WEBPACK_IMPORTED_MODULE_0___default.a.grid\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Grid__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n    item: true\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_deprecated_Chip__WEBPACK_IMPORTED_MODULE_6__[\"default\"].Round, {\n    className: components_notes_offline_indicator_styl__WEBPACK_IMPORTED_MODULE_0___default.a.chip\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n    icon: \"offline\",\n    color: \"var(--iconTextColor)\"\n  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Grid__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n    item: true\n  }, t('Notes.OfflineIndicator.message')));\n  var Component = isMobile ? Banner : Balloon;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Component, {\n    open: props.open,\n    content: content,\n    bannerRef: props.bannerRef\n  }, props.children);\n}\n__signature__(OfflineIndicator, \"useI18n{{ t }}\\nuseBreakpoints{{ isMobile }}\", function () {\n  return [cozy_ui_transpiled_react_providers_I18n__WEBPACK_IMPORTED_MODULE_8__[\"useI18n\"], cozy_ui_transpiled_react_providers_Breakpoints__WEBPACK_IMPORTED_MODULE_7__[\"default\"]];\n});\n;\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n  if (!reactHotLoader) {\n    return;\n  }\n  reactHotLoader.register(tooltipStyles, \"tooltipStyles\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/notes/offline-indicator.jsx\");\n  reactHotLoader.register(StyledTooltip, \"StyledTooltip\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/notes/offline-indicator.jsx\");\n  reactHotLoader.register(Balloon, \"Balloon\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/notes/offline-indicator.jsx\");\n  reactHotLoader.register(Banner, \"Banner\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/notes/offline-indicator.jsx\");\n  reactHotLoader.register(OfflineIndicator, \"OfflineIndicator\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/notes/offline-indicator.jsx\");\n})();\n;\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(\"./node_modules/webpack/buildin/harmony-module.js\")(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9ub3Rlcy9vZmZsaW5lLWluZGljYXRvci5qc3guanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9ub3Rlcy9vZmZsaW5lLWluZGljYXRvci5qc3g/N2YwNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgc3R5bGVzIGZyb20gJ2NvbXBvbmVudHMvbm90ZXMvb2ZmbGluZS1pbmRpY2F0b3Iuc3R5bCdcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nXG5cbmltcG9ydCBHcmlkIGZyb20gJ2NvenktdWkvdHJhbnNwaWxlZC9yZWFjdC9HcmlkJ1xuaW1wb3J0IEljb24gZnJvbSAnY296eS11aS90cmFuc3BpbGVkL3JlYWN0L0ljb24nXG5pbXBvcnQgVG9vbHRpcCBmcm9tICdjb3p5LXVpL3RyYW5zcGlsZWQvcmVhY3QvVG9vbHRpcCdcbmltcG9ydCBDaGlwIGZyb20gJ2NvenktdWkvdHJhbnNwaWxlZC9yZWFjdC9kZXByZWNhdGVkL0NoaXAnXG5pbXBvcnQgdXNlQnJlYWtwb2ludHMgZnJvbSAnY296eS11aS90cmFuc3BpbGVkL3JlYWN0L3Byb3ZpZGVycy9CcmVha3BvaW50cydcbmltcG9ydCB7IHVzZUkxOG4gfSBmcm9tICdjb3p5LXVpL3RyYW5zcGlsZWQvcmVhY3QvcHJvdmlkZXJzL0kxOG4nXG5pbXBvcnQgeyB3aXRoU3R5bGVzIH0gZnJvbSAnY296eS11aS90cmFuc3BpbGVkL3JlYWN0L3N0eWxlcydcblxuY29uc3QgdG9vbHRpcFN0eWxlcyA9IHtcbiAgdG9vbHRpcFBsYWNlbWVudEJvdHRvbToge1xuICAgIG1hcmdpbjogJzEycHggMjRweCdcbiAgfSxcbiAgdG9vbHRpcFBsYWNlbWVudFRvcDoge1xuICAgIG1hcmdpbjogJzEycHggMjRweCdcbiAgfVxufVxuXG5jb25zdCBTdHlsZWRUb29sdGlwID0gd2l0aFN0eWxlcyh0b29sdGlwU3R5bGVzLCB7IG5hbWU6ICdNdWlUb29sdGlwJyB9KShUb29sdGlwKVxuXG4vKipcbiAqIExhcmdlIHRvb2x0aXAsIGZvciBicm93c2VyIHZpZXdcbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gcHJvcHNcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gcHJvcHMub3BlbiAtIHRydWUgaWYgd2Ugc2hvdWxkIGZvcmNlIHRoZSB0b29sdGlwIHRvIGJlIG9wZW5lZFxuICogQHBhcmFtIHsqfSBwcm9wcy5jb250ZW50IC0gd2hhdCB0byBkaXNwbGF5IGluc2lkZSB0aGUgYmFubmVyXG4gKiBAcGFyYW0geyp9IHByb3BzLmNoaWxkcmVuIC0gdGhlIHNhdmluZyBpbmRpY2F0b3JcbiAqL1xuZnVuY3Rpb24gQmFsbG9vbihwcm9wcykge1xuICAvLyBXZSBhZGQgYSBkeW5hbWljIGBrZXlgcHJvcGVydHkgdG8gdGhyb3cgdGhlIG9sZFxuICAvLyBpbnN0YW5jZSBhbmQgZ2V0IGEgbmV3IG9uZSBpZiB0aGUgYG9wZW5gIHByb3BlcnR5IGNoYW5nZXMuXG4gIC8vIFRoaXMgaXMgYmVjYXVzZSB3ZSB3YW50IHRvIGZvcmNlIHRoZSB0b29sdGlwIHRvIGJlIG9wZW5cbiAgLy8gZm9yIGEgZmV3IHNlY29uZHMgKGFuZCBNVUkgaW5pdGlhbGl6ZXMgdGhlIGNvbXBvbmVudCB0b1xuICAvLyBhIGNvbnRyb2xsZWQgb25lKSBidXQgd2Ugd2FudCB0aGUgYXV0b21hdGljIChuby1jb250cm9sbGVkKVxuICAvLyBtb2RlIGFmdGVyd2FyZHNcbiAgcmV0dXJuIChcbiAgICA8U3R5bGVkVG9vbHRpcFxuICAgICAgdGl0bGU9e3Byb3BzLmNvbnRlbnR9XG4gICAgICBvcGVuPXtwcm9wcy5vcGVuIHx8IHVuZGVmaW5lZH1cbiAgICAgIGtleT17cHJvcHMub3BlbiA/ICdvcGVuJyA6ICdhdXRvJ31cbiAgICA+XG4gICAgICB7cHJvcHMuY2hpbGRyZW59XG4gICAgPC9TdHlsZWRUb29sdGlwPlxuICApXG59XG5cbi8qKlxuICogQmFubmVyIG9uIHRvcCBvZiB0aGUgZWRpdG9yLCBmb3IgbW9iaWxlIHZpZXdcbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gcHJvcHNcbiAqIEBwYXJhbSB7UmVmfSBwcm9wcy5iYW5uZXJSZWYgLSB3aGVyZSB0byBkaXNwbGF5IHRoZSBiYW5uZXJcbiAqIEBwYXJhbSB7Kn0gcHJvcHMuY29udGVudCAtIHdoYXQgdG8gZGlzcGxheSBpbnNpZGUgdGhlIGJhbm5lclxuICogQHBhcmFtIHsqfSBwcm9wcy5jaGlsZHJlbiAtIHRoZSBzYXZpbmcgaW5kaWNhdG9yXG4gKi9cbmZ1bmN0aW9uIEJhbm5lcihwcm9wcykge1xuICBjb25zdCByZWYgPSBwcm9wcy5iYW5uZXJSZWYgJiYgcHJvcHMuYmFubmVyUmVmLmN1cnJlbnRcblxuICBpZiAocmVmKSB7XG4gICAgcmV0dXJuIFJlYWN0RE9NLmNyZWF0ZVBvcnRhbChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuYmFubmVyfT57cHJvcHMuY29udGVudH08L2Rpdj4sXG4gICAgICByZWZcbiAgICApXG4gIH1cblxuICByZXR1cm4gbnVsbFxufVxuXG4vKipcbiAqIEFkZHMgYW4gaW5kaWNhdG9yIHdoZW4gb2ZmbGluZVxuICpcbiAqIEl0J3MgbWFwcGVkIHRvIGEgdG9vbHRpcCBmb3IgYnJvd3NlciB2aWV3c1xuICogYW5kIHRvIGEgYmFubmVyIGZvciBtb2JpbGUgdmlld3NcbiAqIEBwYXJhbSB7b2JqZWN0fSBwcm9wc1xuICogQHBhcmFtIHtib29sZWFufSBwcm9wcy5vcGVuIC0gdHJ1ZSBpZiB3ZSBzaG91bGQgZm9yY2UgdGhlIHRvb2x0aXAgdG8gYmUgb3BlbmVkXG4gKiBAcGFyYW0ge1JlZn0gcHJvcHMuYmFubmVyUmVmIC0gd2hlcmUgdG8gZGlzcGxheSB0aGUgYmFubmVyXG4gKiBAcGFyYW0geyp9IHByb3BzLmNoaWxkcmVuIC0gdGhlIHNhdmluZyBpbmRpY2F0b3JcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gT2ZmbGluZUluZGljYXRvcihwcm9wcykge1xuICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKVxuICBjb25zdCB7IGlzTW9iaWxlIH0gPSB1c2VCcmVha3BvaW50cygpXG5cbiAgY29uc3QgY29udGVudCA9IChcbiAgICA8R3JpZFxuICAgICAgZGlyZWN0aW9uPVwicm93XCJcbiAgICAgIGNvbnRhaW5lclxuICAgICAgd3JhcD1cIm5vd3JhcFwiXG4gICAgICBzcGFjaW5nPXsxfVxuICAgICAgY2xhc3NOYW1lPXtzdHlsZXMuZ3JpZH1cbiAgICA+XG4gICAgICA8R3JpZCBpdGVtPlxuICAgICAgICA8Q2hpcC5Sb3VuZCBjbGFzc05hbWU9e3N0eWxlcy5jaGlwfT5cbiAgICAgICAgICA8SWNvbiBpY29uPVwib2ZmbGluZVwiIGNvbG9yPVwidmFyKC0taWNvblRleHRDb2xvcilcIiAvPlxuICAgICAgICA8L0NoaXAuUm91bmQ+XG4gICAgICA8L0dyaWQ+XG4gICAgICA8R3JpZCBpdGVtPnt0KCdOb3Rlcy5PZmZsaW5lSW5kaWNhdG9yLm1lc3NhZ2UnKX08L0dyaWQ+XG4gICAgPC9HcmlkPlxuICApXG5cbiAgY29uc3QgQ29tcG9uZW50ID0gaXNNb2JpbGUgPyBCYW5uZXIgOiBCYWxsb29uXG5cbiAgcmV0dXJuIChcbiAgICA8Q29tcG9uZW50IG9wZW49e3Byb3BzLm9wZW59IGNvbnRlbnQ9e2NvbnRlbnR9IGJhbm5lclJlZj17cHJvcHMuYmFubmVyUmVmfT5cbiAgICAgIHtwcm9wcy5jaGlsZHJlbn1cbiAgICA8L0NvbXBvbmVudD5cbiAgKVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFHQTtBQUFBO0FBSUE7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBSUE7QUFBQTtBQTVCQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUF0RUE7QUFTQTtBQVVBO0FBMEJBO0FBdUJBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/notes/offline-indicator.jsx\n");

/***/ }),

/***/ "./src/components/notes/offline-indicator.styl":
/***/ (function(module, exports, __webpack_require__) {

eval("\nvar content = __webpack_require__(\"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/stylus-loader/index.js?!./src/components/notes/offline-indicator.styl\");\n\nif(typeof content === 'string') content = [[module.i, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = __webpack_require__(\"./node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(true) {\n\tmodule.hot.accept(\"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/stylus-loader/index.js?!./src/components/notes/offline-indicator.styl\", function() {\n\t\tvar newContent = __webpack_require__(\"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/stylus-loader/index.js?!./src/components/notes/offline-indicator.styl\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.i, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9ub3Rlcy9vZmZsaW5lLWluZGljYXRvci5zdHlsLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvbm90ZXMvb2ZmbGluZS1pbmRpY2F0b3Iuc3R5bD8zNGRmIl0sInNvdXJjZXNDb250ZW50IjpbIlxudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0xMS0xIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3Bvc3Rjc3MhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWx1cy1sb2FkZXIvaW5kZXguanM/P3JlZi0tMTEtMyEuL29mZmxpbmUtaW5kaWNhdG9yLnN0eWxcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXG52YXIgdHJhbnNmb3JtO1xudmFyIGluc2VydEludG87XG5cblxuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG5vcHRpb25zLmluc2VydEludG8gPSB1bmRlZmluZWQ7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cbmlmKG1vZHVsZS5ob3QpIHtcblx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTExLTEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cG9zdGNzcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bHVzLWxvYWRlci9pbmRleC5qcz8/cmVmLS0xMS0zIS4vb2ZmbGluZS1pbmRpY2F0b3Iuc3R5bFwiLCBmdW5jdGlvbigpIHtcblx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTExLTEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cG9zdGNzcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bHVzLWxvYWRlci9pbmRleC5qcz8/cmVmLS0xMS0zIS4vb2ZmbGluZS1pbmRpY2F0b3Iuc3R5bFwiKTtcblxuXHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXG5cdFx0dmFyIGxvY2FscyA9IChmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHR2YXIga2V5LCBpZHggPSAwO1xuXG5cdFx0XHRmb3Ioa2V5IGluIGEpIHtcblx0XHRcdFx0aWYoIWIgfHwgYVtrZXldICE9PSBiW2tleV0pIHJldHVybiBmYWxzZTtcblx0XHRcdFx0aWR4Kys7XG5cdFx0XHR9XG5cblx0XHRcdGZvcihrZXkgaW4gYikgaWR4LS07XG5cblx0XHRcdHJldHVybiBpZHggPT09IDA7XG5cdFx0fShjb250ZW50LmxvY2FscywgbmV3Q29udGVudC5sb2NhbHMpKTtcblxuXHRcdGlmKCFsb2NhbHMpIHRocm93IG5ldyBFcnJvcignQWJvcnRpbmcgQ1NTIEhNUiBkdWUgdG8gY2hhbmdlZCBjc3MtbW9kdWxlcyBsb2NhbHMuJyk7XG5cblx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdH0pO1xuXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/notes/offline-indicator.styl\n");

/***/ }),

/***/ "./src/components/notes/saving-indicator.jsx":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony import */ var components_notes_offline_indicator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./src/components/notes/offline-indicator.jsx\");\n/* harmony import */ var components_notes_saving_indicator_styl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./src/components/notes/saving-indicator.styl\");\n/* harmony import */ var components_notes_saving_indicator_styl__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(components_notes_saving_indicator_styl__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var hooks_useCollabStateChange__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./src/hooks/useCollabStateChange.jsx\");\n/* harmony import */ var lib_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./src/lib/utils.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/Typography/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_hooks_useBrowserOffline__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/hooks/useBrowserOffline.js\");\n/* harmony import */ var cozy_ui_transpiled_react_hooks_usePeriodicRender__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/hooks/usePeriodicRender.js\");\n/* harmony import */ var cozy_ui_transpiled_react_providers_Breakpoints__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/providers/Breakpoints/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_providers_I18n__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/providers/I18n/index.js\");\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal[\"default\"].signature : function (a) {\n  return a;\n};\n\n\n\n\n\n\n\n\n\n\n\n// constants\nvar sec = 1000;\nvar keepOfflineOpenFor = 5 * sec;\nvar outOfSyncAfter = 30 * sec;\n\n/**\n * @typedef {object} SavingIndicatorProps\n * @property {CollabProviderDate} collabProvider\n * @property {Ref} bannerRef - Where to display banners\n */\n\n/**\n * Checks if the server is out of sync\n * (our changes were not successfully sent and accepted for too much time)\n * @param {object} params\n * @param {boolean} params.isDirty - if there are changes to be sent\n * @param {integer} params.dirtyAge - number of milliseconds waiting\n *                                    with changes to be sent\n * @returns {boolean}\n */\nfunction checksOutOfSync(_ref) {\n  var isDirty = _ref.isDirty,\n    dirtyAge = _ref.dirtyAge;\n  return isDirty && dirtyAge && dirtyAge > outOfSyncAfter;\n}\n\n/**\n * Checks for disconnection (browser offline or out of sync)\n *\n * @param {object} params\n * @param {boolean} params.isOutOfSync\n * @returns {{isDisconnected, disconnectedAge}}\n */\nfunction useDisconnection(_ref2) {\n  var isOutOfSync = _ref2.isOutOfSync;\n  var now = new Date();\n  var isBrowserOffline = Object(cozy_ui_transpiled_react_hooks_useBrowserOffline__WEBPACK_IMPORTED_MODULE_6__[\"default\"])();\n  var isDisconnected = isBrowserOffline || isOutOfSync;\n  // eslint-disable-next-line\n  var disconnectedSince = Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useMemo\"])(function () {\n    return new Date();\n  }, [isDisconnected]);\n  var disconnectedAge = isDisconnected ? now - disconnectedSince : 0;\n  return {\n    isDisconnected: isDisconnected,\n    disconnectedAge: disconnectedAge\n  };\n}\n\n/**\n * Should we open the offline indicator tooltip?\n *\n * We open it for a few seconds when we go offline\n * then close it (it is still accessible when hovering over)\n * @param {object} params\n * @param {integer} params.disconnectedAge - milliseconds since when we are disconnected\n * @param {boolean} params.isDisconnected\n * @returns {boolean}\n */\n__signature__(useDisconnection, \"useBrowserOffline{isBrowserOffline}\\nuseMemo{disconnectedSince}\", function () {\n  return [cozy_ui_transpiled_react_hooks_useBrowserOffline__WEBPACK_IMPORTED_MODULE_6__[\"default\"]];\n});\nfunction useOpenOfflineIndicator(_ref3) {\n  var disconnectedAge = _ref3.disconnectedAge,\n    isDisconnected = _ref3.isDisconnected;\n  var isOpen = isDisconnected && disconnectedAge < keepOfflineOpenFor;\n\n  // When open, rerender when the indicator should close again\n  var interval = keepOfflineOpenFor - disconnectedAge;\n  Object(cozy_ui_transpiled_react_hooks_usePeriodicRender__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(isOpen && interval);\n  return isOpen;\n}\n\n/**\n * Displays a saving indicator in the bottom right\n * and an offline indicator if needed\n *\n * @param {SavingIndicatorProps} props\n */\n__signature__(useOpenOfflineIndicator, \"usePeriodicRender{}\", function () {\n  return [cozy_ui_transpiled_react_hooks_usePeriodicRender__WEBPACK_IMPORTED_MODULE_7__[\"default\"]];\n});\nfunction SavingIndicator(props) {\n  var _useI18n = Object(cozy_ui_transpiled_react_providers_I18n__WEBPACK_IMPORTED_MODULE_9__[\"useI18n\"])(),\n    t = _useI18n.t;\n  var _useBreakpoints = Object(cozy_ui_transpiled_react_providers_Breakpoints__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(),\n    isMobile = _useBreakpoints.isMobile;\n  var now = new Date();\n\n  // collaboration state\n  var collabProvider = props.collabProvider;\n  var lastSave = collabProvider.getLastSaveOrSync();\n  var savedAge = now - (lastSave || now);\n  var isDirty = collabProvider.isDirty();\n  var dirtySince = collabProvider.getDirtySince();\n  var dirtyAge = now - dirtySince;\n\n  // trigger a rerender if collaboration state changes\n  Object(hooks_useCollabStateChange__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(collabProvider);\n\n  // Disconnected state\n  var isOutOfSync = checksOutOfSync({\n    isDirty: isDirty,\n    dirtyAge: dirtyAge\n  });\n  var _useDisconnection = useDisconnection({\n      isOutOfSync: isOutOfSync\n    }),\n    isDisconnected = _useDisconnection.isDisconnected,\n    disconnectedAge = _useDisconnection.disconnectedAge;\n\n  // should we open the offline indicator?\n  var offlineIndicatorOpen = useOpenOfflineIndicator({\n    isDisconnected: isDisconnected,\n    disconnectedAge: disconnectedAge\n  });\n\n  // display data\n  var age = isDisconnected ? disconnectedAge : isDirty ? dirtyAge : savedAge;\n  var _relativeAge = Object(lib_utils__WEBPACK_IMPORTED_MODULE_3__[\"relativeAge\"])(age),\n    key = _relativeAge.key,\n    time = _relativeAge.time,\n    interval = _relativeAge.interval;\n  Object(cozy_ui_transpiled_react_hooks_usePeriodicRender__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(interval);\n\n  // indicator message\n  var translation;\n  if (isDirty) {\n    if (isDisconnected) {\n      translation = \"saving_impossible.\".concat(key);\n    } else if (dirtyAge > 5 * sec) {\n      translation = 'still_saving';\n    } else {\n      translation = 'saving';\n    }\n  } else {\n    if (isDisconnected) {\n      translation = \"out_of_sync.\".concat(key);\n    } else {\n      translation = 'saved.default';\n    }\n  }\n  var message = t(\"Notes.SavingIndicator.\".concat(translation), {\n    time: time\n  });\n\n  // actual rendering\n  var text = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n    className: components_notes_saving_indicator_styl__WEBPACK_IMPORTED_MODULE_1___default.a['saving-indicator'],\n    variant: \"body1\"\n  }, message);\n  if (isDisconnected) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(components_notes_offline_indicator__WEBPACK_IMPORTED_MODULE_0__[\"default\"], {\n      open: offlineIndicatorOpen,\n      bannerRef: props.bannerRef\n    }, text);\n  } else {\n    if (isMobile) {\n      return null;\n    } else {\n      return text;\n    }\n  }\n}\n__signature__(SavingIndicator, \"useI18n{{ t }}\\nuseBreakpoints{{ isMobile }}\\nuseCollabStateChange{}\\nuseDisconnection{{ isDisconnected, disconnectedAge }}\\nuseOpenOfflineIndicator{offlineIndicatorOpen}\\nusePeriodicRender{}\", function () {\n  return [cozy_ui_transpiled_react_providers_I18n__WEBPACK_IMPORTED_MODULE_9__[\"useI18n\"], cozy_ui_transpiled_react_providers_Breakpoints__WEBPACK_IMPORTED_MODULE_8__[\"default\"], hooks_useCollabStateChange__WEBPACK_IMPORTED_MODULE_2__[\"default\"], useDisconnection, useOpenOfflineIndicator, cozy_ui_transpiled_react_hooks_usePeriodicRender__WEBPACK_IMPORTED_MODULE_7__[\"default\"]];\n});\nvar _default = SavingIndicator;\n/* harmony default export */ __webpack_exports__[\"default\"] = (_default);\n;\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n  if (!reactHotLoader) {\n    return;\n  }\n  reactHotLoader.register(sec, \"sec\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/notes/saving-indicator.jsx\");\n  reactHotLoader.register(keepOfflineOpenFor, \"keepOfflineOpenFor\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/notes/saving-indicator.jsx\");\n  reactHotLoader.register(outOfSyncAfter, \"outOfSyncAfter\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/notes/saving-indicator.jsx\");\n  reactHotLoader.register(checksOutOfSync, \"checksOutOfSync\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/notes/saving-indicator.jsx\");\n  reactHotLoader.register(useDisconnection, \"useDisconnection\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/notes/saving-indicator.jsx\");\n  reactHotLoader.register(useOpenOfflineIndicator, \"useOpenOfflineIndicator\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/notes/saving-indicator.jsx\");\n  reactHotLoader.register(SavingIndicator, \"SavingIndicator\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/notes/saving-indicator.jsx\");\n  reactHotLoader.register(_default, \"default\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/notes/saving-indicator.jsx\");\n})();\n;\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(\"./node_modules/webpack/buildin/harmony-module.js\")(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9ub3Rlcy9zYXZpbmctaW5kaWNhdG9yLmpzeC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL25vdGVzL3NhdmluZy1pbmRpY2F0b3IuanN4PzlkYjYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IE9mZmxpbmVJbmRpY2F0b3IgZnJvbSAnY29tcG9uZW50cy9ub3Rlcy9vZmZsaW5lLWluZGljYXRvcidcbmltcG9ydCBzdHlsZXMgZnJvbSAnY29tcG9uZW50cy9ub3Rlcy9zYXZpbmctaW5kaWNhdG9yLnN0eWwnXG5pbXBvcnQgdXNlQ29sbGFiU3RhdGVDaGFuZ2UgZnJvbSAnaG9va3MvdXNlQ29sbGFiU3RhdGVDaGFuZ2UnXG5pbXBvcnQgeyByZWxhdGl2ZUFnZSB9IGZyb20gJ2xpYi91dGlscydcbmltcG9ydCBSZWFjdCwgeyB1c2VNZW1vIH0gZnJvbSAncmVhY3QnXG5cbmltcG9ydCBUeXBvZ3JhcGh5IGZyb20gJ2NvenktdWkvdHJhbnNwaWxlZC9yZWFjdC9UeXBvZ3JhcGh5J1xuaW1wb3J0IHVzZUJyb3dzZXJPZmZsaW5lIGZyb20gJ2NvenktdWkvdHJhbnNwaWxlZC9yZWFjdC9ob29rcy91c2VCcm93c2VyT2ZmbGluZSdcbmltcG9ydCB1c2VQZXJpb2RpY1JlbmRlciBmcm9tICdjb3p5LXVpL3RyYW5zcGlsZWQvcmVhY3QvaG9va3MvdXNlUGVyaW9kaWNSZW5kZXInXG5pbXBvcnQgdXNlQnJlYWtwb2ludHMgZnJvbSAnY296eS11aS90cmFuc3BpbGVkL3JlYWN0L3Byb3ZpZGVycy9CcmVha3BvaW50cydcbmltcG9ydCB7IHVzZUkxOG4gfSBmcm9tICdjb3p5LXVpL3RyYW5zcGlsZWQvcmVhY3QvcHJvdmlkZXJzL0kxOG4nXG5cbi8vIGNvbnN0YW50c1xuY29uc3Qgc2VjID0gMTAwMFxuY29uc3Qga2VlcE9mZmxpbmVPcGVuRm9yID0gNSAqIHNlY1xuY29uc3Qgb3V0T2ZTeW5jQWZ0ZXIgPSAzMCAqIHNlY1xuXG4vKipcbiAqIEB0eXBlZGVmIHtvYmplY3R9IFNhdmluZ0luZGljYXRvclByb3BzXG4gKiBAcHJvcGVydHkge0NvbGxhYlByb3ZpZGVyRGF0ZX0gY29sbGFiUHJvdmlkZXJcbiAqIEBwcm9wZXJ0eSB7UmVmfSBiYW5uZXJSZWYgLSBXaGVyZSB0byBkaXNwbGF5IGJhbm5lcnNcbiAqL1xuXG4vKipcbiAqIENoZWNrcyBpZiB0aGUgc2VydmVyIGlzIG91dCBvZiBzeW5jXG4gKiAob3VyIGNoYW5nZXMgd2VyZSBub3Qgc3VjY2Vzc2Z1bGx5IHNlbnQgYW5kIGFjY2VwdGVkIGZvciB0b28gbXVjaCB0aW1lKVxuICogQHBhcmFtIHtvYmplY3R9IHBhcmFtc1xuICogQHBhcmFtIHtib29sZWFufSBwYXJhbXMuaXNEaXJ0eSAtIGlmIHRoZXJlIGFyZSBjaGFuZ2VzIHRvIGJlIHNlbnRcbiAqIEBwYXJhbSB7aW50ZWdlcn0gcGFyYW1zLmRpcnR5QWdlIC0gbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB3YWl0aW5nXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpdGggY2hhbmdlcyB0byBiZSBzZW50XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gY2hlY2tzT3V0T2ZTeW5jKHsgaXNEaXJ0eSwgZGlydHlBZ2UgfSkge1xuICByZXR1cm4gaXNEaXJ0eSAmJiBkaXJ0eUFnZSAmJiBkaXJ0eUFnZSA+IG91dE9mU3luY0FmdGVyXG59XG5cbi8qKlxuICogQ2hlY2tzIGZvciBkaXNjb25uZWN0aW9uIChicm93c2VyIG9mZmxpbmUgb3Igb3V0IG9mIHN5bmMpXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IHBhcmFtc1xuICogQHBhcmFtIHtib29sZWFufSBwYXJhbXMuaXNPdXRPZlN5bmNcbiAqIEByZXR1cm5zIHt7aXNEaXNjb25uZWN0ZWQsIGRpc2Nvbm5lY3RlZEFnZX19XG4gKi9cbmZ1bmN0aW9uIHVzZURpc2Nvbm5lY3Rpb24oeyBpc091dE9mU3luYyB9KSB7XG4gIGNvbnN0IG5vdyA9IG5ldyBEYXRlKClcbiAgY29uc3QgaXNCcm93c2VyT2ZmbGluZSA9IHVzZUJyb3dzZXJPZmZsaW5lKClcbiAgY29uc3QgaXNEaXNjb25uZWN0ZWQgPSBpc0Jyb3dzZXJPZmZsaW5lIHx8IGlzT3V0T2ZTeW5jXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICBjb25zdCBkaXNjb25uZWN0ZWRTaW5jZSA9IHVzZU1lbW8oKCkgPT4gbmV3IERhdGUoKSwgW2lzRGlzY29ubmVjdGVkXSlcbiAgY29uc3QgZGlzY29ubmVjdGVkQWdlID0gaXNEaXNjb25uZWN0ZWQgPyBub3cgLSBkaXNjb25uZWN0ZWRTaW5jZSA6IDBcbiAgcmV0dXJuIHsgaXNEaXNjb25uZWN0ZWQsIGRpc2Nvbm5lY3RlZEFnZSB9XG59XG5cbi8qKlxuICogU2hvdWxkIHdlIG9wZW4gdGhlIG9mZmxpbmUgaW5kaWNhdG9yIHRvb2x0aXA/XG4gKlxuICogV2Ugb3BlbiBpdCBmb3IgYSBmZXcgc2Vjb25kcyB3aGVuIHdlIGdvIG9mZmxpbmVcbiAqIHRoZW4gY2xvc2UgaXQgKGl0IGlzIHN0aWxsIGFjY2Vzc2libGUgd2hlbiBob3ZlcmluZyBvdmVyKVxuICogQHBhcmFtIHtvYmplY3R9IHBhcmFtc1xuICogQHBhcmFtIHtpbnRlZ2VyfSBwYXJhbXMuZGlzY29ubmVjdGVkQWdlIC0gbWlsbGlzZWNvbmRzIHNpbmNlIHdoZW4gd2UgYXJlIGRpc2Nvbm5lY3RlZFxuICogQHBhcmFtIHtib29sZWFufSBwYXJhbXMuaXNEaXNjb25uZWN0ZWRcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiB1c2VPcGVuT2ZmbGluZUluZGljYXRvcih7IGRpc2Nvbm5lY3RlZEFnZSwgaXNEaXNjb25uZWN0ZWQgfSkge1xuICBjb25zdCBpc09wZW4gPSBpc0Rpc2Nvbm5lY3RlZCAmJiBkaXNjb25uZWN0ZWRBZ2UgPCBrZWVwT2ZmbGluZU9wZW5Gb3JcblxuICAvLyBXaGVuIG9wZW4sIHJlcmVuZGVyIHdoZW4gdGhlIGluZGljYXRvciBzaG91bGQgY2xvc2UgYWdhaW5cbiAgY29uc3QgaW50ZXJ2YWwgPSBrZWVwT2ZmbGluZU9wZW5Gb3IgLSBkaXNjb25uZWN0ZWRBZ2VcbiAgdXNlUGVyaW9kaWNSZW5kZXIoaXNPcGVuICYmIGludGVydmFsKVxuXG4gIHJldHVybiBpc09wZW5cbn1cblxuLyoqXG4gKiBEaXNwbGF5cyBhIHNhdmluZyBpbmRpY2F0b3IgaW4gdGhlIGJvdHRvbSByaWdodFxuICogYW5kIGFuIG9mZmxpbmUgaW5kaWNhdG9yIGlmIG5lZWRlZFxuICpcbiAqIEBwYXJhbSB7U2F2aW5nSW5kaWNhdG9yUHJvcHN9IHByb3BzXG4gKi9cbmZ1bmN0aW9uIFNhdmluZ0luZGljYXRvcihwcm9wcykge1xuICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKVxuICBjb25zdCB7IGlzTW9iaWxlIH0gPSB1c2VCcmVha3BvaW50cygpXG4gIGNvbnN0IG5vdyA9IG5ldyBEYXRlKClcblxuICAvLyBjb2xsYWJvcmF0aW9uIHN0YXRlXG4gIGNvbnN0IHsgY29sbGFiUHJvdmlkZXIgfSA9IHByb3BzXG4gIGNvbnN0IGxhc3RTYXZlID0gY29sbGFiUHJvdmlkZXIuZ2V0TGFzdFNhdmVPclN5bmMoKVxuICBjb25zdCBzYXZlZEFnZSA9IG5vdyAtIChsYXN0U2F2ZSB8fCBub3cpXG4gIGNvbnN0IGlzRGlydHkgPSBjb2xsYWJQcm92aWRlci5pc0RpcnR5KClcbiAgY29uc3QgZGlydHlTaW5jZSA9IGNvbGxhYlByb3ZpZGVyLmdldERpcnR5U2luY2UoKVxuICBjb25zdCBkaXJ0eUFnZSA9IG5vdyAtIGRpcnR5U2luY2VcblxuICAvLyB0cmlnZ2VyIGEgcmVyZW5kZXIgaWYgY29sbGFib3JhdGlvbiBzdGF0ZSBjaGFuZ2VzXG4gIHVzZUNvbGxhYlN0YXRlQ2hhbmdlKGNvbGxhYlByb3ZpZGVyKVxuXG4gIC8vIERpc2Nvbm5lY3RlZCBzdGF0ZVxuICBjb25zdCBpc091dE9mU3luYyA9IGNoZWNrc091dE9mU3luYyh7IGlzRGlydHksIGRpcnR5QWdlIH0pXG4gIGNvbnN0IHsgaXNEaXNjb25uZWN0ZWQsIGRpc2Nvbm5lY3RlZEFnZSB9ID0gdXNlRGlzY29ubmVjdGlvbih7XG4gICAgaXNPdXRPZlN5bmNcbiAgfSlcblxuICAvLyBzaG91bGQgd2Ugb3BlbiB0aGUgb2ZmbGluZSBpbmRpY2F0b3I/XG4gIGNvbnN0IG9mZmxpbmVJbmRpY2F0b3JPcGVuID0gdXNlT3Blbk9mZmxpbmVJbmRpY2F0b3Ioe1xuICAgIGlzRGlzY29ubmVjdGVkLFxuICAgIGRpc2Nvbm5lY3RlZEFnZVxuICB9KVxuXG4gIC8vIGRpc3BsYXkgZGF0YVxuICBjb25zdCBhZ2UgPSBpc0Rpc2Nvbm5lY3RlZCA/IGRpc2Nvbm5lY3RlZEFnZSA6IGlzRGlydHkgPyBkaXJ0eUFnZSA6IHNhdmVkQWdlXG4gIGNvbnN0IHsga2V5LCB0aW1lLCBpbnRlcnZhbCB9ID0gcmVsYXRpdmVBZ2UoYWdlKVxuICB1c2VQZXJpb2RpY1JlbmRlcihpbnRlcnZhbClcblxuICAvLyBpbmRpY2F0b3IgbWVzc2FnZVxuICBsZXQgdHJhbnNsYXRpb25cbiAgaWYgKGlzRGlydHkpIHtcbiAgICBpZiAoaXNEaXNjb25uZWN0ZWQpIHtcbiAgICAgIHRyYW5zbGF0aW9uID0gYHNhdmluZ19pbXBvc3NpYmxlLiR7a2V5fWBcbiAgICB9IGVsc2UgaWYgKGRpcnR5QWdlID4gNSAqIHNlYykge1xuICAgICAgdHJhbnNsYXRpb24gPSAnc3RpbGxfc2F2aW5nJ1xuICAgIH0gZWxzZSB7XG4gICAgICB0cmFuc2xhdGlvbiA9ICdzYXZpbmcnXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChpc0Rpc2Nvbm5lY3RlZCkge1xuICAgICAgdHJhbnNsYXRpb24gPSBgb3V0X29mX3N5bmMuJHtrZXl9YFxuICAgIH0gZWxzZSB7XG4gICAgICB0cmFuc2xhdGlvbiA9ICdzYXZlZC5kZWZhdWx0J1xuICAgIH1cbiAgfVxuICBjb25zdCBtZXNzYWdlID0gdChgTm90ZXMuU2F2aW5nSW5kaWNhdG9yLiR7dHJhbnNsYXRpb259YCwgeyB0aW1lIH0pXG5cbiAgLy8gYWN0dWFsIHJlbmRlcmluZ1xuICBjb25zdCB0ZXh0ID0gKFxuICAgIDxUeXBvZ3JhcGh5IGNsYXNzTmFtZT17c3R5bGVzWydzYXZpbmctaW5kaWNhdG9yJ119IHZhcmlhbnQ9XCJib2R5MVwiPlxuICAgICAge21lc3NhZ2V9XG4gICAgPC9UeXBvZ3JhcGh5PlxuICApXG4gIGlmIChpc0Rpc2Nvbm5lY3RlZCkge1xuICAgIHJldHVybiAoXG4gICAgICA8T2ZmbGluZUluZGljYXRvciBvcGVuPXtvZmZsaW5lSW5kaWNhdG9yT3Blbn0gYmFubmVyUmVmPXtwcm9wcy5iYW5uZXJSZWZ9PlxuICAgICAgICB7dGV4dH1cbiAgICAgIDwvT2ZmbGluZUluZGljYXRvcj5cbiAgICApXG4gIH0gZWxzZSB7XG4gICAgaWYgKGlzTW9iaWxlKSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGV4dFxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTYXZpbmdJbmRpY2F0b3JcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVRBO0FBVkE7QUFFQTtBQWtCQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTEE7QUFWQTtBQUtBO0FBV0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBQUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBSUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQXZFQTtBQStCQTtBQUFBO0FBMENBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUEzSUE7QUFDQTtBQUNBO0FBaUJBO0FBV0E7QUFvQkE7QUFnQkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/notes/saving-indicator.jsx\n");

/***/ }),

/***/ "./src/components/notes/saving-indicator.styl":
/***/ (function(module, exports, __webpack_require__) {

eval("\nvar content = __webpack_require__(\"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/stylus-loader/index.js?!./src/components/notes/saving-indicator.styl\");\n\nif(typeof content === 'string') content = [[module.i, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = __webpack_require__(\"./node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(true) {\n\tmodule.hot.accept(\"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/stylus-loader/index.js?!./src/components/notes/saving-indicator.styl\", function() {\n\t\tvar newContent = __webpack_require__(\"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/stylus-loader/index.js?!./src/components/notes/saving-indicator.styl\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.i, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9ub3Rlcy9zYXZpbmctaW5kaWNhdG9yLnN0eWwuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9ub3Rlcy9zYXZpbmctaW5kaWNhdG9yLnN0eWw/NzA2MSJdLCJzb3VyY2VzQ29udGVudCI6WyJcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMTEtMSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvc3JjL2luZGV4LmpzPz9wb3N0Y3NzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsdXMtbG9hZGVyL2luZGV4LmpzPz9yZWYtLTExLTMhLi9zYXZpbmctaW5kaWNhdG9yLnN0eWxcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXG52YXIgdHJhbnNmb3JtO1xudmFyIGluc2VydEludG87XG5cblxuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG5vcHRpb25zLmluc2VydEludG8gPSB1bmRlZmluZWQ7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cbmlmKG1vZHVsZS5ob3QpIHtcblx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTExLTEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cG9zdGNzcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bHVzLWxvYWRlci9pbmRleC5qcz8/cmVmLS0xMS0zIS4vc2F2aW5nLWluZGljYXRvci5zdHlsXCIsIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMTEtMSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvc3JjL2luZGV4LmpzPz9wb3N0Y3NzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsdXMtbG9hZGVyL2luZGV4LmpzPz9yZWYtLTExLTMhLi9zYXZpbmctaW5kaWNhdG9yLnN0eWxcIik7XG5cblx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblxuXHRcdHZhciBsb2NhbHMgPSAoZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0dmFyIGtleSwgaWR4ID0gMDtcblxuXHRcdFx0Zm9yKGtleSBpbiBhKSB7XG5cdFx0XHRcdGlmKCFiIHx8IGFba2V5XSAhPT0gYltrZXldKSByZXR1cm4gZmFsc2U7XG5cdFx0XHRcdGlkeCsrO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3Ioa2V5IGluIGIpIGlkeC0tO1xuXG5cdFx0XHRyZXR1cm4gaWR4ID09PSAwO1xuXHRcdH0oY29udGVudC5sb2NhbHMsIG5ld0NvbnRlbnQubG9jYWxzKSk7XG5cblx0XHRpZighbG9jYWxzKSB0aHJvdyBuZXcgRXJyb3IoJ0Fib3J0aW5nIENTUyBITVIgZHVlIHRvIGNoYW5nZWQgY3NzLW1vZHVsZXMgbG9jYWxzLicpO1xuXG5cdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHR9KTtcblxuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn0iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/notes/saving-indicator.styl\n");

/***/ }),

/***/ "./src/components/notes/sharing.jsx":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SharingWidget\", function() { return SharingWidget; });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var constants_routes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./src/constants/routes.ts\");\n/* harmony import */ var constants_strings__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./src/constants/strings.ts\");\n/* harmony import */ var components_notes_sharing_styl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./src/components/notes/sharing.styl\");\n/* harmony import */ var components_notes_sharing_styl__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(components_notes_sharing_styl__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./node_modules/react-router-dom/dist/index.js\");\n/* harmony import */ var cozy_sharing__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./node_modules/cozy-sharing/dist/index.js\");\n\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal[\"default\"].signature : function (a) {\n  return a;\n};\n\n\n\n\n\n\nvar SharingWidget = function SharingWidget(_ref) {\n  var file = _ref.file,\n    title = _ref.title;\n  var handleClick = Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useCallback\"])(function () {}, []);\n  var location = Object(react_router_dom__WEBPACK_IMPORTED_MODULE_5__[\"useLocation\"])();\n  if (file) {\n    var _file$attributes;\n    var noteId = file.id;\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_5__[\"Link\"], {\n      to: constants_routes__WEBPACK_IMPORTED_MODULE_1__[\"AppRoutes\"].ShareFromList,\n      state: {\n        backgroundLocation: location,\n        shareModalProps: {\n          document: _objectSpread(_objectSpread({}, file), {}, {\n            name: title || (file === null || file === void 0 ? void 0 : (_file$attributes = file.attributes) === null || _file$attributes === void 0 ? void 0 : _file$attributes.name)\n          }),\n          documentType: constants_strings__WEBPACK_IMPORTED_MODULE_2__[\"DocumentTypes\"].Notes,\n          sharingDesc: title\n        }\n      },\n      style: {\n        textDecoration: 'none'\n      }\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(cozy_sharing__WEBPACK_IMPORTED_MODULE_6__[\"ShareButtonWithRecipients\"], {\n      theme: \"primary\",\n      docId: noteId,\n      onClick: handleClick,\n      extension: \"narrow\",\n      className: components_notes_sharing_styl__WEBPACK_IMPORTED_MODULE_3___default.a['sharing-button']\n    }));\n  }\n  return null;\n};\n__signature__(SharingWidget, \"useCallback{handleClick}\\nuseLocation{location}\", function () {\n  return [react_router_dom__WEBPACK_IMPORTED_MODULE_5__[\"useLocation\"]];\n});\nvar _default = SharingWidget;\n/* harmony default export */ __webpack_exports__[\"default\"] = (_default);\n;\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n  if (!reactHotLoader) {\n    return;\n  }\n  reactHotLoader.register(SharingWidget, \"SharingWidget\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/notes/sharing.jsx\");\n  reactHotLoader.register(_default, \"default\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/notes/sharing.jsx\");\n})();\n;\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(\"./node_modules/webpack/buildin/harmony-module.js\")(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9ub3Rlcy9zaGFyaW5nLmpzeC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL25vdGVzL3NoYXJpbmcuanN4PzVhNWMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVzIH0gZnJvbSAnY29uc3RhbnRzL3JvdXRlcydcbmltcG9ydCB7IERvY3VtZW50VHlwZXMgfSBmcm9tICdjb25zdGFudHMvc3RyaW5ncydcblxuaW1wb3J0IHN0eWxlcyBmcm9tICdjb21wb25lbnRzL25vdGVzL3NoYXJpbmcuc3R5bCdcbmltcG9ydCBSZWFjdCwgeyB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgTGluaywgdXNlTG9jYXRpb24gfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJ1xuXG5pbXBvcnQgeyBTaGFyZUJ1dHRvbldpdGhSZWNpcGllbnRzIH0gZnJvbSAnY296eS1zaGFyaW5nJ1xuXG5leHBvcnQgY29uc3QgU2hhcmluZ1dpZGdldCA9ICh7IGZpbGUsIHRpdGxlIH0pID0+IHtcbiAgY29uc3QgaGFuZGxlQ2xpY2sgPSB1c2VDYWxsYmFjaygoKSA9PiB7fSwgW10pXG4gIGNvbnN0IGxvY2F0aW9uID0gdXNlTG9jYXRpb24oKVxuXG4gIGlmIChmaWxlKSB7XG4gICAgY29uc3QgeyBpZDogbm90ZUlkIH0gPSBmaWxlXG5cbiAgICByZXR1cm4gKFxuICAgICAgPExpbmtcbiAgICAgICAgdG89e0FwcFJvdXRlcy5TaGFyZUZyb21MaXN0fVxuICAgICAgICBzdGF0ZT17e1xuICAgICAgICAgIGJhY2tncm91bmRMb2NhdGlvbjogbG9jYXRpb24sXG4gICAgICAgICAgc2hhcmVNb2RhbFByb3BzOiB7XG4gICAgICAgICAgICBkb2N1bWVudDoge1xuICAgICAgICAgICAgICAuLi5maWxlLFxuICAgICAgICAgICAgICBuYW1lOiB0aXRsZSB8fCBmaWxlPy5hdHRyaWJ1dGVzPy5uYW1lXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZG9jdW1lbnRUeXBlOiBEb2N1bWVudFR5cGVzLk5vdGVzLFxuICAgICAgICAgICAgc2hhcmluZ0Rlc2M6IHRpdGxlXG4gICAgICAgICAgfVxuICAgICAgICB9fVxuICAgICAgICBzdHlsZT17eyB0ZXh0RGVjb3JhdGlvbjogJ25vbmUnIH19XG4gICAgICA+XG4gICAgICAgIDxTaGFyZUJ1dHRvbldpdGhSZWNpcGllbnRzXG4gICAgICAgICAgdGhlbWU9XCJwcmltYXJ5XCJcbiAgICAgICAgICBkb2NJZD17bm90ZUlkfVxuICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUNsaWNrfVxuICAgICAgICAgIGV4dGVuc2lvbj1cIm5hcnJvd1wiXG4gICAgICAgICAgY2xhc3NOYW1lPXtzdHlsZXNbJ3NoYXJpbmctYnV0dG9uJ119XG4gICAgICAgIC8+XG4gICAgICA8L0xpbms+XG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIG51bGxcbn1cblxuZXhwb3J0IGRlZmF1bHQgU2hhcmluZ1dpZGdldFxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBSUE7QUFFQTtBQUNBO0FBQUE7QUFuQ0E7QUFFQTtBQUFBO0FBbUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFyQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/notes/sharing.jsx\n");

/***/ }),

/***/ "./src/components/notes/sharing.styl":
/***/ (function(module, exports, __webpack_require__) {

eval("\nvar content = __webpack_require__(\"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/stylus-loader/index.js?!./src/components/notes/sharing.styl\");\n\nif(typeof content === 'string') content = [[module.i, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = __webpack_require__(\"./node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(true) {\n\tmodule.hot.accept(\"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/stylus-loader/index.js?!./src/components/notes/sharing.styl\", function() {\n\t\tvar newContent = __webpack_require__(\"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/stylus-loader/index.js?!./src/components/notes/sharing.styl\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.i, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9ub3Rlcy9zaGFyaW5nLnN0eWwuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9ub3Rlcy9zaGFyaW5nLnN0eWw/ZjlmMiJdLCJzb3VyY2VzQ29udGVudCI6WyJcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMTEtMSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvc3JjL2luZGV4LmpzPz9wb3N0Y3NzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsdXMtbG9hZGVyL2luZGV4LmpzPz9yZWYtLTExLTMhLi9zaGFyaW5nLnN0eWxcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXG52YXIgdHJhbnNmb3JtO1xudmFyIGluc2VydEludG87XG5cblxuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG5vcHRpb25zLmluc2VydEludG8gPSB1bmRlZmluZWQ7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cbmlmKG1vZHVsZS5ob3QpIHtcblx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTExLTEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cG9zdGNzcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bHVzLWxvYWRlci9pbmRleC5qcz8/cmVmLS0xMS0zIS4vc2hhcmluZy5zdHlsXCIsIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMTEtMSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvc3JjL2luZGV4LmpzPz9wb3N0Y3NzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsdXMtbG9hZGVyL2luZGV4LmpzPz9yZWYtLTExLTMhLi9zaGFyaW5nLnN0eWxcIik7XG5cblx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblxuXHRcdHZhciBsb2NhbHMgPSAoZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0dmFyIGtleSwgaWR4ID0gMDtcblxuXHRcdFx0Zm9yKGtleSBpbiBhKSB7XG5cdFx0XHRcdGlmKCFiIHx8IGFba2V5XSAhPT0gYltrZXldKSByZXR1cm4gZmFsc2U7XG5cdFx0XHRcdGlkeCsrO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3Ioa2V5IGluIGIpIGlkeC0tO1xuXG5cdFx0XHRyZXR1cm4gaWR4ID09PSAwO1xuXHRcdH0oY29udGVudC5sb2NhbHMsIG5ld0NvbnRlbnQubG9jYWxzKSk7XG5cblx0XHRpZighbG9jYWxzKSB0aHJvdyBuZXcgRXJyb3IoJ0Fib3J0aW5nIENTUyBITVIgZHVlIHRvIGNoYW5nZWQgY3NzLW1vZHVsZXMgbG9jYWxzLicpO1xuXG5cdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHR9KTtcblxuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn0iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/notes/sharing.styl\n");

/***/ }),

/***/ "./src/components/notes/unshared.jsx":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_providers_I18n__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/providers/I18n/index.js\");\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal[\"default\"].signature : function (a) {\n  return a;\n};\n\n\n\nvar Unshared = Object(cozy_ui_transpiled_react_providers_I18n__WEBPACK_IMPORTED_MODULE_2__[\"translate\"])()(function (_ref) {\n  var t = _ref.t;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_1__[\"Empty\"], {\n    icon: \"unlink\",\n    title: t(\"Error.unshared_title\"),\n    text: t(\"Error.unshared_text\")\n  });\n});\nvar _default = Unshared;\n/* harmony default export */ __webpack_exports__[\"default\"] = (_default);\n;\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n  if (!reactHotLoader) {\n    return;\n  }\n  reactHotLoader.register(Unshared, \"Unshared\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/notes/unshared.jsx\");\n  reactHotLoader.register(_default, \"default\", \"/home/paul/dev/cozy/apps/cozy-notes/src/components/notes/unshared.jsx\");\n})();\n;\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(\"./node_modules/webpack/buildin/harmony-module.js\")(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9ub3Rlcy91bnNoYXJlZC5qc3guanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9ub3Rlcy91bnNoYXJlZC5qc3g/NGVkYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5cbmltcG9ydCB7IEVtcHR5IH0gZnJvbSAnY296eS11aS90cmFuc3BpbGVkL3JlYWN0J1xuaW1wb3J0IHsgdHJhbnNsYXRlIH0gZnJvbSAnY296eS11aS90cmFuc3BpbGVkL3JlYWN0L3Byb3ZpZGVycy9JMThuJ1xuXG5jb25zdCBVbnNoYXJlZCA9IHRyYW5zbGF0ZSgpKCh7IHQgfSkgPT4gKFxuICA8RW1wdHlcbiAgICBpY29uPVwidW5saW5rXCJcbiAgICB0aXRsZT17dChgRXJyb3IudW5zaGFyZWRfdGl0bGVgKX1cbiAgICB0ZXh0PXt0KGBFcnJvci51bnNoYXJlZF90ZXh0YCl9XG4gIC8+XG4pKVxuXG5leHBvcnQgZGVmYXVsdCBVbnNoYXJlZFxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQTtBQUVBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBUkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/notes/unshared.jsx\n");

/***/ }),

/***/ "./src/config/cozy-media-options.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"cozyMediaOptions\", function() { return cozyMediaOptions; });\nvar cozyMediaOptions = {\n  allowResizing: true,\n  allowAdvancedToolBarOptions: true,\n  allowResizingInTables: false,\n  allowAnnotation: true,\n  UNSAFE_allowImageCaptions: true\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29uZmlnL2NvenktbWVkaWEtb3B0aW9ucy50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb25maWcvY296eS1tZWRpYS1vcHRpb25zLnRzP2U4ZDgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTWVkaWFPcHRpb25zIH0gZnJvbSAnQGF0bGFza2l0L2VkaXRvci1jb3JlJ1xuXG5leHBvcnQgY29uc3QgY296eU1lZGlhT3B0aW9uczogTWVkaWFPcHRpb25zID0ge1xuICBhbGxvd1Jlc2l6aW5nOiB0cnVlLFxuICBhbGxvd0FkdmFuY2VkVG9vbEJhck9wdGlvbnM6IHRydWUsXG4gIGFsbG93UmVzaXppbmdJblRhYmxlczogZmFsc2UsXG4gIGFsbG93QW5ub3RhdGlvbjogdHJ1ZSxcbiAgVU5TQUZFX2FsbG93SW1hZ2VDYXB0aW9uczogdHJ1ZVxufVxuIl0sIm1hcHBpbmdzIjoiQUFFQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/config/cozy-media-options.ts\n");

/***/ }),

/***/ "./src/constants/interface.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TOASTER_DURATION\", function() { return TOASTER_DURATION; });\nvar TOASTER_DURATION = 4000;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29uc3RhbnRzL2ludGVyZmFjZS50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb25zdGFudHMvaW50ZXJmYWNlLnRzP2FkZTEiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IFRPQVNURVJfRFVSQVRJT04gPSA0MDAwXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/constants/interface.ts\n");

/***/ }),

/***/ "./src/constants/media.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DEFAULT_IMAGE_WIDTH\", function() { return DEFAULT_IMAGE_WIDTH; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DEFAULT_IMAGE_HEIGHT\", function() { return DEFAULT_IMAGE_HEIGHT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DEFAULT_LINE_LENGTH\", function() { return DEFAULT_LINE_LENGTH; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DEFAULT_PCT_WIDTH\", function() { return DEFAULT_PCT_WIDTH; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SNAP_POINTS\", function() { return SNAP_POINTS; });\nvar DEFAULT_IMAGE_WIDTH = 250;\nvar DEFAULT_IMAGE_HEIGHT = DEFAULT_IMAGE_WIDTH * 0.75;\nvar DEFAULT_LINE_LENGTH = 768;\nvar DEFAULT_PCT_WIDTH = DEFAULT_IMAGE_WIDTH / DEFAULT_LINE_LENGTH * 100;\nvar SNAP_POINTS = [DEFAULT_IMAGE_WIDTH, DEFAULT_LINE_LENGTH * 0.5, DEFAULT_LINE_LENGTH * 0.75, DEFAULT_LINE_LENGTH];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29uc3RhbnRzL21lZGlhLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnN0YW50cy9tZWRpYS50cz80NzgzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBERUZBVUxUX0lNQUdFX1dJRFRIID0gMjUwXG5cbmV4cG9ydCBjb25zdCBERUZBVUxUX0lNQUdFX0hFSUdIVCA9IERFRkFVTFRfSU1BR0VfV0lEVEggKiAwLjc1XG5cbmV4cG9ydCBjb25zdCBERUZBVUxUX0xJTkVfTEVOR1RIID0gNzY4XG5cbmV4cG9ydCBjb25zdCBERUZBVUxUX1BDVF9XSURUSCA9XG4gIChERUZBVUxUX0lNQUdFX1dJRFRIIC8gREVGQVVMVF9MSU5FX0xFTkdUSCkgKiAxMDBcblxuZXhwb3J0IGNvbnN0IFNOQVBfUE9JTlRTID0gW1xuICBERUZBVUxUX0lNQUdFX1dJRFRILFxuICBERUZBVUxUX0xJTkVfTEVOR1RIICogMC41LFxuICBERUZBVUxUX0xJTkVfTEVOR1RIICogMC43NSxcbiAgREVGQVVMVF9MSU5FX0xFTkdUSFxuXVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBRUE7QUFFQTtBQUdBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/constants/media.ts\n");

/***/ }),

/***/ "./src/constants/routes.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AppRoutes\", function() { return AppRoutes; });\nvar AppRoutes;\n(function (AppRoutes) {\n  AppRoutes[\"New\"] = \"new\";\n  AppRoutes[\"Editor\"] = \"n/:id\";\n  AppRoutes[\"Root\"] = \"/\";\n  AppRoutes[\"ShareFromEditor\"] = \"n/:id/share\";\n  AppRoutes[\"ShareFromList\"] = \"share\";\n})(AppRoutes || (AppRoutes = {}));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29uc3RhbnRzL3JvdXRlcy50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb25zdGFudHMvcm91dGVzLnRzP2VjZjMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGVudW0gQXBwUm91dGVzIHtcbiAgTmV3ID0gJ25ldycsXG4gIEVkaXRvciA9ICduLzppZCcsXG4gIFJvb3QgPSAnLycsXG4gIFNoYXJlRnJvbUVkaXRvciA9ICduLzppZCcgKyAnL3NoYXJlJyxcbiAgU2hhcmVGcm9tTGlzdCA9ICdzaGFyZSdcbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBTUE7QUFOQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/constants/routes.ts\n");

/***/ }),

/***/ "./src/constants/strings.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Errors\", function() { return Errors; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ElementType\", function() { return ElementType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"InputType\", function() { return InputType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EventType\", function() { return EventType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RealTimeEvent\", function() { return RealTimeEvent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CozyDoctypes\", function() { return CozyDoctypes; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Slugs\", function() { return Slugs; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SHARING_LOCATION\", function() { return SHARING_LOCATION; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DocumentTypes\", function() { return DocumentTypes; });\nvar Errors;\n(function (Errors) {\n  Errors[\"NoFileFoundAfterInput\"] = \"No File was detected during the upload procedure.\";\n  Errors[\"FileNotProcessable\"] = \"Could not process the uploaded image.\";\n  Errors[\"CouldNotFindFileInCurrentNote\"] = \"Could not find file in current note.\";\n  Errors[\"MissingCollabEdit\"] = \"`CollabEditProvider` was `undefined` in `fetchCozyImage`. <Media> was unable to fetch the image source. The component might be unmounted.\";\n  Errors[\"CouldNotGetNoteImages\"] = \"MediaNode failed to fetch included files in the current note\";\n  Errors[\"CouldNotCopyImage\"] = \"Could not copy image from another note\";\n})(Errors || (Errors = {}));\nvar ElementType;\n(function (ElementType) {\n  ElementType[\"Input\"] = \"input\";\n})(ElementType || (ElementType = {}));\nvar InputType;\n(function (InputType) {\n  InputType[\"File\"] = \"file\";\n})(InputType || (InputType = {}));\nvar EventType;\n(function (EventType) {\n  EventType[\"Click\"] = \"click\";\n  EventType[\"Change\"] = \"change\";\n  EventType[\"Drop\"] = \"drop\";\n  EventType[\"Paste\"] = \"paste\";\n})(EventType || (EventType = {}));\nvar RealTimeEvent;\n(function (RealTimeEvent) {\n  RealTimeEvent[\"Created\"] = \"CREATED\";\n  RealTimeEvent[\"Updated\"] = \"UPDATED\";\n})(RealTimeEvent || (RealTimeEvent = {}));\nvar CozyDoctypes;\n(function (CozyDoctypes) {\n  CozyDoctypes[\"Files\"] = \"io.cozy.files\";\n  CozyDoctypes[\"NoteEvents\"] = \"io.cozy.notes.events\";\n  CozyDoctypes[\"Thumbnails\"] = \"io.cozy.files.thumbnails\";\n})(CozyDoctypes || (CozyDoctypes = {}));\nvar Slugs;\n(function (Slugs) {\n  Slugs[\"Drive\"] = \"drive\";\n  Slugs[\"Home\"] = \"home\";\n  Slugs[\"Notes\"] = \"notes\";\n})(Slugs || (Slugs = {}));\nvar SHARING_LOCATION = '/preview/';\nvar DocumentTypes;\n(function (DocumentTypes) {\n  DocumentTypes[\"Files\"] = \"Files\";\n  DocumentTypes[\"Notes\"] = \"Notes\";\n})(DocumentTypes || (DocumentTypes = {}));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29uc3RhbnRzL3N0cmluZ3MudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29uc3RhbnRzL3N0cmluZ3MudHM/ZTJmNSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZW51bSBFcnJvcnMge1xuICBOb0ZpbGVGb3VuZEFmdGVySW5wdXQgPSAnTm8gRmlsZSB3YXMgZGV0ZWN0ZWQgZHVyaW5nIHRoZSB1cGxvYWQgcHJvY2VkdXJlLicsXG4gIEZpbGVOb3RQcm9jZXNzYWJsZSA9ICdDb3VsZCBub3QgcHJvY2VzcyB0aGUgdXBsb2FkZWQgaW1hZ2UuJyxcbiAgQ291bGROb3RGaW5kRmlsZUluQ3VycmVudE5vdGUgPSAnQ291bGQgbm90IGZpbmQgZmlsZSBpbiBjdXJyZW50IG5vdGUuJyxcbiAgTWlzc2luZ0NvbGxhYkVkaXQgPSAnYENvbGxhYkVkaXRQcm92aWRlcmAgd2FzIGB1bmRlZmluZWRgIGluIGBmZXRjaENvenlJbWFnZWAuIDxNZWRpYT4gd2FzIHVuYWJsZSB0byBmZXRjaCB0aGUgaW1hZ2Ugc291cmNlLiBUaGUgY29tcG9uZW50IG1pZ2h0IGJlIHVubW91bnRlZC4nLFxuICBDb3VsZE5vdEdldE5vdGVJbWFnZXMgPSAnTWVkaWFOb2RlIGZhaWxlZCB0byBmZXRjaCBpbmNsdWRlZCBmaWxlcyBpbiB0aGUgY3VycmVudCBub3RlJyxcbiAgQ291bGROb3RDb3B5SW1hZ2UgPSAnQ291bGQgbm90IGNvcHkgaW1hZ2UgZnJvbSBhbm90aGVyIG5vdGUnXG59XG5cbmV4cG9ydCBlbnVtIEVsZW1lbnRUeXBlIHtcbiAgSW5wdXQgPSAnaW5wdXQnXG59XG5cbmV4cG9ydCBlbnVtIElucHV0VHlwZSB7XG4gIEZpbGUgPSAnZmlsZSdcbn1cblxuZXhwb3J0IGVudW0gRXZlbnRUeXBlIHtcbiAgQ2xpY2sgPSAnY2xpY2snLFxuICBDaGFuZ2UgPSAnY2hhbmdlJyxcbiAgRHJvcCA9ICdkcm9wJyxcbiAgUGFzdGUgPSAncGFzdGUnXG59XG5cbmV4cG9ydCBlbnVtIFJlYWxUaW1lRXZlbnQge1xuICBDcmVhdGVkID0gJ0NSRUFURUQnLFxuICBVcGRhdGVkID0gJ1VQREFURUQnXG59XG5cbmV4cG9ydCBlbnVtIENvenlEb2N0eXBlcyB7XG4gIEZpbGVzID0gJ2lvLmNvenkuZmlsZXMnLFxuICBOb3RlRXZlbnRzID0gJ2lvLmNvenkubm90ZXMuZXZlbnRzJyxcbiAgVGh1bWJuYWlscyA9ICdpby5jb3p5LmZpbGVzLnRodW1ibmFpbHMnXG59XG5cbmV4cG9ydCBlbnVtIFNsdWdzIHtcbiAgRHJpdmUgPSAnZHJpdmUnLFxuICBIb21lID0gJ2hvbWUnLFxuICBOb3RlcyA9ICdub3Rlcydcbn1cblxuZXhwb3J0IGNvbnN0IFNIQVJJTkdfTE9DQVRJT04gPSAnL3ByZXZpZXcvJ1xuXG5leHBvcnQgZW51bSBEb2N1bWVudFR5cGVzIHtcbiAgRmlsZXMgPSAnRmlsZXMnLFxuICBOb3RlcyA9ICdOb3Rlcydcbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQU9BO0FBUEE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFTQTtBQUVBO0FBRkE7QUFBQTtBQUlBO0FBRUE7QUFGQTtBQUFBO0FBSUE7QUFLQTtBQUxBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFPQTtBQUdBO0FBSEE7QUFBQTtBQUFBO0FBS0E7QUFJQTtBQUpBO0FBQUE7QUFBQTtBQUFBO0FBTUE7QUFJQTtBQUpBO0FBQUE7QUFBQTtBQUFBO0FBTUE7QUFFQTtBQUdBO0FBSEE7QUFBQTtBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/constants/strings.ts\n");

/***/ }),

/***/ "./src/hooks/useCollabProvider.jsx":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony import */ var lib_collab_provider__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./src/lib/collab/provider.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal[\"default\"].signature : function (a) {\n  return a;\n};\n\n\n\n/**\n * @typedef {object} useCollabProviderParams\n * @property {integer|undefined} doc - current version of the doc\n * @property {string} noteId - uuid of the io.cozy.files for the note\n * @property {ServiceClient|undefined} serviceClient - ServiceClient instance\n */\n\n/**\n * Initialize a CollabProvider\n *\n * @param {useCollabProviderParams} params\n * @returns {CollabProvider|undefined}\n */\nfunction useCollabProvider(_ref) {\n  var doc = _ref.doc,\n    noteId = _ref.noteId,\n    serviceClient = _ref.serviceClient;\n  return Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useMemo\"])(function () {\n    var version = doc && doc.version;\n    var updatedAt = doc && doc.updatedAt;\n    if (serviceClient && doc !== undefined) {\n      var provider = new lib_collab_provider__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\n        version: version,\n        noteId: noteId,\n        updatedAt: updatedAt\n      }, serviceClient);\n      return provider;\n    }\n  }, [noteId, doc, serviceClient]);\n}\n__signature__(useCollabProvider, \"useMemo{}\");\nvar _default = useCollabProvider;\n/* harmony default export */ __webpack_exports__[\"default\"] = (_default);\n;\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n  if (!reactHotLoader) {\n    return;\n  }\n  reactHotLoader.register(useCollabProvider, \"useCollabProvider\", \"/home/paul/dev/cozy/apps/cozy-notes/src/hooks/useCollabProvider.jsx\");\n  reactHotLoader.register(_default, \"default\", \"/home/paul/dev/cozy/apps/cozy-notes/src/hooks/useCollabProvider.jsx\");\n})();\n;\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(\"./node_modules/webpack/buildin/harmony-module.js\")(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaG9va3MvdXNlQ29sbGFiUHJvdmlkZXIuanN4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2hvb2tzL3VzZUNvbGxhYlByb3ZpZGVyLmpzeD81ZDA0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBDb2xsYWJQcm92aWRlciBmcm9tICdsaWIvY29sbGFiL3Byb3ZpZGVyJ1xuaW1wb3J0IHsgdXNlTWVtbyB9IGZyb20gJ3JlYWN0J1xuXG4vKipcbiAqIEB0eXBlZGVmIHtvYmplY3R9IHVzZUNvbGxhYlByb3ZpZGVyUGFyYW1zXG4gKiBAcHJvcGVydHkge2ludGVnZXJ8dW5kZWZpbmVkfSBkb2MgLSBjdXJyZW50IHZlcnNpb24gb2YgdGhlIGRvY1xuICogQHByb3BlcnR5IHtzdHJpbmd9IG5vdGVJZCAtIHV1aWQgb2YgdGhlIGlvLmNvenkuZmlsZXMgZm9yIHRoZSBub3RlXG4gKiBAcHJvcGVydHkge1NlcnZpY2VDbGllbnR8dW5kZWZpbmVkfSBzZXJ2aWNlQ2xpZW50IC0gU2VydmljZUNsaWVudCBpbnN0YW5jZVxuICovXG5cbi8qKlxuICogSW5pdGlhbGl6ZSBhIENvbGxhYlByb3ZpZGVyXG4gKlxuICogQHBhcmFtIHt1c2VDb2xsYWJQcm92aWRlclBhcmFtc30gcGFyYW1zXG4gKiBAcmV0dXJucyB7Q29sbGFiUHJvdmlkZXJ8dW5kZWZpbmVkfVxuICovXG5mdW5jdGlvbiB1c2VDb2xsYWJQcm92aWRlcih7IGRvYywgbm90ZUlkLCBzZXJ2aWNlQ2xpZW50IH0pIHtcbiAgcmV0dXJuIHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IHZlcnNpb24gPSBkb2MgJiYgZG9jLnZlcnNpb25cbiAgICBjb25zdCB1cGRhdGVkQXQgPSBkb2MgJiYgZG9jLnVwZGF0ZWRBdFxuICAgIGlmIChzZXJ2aWNlQ2xpZW50ICYmIGRvYyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zdCBwcm92aWRlciA9IG5ldyBDb2xsYWJQcm92aWRlcihcbiAgICAgICAgeyB2ZXJzaW9uLCBub3RlSWQsIHVwZGF0ZWRBdCB9LFxuICAgICAgICBzZXJ2aWNlQ2xpZW50XG4gICAgICApXG4gICAgICByZXR1cm4gcHJvdmlkZXJcbiAgICB9XG4gIH0sIFtub3RlSWQsIGRvYywgc2VydmljZUNsaWVudF0pXG59XG5cbmV4cG9ydCBkZWZhdWx0IHVzZUNvbGxhYlByb3ZpZGVyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFaQTtBQWNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFkQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/hooks/useCollabProvider.jsx\n");

/***/ }),

/***/ "./src/hooks/useCollabStateChange.jsx":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return useCollabStateChange; });\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/slicedToArray.js\");\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var lodash_throttle__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/lodash/throttle.js\");\n/* harmony import */ var lodash_throttle__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_throttle__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal[\"default\"].signature : function (a) {\n  return a;\n};\n\n\nvar throttleValue = 200; // milliseconds\n\n/**\n * Reacts to change in the collaboration state of a collaboration provider\n * @param {CollabProvider} collabProvider\n */\nfunction useCollabStateChange(collabProvider) {\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useState\"])(null),\n    _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState, 2),\n    setCollabStateChange = _useState2[1];\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  var onCollabStateChange = Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useCallback\"])(lodash_throttle__WEBPACK_IMPORTED_MODULE_1___default()(function () {\n    return setCollabStateChange(new Date());\n  }, throttleValue), [setCollabStateChange]);\n  Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useEffect\"])(function () {\n    collabProvider.on('collab-state-change', onCollabStateChange);\n    return function () {\n      return collabProvider.off('collab-state-change', onCollabStateChange);\n    };\n  }, [collabProvider, onCollabStateChange]);\n}\n__signature__(useCollabStateChange, \"useState{[, setCollabStateChange](null)}\\nuseCallback{onCollabStateChange}\\nuseEffect{}\");\n;\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n  if (!reactHotLoader) {\n    return;\n  }\n  reactHotLoader.register(throttleValue, \"throttleValue\", \"/home/paul/dev/cozy/apps/cozy-notes/src/hooks/useCollabStateChange.jsx\");\n  reactHotLoader.register(useCollabStateChange, \"useCollabStateChange\", \"/home/paul/dev/cozy/apps/cozy-notes/src/hooks/useCollabStateChange.jsx\");\n})();\n;\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(\"./node_modules/webpack/buildin/harmony-module.js\")(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaG9va3MvdXNlQ29sbGFiU3RhdGVDaGFuZ2UuanN4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2hvb2tzL3VzZUNvbGxhYlN0YXRlQ2hhbmdlLmpzeD8wYTI4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0aHJvdHRsZSBmcm9tICdsb2Rhc2gvdGhyb3R0bGUnXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0J1xuXG5jb25zdCB0aHJvdHRsZVZhbHVlID0gMjAwIC8vIG1pbGxpc2Vjb25kc1xuXG4vKipcbiAqIFJlYWN0cyB0byBjaGFuZ2UgaW4gdGhlIGNvbGxhYm9yYXRpb24gc3RhdGUgb2YgYSBjb2xsYWJvcmF0aW9uIHByb3ZpZGVyXG4gKiBAcGFyYW0ge0NvbGxhYlByb3ZpZGVyfSBjb2xsYWJQcm92aWRlclxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1c2VDb2xsYWJTdGF0ZUNoYW5nZShjb2xsYWJQcm92aWRlcikge1xuICBjb25zdCBbLCBzZXRDb2xsYWJTdGF0ZUNoYW5nZV0gPSB1c2VTdGF0ZShudWxsKVxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gIGNvbnN0IG9uQ29sbGFiU3RhdGVDaGFuZ2UgPSB1c2VDYWxsYmFjayhcbiAgICB0aHJvdHRsZSgoKSA9PiBzZXRDb2xsYWJTdGF0ZUNoYW5nZShuZXcgRGF0ZSgpKSwgdGhyb3R0bGVWYWx1ZSksXG4gICAgW3NldENvbGxhYlN0YXRlQ2hhbmdlXVxuICApXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29sbGFiUHJvdmlkZXIub24oJ2NvbGxhYi1zdGF0ZS1jaGFuZ2UnLCBvbkNvbGxhYlN0YXRlQ2hhbmdlKVxuICAgIHJldHVybiAoKSA9PiBjb2xsYWJQcm92aWRlci5vZmYoJ2NvbGxhYi1zdGF0ZS1jaGFuZ2UnLCBvbkNvbGxhYlN0YXRlQ2hhbmdlKVxuICB9LCBbY29sbGFiUHJvdmlkZXIsIG9uQ29sbGFiU3RhdGVDaGFuZ2VdKVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBWEE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFOQTtBQU1BO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/hooks/useCollabStateChange.jsx\n");

/***/ }),

/***/ "./src/hooks/useFetchIcons.tsx":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"useFetchIcons\", function() { return useFetchIcons; });\n/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/cozy-client/dist/index.js\");\n/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_0__);\n/* eslint-disable @typescript-eslint/restrict-template-expressions */\n/* eslint-disable @typescript-eslint/no-unsafe-member-access */\n\nvar useFetchIcons = function useFetchIcons() {\n  var client = Object(cozy_client__WEBPACK_IMPORTED_MODULE_0__[\"useClient\"])();\n  return {\n    fetchHomeIcon: function fetchHomeIcon() {\n      return \"\".concat(client.options.uri, \"/assets/images/icon-cozy-home.svg\");\n    },\n    fetchNoteIcon: function fetchNoteIcon() {\n      return \"/public/\".concat(client.instanceOptions.app.icon);\n    }\n  };\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaG9va3MvdXNlRmV0Y2hJY29ucy50c3guanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvaG9va3MvdXNlRmV0Y2hJY29ucy50c3g/ZTNkZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvcmVzdHJpY3QtdGVtcGxhdGUtZXhwcmVzc2lvbnMgKi9cbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtbWVtYmVyLWFjY2VzcyAqL1xuaW1wb3J0IHsgdXNlQ2xpZW50IH0gZnJvbSAnY296eS1jbGllbnQnXG5cbmV4cG9ydCBjb25zdCB1c2VGZXRjaEljb25zID0gKCk6IHtcbiAgZmV0Y2hIb21lSWNvbjogKCkgPT4gc3RyaW5nXG4gIGZldGNoTm90ZUljb246ICgpID0+IHN0cmluZ1xufSA9PiB7XG4gIGNvbnN0IGNsaWVudCA9IHVzZUNsaWVudCgpXG5cbiAgcmV0dXJuIHtcbiAgICBmZXRjaEhvbWVJY29uOiAoKTogc3RyaW5nID0+XG4gICAgICBgJHtjbGllbnQub3B0aW9ucy51cml9L2Fzc2V0cy9pbWFnZXMvaWNvbi1jb3p5LWhvbWUuc3ZnYCxcbiAgICBmZXRjaE5vdGVJY29uOiAoKTogc3RyaW5nID0+XG4gICAgICBgL3B1YmxpYy8ke1xuICAgICAgICAoY2xpZW50Lmluc3RhbmNlT3B0aW9ucyBhcyB7IGFwcDogeyBpY29uOiBzdHJpbmcgfSB9KS5hcHAuaWNvblxuICAgICAgfWBcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBSUE7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUVBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/hooks/useFetchIcons.tsx\n");

/***/ }),

/***/ "./src/hooks/useFixedToBottomOnIos.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"useFixedToBottomOnIOS\", function() { return useFixedToBottomOnIOS; });\n/* harmony import */ var lib_patches_fixedToBottomIos__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./src/lib/patches/fixedToBottomIos.ts\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\n\n\n/**\n * Custom hook that fixes an element to the bottom of the screen on iOS devices.\n * Listens for the specified element and ensures it's fixed to the viewport bottom.\n * Only activated on iOS devices.\n */\nvar useFixedToBottomOnIOS = function useFixedToBottomOnIOS() {\n  Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useEffect\"])(function () {\n    // Only proceed if on iOS devices\n    if (!/iPhone|iPad|iPod/.test(window.navigator.userAgent)) return;\n    var observer;\n\n    // Check if the element is already present and set up positions, in practice it's unlikely to be present on initial render\n    // If not present, set up a mutation observer to handle future additions\n    var existingElement = document.querySelector(lib_patches_fixedToBottomIos__WEBPACK_IMPORTED_MODULE_0__[\"TOOLBAR_SELECTOR\"]);\n    if (existingElement) {\n      Object(lib_patches_fixedToBottomIos__WEBPACK_IMPORTED_MODULE_0__[\"applyFixToElement\"])(existingElement);\n      Object(lib_patches_fixedToBottomIos__WEBPACK_IMPORTED_MODULE_0__[\"setupEventListeners\"])(existingElement);\n    } else {\n      observer = new MutationObserver(lib_patches_fixedToBottomIos__WEBPACK_IMPORTED_MODULE_0__[\"handleMutation\"]);\n      observer.observe(document.body, {\n        childList: true,\n        subtree: true\n      });\n    }\n\n    // Cleanup function\n    return function () {\n      var _observer;\n      (_observer = observer) === null || _observer === void 0 ? void 0 : _observer.disconnect();\n      if (existingElement) Object(lib_patches_fixedToBottomIos__WEBPACK_IMPORTED_MODULE_0__[\"tearDownEventListeners\"])(existingElement);\n    };\n  }, []);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaG9va3MvdXNlRml4ZWRUb0JvdHRvbU9uSW9zLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2hvb2tzL3VzZUZpeGVkVG9Cb3R0b21Pbklvcy50cz9lMzMxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGFwcGx5Rml4VG9FbGVtZW50LFxuICBoYW5kbGVNdXRhdGlvbixcbiAgc2V0dXBFdmVudExpc3RlbmVycyxcbiAgdGVhckRvd25FdmVudExpc3RlbmVycyxcbiAgVE9PTEJBUl9TRUxFQ1RPUlxufSBmcm9tICdsaWIvcGF0Y2hlcy9maXhlZFRvQm90dG9tSW9zJ1xuaW1wb3J0IHsgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnXG5cbi8qKlxuICogQ3VzdG9tIGhvb2sgdGhhdCBmaXhlcyBhbiBlbGVtZW50IHRvIHRoZSBib3R0b20gb2YgdGhlIHNjcmVlbiBvbiBpT1MgZGV2aWNlcy5cbiAqIExpc3RlbnMgZm9yIHRoZSBzcGVjaWZpZWQgZWxlbWVudCBhbmQgZW5zdXJlcyBpdCdzIGZpeGVkIHRvIHRoZSB2aWV3cG9ydCBib3R0b20uXG4gKiBPbmx5IGFjdGl2YXRlZCBvbiBpT1MgZGV2aWNlcy5cbiAqL1xuZXhwb3J0IGNvbnN0IHVzZUZpeGVkVG9Cb3R0b21PbklPUyA9ICgpOiB2b2lkID0+IHtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBPbmx5IHByb2NlZWQgaWYgb24gaU9TIGRldmljZXNcbiAgICBpZiAoIS9pUGhvbmV8aVBhZHxpUG9kLy50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KSkgcmV0dXJuXG5cbiAgICBsZXQgb2JzZXJ2ZXI6IE11dGF0aW9uT2JzZXJ2ZXIgfCB1bmRlZmluZWRcblxuICAgIC8vIENoZWNrIGlmIHRoZSBlbGVtZW50IGlzIGFscmVhZHkgcHJlc2VudCBhbmQgc2V0IHVwIHBvc2l0aW9ucywgaW4gcHJhY3RpY2UgaXQncyB1bmxpa2VseSB0byBiZSBwcmVzZW50IG9uIGluaXRpYWwgcmVuZGVyXG4gICAgLy8gSWYgbm90IHByZXNlbnQsIHNldCB1cCBhIG11dGF0aW9uIG9ic2VydmVyIHRvIGhhbmRsZSBmdXR1cmUgYWRkaXRpb25zXG4gICAgY29uc3QgZXhpc3RpbmdFbGVtZW50ID1cbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTEVsZW1lbnQ+KFRPT0xCQVJfU0VMRUNUT1IpXG5cbiAgICBpZiAoZXhpc3RpbmdFbGVtZW50KSB7XG4gICAgICBhcHBseUZpeFRvRWxlbWVudChleGlzdGluZ0VsZW1lbnQpXG4gICAgICBzZXR1cEV2ZW50TGlzdGVuZXJzKGV4aXN0aW5nRWxlbWVudClcbiAgICB9IGVsc2Uge1xuICAgICAgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihoYW5kbGVNdXRhdGlvbilcbiAgICAgIG9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQuYm9keSwgeyBjaGlsZExpc3Q6IHRydWUsIHN1YnRyZWU6IHRydWUgfSlcbiAgICB9XG5cbiAgICAvLyBDbGVhbnVwIGZ1bmN0aW9uXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIG9ic2VydmVyPy5kaXNjb25uZWN0KClcblxuICAgICAgaWYgKGV4aXN0aW5nRWxlbWVudCkgdGVhckRvd25FdmVudExpc3RlbmVycyhleGlzdGluZ0VsZW1lbnQpXG4gICAgfVxuICB9LCBbXSlcbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/hooks/useFixedToBottomOnIos.ts\n");

/***/ }),

/***/ "./src/hooks/useForceSync.jsx":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal[\"default\"].signature : function (a) {\n  return a;\n};\n\nfunction useForceSync(_ref) {\n  var doc = _ref.doc,\n    collabProvider = _ref.collabProvider;\n  var noteId = doc && doc.file.id;\n  var serviceClient = collabProvider && collabProvider.serviceClient;\n  var channel = collabProvider && collabProvider.channel;\n\n  // Be sure to save everything before leaving\n  // and force sync with the io.cozy.file\n  var forceSync = Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useCallback\"])( /*#__PURE__*/function () {\n    var _forceSync = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee() {\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!(doc && channel && serviceClient)) {\n                _context.next = 5;\n                break;\n              }\n              _context.next = 3;\n              return channel.ensureEmptyQueue();\n            case 3:\n              _context.next = 5;\n              return serviceClient.sync(noteId);\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    function forceSync() {\n      return _forceSync.apply(this, arguments);\n    }\n    return forceSync;\n  }(), [doc, channel, serviceClient, noteId]);\n\n  // Sync on unload will probably be stopped by the browser,\n  // as most async code on unload, but let's try anyway\n  var emergencySync = Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useCallback\"])(function () {\n    if (noteId && serviceClient) {\n      serviceClient.sync(noteId); // force a server sync\n    }\n  }, [noteId, serviceClient]);\n  return {\n    forceSync: forceSync,\n    emergencySync: emergencySync\n  };\n}\n__signature__(useForceSync, \"useCallback{forceSync}\\nuseCallback{emergencySync}\");\nvar _default = useForceSync;\n/* harmony default export */ __webpack_exports__[\"default\"] = (_default);\n;\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n  if (!reactHotLoader) {\n    return;\n  }\n  reactHotLoader.register(useForceSync, \"useForceSync\", \"/home/paul/dev/cozy/apps/cozy-notes/src/hooks/useForceSync.jsx\");\n  reactHotLoader.register(_default, \"default\", \"/home/paul/dev/cozy/apps/cozy-notes/src/hooks/useForceSync.jsx\");\n})();\n;\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(\"./node_modules/webpack/buildin/harmony-module.js\")(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaG9va3MvdXNlRm9yY2VTeW5jLmpzeC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9ob29rcy91c2VGb3JjZVN5bmMuanN4Pzk2ZDAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCdcblxuZnVuY3Rpb24gdXNlRm9yY2VTeW5jKHsgZG9jLCBjb2xsYWJQcm92aWRlciB9KSB7XG4gIGNvbnN0IG5vdGVJZCA9IGRvYyAmJiBkb2MuZmlsZS5pZFxuXG4gIGNvbnN0IHNlcnZpY2VDbGllbnQgPSBjb2xsYWJQcm92aWRlciAmJiBjb2xsYWJQcm92aWRlci5zZXJ2aWNlQ2xpZW50XG4gIGNvbnN0IGNoYW5uZWwgPSBjb2xsYWJQcm92aWRlciAmJiBjb2xsYWJQcm92aWRlci5jaGFubmVsXG5cbiAgLy8gQmUgc3VyZSB0byBzYXZlIGV2ZXJ5dGhpbmcgYmVmb3JlIGxlYXZpbmdcbiAgLy8gYW5kIGZvcmNlIHN5bmMgd2l0aCB0aGUgaW8uY296eS5maWxlXG4gIGNvbnN0IGZvcmNlU3luYyA9IHVzZUNhbGxiYWNrKFxuICAgIGFzeW5jIGZ1bmN0aW9uIGZvcmNlU3luYygpIHtcbiAgICAgIGlmIChkb2MgJiYgY2hhbm5lbCAmJiBzZXJ2aWNlQ2xpZW50KSB7XG4gICAgICAgIC8vIHdhaXQgZm9yIGV2ZXJ5IGV2ZW50IHRvIGZpbmlzaFxuICAgICAgICBhd2FpdCBjaGFubmVsLmVuc3VyZUVtcHR5UXVldWUoKVxuICAgICAgICAvLyB0aGVuIGZvcmNlIGEgc2VydmVyIHN5bmNcbiAgICAgICAgYXdhaXQgc2VydmljZUNsaWVudC5zeW5jKG5vdGVJZClcbiAgICAgIH1cbiAgICB9LFxuICAgIFtkb2MsIGNoYW5uZWwsIHNlcnZpY2VDbGllbnQsIG5vdGVJZF1cbiAgKVxuXG4gIC8vIFN5bmMgb24gdW5sb2FkIHdpbGwgcHJvYmFibHkgYmUgc3RvcHBlZCBieSB0aGUgYnJvd3NlcixcbiAgLy8gYXMgbW9zdCBhc3luYyBjb2RlIG9uIHVubG9hZCwgYnV0IGxldCdzIHRyeSBhbnl3YXlcbiAgY29uc3QgZW1lcmdlbmN5U3luYyA9IHVzZUNhbGxiYWNrKFxuICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChub3RlSWQgJiYgc2VydmljZUNsaWVudCkge1xuICAgICAgICBzZXJ2aWNlQ2xpZW50LnN5bmMobm90ZUlkKSAvLyBmb3JjZSBhIHNlcnZlciBzeW5jXG4gICAgICB9XG4gICAgfSxcbiAgICBbbm90ZUlkLCBzZXJ2aWNlQ2xpZW50XVxuICApXG5cbiAgcmV0dXJuIHsgZm9yY2VTeW5jLCBlbWVyZ2VuY3lTeW5jIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgdXNlRm9yY2VTeW5jXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFQQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBVUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFoQ0E7QUFrQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQWxDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/hooks/useForceSync.jsx\n");

/***/ }),

/***/ "./src/hooks/usePreview.tsx":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"usePreview\", function() { return usePreview; });\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/slicedToArray.js\");\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var constants_strings__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./src/constants/strings.ts\");\n/* harmony import */ var lib_initFromDom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./src/lib/initFromDom.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\nvar usePreview = function usePreview(pathname) {\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(false),\n    _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState, 2),\n    shouldDisplay = _useState2[0],\n    setDisplay = _useState2[1];\n  Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useEffect\"])(function () {\n    setDisplay(constants_strings__WEBPACK_IMPORTED_MODULE_1__[\"SHARING_LOCATION\"] === pathname && !!Object(lib_initFromDom__WEBPACK_IMPORTED_MODULE_2__[\"getPublicSharecode\"])());\n  }, [pathname]);\n  return shouldDisplay;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaG9va3MvdXNlUHJldmlldy50c3guanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvaG9va3MvdXNlUHJldmlldy50c3g/ZDA2ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTSEFSSU5HX0xPQ0FUSU9OIH0gZnJvbSAnY29uc3RhbnRzL3N0cmluZ3MnXG5cbmltcG9ydCB7IGdldFB1YmxpY1NoYXJlY29kZSB9IGZyb20gJ2xpYi9pbml0RnJvbURvbSdcbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCdcblxuZXhwb3J0IGNvbnN0IHVzZVByZXZpZXcgPSAocGF0aG5hbWU6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xuICBjb25zdCBbc2hvdWxkRGlzcGxheSwgc2V0RGlzcGxheV0gPSB1c2VTdGF0ZShmYWxzZSlcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldERpc3BsYXkoU0hBUklOR19MT0NBVElPTiA9PT0gcGF0aG5hbWUgJiYgISFnZXRQdWJsaWNTaGFyZWNvZGUoKSlcbiAgfSwgW3BhdGhuYW1lXSlcblxuICByZXR1cm4gc2hvdWxkRGlzcGxheVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/hooks/usePreview.tsx\n");

/***/ }),

/***/ "./src/hooks/useReferencedFolderForNote.jsx":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/slicedToArray.js\");\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var lib_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./src/lib/utils.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var cozy_doctypes__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./node_modules/cozy-doctypes/dist/index.js\");\n/* harmony import */ var cozy_doctypes__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(cozy_doctypes__WEBPACK_IMPORTED_MODULE_5__);\n\n\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal[\"default\"].signature : function (a) {\n  return a;\n};\n\n\n\nvar notesFolderDocument = {\n  _type: 'io.cozy.apps',\n  _id: 'io.cozy.apps/notes'\n};\nvar useReferencedFolderForNote = function useReferencedFolderForNote(client) {\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])(Object(lib_utils__WEBPACK_IMPORTED_MODULE_3__[\"getDriveLink\"])(client)),\n    _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState, 2),\n    notesFolder = _useState2[0],\n    setNotesFolder = _useState2[1];\n  Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useEffect\"])(function () {\n    var fetchData = /*#__PURE__*/function () {\n      var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee() {\n        var referencedFolder, folderUrl;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return cozy_doctypes__WEBPACK_IMPORTED_MODULE_5__[\"CozyFolder\"].getReferencedFolders(notesFolderDocument);\n              case 3:\n                referencedFolder = _context.sent;\n                folderUrl = Object(lib_utils__WEBPACK_IMPORTED_MODULE_3__[\"getDriveLink\"])(client, referencedFolder[0]._id);\n                setNotesFolder(folderUrl);\n                _context.next = 11;\n                break;\n              case 8:\n                _context.prev = 8;\n                _context.t0 = _context[\"catch\"](0);\n                setNotesFolder(Object(lib_utils__WEBPACK_IMPORTED_MODULE_3__[\"getDriveLink\"])(client));\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[0, 8]]);\n      }));\n      return function fetchData() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    fetchData();\n  }, [client]);\n  return {\n    notesFolder: notesFolder\n  };\n};\n__signature__(useReferencedFolderForNote, \"useState{[notesFolder, setNotesFolder](getDriveLink(client))}\\nuseEffect{}\");\nvar _default = useReferencedFolderForNote;\n/* harmony default export */ __webpack_exports__[\"default\"] = (_default);\n;\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n  if (!reactHotLoader) {\n    return;\n  }\n  reactHotLoader.register(notesFolderDocument, \"notesFolderDocument\", \"/home/paul/dev/cozy/apps/cozy-notes/src/hooks/useReferencedFolderForNote.jsx\");\n  reactHotLoader.register(useReferencedFolderForNote, \"useReferencedFolderForNote\", \"/home/paul/dev/cozy/apps/cozy-notes/src/hooks/useReferencedFolderForNote.jsx\");\n  reactHotLoader.register(_default, \"default\", \"/home/paul/dev/cozy/apps/cozy-notes/src/hooks/useReferencedFolderForNote.jsx\");\n})();\n;\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(\"./node_modules/webpack/buildin/harmony-module.js\")(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaG9va3MvdXNlUmVmZXJlbmNlZEZvbGRlckZvck5vdGUuanN4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2hvb2tzL3VzZVJlZmVyZW5jZWRGb2xkZXJGb3JOb3RlLmpzeD8zMjVlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldERyaXZlTGluayB9IGZyb20gJ2xpYi91dGlscydcbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCdcblxuaW1wb3J0IHsgQ296eUZvbGRlciB9IGZyb20gJ2NvenktZG9jdHlwZXMnXG5cbmNvbnN0IG5vdGVzRm9sZGVyRG9jdW1lbnQgPSB7XG4gIF90eXBlOiAnaW8uY296eS5hcHBzJyxcbiAgX2lkOiAnaW8uY296eS5hcHBzL25vdGVzJ1xufVxuXG5jb25zdCB1c2VSZWZlcmVuY2VkRm9sZGVyRm9yTm90ZSA9IGNsaWVudCA9PiB7XG4gIGNvbnN0IFtub3Rlc0ZvbGRlciwgc2V0Tm90ZXNGb2xkZXJdID0gdXNlU3RhdGUoZ2V0RHJpdmVMaW5rKGNsaWVudCkpXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBmZXRjaERhdGEgPSBhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZWZlcmVuY2VkRm9sZGVyID0gYXdhaXQgQ296eUZvbGRlci5nZXRSZWZlcmVuY2VkRm9sZGVycyhcbiAgICAgICAgICBub3Rlc0ZvbGRlckRvY3VtZW50XG4gICAgICAgIClcbiAgICAgICAgY29uc3QgZm9sZGVyVXJsID0gZ2V0RHJpdmVMaW5rKGNsaWVudCwgcmVmZXJlbmNlZEZvbGRlclswXS5faWQpXG4gICAgICAgIHNldE5vdGVzRm9sZGVyKGZvbGRlclVybClcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHNldE5vdGVzRm9sZGVyKGdldERyaXZlTGluayhjbGllbnQpKVxuICAgICAgfVxuICAgIH1cbiAgICBmZXRjaERhdGEoKVxuICB9LCBbY2xpZW50XSlcblxuICByZXR1cm4ge1xuICAgIG5vdGVzRm9sZGVyXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgdXNlUmVmZXJlbmNlZEZvbGRlckZvck5vdGVcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUZBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFWQTtBQUFBO0FBQUE7QUFXQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQXJCQTtBQXVCQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBNUJBO0FBS0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/hooks/useReferencedFolderForNote.jsx\n");

/***/ }),

/***/ "./src/hooks/useReturnUrl.jsx":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony import */ var components_IsPublicContext__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./src/components/IsPublicContext.jsx\");\n/* harmony import */ var lib_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./src/lib/utils.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal[\"default\"].signature : function (a) {\n  return a;\n};\n\n\n\nfunction useReturnUrl(_ref) {\n  var returnUrl = _ref.returnUrl,\n    cozyClient = _ref.cozyClient,\n    doc = _ref.doc;\n  var isPublic = Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useContext\"])(components_IsPublicContext__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n  return Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useMemo\"])(function () {\n    if (returnUrl) {\n      return returnUrl;\n    } else if (doc) {\n      return Object(lib_utils__WEBPACK_IMPORTED_MODULE_1__[\"getParentFolderLink\"])(cozyClient, doc.file);\n    } else if (!isPublic) {\n      return '/';\n    } else {\n      return undefined;\n    }\n  }, [returnUrl, doc, isPublic, cozyClient]);\n}\n__signature__(useReturnUrl, \"useContext{isPublic}\\nuseMemo{}\");\nvar _default = useReturnUrl;\n/* harmony default export */ __webpack_exports__[\"default\"] = (_default);\n;\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n  if (!reactHotLoader) {\n    return;\n  }\n  reactHotLoader.register(useReturnUrl, \"useReturnUrl\", \"/home/paul/dev/cozy/apps/cozy-notes/src/hooks/useReturnUrl.jsx\");\n  reactHotLoader.register(_default, \"default\", \"/home/paul/dev/cozy/apps/cozy-notes/src/hooks/useReturnUrl.jsx\");\n})();\n;\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(\"./node_modules/webpack/buildin/harmony-module.js\")(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaG9va3MvdXNlUmV0dXJuVXJsLmpzeC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9ob29rcy91c2VSZXR1cm5VcmwuanN4PzVlMmMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IElzUHVibGljQ29udGV4dCBmcm9tICdjb21wb25lbnRzL0lzUHVibGljQ29udGV4dCdcbmltcG9ydCB7IGdldFBhcmVudEZvbGRlckxpbmsgfSBmcm9tICdsaWIvdXRpbHMnXG5pbXBvcnQgeyB1c2VNZW1vLCB1c2VDb250ZXh0IH0gZnJvbSAncmVhY3QnXG5cbmZ1bmN0aW9uIHVzZVJldHVyblVybCh7IHJldHVyblVybCwgY296eUNsaWVudCwgZG9jIH0pIHtcbiAgY29uc3QgaXNQdWJsaWMgPSB1c2VDb250ZXh0KElzUHVibGljQ29udGV4dClcblxuICByZXR1cm4gdXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKHJldHVyblVybCkge1xuICAgICAgcmV0dXJuIHJldHVyblVybFxuICAgIH0gZWxzZSBpZiAoZG9jKSB7XG4gICAgICByZXR1cm4gZ2V0UGFyZW50Rm9sZGVyTGluayhjb3p5Q2xpZW50LCBkb2MuZmlsZSlcbiAgICB9IGVsc2UgaWYgKCFpc1B1YmxpYykge1xuICAgICAgcmV0dXJuICcvJ1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfVxuICB9LCBbcmV0dXJuVXJsLCBkb2MsIGlzUHVibGljLCBjb3p5Q2xpZW50XSlcbn1cblxuZXhwb3J0IGRlZmF1bHQgdXNlUmV0dXJuVXJsXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQWRBO0FBZ0JBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFoQkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/hooks/useReturnUrl.jsx\n");

/***/ }),

/***/ "./src/hooks/useServiceClient.jsx":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony import */ var lib_collab_stack_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./src/lib/collab/stack-client.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal[\"default\"].signature : function (a) {\n  return a;\n};\n\n\nfunction useServiceClient(_ref) {\n  var userId = _ref.userId,\n    userName = _ref.userName,\n    cozyClient = _ref.cozyClient;\n  return Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useMemo\"])(function () {\n    return new lib_collab_stack_client__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\n      userId: userId,\n      userName: userName,\n      cozyClient: cozyClient\n    });\n  }, [cozyClient, userId, userName]);\n}\n__signature__(useServiceClient, \"useMemo{}\");\nvar _default = useServiceClient;\n/* harmony default export */ __webpack_exports__[\"default\"] = (_default);\n;\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n  if (!reactHotLoader) {\n    return;\n  }\n  reactHotLoader.register(useServiceClient, \"useServiceClient\", \"/home/paul/dev/cozy/apps/cozy-notes/src/hooks/useServiceClient.jsx\");\n  reactHotLoader.register(_default, \"default\", \"/home/paul/dev/cozy/apps/cozy-notes/src/hooks/useServiceClient.jsx\");\n})();\n;\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(\"./node_modules/webpack/buildin/harmony-module.js\")(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaG9va3MvdXNlU2VydmljZUNsaWVudC5qc3guanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvaG9va3MvdXNlU2VydmljZUNsaWVudC5qc3g/ZjE5NyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgU2VydmljZUNsaWVudCBmcm9tICdsaWIvY29sbGFiL3N0YWNrLWNsaWVudCdcbmltcG9ydCB7IHVzZU1lbW8gfSBmcm9tICdyZWFjdCdcblxuZnVuY3Rpb24gdXNlU2VydmljZUNsaWVudCh7IHVzZXJJZCwgdXNlck5hbWUsIGNvenlDbGllbnQgfSkge1xuICByZXR1cm4gdXNlTWVtbygoKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBTZXJ2aWNlQ2xpZW50KHsgdXNlcklkLCB1c2VyTmFtZSwgY296eUNsaWVudCB9KVxuICB9LCBbY296eUNsaWVudCwgdXNlcklkLCB1c2VyTmFtZV0pXG59XG5cbmV4cG9ydCBkZWZhdWx0IHVzZVNlcnZpY2VDbGllbnRcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFKQTtBQU1BO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFOQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/hooks/useServiceClient.jsx\n");

/***/ }),

/***/ "./src/hooks/useTitleChanges.jsx":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony import */ var lib_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./src/lib/utils.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal[\"default\"].signature : function (a) {\n  return a;\n};\n\n\nfunction useTitleChanges(_ref) {\n  var noteId = _ref.noteId,\n    title = _ref.title,\n    setTitle = _ref.setTitle,\n    serviceClient = _ref.serviceClient;\n  // Title change because of a local change from the editor\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  var onLocalTitleChange = Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useCallback\"])(serviceClient ? function (e) {\n    var _e$nativeEvent;\n    // Let the user tab out of the title when using the 'Enter' key\n    if (((_e$nativeEvent = e.nativeEvent) === null || _e$nativeEvent === void 0 ? void 0 : _e$nativeEvent.inputType) === 'insertLineBreak') return window.document.querySelector('.ProseMirror').focus();\n\n    // forbid line feed and non standard spaces in title\n    var modifiedTitle = e.target.value.replace(/[\\r\\t\\n\\xa0]+/g, ' ');\n    if (title != modifiedTitle) {\n      setTitle(modifiedTitle);\n      serviceClient.setTitle(noteId, modifiedTitle);\n    }\n  } : function () {}, [noteId, title, setTitle, serviceClient]);\n  // Title change because of a remote change from the stack\n  Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useEffect\"])(function () {\n    serviceClient && serviceClient.onTitleUpdated(noteId, function (modifiedTitle) {\n      if (title != modifiedTitle) {\n        setTitle(modifiedTitle);\n      }\n    });\n  }, [title, setTitle, serviceClient, noteId]);\n  // whatever the change is, keep the tab title updated\n  var appFullName = Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useMemo\"])(lib_utils__WEBPACK_IMPORTED_MODULE_0__[\"getAppFullName\"], []);\n  Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useEffect\"])(function () {\n    document.title = title && title != '' ? \"\".concat(title, \" - \").concat(appFullName) : appFullName;\n  }, [appFullName, title]);\n  return {\n    onLocalTitleChange: onLocalTitleChange\n  };\n}\n__signature__(useTitleChanges, \"useCallback{onLocalTitleChange}\\nuseEffect{}\\nuseMemo{appFullName}\\nuseEffect{}\");\nvar _default = useTitleChanges;\n/* harmony default export */ __webpack_exports__[\"default\"] = (_default);\n;\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n  if (!reactHotLoader) {\n    return;\n  }\n  reactHotLoader.register(useTitleChanges, \"useTitleChanges\", \"/home/paul/dev/cozy/apps/cozy-notes/src/hooks/useTitleChanges.jsx\");\n  reactHotLoader.register(_default, \"default\", \"/home/paul/dev/cozy/apps/cozy-notes/src/hooks/useTitleChanges.jsx\");\n})();\n;\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(\"./node_modules/webpack/buildin/harmony-module.js\")(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaG9va3MvdXNlVGl0bGVDaGFuZ2VzLmpzeC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9ob29rcy91c2VUaXRsZUNoYW5nZXMuanN4P2U1OGQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0QXBwRnVsbE5hbWUgfSBmcm9tICdsaWIvdXRpbHMnXG5pbXBvcnQgeyB1c2VNZW1vLCB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnXG5cbmZ1bmN0aW9uIHVzZVRpdGxlQ2hhbmdlcyh7IG5vdGVJZCwgdGl0bGUsIHNldFRpdGxlLCBzZXJ2aWNlQ2xpZW50IH0pIHtcbiAgLy8gVGl0bGUgY2hhbmdlIGJlY2F1c2Ugb2YgYSBsb2NhbCBjaGFuZ2UgZnJvbSB0aGUgZWRpdG9yXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgY29uc3Qgb25Mb2NhbFRpdGxlQ2hhbmdlID0gdXNlQ2FsbGJhY2soXG4gICAgc2VydmljZUNsaWVudFxuICAgICAgPyBlID0+IHtcbiAgICAgICAgICAvLyBMZXQgdGhlIHVzZXIgdGFiIG91dCBvZiB0aGUgdGl0bGUgd2hlbiB1c2luZyB0aGUgJ0VudGVyJyBrZXlcbiAgICAgICAgICBpZiAoZS5uYXRpdmVFdmVudD8uaW5wdXRUeXBlID09PSAnaW5zZXJ0TGluZUJyZWFrJylcbiAgICAgICAgICAgIHJldHVybiB3aW5kb3cuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLlByb3NlTWlycm9yJykuZm9jdXMoKVxuXG4gICAgICAgICAgLy8gZm9yYmlkIGxpbmUgZmVlZCBhbmQgbm9uIHN0YW5kYXJkIHNwYWNlcyBpbiB0aXRsZVxuICAgICAgICAgIGNvbnN0IG1vZGlmaWVkVGl0bGUgPSBlLnRhcmdldC52YWx1ZS5yZXBsYWNlKC9bXFxyXFx0XFxuXFx4YTBdKy9nLCAnICcpXG4gICAgICAgICAgaWYgKHRpdGxlICE9IG1vZGlmaWVkVGl0bGUpIHtcbiAgICAgICAgICAgIHNldFRpdGxlKG1vZGlmaWVkVGl0bGUpXG4gICAgICAgICAgICBzZXJ2aWNlQ2xpZW50LnNldFRpdGxlKG5vdGVJZCwgbW9kaWZpZWRUaXRsZSlcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIDogKCkgPT4ge30sXG4gICAgW25vdGVJZCwgdGl0bGUsIHNldFRpdGxlLCBzZXJ2aWNlQ2xpZW50XVxuICApXG4gIC8vIFRpdGxlIGNoYW5nZSBiZWNhdXNlIG9mIGEgcmVtb3RlIGNoYW5nZSBmcm9tIHRoZSBzdGFja1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNlcnZpY2VDbGllbnQgJiZcbiAgICAgIHNlcnZpY2VDbGllbnQub25UaXRsZVVwZGF0ZWQobm90ZUlkLCBtb2RpZmllZFRpdGxlID0+IHtcbiAgICAgICAgaWYgKHRpdGxlICE9IG1vZGlmaWVkVGl0bGUpIHtcbiAgICAgICAgICBzZXRUaXRsZShtb2RpZmllZFRpdGxlKVxuICAgICAgICB9XG4gICAgICB9KVxuICB9LCBbdGl0bGUsIHNldFRpdGxlLCBzZXJ2aWNlQ2xpZW50LCBub3RlSWRdKVxuICAvLyB3aGF0ZXZlciB0aGUgY2hhbmdlIGlzLCBrZWVwIHRoZSB0YWIgdGl0bGUgdXBkYXRlZFxuICBjb25zdCBhcHBGdWxsTmFtZSA9IHVzZU1lbW8oZ2V0QXBwRnVsbE5hbWUsIFtdKVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGRvY3VtZW50LnRpdGxlID1cbiAgICAgIHRpdGxlICYmIHRpdGxlICE9ICcnID8gYCR7dGl0bGV9IC0gJHthcHBGdWxsTmFtZX1gIDogYXBwRnVsbE5hbWVcbiAgfSwgW2FwcEZ1bGxOYW1lLCB0aXRsZV0pXG4gIHJldHVybiB7IG9uTG9jYWxUaXRsZUNoYW5nZSB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IHVzZVRpdGxlQ2hhbmdlc1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQXBDQTtBQXNDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBdENBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/hooks/useTitleChanges.jsx\n");

/***/ }),

/***/ "./src/hooks/useUser.jsx":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony import */ var components_IsPublicContext__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./src/components/IsPublicContext.jsx\");\n/* harmony import */ var lib_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./src/lib/utils.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./node_modules/cozy-client/dist/index.js\");\n/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_3__);\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal[\"default\"].signature : function (a) {\n  return a;\n};\n\n\n\n\nfunction useUser() {\n  var client = Object(cozy_client__WEBPACK_IMPORTED_MODULE_3__[\"useClient\"])();\n  var isPublic = Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useContext\"])(components_IsPublicContext__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n  var userName = Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useMemo\"])(function () {\n    return Object(lib_utils__WEBPACK_IMPORTED_MODULE_1__[\"getUserNameFromUrl\"])() || (isPublic ? '?' : Object(lib_utils__WEBPACK_IMPORTED_MODULE_1__[\"getShortNameFromClient\"])(client));\n  }, [client, isPublic]);\n  var userId = userName;\n  return {\n    userId: userId,\n    userName: userName\n  };\n}\n__signature__(useUser, \"useClient{client}\\nuseContext{isPublic}\\nuseMemo{userName}\", function () {\n  return [cozy_client__WEBPACK_IMPORTED_MODULE_3__[\"useClient\"]];\n});\nvar _default = useUser;\n/* harmony default export */ __webpack_exports__[\"default\"] = (_default);\n;\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n  if (!reactHotLoader) {\n    return;\n  }\n  reactHotLoader.register(useUser, \"useUser\", \"/home/paul/dev/cozy/apps/cozy-notes/src/hooks/useUser.jsx\");\n  reactHotLoader.register(_default, \"default\", \"/home/paul/dev/cozy/apps/cozy-notes/src/hooks/useUser.jsx\");\n})();\n;\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(\"./node_modules/webpack/buildin/harmony-module.js\")(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaG9va3MvdXNlVXNlci5qc3guanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvaG9va3MvdXNlVXNlci5qc3g/YmZmNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgSXNQdWJsaWNDb250ZXh0IGZyb20gJ2NvbXBvbmVudHMvSXNQdWJsaWNDb250ZXh0J1xuaW1wb3J0IHsgZ2V0U2hvcnROYW1lRnJvbUNsaWVudCwgZ2V0VXNlck5hbWVGcm9tVXJsIH0gZnJvbSAnbGliL3V0aWxzJ1xuaW1wb3J0IHsgdXNlTWVtbywgdXNlQ29udGV4dCB9IGZyb20gJ3JlYWN0J1xuXG5pbXBvcnQgeyB1c2VDbGllbnQgfSBmcm9tICdjb3p5LWNsaWVudCdcblxuZnVuY3Rpb24gdXNlVXNlcigpIHtcbiAgY29uc3QgY2xpZW50ID0gdXNlQ2xpZW50KClcbiAgY29uc3QgaXNQdWJsaWMgPSB1c2VDb250ZXh0KElzUHVibGljQ29udGV4dClcbiAgY29uc3QgdXNlck5hbWUgPSB1c2VNZW1vKFxuICAgICgpID0+XG4gICAgICBnZXRVc2VyTmFtZUZyb21VcmwoKSB8fCAoaXNQdWJsaWMgPyAnPycgOiBnZXRTaG9ydE5hbWVGcm9tQ2xpZW50KGNsaWVudCkpLFxuICAgIFtjbGllbnQsIGlzUHVibGljXVxuICApXG4gIGNvbnN0IHVzZXJJZCA9IHVzZXJOYW1lXG4gIHJldHVybiB7IHVzZXJJZCwgdXNlck5hbWUgfVxufVxuXG5leHBvcnQgZGVmYXVsdCB1c2VVc2VyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQVZBO0FBQ0E7QUFBQTtBQVdBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFaQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/hooks/useUser.jsx\n");

/***/ }),

/***/ "./src/lib/collab/channel.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Channel\", function() { return Channel; });\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var eventemitter2__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./node_modules/eventemitter2/lib/eventemitter2.js\");\n/* harmony import */ var eventemitter2__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(eventemitter2__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var prosemirror_collab__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./node_modules/prosemirror-collab/dist/index.es.js\");\n/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./node_modules/cozy-flags/dist/index.browser.js\");\n/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(cozy_flags__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _debug__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./src/lib/debug.jsx\");\n\n\n\n\n\n\n\n\nvar minimumBackoff = 128; // 128ms\nvar maximumBackoff = 1000 * 60 * 5; // Max 5 minutes\nvar failuresBeforeCatchup = 4;\nvar Channel = /*#__PURE__*/function () {\n  function Channel(config, serviceClient) {\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this, Channel);\n    this.config = config;\n    this.service = serviceClient;\n    this.eventEmitter = new eventemitter2__WEBPACK_IMPORTED_MODULE_4__[\"EventEmitter2\"]();\n    this.resetBackoff();\n    this.initializeStepsQueue();\n    this.isSending = false;\n  }\n\n  /**\n   * Reset the backoff\n   */\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(Channel, [{\n    key: \"resetBackoff\",\n    value: function resetBackoff() {\n      this.backoff = 0;\n      this.failures = 0;\n    }\n\n    /**\n     * Increase the backoff\n     */\n  }, {\n    key: \"increaseBackoff\",\n    value: function increaseBackoff() {\n      this.failures = this.failures + 1;\n      if (this.failures % failuresBeforeCatchup == 0) {\n        this.emit('needcatchup', {\n          failures: this.failures\n        });\n      }\n      this.backoff = Math.max(Math.min(this.backoff * 2, maximumBackoff), minimumBackoff);\n    }\n\n    /**\n     * Program something after backoff\n     * @returns {Promise}\n     */\n  }, {\n    key: \"afterBackoff\",\n    value: function afterBackoff() {\n      var _this = this;\n      var fn = function fn(resolve) {\n        if (_this.backoff < minimumBackoff) {\n          resolve();\n        } else {\n          window.setTimeout(resolve, _this.backoff);\n        }\n      };\n      return new Promise(fn);\n    }\n\n    /**\n     * Initialize the steps queue\n     */\n  }, {\n    key: \"initializeStepsQueue\",\n    value: function initializeStepsQueue() {\n      this.queuedStep = undefined;\n    }\n\n    /**\n     * Checks if something is not fully sent to the server\n     *\n     * @returns {bool}\n     */\n  }, {\n    key: \"isDirty\",\n    value: function isDirty() {\n      return this.hasQueuedSteps() || this.isSending;\n    }\n\n    /**\n     * Ensures all local steps are sent to the server\n     */\n  }, {\n    key: \"ensureEmptyQueue\",\n    value: (function () {\n      var _ensureEmptyQueue = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee() {\n        var _this2 = this;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                return _context.abrupt(\"return\", new Promise(function (resolve) {\n                  function onEmptyQueue() {\n                    this.off('emptyQueue', onEmptyQueue);\n                    resolve();\n                  }\n                  if (_this2.isDirty()) {\n                    _this2.on('emptyQueue', onEmptyQueue);\n                  } else {\n                    resolve();\n                  }\n                }));\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n      function ensureEmptyQueue() {\n        return _ensureEmptyQueue.apply(this, arguments);\n      }\n      return ensureEmptyQueue;\n    }()\n    /**\n     * Enqueue steps\n     * @param {Function} getState - function to get a current proseMirror state\n     * @param {Object} state - proseMirror state\n     * @param {Object[]} localSteps - local steps to send\n     */\n    )\n  }, {\n    key: \"enqueueSteps\",\n    value: function enqueueSteps(_ref) {\n      var getState = _ref.getState,\n        state = _ref.state,\n        localSteps = _ref.localSteps;\n      this.queuedStep = {\n        getState: getState,\n        state: state,\n        localSteps: localSteps\n      };\n    }\n\n    /**\n     * Dequeue steps\n     * @returns {getState, state, localSteps}\n     */\n  }, {\n    key: \"dequeueSteps\",\n    value: function dequeueSteps() {\n      var queued = this.queuedStep;\n      var getState = queued.getState;\n      var state = queued.state || getState();\n      var localSteps = queued.localSteps || Object(prosemirror_collab__WEBPACK_IMPORTED_MODULE_5__[\"sendableSteps\"])(state) || {\n        steps: []\n      };\n      this.queuedStep = undefined;\n      return {\n        getState: getState,\n        state: state,\n        localSteps: localSteps\n      };\n    }\n\n    /**\n     * Test if there is a queued step\n     * @returns {boolean}\n     */\n  }, {\n    key: \"hasQueuedSteps\",\n    value: function hasQueuedSteps() {\n      return !!this.queuedStep;\n    }\n\n    /**\n     * Rebase steps in queue\n     */\n  }, {\n    key: \"rebaseStepsInQueue\",\n    value: function rebaseStepsInQueue() {\n      if (this.queuedStep) {\n        this.queuedStep = {\n          getState: this.queuedStep.getState\n        };\n      }\n    }\n\n    /**\n     * Program a push for new steps to the service\n     * @param {Object} state - state from proseMirror internals\n     * @param {Function} getState - returns current proseMirror state\n     * @param {Object} localSteps - localSteps object from proseMirror internals\n     * Today the provider calling `sendSteps` do not fill the localSteps\n     * parameter. This parameter is however provisionned in the demo code from\n     * Atlaskit. I prefer not to remove it, in case we need it later.\n     */\n  }, {\n    key: \"sendSteps\",\n    value: (function () {\n      var _sendSteps = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee2(getState, state, localSteps) {\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                this.emit('enqueueSteps');\n                this.enqueueSteps({\n                  getState: getState,\n                  state: state,\n                  localSteps: localSteps\n                });\n                _context2.next = 4;\n                return this.processQueue();\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n      function sendSteps(_x, _x2, _x3) {\n        return _sendSteps.apply(this, arguments);\n      }\n      return sendSteps;\n    }()\n    /**\n     * Send steps in queue\n     */\n    )\n  }, {\n    key: \"processQueue\",\n    value: (function () {\n      var _processQueue = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee3() {\n        var _this$dequeueSteps, getState, state, steps, version, noteId, response;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (!this.isSending) {\n                  _context3.next = 2;\n                  break;\n                }\n                return _context3.abrupt(\"return\");\n              case 2:\n                if (this.hasQueuedSteps()) {\n                  _context3.next = 5;\n                  break;\n                }\n                this.emit('emptyQueue');\n                return _context3.abrupt(\"return\");\n              case 5:\n                this.isSending = true;\n                _context3.next = 8;\n                return this.afterBackoff();\n              case 8:\n                _this$dequeueSteps = this.dequeueSteps(), getState = _this$dequeueSteps.getState, state = _this$dequeueSteps.state, steps = _this$dequeueSteps.localSteps.steps;\n                version = Object(prosemirror_collab__WEBPACK_IMPORTED_MODULE_5__[\"getVersion\"])(state); // Don't send any steps before we're ready.\n                if (!(typeof version === 'undefined')) {\n                  _context3.next = 12;\n                  break;\n                }\n                return _context3.abrupt(\"return\");\n              case 12:\n                if (!(steps.length === 0)) {\n                  _context3.next = 14;\n                  break;\n                }\n                return _context3.abrupt(\"return\");\n              case 14:\n                _context3.prev = 14;\n                noteId = this.config.noteId;\n                _context3.next = 18;\n                return this.service.pushSteps(noteId, version, steps);\n              case 18:\n                response = _context3.sent;\n                this.rebaseStepsInQueue();\n                this.resetBackoff();\n                this.emit('successfulPatch');\n                this.isSending = false;\n                if (response && response.steps && response.steps.length > 0) {\n                  this.emit('data', response);\n                }\n                _context3.next = 32;\n                break;\n              case 26:\n                _context3.prev = 26;\n                _context3.t0 = _context3[\"catch\"](14);\n                if (cozy_flags__WEBPACK_IMPORTED_MODULE_6___default()('notes.lastPatchError')) {\n                  Object(_debug__WEBPACK_IMPORTED_MODULE_7__[\"setDebugValue\"])('notes.lastPatchError', _context3.t0);\n                }\n                if (this.hasQueuedSteps()) {\n                  // will retry later with more steps\n                  this.rebaseStepsInQueue();\n                } else {\n                  // send again the current steps\n                  this.enqueueSteps({\n                    getState: getState\n                  });\n                }\n                this.increaseBackoff();\n                this.isSending = false;\n              case 32:\n                _context3.next = 34;\n                return this.processQueue();\n              case 34:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[14, 26]]);\n      }));\n      function processQueue() {\n        return _processQueue.apply(this, arguments);\n      }\n      return processQueue;\n    }()\n    /**\n     * Connect to pubsub to start receiving events\n     */\n    )\n  }, {\n    key: \"connect\",\n    value: (function () {\n      var _connect = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee4(_ref2) {\n        var _this3 = this;\n        var version, doc, updatedAt, noteId;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                version = _ref2.version, doc = _ref2.doc, updatedAt = _ref2.updatedAt;\n                noteId = this.config.noteId;\n                this.service.join(noteId);\n                this.service.onStepsCreated(noteId, function (data) {\n                  _this3.emit('data', {\n                    version: data.version,\n                    steps: [data]\n                  });\n                });\n                this.service.onTelepointerUpdated(noteId, function (payload) {\n                  _this3.emit('telepointer', payload);\n                });\n                this.service.onSchemaUpdated(noteId, function () {\n                  _this3.emit('schemaupdated');\n                });\n                this.emit('connected', {\n                  version: version,\n                  doc: doc,\n                  updatedAt: updatedAt\n                });\n              case 7:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n      function connect(_x4) {\n        return _connect.apply(this, arguments);\n      }\n      return connect;\n    }()\n    /**\n     * Get steps from version x to latest\n     */\n    )\n  }, {\n    key: \"getSteps\",\n    value: (function () {\n      var _getSteps = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee5(version) {\n        var noteId;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                noteId = this.config.noteId;\n                _context5.next = 3;\n                return this.service.getSteps(noteId, version);\n              case 3:\n                return _context5.abrupt(\"return\", _context5.sent);\n              case 4:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n      function getSteps(_x5) {\n        return _getSteps.apply(this, arguments);\n      }\n      return getSteps;\n    }()\n    /**\n     * Send telepointer\n     */\n    )\n  }, {\n    key: \"sendTelepointer\",\n    value: (function () {\n      var _sendTelepointer = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee6(data) {\n        var noteId;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                noteId = this.config.noteId;\n                _context6.next = 3;\n                return this.service.pushTelepointer(noteId, data);\n              case 3:\n                return _context6.abrupt(\"return\", _context6.sent);\n              case 4:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n      function sendTelepointer(_x6) {\n        return _sendTelepointer.apply(this, arguments);\n      }\n      return sendTelepointer;\n    }()\n    /**\n     * Subscribe to events emitted by this channel\n     */\n    )\n  }, {\n    key: \"on\",\n    value: function on(evt, handler) {\n      this.eventEmitter.on(evt, handler);\n      return this;\n    }\n\n    /**\n     * Unsubscribe from events emitted by this channel\n     */\n  }, {\n    key: \"off\",\n    value: function off(evt, handler) {\n      this.eventEmitter.off(evt, handler);\n      return this;\n    }\n\n    /**\n     * Emit events to subscribers\n     */\n  }, {\n    key: \"emit\",\n    value: function emit(evt, data) {\n      this.eventEmitter.emit(evt, data);\n      return this;\n    }\n  }]);\n  return Channel;\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGliL2NvbGxhYi9jaGFubmVsLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi9jb2xsYWIvY2hhbm5lbC5qcz83ZmFmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEV2ZW50RW1pdHRlcjIgfSBmcm9tICdldmVudGVtaXR0ZXIyJ1xuaW1wb3J0IHsgZ2V0VmVyc2lvbiwgc2VuZGFibGVTdGVwcyB9IGZyb20gJ3Byb3NlbWlycm9yLWNvbGxhYidcblxuaW1wb3J0IGZsYWcgZnJvbSAnY296eS1mbGFncydcblxuaW1wb3J0IHsgc2V0RGVidWdWYWx1ZSB9IGZyb20gJy4uL2RlYnVnJ1xuXG5jb25zdCBtaW5pbXVtQmFja29mZiA9IDEyOCAvLyAxMjhtc1xuY29uc3QgbWF4aW11bUJhY2tvZmYgPSAxMDAwICogNjAgKiA1IC8vIE1heCA1IG1pbnV0ZXNcbmNvbnN0IGZhaWx1cmVzQmVmb3JlQ2F0Y2h1cCA9IDRcblxuZXhwb3J0IGNsYXNzIENoYW5uZWwge1xuICBjb25zdHJ1Y3Rvcihjb25maWcsIHNlcnZpY2VDbGllbnQpIHtcbiAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZ1xuICAgIHRoaXMuc2VydmljZSA9IHNlcnZpY2VDbGllbnRcbiAgICB0aGlzLmV2ZW50RW1pdHRlciA9IG5ldyBFdmVudEVtaXR0ZXIyKClcbiAgICB0aGlzLnJlc2V0QmFja29mZigpXG4gICAgdGhpcy5pbml0aWFsaXplU3RlcHNRdWV1ZSgpXG4gICAgdGhpcy5pc1NlbmRpbmcgPSBmYWxzZVxuICB9XG5cbiAgLyoqXG4gICAqIFJlc2V0IHRoZSBiYWNrb2ZmXG4gICAqL1xuICByZXNldEJhY2tvZmYoKSB7XG4gICAgdGhpcy5iYWNrb2ZmID0gMFxuICAgIHRoaXMuZmFpbHVyZXMgPSAwXG4gIH1cblxuICAvKipcbiAgICogSW5jcmVhc2UgdGhlIGJhY2tvZmZcbiAgICovXG4gIGluY3JlYXNlQmFja29mZigpIHtcbiAgICB0aGlzLmZhaWx1cmVzID0gdGhpcy5mYWlsdXJlcyArIDFcbiAgICBpZiAodGhpcy5mYWlsdXJlcyAlIGZhaWx1cmVzQmVmb3JlQ2F0Y2h1cCA9PSAwKSB7XG4gICAgICB0aGlzLmVtaXQoJ25lZWRjYXRjaHVwJywgeyBmYWlsdXJlczogdGhpcy5mYWlsdXJlcyB9KVxuICAgIH1cblxuICAgIHRoaXMuYmFja29mZiA9IE1hdGgubWF4KFxuICAgICAgTWF0aC5taW4odGhpcy5iYWNrb2ZmICogMiwgbWF4aW11bUJhY2tvZmYpLFxuICAgICAgbWluaW11bUJhY2tvZmZcbiAgICApXG4gIH1cblxuICAvKipcbiAgICogUHJvZ3JhbSBzb21ldGhpbmcgYWZ0ZXIgYmFja29mZlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAgICovXG4gIGFmdGVyQmFja29mZigpIHtcbiAgICBjb25zdCBmbiA9IHJlc29sdmUgPT4ge1xuICAgICAgaWYgKHRoaXMuYmFja29mZiA8IG1pbmltdW1CYWNrb2ZmKSB7XG4gICAgICAgIHJlc29sdmUoKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2luZG93LnNldFRpbWVvdXQocmVzb2x2ZSwgdGhpcy5iYWNrb2ZmKVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmV3IFByb21pc2UoZm4pXG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZSB0aGUgc3RlcHMgcXVldWVcbiAgICovXG4gIGluaXRpYWxpemVTdGVwc1F1ZXVlKCkge1xuICAgIHRoaXMucXVldWVkU3RlcCA9IHVuZGVmaW5lZFxuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBzb21ldGhpbmcgaXMgbm90IGZ1bGx5IHNlbnQgdG8gdGhlIHNlcnZlclxuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbH1cbiAgICovXG4gIGlzRGlydHkoKSB7XG4gICAgcmV0dXJuIHRoaXMuaGFzUXVldWVkU3RlcHMoKSB8fCB0aGlzLmlzU2VuZGluZ1xuICB9XG5cbiAgLyoqXG4gICAqIEVuc3VyZXMgYWxsIGxvY2FsIHN0ZXBzIGFyZSBzZW50IHRvIHRoZSBzZXJ2ZXJcbiAgICovXG4gIGFzeW5jIGVuc3VyZUVtcHR5UXVldWUoKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgZnVuY3Rpb24gb25FbXB0eVF1ZXVlKCkge1xuICAgICAgICB0aGlzLm9mZignZW1wdHlRdWV1ZScsIG9uRW1wdHlRdWV1ZSlcbiAgICAgICAgcmVzb2x2ZSgpXG4gICAgICB9XG4gICAgICBpZiAodGhpcy5pc0RpcnR5KCkpIHtcbiAgICAgICAgdGhpcy5vbignZW1wdHlRdWV1ZScsIG9uRW1wdHlRdWV1ZSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc29sdmUoKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICAvKipcbiAgICogRW5xdWV1ZSBzdGVwc1xuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBnZXRTdGF0ZSAtIGZ1bmN0aW9uIHRvIGdldCBhIGN1cnJlbnQgcHJvc2VNaXJyb3Igc3RhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IHN0YXRlIC0gcHJvc2VNaXJyb3Igc3RhdGVcbiAgICogQHBhcmFtIHtPYmplY3RbXX0gbG9jYWxTdGVwcyAtIGxvY2FsIHN0ZXBzIHRvIHNlbmRcbiAgICovXG4gIGVucXVldWVTdGVwcyh7IGdldFN0YXRlLCBzdGF0ZSwgbG9jYWxTdGVwcyB9KSB7XG4gICAgdGhpcy5xdWV1ZWRTdGVwID0geyBnZXRTdGF0ZSwgc3RhdGUsIGxvY2FsU3RlcHMgfVxuICB9XG5cbiAgLyoqXG4gICAqIERlcXVldWUgc3RlcHNcbiAgICogQHJldHVybnMge2dldFN0YXRlLCBzdGF0ZSwgbG9jYWxTdGVwc31cbiAgICovXG4gIGRlcXVldWVTdGVwcygpIHtcbiAgICBjb25zdCBxdWV1ZWQgPSB0aGlzLnF1ZXVlZFN0ZXBcbiAgICBjb25zdCBnZXRTdGF0ZSA9IHF1ZXVlZC5nZXRTdGF0ZVxuICAgIGNvbnN0IHN0YXRlID0gcXVldWVkLnN0YXRlIHx8IGdldFN0YXRlKClcbiAgICBjb25zdCBsb2NhbFN0ZXBzID0gcXVldWVkLmxvY2FsU3RlcHMgfHxcbiAgICAgIHNlbmRhYmxlU3RlcHMoc3RhdGUpIHx8IHsgc3RlcHM6IFtdIH1cbiAgICB0aGlzLnF1ZXVlZFN0ZXAgPSB1bmRlZmluZWRcblxuICAgIHJldHVybiB7IGdldFN0YXRlLCBzdGF0ZSwgbG9jYWxTdGVwcyB9XG4gIH1cblxuICAvKipcbiAgICogVGVzdCBpZiB0aGVyZSBpcyBhIHF1ZXVlZCBzdGVwXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgaGFzUXVldWVkU3RlcHMoKSB7XG4gICAgcmV0dXJuICEhdGhpcy5xdWV1ZWRTdGVwXG4gIH1cblxuICAvKipcbiAgICogUmViYXNlIHN0ZXBzIGluIHF1ZXVlXG4gICAqL1xuICByZWJhc2VTdGVwc0luUXVldWUoKSB7XG4gICAgaWYgKHRoaXMucXVldWVkU3RlcCkge1xuICAgICAgdGhpcy5xdWV1ZWRTdGVwID0geyBnZXRTdGF0ZTogdGhpcy5xdWV1ZWRTdGVwLmdldFN0YXRlIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUHJvZ3JhbSBhIHB1c2ggZm9yIG5ldyBzdGVwcyB0byB0aGUgc2VydmljZVxuICAgKiBAcGFyYW0ge09iamVjdH0gc3RhdGUgLSBzdGF0ZSBmcm9tIHByb3NlTWlycm9yIGludGVybmFsc1xuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBnZXRTdGF0ZSAtIHJldHVybnMgY3VycmVudCBwcm9zZU1pcnJvciBzdGF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gbG9jYWxTdGVwcyAtIGxvY2FsU3RlcHMgb2JqZWN0IGZyb20gcHJvc2VNaXJyb3IgaW50ZXJuYWxzXG4gICAqIFRvZGF5IHRoZSBwcm92aWRlciBjYWxsaW5nIGBzZW5kU3RlcHNgIGRvIG5vdCBmaWxsIHRoZSBsb2NhbFN0ZXBzXG4gICAqIHBhcmFtZXRlci4gVGhpcyBwYXJhbWV0ZXIgaXMgaG93ZXZlciBwcm92aXNpb25uZWQgaW4gdGhlIGRlbW8gY29kZSBmcm9tXG4gICAqIEF0bGFza2l0LiBJIHByZWZlciBub3QgdG8gcmVtb3ZlIGl0LCBpbiBjYXNlIHdlIG5lZWQgaXQgbGF0ZXIuXG4gICAqL1xuICBhc3luYyBzZW5kU3RlcHMoZ2V0U3RhdGUsIHN0YXRlLCBsb2NhbFN0ZXBzKSB7XG4gICAgdGhpcy5lbWl0KCdlbnF1ZXVlU3RlcHMnKVxuICAgIHRoaXMuZW5xdWV1ZVN0ZXBzKHsgZ2V0U3RhdGUsIHN0YXRlLCBsb2NhbFN0ZXBzIH0pXG4gICAgYXdhaXQgdGhpcy5wcm9jZXNzUXVldWUoKVxuICB9XG5cbiAgLyoqXG4gICAqIFNlbmQgc3RlcHMgaW4gcXVldWVcbiAgICovXG4gIGFzeW5jIHByb2Nlc3NRdWV1ZSgpIHtcbiAgICBpZiAodGhpcy5pc1NlbmRpbmcpIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBpZiAoIXRoaXMuaGFzUXVldWVkU3RlcHMoKSkge1xuICAgICAgdGhpcy5lbWl0KCdlbXB0eVF1ZXVlJylcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHRoaXMuaXNTZW5kaW5nID0gdHJ1ZVxuICAgIGF3YWl0IHRoaXMuYWZ0ZXJCYWNrb2ZmKClcblxuICAgIGNvbnN0IHtcbiAgICAgIGdldFN0YXRlLFxuICAgICAgc3RhdGUsXG4gICAgICBsb2NhbFN0ZXBzOiB7IHN0ZXBzIH1cbiAgICB9ID0gdGhpcy5kZXF1ZXVlU3RlcHMoKVxuICAgIGNvbnN0IHZlcnNpb24gPSBnZXRWZXJzaW9uKHN0YXRlKVxuXG4gICAgLy8gRG9uJ3Qgc2VuZCBhbnkgc3RlcHMgYmVmb3JlIHdlJ3JlIHJlYWR5LlxuICAgIGlmICh0eXBlb2YgdmVyc2lvbiA9PT0gJ3VuZGVmaW5lZCcpIHJldHVyblxuICAgIC8vIE5vdGhpbmcgdG8gZG8gaWYgbm8gc3RlcHNcbiAgICBpZiAoc3RlcHMubGVuZ3RoID09PSAwKSByZXR1cm5cblxuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IG5vdGVJZCB9ID0gdGhpcy5jb25maWdcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZXJ2aWNlLnB1c2hTdGVwcyhub3RlSWQsIHZlcnNpb24sIHN0ZXBzKVxuICAgICAgdGhpcy5yZWJhc2VTdGVwc0luUXVldWUoKVxuICAgICAgdGhpcy5yZXNldEJhY2tvZmYoKVxuICAgICAgdGhpcy5lbWl0KCdzdWNjZXNzZnVsUGF0Y2gnKVxuICAgICAgdGhpcy5pc1NlbmRpbmcgPSBmYWxzZVxuICAgICAgaWYgKHJlc3BvbnNlICYmIHJlc3BvbnNlLnN0ZXBzICYmIHJlc3BvbnNlLnN0ZXBzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdGhpcy5lbWl0KCdkYXRhJywgcmVzcG9uc2UpXG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBpZiAoZmxhZygnbm90ZXMubGFzdFBhdGNoRXJyb3InKSkge1xuICAgICAgICBzZXREZWJ1Z1ZhbHVlKCdub3Rlcy5sYXN0UGF0Y2hFcnJvcicsIGVycilcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmhhc1F1ZXVlZFN0ZXBzKCkpIHtcbiAgICAgICAgLy8gd2lsbCByZXRyeSBsYXRlciB3aXRoIG1vcmUgc3RlcHNcbiAgICAgICAgdGhpcy5yZWJhc2VTdGVwc0luUXVldWUoKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gc2VuZCBhZ2FpbiB0aGUgY3VycmVudCBzdGVwc1xuICAgICAgICB0aGlzLmVucXVldWVTdGVwcyh7IGdldFN0YXRlIH0pXG4gICAgICB9XG4gICAgICB0aGlzLmluY3JlYXNlQmFja29mZigpXG4gICAgICB0aGlzLmlzU2VuZGluZyA9IGZhbHNlXG4gICAgfVxuICAgIC8vIGlmIGV2ZXIgdGhlcmUgd2FzIHNvbWV0aGluZyB3YWl0aW5nXG4gICAgYXdhaXQgdGhpcy5wcm9jZXNzUXVldWUoKVxuICB9XG5cbiAgLyoqXG4gICAqIENvbm5lY3QgdG8gcHVic3ViIHRvIHN0YXJ0IHJlY2VpdmluZyBldmVudHNcbiAgICovXG4gIGFzeW5jIGNvbm5lY3QoeyB2ZXJzaW9uLCBkb2MsIHVwZGF0ZWRBdCB9KSB7XG4gICAgY29uc3QgeyBub3RlSWQgfSA9IHRoaXMuY29uZmlnXG4gICAgdGhpcy5zZXJ2aWNlLmpvaW4obm90ZUlkKVxuICAgIHRoaXMuc2VydmljZS5vblN0ZXBzQ3JlYXRlZChub3RlSWQsIGRhdGEgPT4ge1xuICAgICAgdGhpcy5lbWl0KCdkYXRhJywgeyB2ZXJzaW9uOiBkYXRhLnZlcnNpb24sIHN0ZXBzOiBbZGF0YV0gfSlcbiAgICB9KVxuICAgIHRoaXMuc2VydmljZS5vblRlbGVwb2ludGVyVXBkYXRlZChub3RlSWQsIHBheWxvYWQgPT4ge1xuICAgICAgdGhpcy5lbWl0KCd0ZWxlcG9pbnRlcicsIHBheWxvYWQpXG4gICAgfSlcbiAgICB0aGlzLnNlcnZpY2Uub25TY2hlbWFVcGRhdGVkKG5vdGVJZCwgKCkgPT4ge1xuICAgICAgdGhpcy5lbWl0KCdzY2hlbWF1cGRhdGVkJylcbiAgICB9KVxuICAgIHRoaXMuZW1pdCgnY29ubmVjdGVkJywgeyB2ZXJzaW9uLCBkb2MsIHVwZGF0ZWRBdCB9KVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBzdGVwcyBmcm9tIHZlcnNpb24geCB0byBsYXRlc3RcbiAgICovXG4gIGFzeW5jIGdldFN0ZXBzKHZlcnNpb24pIHtcbiAgICBjb25zdCB7IG5vdGVJZCB9ID0gdGhpcy5jb25maWdcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5zZXJ2aWNlLmdldFN0ZXBzKG5vdGVJZCwgdmVyc2lvbilcbiAgfVxuXG4gIC8qKlxuICAgKiBTZW5kIHRlbGVwb2ludGVyXG4gICAqL1xuICBhc3luYyBzZW5kVGVsZXBvaW50ZXIoZGF0YSkge1xuICAgIGNvbnN0IHsgbm90ZUlkIH0gPSB0aGlzLmNvbmZpZ1xuICAgIHJldHVybiBhd2FpdCB0aGlzLnNlcnZpY2UucHVzaFRlbGVwb2ludGVyKG5vdGVJZCwgZGF0YSlcbiAgfVxuXG4gIC8qKlxuICAgKiBTdWJzY3JpYmUgdG8gZXZlbnRzIGVtaXR0ZWQgYnkgdGhpcyBjaGFubmVsXG4gICAqL1xuICBvbihldnQsIGhhbmRsZXIpIHtcbiAgICB0aGlzLmV2ZW50RW1pdHRlci5vbihldnQsIGhhbmRsZXIpXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiBVbnN1YnNjcmliZSBmcm9tIGV2ZW50cyBlbWl0dGVkIGJ5IHRoaXMgY2hhbm5lbFxuICAgKi9cbiAgb2ZmKGV2dCwgaGFuZGxlcikge1xuICAgIHRoaXMuZXZlbnRFbWl0dGVyLm9mZihldnQsIGhhbmRsZXIpXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiBFbWl0IGV2ZW50cyB0byBzdWJzY3JpYmVyc1xuICAgKi9cbiAgZW1pdChldnQsIGRhdGEpIHtcbiAgICB0aGlzLmV2ZW50RW1pdHRlci5lbWl0KGV2dCwgZGF0YSlcbiAgICByZXR1cm4gdGhpc1xuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFBQTtBQUFBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUFBO0FBQUE7QUFJQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBQUE7QUFBQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUFBO0FBQUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFBQTtBQUFBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBQUE7QUFBQTtBQUFBO0FBTUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBQUE7QUFBQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBQUE7QUFBQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBQUE7QUFBQTtBQUlBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUkE7QUFBQTtBQUFBO0FBQUE7QUFTQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFGQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBSUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQU9BO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUZBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBRkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBRkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBRkE7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBQUE7QUFBQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFBQTtBQUFBO0FBSUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/lib/collab/channel.js\n");

/***/ }),

/***/ "./src/lib/collab/content.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"defaultContent\", function() { return defaultContent; });\nvar defaultContent = [{\n  type: 'paragraph'\n}];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGliL2NvbGxhYi9jb250ZW50LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi9jb2xsYWIvY29udGVudC5qcz8zZDQ2Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBkZWZhdWx0Q29udGVudCA9IFt7IHR5cGU6ICdwYXJhZ3JhcGgnIH1dXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/lib/collab/content.js\n");

/***/ }),

/***/ "./src/lib/collab/participant.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getParticipant\", function() { return getParticipant; });\nvar getParticipant = function getParticipant(_ref) {\n  var userId = _ref.userId,\n    sessionId = _ref.sessionId;\n  return {\n    userId: sessionId,\n    sessionId: sessionId || userId,\n    name: userId,\n    avatar: null,\n    email: null\n  };\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGliL2NvbGxhYi9wYXJ0aWNpcGFudC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9saWIvY29sbGFiL3BhcnRpY2lwYW50LmpzP2U1MzkiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGdldFBhcnRpY2lwYW50ID0gKHsgdXNlcklkLCBzZXNzaW9uSWQgfSkgPT4gKHtcbiAgdXNlcklkOiBzZXNzaW9uSWQsXG4gIHNlc3Npb25JZDogc2Vzc2lvbklkIHx8IHVzZXJJZCxcbiAgbmFtZTogdXNlcklkLFxuICBhdmF0YXI6IG51bGwsXG4gIGVtYWlsOiBudWxsXG59KVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/lib/collab/participant.js\n");

/***/ }),

/***/ "./src/lib/collab/provider.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CollabProvider\", function() { return CollabProvider; });\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/toConsumableArray.js\");\n/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _atlaskit_editor_json_transformer__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./node_modules/@atlaskit/editor-json-transformer/dist/esm/index.js\");\n/* harmony import */ var eventemitter2__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./node_modules/eventemitter2/lib/eventemitter2.js\");\n/* harmony import */ var eventemitter2__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(eventemitter2__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./node_modules/lodash/debounce.js\");\n/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(lodash_debounce__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"./node_modules/lodash/get.js\");\n/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var prosemirror_collab__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"./node_modules/prosemirror-collab/dist/index.es.js\");\n/* harmony import */ var _channel__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"./src/lib/collab/channel.js\");\n/* harmony import */ var _participant__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"./src/lib/collab/participant.js\");\n\n\n\n\n\n\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4___default()(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n\n\n\n\n\n\n\nvar jsonTransformer = new _atlaskit_editor_json_transformer__WEBPACK_IMPORTED_MODULE_6__[\"JSONTransformer\"]();\n// Using the jsonTransformer directly introduce a bug for empty documents\n// with only one paragraph. The transformed document has no content\n// (not even the paragraph) and makes the Editor to always when think\n// it is as version=0. This would break the catchup logic.\n// This patch fixes this unique case, creating a correct empty document with\n// an empty paragraph\nvar oldEncode = jsonTransformer.encode.bind(jsonTransformer);\njsonTransformer.encode = function (doc) {\n  var transformed = oldEncode(doc);\n  if (transformed.content.length === 0 && doc.content.length != 0) {\n    return {\n      content: [{\n        type: 'paragraph',\n        content: []\n      }],\n      type: 'doc'\n    };\n  } else {\n    return transformed;\n  }\n};\n\n/**\n * The CollabProvider is called directly by the\n * collaboration plugin of proseMirror.\n * It will then use `Channel` as communication\n * layer with the `ServiceClient`, which itself\n * talk to the server.\n */\n\nvar CollabProvider = /*#__PURE__*/function () {\n  function CollabProvider(config, serviceClient) {\n    var _this = this;\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default()(this, CollabProvider);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4___default()(this, \"processRemoteData\", function (data) {\n      var version = data.version,\n        steps = data.steps;\n      if (steps && steps.length) {\n        var userIds = steps.map(function (step) {\n          return step.sessionId || _this.serviceClient.getUserId(step.sessionId);\n        });\n        _this.emit('data', {\n          json: steps,\n          version: version,\n          userIds: userIds\n        });\n      } else {\n        // eslint-disable-next-line no-console\n        console.warn('Collab.Provider: processRemoteData no steps ? ', steps, data);\n      }\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4___default()(this, \"onReceiveData\", function (data) {\n      _this.queueData(data);\n      _this.processQueue();\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4___default()(this, \"onReceiveTelepointer\", function (data) {\n      var sessionId = data.sessionId;\n      var userId = _this.serviceClient.getUserId(sessionId);\n      if (userId === _this.config.userId) {\n        return;\n      }\n      var participant = _this.participants.get(userId);\n      if (participant && participant.lastActive > data.timestamp) {\n        return;\n      }\n      _this.updateParticipant(sessionId, data.timestamp);\n      _this.emit('telepointer', data);\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4___default()(this, \"onReceiveSchemaUpdated\", function () {\n      window.location.reload(true);\n    });\n    this.config = _objectSpread({}, config);\n    this.config['sessionId'] = serviceClient.getSessionId();\n    this.config['userId'] = serviceClient.getUserId();\n    // this debounce is primary here to introduce a short delay so that\n    // the local step is definitively applied in the editor. The debounce\n    // is the optional additional value to avoid reseting the state too much\n    this.cancelLocalChanges = lodash_debounce__WEBPACK_IMPORTED_MODULE_8___default()(this.cancelLocalChanges.bind(this), 100);\n    this.setReadOnly(!!this.config['readOnly']);\n    this.serviceClient = serviceClient;\n    this.channel = config.channel || new _channel__WEBPACK_IMPORTED_MODULE_11__[\"Channel\"](this.config, serviceClient);\n    this.eventEmitter = new eventemitter2__WEBPACK_IMPORTED_MODULE_7__[\"EventEmitter2\"]();\n    this.queue = [];\n    this.getState = function () {};\n    this.participants = new Map();\n    this.pauseQueue = false;\n    this.initialVersion = config.version;\n    this.initialDate = config.updatedAt || new Date();\n    this.pauseQueue = false;\n  }\n\n  /**\n   * Initialze the collaboration provider\n   * @param {Function} getState - How to get the proseMirror state\n   */\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default()(CollabProvider, [{\n    key: \"initialize\",\n    value: function initialize(getState) {\n      var _this2 = this;\n      this.getState = getState;\n      this.channel.on('connected', function (_ref) {\n        var doc = _ref.doc,\n          version = _ref.version,\n          updatedAt = _ref.updatedAt;\n        var sessionId = _this2.config.sessionId;\n        _this2.emit('init', {\n          sid: sessionId,\n          doc: doc,\n          version: version\n        }); // Set initial document\n        _this2.emit('connected', {\n          sid: sessionId\n        }); // Let the plugin know that we're connected an ready to go\n        _this2.listenStateEvents({\n          lastRemoteSync: updatedAt\n        });\n      });\n      this.channel.on('data', this.onReceiveData);\n      this.channel.on('telepointer', this.onReceiveTelepointer);\n      this.channel.on('schemaupdated', this.onReceiveSchemaUpdated);\n      this.channel.on('needcatchup', function () {\n        return _this2.catchup();\n      });\n      var state = getState();\n      var doc = jsonTransformer.encode(state.doc);\n      var usableVersion = this.initialVersion !== undefined ? this.initialVersion : doc.version;\n      var collabDoc = _objectSpread(_objectSpread({}, doc), {}, {\n        version: usableVersion\n      });\n      this.channel.connect({\n        version: usableVersion,\n        doc: collabDoc,\n        updatedAt: this.initialDate\n      });\n      return this;\n    }\n\n    /**\n     * Send steps from transaction to other participants\n     */\n  }, {\n    key: \"send\",\n    value: function send(tr, oldState, newState) {\n      // Ignore transactions without steps\n      if (!tr.steps || !tr.steps.length) return;\n\n      // cancel changes on a readonly document\n      if (this.isReadOnly()) {\n        this.cancelLocalChanges();\n        return;\n      }\n      this.channel.sendSteps(this.getState, newState);\n    }\n\n    /**\n     * Send messages, such as telepointers, to other participants.\n     */\n  }, {\n    key: \"sendMessage\",\n    value: function sendMessage(data) {\n      if (!data || this.isReadOnly()) {\n        return;\n      }\n      var type = data.type;\n      switch (type) {\n        case 'telepointer':\n          this.channel.sendTelepointer(_objectSpread(_objectSpread({}, data), {}, {\n            timestamp: new Date().getTime()\n          }));\n      }\n    }\n\n    /**\n     * Queue new steps from the server which should\n     * be applied to the local editor\n     * @param {Object} data - new steps\n     */\n  }, {\n    key: \"queueData\",\n    value: function queueData(data) {\n      // If a change couldn't be applied or discarded, it will\n      // block the queue, waiting for missing steps\n      // Let order changes, putting first the one that could be\n      // applied (or discarded) first, and avoir dead-locks\n      var orderedQueue = [].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default()(this.queue), [data]).sort(function (a, b) {\n        // order by document version before applying the change\n        var aStart = a.version - a.steps.length;\n        var bStart = b.version - b.steps.length;\n        if (aStart > bStart) return 1;\n        if (aStart < bStart) return -1;\n        // for same starting version, keep first the one going further\n        // we could apply the shorter, but then we'd have to discard\n        // the longer, and may miss some step contained in it\n        if (a.version > b.version) return -1;\n        if (a.version < b.version) return 1;\n        return 0;\n      });\n      this.queue = orderedQueue;\n    }\n\n    /**\n     * Catchup after multiple errors\n     * @param {Function} getState - filled when requested from channel\n     */\n  }, {\n    key: \"catchup\",\n    value: (function () {\n      var _catchup = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_5___default.a.mark(function _callee() {\n        var currentVersion, _yield$this$channel$g, doc, version, steps, sessionId, _ref2, _ref2$steps, localSteps;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_5___default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                // forbids other changes to be accepted during the catchup\n                // we will process them later\n                this.pauseQueue = true;\n                currentVersion = Object(prosemirror_collab__WEBPACK_IMPORTED_MODULE_10__[\"getVersion\"])(this.getState());\n                _context.prev = 2;\n                _context.next = 5;\n                return this.channel.getSteps(currentVersion);\n              case 5:\n                _yield$this$channel$g = _context.sent;\n                doc = _yield$this$channel$g.doc;\n                version = _yield$this$channel$g.version;\n                steps = _yield$this$channel$g.steps;\n                if (doc) {\n                  // we lag too much, server did send us the whole document\n                  sessionId = this.config.sessionId; // get local steps and re-emit them after reinit the whole document\n                  _ref2 = Object(prosemirror_collab__WEBPACK_IMPORTED_MODULE_10__[\"sendableSteps\"])(this.getState()) || {}, _ref2$steps = _ref2.steps, localSteps = _ref2$steps === void 0 ? [] : _ref2$steps;\n                  this.emit('init', {\n                    sid: sessionId,\n                    doc: doc,\n                    version: version\n                  });\n                  if (localSteps.length && !this.isReadOnly()) {\n                    this.emit('local-steps', {\n                      steps: localSteps\n                    });\n                  }\n                } else if (steps.length > 0) {\n                  // we got steps to apply\n                  this.onReceiveData({\n                    steps: steps,\n                    version: version\n                  }, true);\n                }\n                // processQueue again\n                this.queueTimeout = undefined;\n                this.pauseQueue = false;\n                this.processQueue();\n                _context.next = 19;\n                break;\n              case 15:\n                _context.prev = 15;\n                _context.t0 = _context[\"catch\"](2);\n                // something got wrong, try to catchup again\n                // TODO : maybe try to reinit the full doc ?\n                this.pauseQueue = false;\n                this.programCatchup();\n              case 19:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[2, 15]]);\n      }));\n      function catchup() {\n        return _catchup.apply(this, arguments);\n      }\n      return catchup;\n    }()\n    /**\n     * Something got wrong, we program a catchup,\n     * waiting 1s in case we receive new message\n     * that may resolve our problems\n     */\n    )\n  }, {\n    key: \"programCatchup\",\n    value: function programCatchup() {\n      var _this3 = this;\n      if (!this.queueTimeout) {\n        this.queueTimeout = window.setTimeout(function () {\n          _this3.catchup();\n        }, 1000);\n      }\n    }\n\n    /**\n     * When received new messages that resolve a previous\n     * problem: Cancelling the programed catchup\n     */\n  }, {\n    key: \"cancelCatchup\",\n    value: function cancelCatchup() {\n      if (this.queueTimeout) {\n        window.clearTimeout(this.queueTimeout);\n        this.queueTimeout = undefined;\n      }\n    }\n\n    /**\n     * Process the message queue (new steps from the servers)\n     */\n  }, {\n    key: \"processQueue\",\n    value: function processQueue() {\n      if (this.queue.length > 0 && !this.pauseQueue) {\n        var currentVersion = Object(prosemirror_collab__WEBPACK_IMPORTED_MODULE_10__[\"getVersion\"])(this.getState());\n        while (this.queue.length > 0) {\n          var first = this.queue[0];\n          var firstVersion = first.version;\n          var expectedVersion = first.steps.length + currentVersion;\n          if (firstVersion == expectedVersion) {\n            // process item\n            this.cancelCatchup();\n            this.queue.shift();\n            this.processRemoteData(first);\n            currentVersion = firstVersion;\n          } else {\n            if (firstVersion <= expectedVersion) {\n              // item is obsolete, we won't be able to process it\n              this.queue.shift();\n            }\n            if (firstVersion > expectedVersion) {\n              // we miss some steps\n              this.programCatchup();\n              break;\n            }\n          }\n        }\n      }\n    }\n\n    /**\n     * Send new steps from the server to the local proseMirror editor\n     * These steps should be previously checked and ordered\n     */\n\n    /**\n     * We receive new steps  from the server\n     */\n\n    /**\n     * We receive new user cursor positions from the server\n     */\n\n    /**\n     * We receive an update of the schema from the server\n     * We reload the page\n     */\n  }, {\n    key: \"updateParticipant\",\n    value: function updateParticipant(sessionId, timestamp) {\n      var _this4 = this;\n      var userId = this.serviceClient.getUserId(sessionId);\n      var participant = Object(_participant__WEBPACK_IMPORTED_MODULE_12__[\"getParticipant\"])({\n        userId: userId,\n        sessionId: sessionId\n      });\n      this.participants.set(userId, _objectSpread(_objectSpread({\n        name: '',\n        email: '',\n        avatar: '',\n        sessionId: sessionId,\n        userId: userId\n      }, participant), {}, {\n        lastActive: timestamp\n      }));\n      var joined = [this.participants.get(userId)];\n\n      // Filter out participants that's been inactive for\n      // more than 5 minutes.\n\n      var now = new Date().getTime();\n      var left = Array.from(this.participants.values()).filter(function (p) {\n        return (now - p.lastActive) / 1000 > 300;\n      });\n      left.forEach(function (p) {\n        return _this4.participants[\"delete\"](p.userId);\n      });\n      this.emit('presence', {\n        joined: joined,\n        left: left\n      });\n    }\n\n    /**\n     * Emit events to subscribers\n     */\n  }, {\n    key: \"emit\",\n    value: function emit(evt, data) {\n      this.eventEmitter.emit(evt, data);\n      return this;\n    }\n\n    /**\n     * Subscribe to events emitted by this provider\n     */\n  }, {\n    key: \"on\",\n    value: function on(evt, handler) {\n      this.eventEmitter.on(evt, handler);\n      return this;\n    }\n\n    /**\n     * Unsubscribe from events emitted by this provider\n     */\n  }, {\n    key: \"off\",\n    value: function off(evt, handler) {\n      this.eventEmitter.off(evt, handler);\n      return this;\n    }\n\n    /**\n     * Unsubscribe all listeners for this event\n     */\n  }, {\n    key: \"unsubscribeAll\",\n    value: function unsubscribeAll(evt) {\n      this.eventEmitter.removeAllListeners(evt);\n    }\n\n    /**\n     * Checks if something is not fully sent to the server\n     *\n     * @returns {bool}\n     */\n  }, {\n    key: \"isDirty\",\n    value: function isDirty() {\n      return !!this.dirtySince;\n    }\n\n    /**\n     * Date since which something is waiting to be sent to the server\n     *\n     * @returns {Date|undefined} undefined if the state is not dirty\n     */\n  }, {\n    key: \"getDirtySince\",\n    value: function getDirtySince() {\n      return this.dirtySince;\n    }\n\n    /**\n     * Date of the last save of local state to the server\n     *\n     * @returns {Date|undefined}\n     */\n  }, {\n    key: \"getLastLocalSave\",\n    value: function getLastLocalSave() {\n      return this.lastLocalSave;\n    }\n\n    /**\n     * Date of the last sync with data from the server\n     *\n     * @returns {Date|undefined}\n     */\n  }, {\n    key: \"getLastRemoteSync\",\n    value: function getLastRemoteSync() {\n      return this.lastRemoteSync;\n    }\n\n    /**\n     * Date of last update with the server (both in or out)\n     *\n     * @returns {Date|undefined}\n     */\n  }, {\n    key: \"getLastSaveOrSync\",\n    value: function getLastSaveOrSync() {\n      return this.lastLocalSave > this.lastRemoteSync ? this.lastLocalSave : this.lastRemoteSync;\n    }\n\n    /**\n     * When we successfuly save local changes to the server\n     *\n     * @private\n     */\n  }, {\n    key: \"onLocalSave\",\n    value: function onLocalSave() {\n      this.lastLocalSave = new Date();\n      this.emit('collab-state-change');\n    }\n\n    /**\n     * When we successfuly get remote changes from the server\n     *\n     * @private\n     */\n  }, {\n    key: \"onRemoteSync\",\n    value: function onRemoteSync() {\n      this.lastRemoteSync = new Date();\n      this.emit('collab-state-change');\n    }\n\n    /**\n     * When we empty the queue of data to be sent to the server\n     * and none is being sent at the moment\n     *\n     * @private\n     */\n  }, {\n    key: \"onChannelEmptyQueue\",\n    value: function onChannelEmptyQueue() {\n      this.dirtySince = undefined;\n      this.emit('collab-state-change');\n    }\n\n    /**\n     * When we add  something to the queue of data to be sent to the server\n     *\n     * @private\n     */\n  }, {\n    key: \"onChannelEnqueue\",\n    value: function onChannelEnqueue() {\n      if (!this.dirtySince) {\n        this.dirtySince = new Date();\n        this.emit('collab-state-change');\n      }\n    }\n\n    /**\n     * Listen to events from and to the server\n     * to update the current dirty state and last save dates\n     *\n     * @private\n     */\n  }, {\n    key: \"listenStateEvents\",\n    value: function listenStateEvents() {\n      var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        lastRemoteSync = _ref3.lastRemoteSync;\n      this.channel.on('emptyQueue', this.onChannelEmptyQueue.bind(this));\n      this.channel.on('enqueueSteps', this.onChannelEnqueue.bind(this));\n      this.channel.on('successfulPatch', this.onLocalSave.bind(this));\n      this.on('data', this.onRemoteSync.bind(this));\n      this.on('init', this.onRemoteSync.bind(this));\n      if (lastRemoteSync) this.lastRemoteSync = lastRemoteSync;\n    }\n\n    /**\n     * Checks if the editor should be readonly\n     *\n     * @returns {bool}\n     */\n  }, {\n    key: \"isReadOnly\",\n    value: function isReadOnly() {\n      return this.readOnly;\n    }\n\n    /**\n     * Set the editor readonly or readwrite\n     *\n     * @param {bool} readOnly - true by default\n     */\n  }, {\n    key: \"setReadOnly\",\n    value: function setReadOnly() {\n      var readOnly = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n      this.readOnly = !!readOnly;\n      if (this.readOnly) this.cancelLocalChanges();\n    }\n\n    /**\n     * Remove all local changes  and go back to the server state\n     */\n  }, {\n    key: \"cancelLocalChanges\",\n    value: function cancelLocalChanges() {\n      var currentState = this.getState && this.getState();\n      if (currentState) {\n        var rawDoc = lodash_get__WEBPACK_IMPORTED_MODULE_9___default()(currentState, 'collab$.unconfirmed[0].origin.docs[0]');\n        var version = lodash_get__WEBPACK_IMPORTED_MODULE_9___default()(currentState, 'collab$.version');\n        var sid = this.config['sessionId'];\n        if (rawDoc && version && sid) {\n          var doc = rawDoc.toJSON();\n          this.emit('init', {\n            doc: doc,\n            version: version,\n            sid: sid\n          });\n        }\n      }\n    }\n  }]);\n  return CollabProvider;\n}();\n/* harmony default export */ __webpack_exports__[\"default\"] = (CollabProvider);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGliL2NvbGxhYi9wcm92aWRlci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9saWIvY29sbGFiL3Byb3ZpZGVyLmpzP2EwOGYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSlNPTlRyYW5zZm9ybWVyIH0gZnJvbSAnQGF0bGFza2l0L2VkaXRvci1qc29uLXRyYW5zZm9ybWVyJ1xuaW1wb3J0IHsgRXZlbnRFbWl0dGVyMiB9IGZyb20gJ2V2ZW50ZW1pdHRlcjInXG5pbXBvcnQgZGVib3VuY2UgZnJvbSAnbG9kYXNoL2RlYm91bmNlJ1xuaW1wb3J0IGdldCBmcm9tICdsb2Rhc2gvZ2V0J1xuaW1wb3J0IHsgZ2V0VmVyc2lvbiwgc2VuZGFibGVTdGVwcyB9IGZyb20gJ3Byb3NlbWlycm9yLWNvbGxhYidcblxuaW1wb3J0IHsgQ2hhbm5lbCB9IGZyb20gJy4vY2hhbm5lbCdcbmltcG9ydCB7IGdldFBhcnRpY2lwYW50IH0gZnJvbSAnLi9wYXJ0aWNpcGFudCdcblxuY29uc3QganNvblRyYW5zZm9ybWVyID0gbmV3IEpTT05UcmFuc2Zvcm1lcigpXG4vLyBVc2luZyB0aGUganNvblRyYW5zZm9ybWVyIGRpcmVjdGx5IGludHJvZHVjZSBhIGJ1ZyBmb3IgZW1wdHkgZG9jdW1lbnRzXG4vLyB3aXRoIG9ubHkgb25lIHBhcmFncmFwaC4gVGhlIHRyYW5zZm9ybWVkIGRvY3VtZW50IGhhcyBubyBjb250ZW50XG4vLyAobm90IGV2ZW4gdGhlIHBhcmFncmFwaCkgYW5kIG1ha2VzIHRoZSBFZGl0b3IgdG8gYWx3YXlzIHdoZW4gdGhpbmtcbi8vIGl0IGlzIGFzIHZlcnNpb249MC4gVGhpcyB3b3VsZCBicmVhayB0aGUgY2F0Y2h1cCBsb2dpYy5cbi8vIFRoaXMgcGF0Y2ggZml4ZXMgdGhpcyB1bmlxdWUgY2FzZSwgY3JlYXRpbmcgYSBjb3JyZWN0IGVtcHR5IGRvY3VtZW50IHdpdGhcbi8vIGFuIGVtcHR5IHBhcmFncmFwaFxuY29uc3Qgb2xkRW5jb2RlID0ganNvblRyYW5zZm9ybWVyLmVuY29kZS5iaW5kKGpzb25UcmFuc2Zvcm1lcilcbmpzb25UcmFuc2Zvcm1lci5lbmNvZGUgPSBmdW5jdGlvbiAoZG9jKSB7XG4gIGNvbnN0IHRyYW5zZm9ybWVkID0gb2xkRW5jb2RlKGRvYylcbiAgaWYgKHRyYW5zZm9ybWVkLmNvbnRlbnQubGVuZ3RoID09PSAwICYmIGRvYy5jb250ZW50Lmxlbmd0aCAhPSAwKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNvbnRlbnQ6IFt7IHR5cGU6ICdwYXJhZ3JhcGgnLCBjb250ZW50OiBbXSB9XSxcbiAgICAgIHR5cGU6ICdkb2MnXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJldHVybiB0cmFuc2Zvcm1lZFxuICB9XG59XG5cbi8qKlxuICogVGhlIENvbGxhYlByb3ZpZGVyIGlzIGNhbGxlZCBkaXJlY3RseSBieSB0aGVcbiAqIGNvbGxhYm9yYXRpb24gcGx1Z2luIG9mIHByb3NlTWlycm9yLlxuICogSXQgd2lsbCB0aGVuIHVzZSBgQ2hhbm5lbGAgYXMgY29tbXVuaWNhdGlvblxuICogbGF5ZXIgd2l0aCB0aGUgYFNlcnZpY2VDbGllbnRgLCB3aGljaCBpdHNlbGZcbiAqIHRhbGsgdG8gdGhlIHNlcnZlci5cbiAqL1xuXG5leHBvcnQgY2xhc3MgQ29sbGFiUHJvdmlkZXIge1xuICBjb25zdHJ1Y3Rvcihjb25maWcsIHNlcnZpY2VDbGllbnQpIHtcbiAgICB0aGlzLmNvbmZpZyA9IHsgLi4uY29uZmlnIH1cbiAgICB0aGlzLmNvbmZpZ1snc2Vzc2lvbklkJ10gPSBzZXJ2aWNlQ2xpZW50LmdldFNlc3Npb25JZCgpXG4gICAgdGhpcy5jb25maWdbJ3VzZXJJZCddID0gc2VydmljZUNsaWVudC5nZXRVc2VySWQoKVxuICAgIC8vIHRoaXMgZGVib3VuY2UgaXMgcHJpbWFyeSBoZXJlIHRvIGludHJvZHVjZSBhIHNob3J0IGRlbGF5IHNvIHRoYXRcbiAgICAvLyB0aGUgbG9jYWwgc3RlcCBpcyBkZWZpbml0aXZlbHkgYXBwbGllZCBpbiB0aGUgZWRpdG9yLiBUaGUgZGVib3VuY2VcbiAgICAvLyBpcyB0aGUgb3B0aW9uYWwgYWRkaXRpb25hbCB2YWx1ZSB0byBhdm9pZCByZXNldGluZyB0aGUgc3RhdGUgdG9vIG11Y2hcbiAgICB0aGlzLmNhbmNlbExvY2FsQ2hhbmdlcyA9IGRlYm91bmNlKHRoaXMuY2FuY2VsTG9jYWxDaGFuZ2VzLmJpbmQodGhpcyksIDEwMClcbiAgICB0aGlzLnNldFJlYWRPbmx5KCEhdGhpcy5jb25maWdbJ3JlYWRPbmx5J10pXG4gICAgdGhpcy5zZXJ2aWNlQ2xpZW50ID0gc2VydmljZUNsaWVudFxuICAgIHRoaXMuY2hhbm5lbCA9IGNvbmZpZy5jaGFubmVsIHx8IG5ldyBDaGFubmVsKHRoaXMuY29uZmlnLCBzZXJ2aWNlQ2xpZW50KVxuICAgIHRoaXMuZXZlbnRFbWl0dGVyID0gbmV3IEV2ZW50RW1pdHRlcjIoKVxuICAgIHRoaXMucXVldWUgPSBbXVxuICAgIHRoaXMuZ2V0U3RhdGUgPSAoKSA9PiB7fVxuICAgIHRoaXMucGFydGljaXBhbnRzID0gbmV3IE1hcCgpXG4gICAgdGhpcy5wYXVzZVF1ZXVlID0gZmFsc2VcbiAgICB0aGlzLmluaXRpYWxWZXJzaW9uID0gY29uZmlnLnZlcnNpb25cbiAgICB0aGlzLmluaXRpYWxEYXRlID0gY29uZmlnLnVwZGF0ZWRBdCB8fCBuZXcgRGF0ZSgpXG4gICAgdGhpcy5wYXVzZVF1ZXVlID0gZmFsc2VcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsemUgdGhlIGNvbGxhYm9yYXRpb24gcHJvdmlkZXJcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZ2V0U3RhdGUgLSBIb3cgdG8gZ2V0IHRoZSBwcm9zZU1pcnJvciBzdGF0ZVxuICAgKi9cbiAgaW5pdGlhbGl6ZShnZXRTdGF0ZSkge1xuICAgIHRoaXMuZ2V0U3RhdGUgPSBnZXRTdGF0ZVxuICAgIHRoaXMuY2hhbm5lbC5vbignY29ubmVjdGVkJywgKHsgZG9jLCB2ZXJzaW9uLCB1cGRhdGVkQXQgfSkgPT4ge1xuICAgICAgY29uc3QgeyBzZXNzaW9uSWQgfSA9IHRoaXMuY29uZmlnXG4gICAgICB0aGlzLmVtaXQoJ2luaXQnLCB7IHNpZDogc2Vzc2lvbklkLCBkb2MsIHZlcnNpb24gfSkgLy8gU2V0IGluaXRpYWwgZG9jdW1lbnRcbiAgICAgIHRoaXMuZW1pdCgnY29ubmVjdGVkJywgeyBzaWQ6IHNlc3Npb25JZCB9KSAvLyBMZXQgdGhlIHBsdWdpbiBrbm93IHRoYXQgd2UncmUgY29ubmVjdGVkIGFuIHJlYWR5IHRvIGdvXG4gICAgICB0aGlzLmxpc3RlblN0YXRlRXZlbnRzKHsgbGFzdFJlbW90ZVN5bmM6IHVwZGF0ZWRBdCB9KVxuICAgIH0pXG4gICAgdGhpcy5jaGFubmVsLm9uKCdkYXRhJywgdGhpcy5vblJlY2VpdmVEYXRhKVxuICAgIHRoaXMuY2hhbm5lbC5vbigndGVsZXBvaW50ZXInLCB0aGlzLm9uUmVjZWl2ZVRlbGVwb2ludGVyKVxuICAgIHRoaXMuY2hhbm5lbC5vbignc2NoZW1hdXBkYXRlZCcsIHRoaXMub25SZWNlaXZlU2NoZW1hVXBkYXRlZClcbiAgICB0aGlzLmNoYW5uZWwub24oJ25lZWRjYXRjaHVwJywgKCkgPT4gdGhpcy5jYXRjaHVwKCkpXG4gICAgY29uc3Qgc3RhdGUgPSBnZXRTdGF0ZSgpXG4gICAgY29uc3QgZG9jID0ganNvblRyYW5zZm9ybWVyLmVuY29kZShzdGF0ZS5kb2MpXG4gICAgY29uc3QgdXNhYmxlVmVyc2lvbiA9XG4gICAgICB0aGlzLmluaXRpYWxWZXJzaW9uICE9PSB1bmRlZmluZWQgPyB0aGlzLmluaXRpYWxWZXJzaW9uIDogZG9jLnZlcnNpb25cbiAgICBjb25zdCBjb2xsYWJEb2MgPSB7IC4uLmRvYywgdmVyc2lvbjogdXNhYmxlVmVyc2lvbiB9XG4gICAgdGhpcy5jaGFubmVsLmNvbm5lY3Qoe1xuICAgICAgdmVyc2lvbjogdXNhYmxlVmVyc2lvbixcbiAgICAgIGRvYzogY29sbGFiRG9jLFxuICAgICAgdXBkYXRlZEF0OiB0aGlzLmluaXRpYWxEYXRlXG4gICAgfSlcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIFNlbmQgc3RlcHMgZnJvbSB0cmFuc2FjdGlvbiB0byBvdGhlciBwYXJ0aWNpcGFudHNcbiAgICovXG4gIHNlbmQodHIsIG9sZFN0YXRlLCBuZXdTdGF0ZSkge1xuICAgIC8vIElnbm9yZSB0cmFuc2FjdGlvbnMgd2l0aG91dCBzdGVwc1xuICAgIGlmICghdHIuc3RlcHMgfHwgIXRyLnN0ZXBzLmxlbmd0aCkgcmV0dXJuXG5cbiAgICAvLyBjYW5jZWwgY2hhbmdlcyBvbiBhIHJlYWRvbmx5IGRvY3VtZW50XG4gICAgaWYgKHRoaXMuaXNSZWFkT25seSgpKSB7XG4gICAgICB0aGlzLmNhbmNlbExvY2FsQ2hhbmdlcygpXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICB0aGlzLmNoYW5uZWwuc2VuZFN0ZXBzKHRoaXMuZ2V0U3RhdGUsIG5ld1N0YXRlKVxuICB9XG5cbiAgLyoqXG4gICAqIFNlbmQgbWVzc2FnZXMsIHN1Y2ggYXMgdGVsZXBvaW50ZXJzLCB0byBvdGhlciBwYXJ0aWNpcGFudHMuXG4gICAqL1xuICBzZW5kTWVzc2FnZShkYXRhKSB7XG4gICAgaWYgKCFkYXRhIHx8IHRoaXMuaXNSZWFkT25seSgpKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBjb25zdCB7IHR5cGUgfSA9IGRhdGFcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgJ3RlbGVwb2ludGVyJzpcbiAgICAgICAgdGhpcy5jaGFubmVsLnNlbmRUZWxlcG9pbnRlcih7XG4gICAgICAgICAgLi4uZGF0YSxcbiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpXG4gICAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFF1ZXVlIG5ldyBzdGVwcyBmcm9tIHRoZSBzZXJ2ZXIgd2hpY2ggc2hvdWxkXG4gICAqIGJlIGFwcGxpZWQgdG8gdGhlIGxvY2FsIGVkaXRvclxuICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YSAtIG5ldyBzdGVwc1xuICAgKi9cbiAgcXVldWVEYXRhKGRhdGEpIHtcbiAgICAvLyBJZiBhIGNoYW5nZSBjb3VsZG4ndCBiZSBhcHBsaWVkIG9yIGRpc2NhcmRlZCwgaXQgd2lsbFxuICAgIC8vIGJsb2NrIHRoZSBxdWV1ZSwgd2FpdGluZyBmb3IgbWlzc2luZyBzdGVwc1xuICAgIC8vIExldCBvcmRlciBjaGFuZ2VzLCBwdXR0aW5nIGZpcnN0IHRoZSBvbmUgdGhhdCBjb3VsZCBiZVxuICAgIC8vIGFwcGxpZWQgKG9yIGRpc2NhcmRlZCkgZmlyc3QsIGFuZCBhdm9pciBkZWFkLWxvY2tzXG4gICAgY29uc3Qgb3JkZXJlZFF1ZXVlID0gWy4uLnRoaXMucXVldWUsIGRhdGFdLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgIC8vIG9yZGVyIGJ5IGRvY3VtZW50IHZlcnNpb24gYmVmb3JlIGFwcGx5aW5nIHRoZSBjaGFuZ2VcbiAgICAgIGNvbnN0IGFTdGFydCA9IGEudmVyc2lvbiAtIGEuc3RlcHMubGVuZ3RoXG4gICAgICBjb25zdCBiU3RhcnQgPSBiLnZlcnNpb24gLSBiLnN0ZXBzLmxlbmd0aFxuICAgICAgaWYgKGFTdGFydCA+IGJTdGFydCkgcmV0dXJuIDFcbiAgICAgIGlmIChhU3RhcnQgPCBiU3RhcnQpIHJldHVybiAtMVxuICAgICAgLy8gZm9yIHNhbWUgc3RhcnRpbmcgdmVyc2lvbiwga2VlcCBmaXJzdCB0aGUgb25lIGdvaW5nIGZ1cnRoZXJcbiAgICAgIC8vIHdlIGNvdWxkIGFwcGx5IHRoZSBzaG9ydGVyLCBidXQgdGhlbiB3ZSdkIGhhdmUgdG8gZGlzY2FyZFxuICAgICAgLy8gdGhlIGxvbmdlciwgYW5kIG1heSBtaXNzIHNvbWUgc3RlcCBjb250YWluZWQgaW4gaXRcbiAgICAgIGlmIChhLnZlcnNpb24gPiBiLnZlcnNpb24pIHJldHVybiAtMVxuICAgICAgaWYgKGEudmVyc2lvbiA8IGIudmVyc2lvbikgcmV0dXJuIDFcbiAgICAgIHJldHVybiAwXG4gICAgfSlcbiAgICB0aGlzLnF1ZXVlID0gb3JkZXJlZFF1ZXVlXG4gIH1cblxuICAvKipcbiAgICogQ2F0Y2h1cCBhZnRlciBtdWx0aXBsZSBlcnJvcnNcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZ2V0U3RhdGUgLSBmaWxsZWQgd2hlbiByZXF1ZXN0ZWQgZnJvbSBjaGFubmVsXG4gICAqL1xuICBhc3luYyBjYXRjaHVwKCkge1xuICAgIC8vIGZvcmJpZHMgb3RoZXIgY2hhbmdlcyB0byBiZSBhY2NlcHRlZCBkdXJpbmcgdGhlIGNhdGNodXBcbiAgICAvLyB3ZSB3aWxsIHByb2Nlc3MgdGhlbSBsYXRlclxuICAgIHRoaXMucGF1c2VRdWV1ZSA9IHRydWVcbiAgICBjb25zdCBjdXJyZW50VmVyc2lvbiA9IGdldFZlcnNpb24odGhpcy5nZXRTdGF0ZSgpKVxuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGRvYywgdmVyc2lvbiwgc3RlcHMgfSA9IGF3YWl0IHRoaXMuY2hhbm5lbC5nZXRTdGVwcyhcbiAgICAgICAgY3VycmVudFZlcnNpb25cbiAgICAgIClcbiAgICAgIGlmIChkb2MpIHtcbiAgICAgICAgLy8gd2UgbGFnIHRvbyBtdWNoLCBzZXJ2ZXIgZGlkIHNlbmQgdXMgdGhlIHdob2xlIGRvY3VtZW50XG4gICAgICAgIGNvbnN0IHsgc2Vzc2lvbklkIH0gPSB0aGlzLmNvbmZpZ1xuICAgICAgICAvLyBnZXQgbG9jYWwgc3RlcHMgYW5kIHJlLWVtaXQgdGhlbSBhZnRlciByZWluaXQgdGhlIHdob2xlIGRvY3VtZW50XG4gICAgICAgIGNvbnN0IHsgc3RlcHM6IGxvY2FsU3RlcHMgPSBbXSB9ID0gc2VuZGFibGVTdGVwcyh0aGlzLmdldFN0YXRlKCkpIHx8IHt9XG4gICAgICAgIHRoaXMuZW1pdCgnaW5pdCcsIHsgc2lkOiBzZXNzaW9uSWQsIGRvYywgdmVyc2lvbiB9KVxuICAgICAgICBpZiAobG9jYWxTdGVwcy5sZW5ndGggJiYgIXRoaXMuaXNSZWFkT25seSgpKSB7XG4gICAgICAgICAgdGhpcy5lbWl0KCdsb2NhbC1zdGVwcycsIHsgc3RlcHM6IGxvY2FsU3RlcHMgfSlcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChzdGVwcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIC8vIHdlIGdvdCBzdGVwcyB0byBhcHBseVxuICAgICAgICB0aGlzLm9uUmVjZWl2ZURhdGEoeyBzdGVwcywgdmVyc2lvbiB9LCB0cnVlKVxuICAgICAgfVxuICAgICAgLy8gcHJvY2Vzc1F1ZXVlIGFnYWluXG4gICAgICB0aGlzLnF1ZXVlVGltZW91dCA9IHVuZGVmaW5lZFxuICAgICAgdGhpcy5wYXVzZVF1ZXVlID0gZmFsc2VcbiAgICAgIHRoaXMucHJvY2Vzc1F1ZXVlKClcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIC8vIHNvbWV0aGluZyBnb3Qgd3JvbmcsIHRyeSB0byBjYXRjaHVwIGFnYWluXG4gICAgICAvLyBUT0RPIDogbWF5YmUgdHJ5IHRvIHJlaW5pdCB0aGUgZnVsbCBkb2MgP1xuICAgICAgdGhpcy5wYXVzZVF1ZXVlID0gZmFsc2VcbiAgICAgIHRoaXMucHJvZ3JhbUNhdGNodXAoKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTb21ldGhpbmcgZ290IHdyb25nLCB3ZSBwcm9ncmFtIGEgY2F0Y2h1cCxcbiAgICogd2FpdGluZyAxcyBpbiBjYXNlIHdlIHJlY2VpdmUgbmV3IG1lc3NhZ2VcbiAgICogdGhhdCBtYXkgcmVzb2x2ZSBvdXIgcHJvYmxlbXNcbiAgICovXG4gIHByb2dyYW1DYXRjaHVwKCkge1xuICAgIGlmICghdGhpcy5xdWV1ZVRpbWVvdXQpIHtcbiAgICAgIHRoaXMucXVldWVUaW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLmNhdGNodXAoKVxuICAgICAgfSwgMTAwMClcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogV2hlbiByZWNlaXZlZCBuZXcgbWVzc2FnZXMgdGhhdCByZXNvbHZlIGEgcHJldmlvdXNcbiAgICogcHJvYmxlbTogQ2FuY2VsbGluZyB0aGUgcHJvZ3JhbWVkIGNhdGNodXBcbiAgICovXG4gIGNhbmNlbENhdGNodXAoKSB7XG4gICAgaWYgKHRoaXMucXVldWVUaW1lb3V0KSB7XG4gICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMucXVldWVUaW1lb3V0KVxuICAgICAgdGhpcy5xdWV1ZVRpbWVvdXQgPSB1bmRlZmluZWRcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUHJvY2VzcyB0aGUgbWVzc2FnZSBxdWV1ZSAobmV3IHN0ZXBzIGZyb20gdGhlIHNlcnZlcnMpXG4gICAqL1xuICBwcm9jZXNzUXVldWUoKSB7XG4gICAgaWYgKHRoaXMucXVldWUubGVuZ3RoID4gMCAmJiAhdGhpcy5wYXVzZVF1ZXVlKSB7XG4gICAgICBsZXQgY3VycmVudFZlcnNpb24gPSBnZXRWZXJzaW9uKHRoaXMuZ2V0U3RhdGUoKSlcbiAgICAgIHdoaWxlICh0aGlzLnF1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgZmlyc3QgPSB0aGlzLnF1ZXVlWzBdXG4gICAgICAgIGNvbnN0IGZpcnN0VmVyc2lvbiA9IGZpcnN0LnZlcnNpb25cbiAgICAgICAgY29uc3QgZXhwZWN0ZWRWZXJzaW9uID0gZmlyc3Quc3RlcHMubGVuZ3RoICsgY3VycmVudFZlcnNpb25cbiAgICAgICAgaWYgKGZpcnN0VmVyc2lvbiA9PSBleHBlY3RlZFZlcnNpb24pIHtcbiAgICAgICAgICAvLyBwcm9jZXNzIGl0ZW1cbiAgICAgICAgICB0aGlzLmNhbmNlbENhdGNodXAoKVxuICAgICAgICAgIHRoaXMucXVldWUuc2hpZnQoKVxuICAgICAgICAgIHRoaXMucHJvY2Vzc1JlbW90ZURhdGEoZmlyc3QpXG4gICAgICAgICAgY3VycmVudFZlcnNpb24gPSBmaXJzdFZlcnNpb25cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoZmlyc3RWZXJzaW9uIDw9IGV4cGVjdGVkVmVyc2lvbikge1xuICAgICAgICAgICAgLy8gaXRlbSBpcyBvYnNvbGV0ZSwgd2Ugd29uJ3QgYmUgYWJsZSB0byBwcm9jZXNzIGl0XG4gICAgICAgICAgICB0aGlzLnF1ZXVlLnNoaWZ0KClcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGZpcnN0VmVyc2lvbiA+IGV4cGVjdGVkVmVyc2lvbikge1xuICAgICAgICAgICAgLy8gd2UgbWlzcyBzb21lIHN0ZXBzXG4gICAgICAgICAgICB0aGlzLnByb2dyYW1DYXRjaHVwKClcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNlbmQgbmV3IHN0ZXBzIGZyb20gdGhlIHNlcnZlciB0byB0aGUgbG9jYWwgcHJvc2VNaXJyb3IgZWRpdG9yXG4gICAqIFRoZXNlIHN0ZXBzIHNob3VsZCBiZSBwcmV2aW91c2x5IGNoZWNrZWQgYW5kIG9yZGVyZWRcbiAgICovXG4gIHByb2Nlc3NSZW1vdGVEYXRhID0gZGF0YSA9PiB7XG4gICAgY29uc3QgeyB2ZXJzaW9uLCBzdGVwcyB9ID0gZGF0YVxuXG4gICAgaWYgKHN0ZXBzICYmIHN0ZXBzLmxlbmd0aCkge1xuICAgICAgY29uc3QgdXNlcklkcyA9IHN0ZXBzLm1hcChcbiAgICAgICAgc3RlcCA9PiBzdGVwLnNlc3Npb25JZCB8fCB0aGlzLnNlcnZpY2VDbGllbnQuZ2V0VXNlcklkKHN0ZXAuc2Vzc2lvbklkKVxuICAgICAgKVxuICAgICAgdGhpcy5lbWl0KCdkYXRhJywgeyBqc29uOiBzdGVwcywgdmVyc2lvbiwgdXNlcklkcyB9KVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAnQ29sbGFiLlByb3ZpZGVyOiBwcm9jZXNzUmVtb3RlRGF0YSBubyBzdGVwcyA/ICcsXG4gICAgICAgIHN0ZXBzLFxuICAgICAgICBkYXRhXG4gICAgICApXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFdlIHJlY2VpdmUgbmV3IHN0ZXBzICBmcm9tIHRoZSBzZXJ2ZXJcbiAgICovXG4gIG9uUmVjZWl2ZURhdGEgPSBkYXRhID0+IHtcbiAgICB0aGlzLnF1ZXVlRGF0YShkYXRhKVxuICAgIHRoaXMucHJvY2Vzc1F1ZXVlKClcbiAgfVxuXG4gIC8qKlxuICAgKiBXZSByZWNlaXZlIG5ldyB1c2VyIGN1cnNvciBwb3NpdGlvbnMgZnJvbSB0aGUgc2VydmVyXG4gICAqL1xuICBvblJlY2VpdmVUZWxlcG9pbnRlciA9IGRhdGEgPT4ge1xuICAgIGNvbnN0IHsgc2Vzc2lvbklkIH0gPSBkYXRhXG4gICAgY29uc3QgdXNlcklkID0gdGhpcy5zZXJ2aWNlQ2xpZW50LmdldFVzZXJJZChzZXNzaW9uSWQpXG4gICAgaWYgKHVzZXJJZCA9PT0gdGhpcy5jb25maWcudXNlcklkKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBjb25zdCBwYXJ0aWNpcGFudCA9IHRoaXMucGFydGljaXBhbnRzLmdldCh1c2VySWQpXG4gICAgaWYgKHBhcnRpY2lwYW50ICYmIHBhcnRpY2lwYW50Lmxhc3RBY3RpdmUgPiBkYXRhLnRpbWVzdGFtcCkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgdGhpcy51cGRhdGVQYXJ0aWNpcGFudChzZXNzaW9uSWQsIGRhdGEudGltZXN0YW1wKVxuICAgIHRoaXMuZW1pdCgndGVsZXBvaW50ZXInLCBkYXRhKVxuICB9XG4gIC8qKlxuICAgKiBXZSByZWNlaXZlIGFuIHVwZGF0ZSBvZiB0aGUgc2NoZW1hIGZyb20gdGhlIHNlcnZlclxuICAgKiBXZSByZWxvYWQgdGhlIHBhZ2VcbiAgICovXG4gIG9uUmVjZWl2ZVNjaGVtYVVwZGF0ZWQgPSAoKSA9PiB7XG4gICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCh0cnVlKVxuICB9XG4gIHVwZGF0ZVBhcnRpY2lwYW50KHNlc3Npb25JZCwgdGltZXN0YW1wKSB7XG4gICAgY29uc3QgdXNlcklkID0gdGhpcy5zZXJ2aWNlQ2xpZW50LmdldFVzZXJJZChzZXNzaW9uSWQpXG4gICAgY29uc3QgcGFydGljaXBhbnQgPSBnZXRQYXJ0aWNpcGFudCh7IHVzZXJJZCwgc2Vzc2lvbklkIH0pXG5cbiAgICB0aGlzLnBhcnRpY2lwYW50cy5zZXQodXNlcklkLCB7XG4gICAgICBuYW1lOiAnJyxcbiAgICAgIGVtYWlsOiAnJyxcbiAgICAgIGF2YXRhcjogJycsXG4gICAgICBzZXNzaW9uSWQ6IHNlc3Npb25JZCxcbiAgICAgIHVzZXJJZDogdXNlcklkLFxuICAgICAgLi4ucGFydGljaXBhbnQsXG4gICAgICBsYXN0QWN0aXZlOiB0aW1lc3RhbXBcbiAgICB9KVxuXG4gICAgY29uc3Qgam9pbmVkID0gW3RoaXMucGFydGljaXBhbnRzLmdldCh1c2VySWQpXVxuXG4gICAgLy8gRmlsdGVyIG91dCBwYXJ0aWNpcGFudHMgdGhhdCdzIGJlZW4gaW5hY3RpdmUgZm9yXG4gICAgLy8gbW9yZSB0aGFuIDUgbWludXRlcy5cblxuICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpXG4gICAgY29uc3QgbGVmdCA9IEFycmF5LmZyb20odGhpcy5wYXJ0aWNpcGFudHMudmFsdWVzKCkpLmZpbHRlcihcbiAgICAgIHAgPT4gKG5vdyAtIHAubGFzdEFjdGl2ZSkgLyAxMDAwID4gMzAwXG4gICAgKVxuXG4gICAgbGVmdC5mb3JFYWNoKHAgPT4gdGhpcy5wYXJ0aWNpcGFudHMuZGVsZXRlKHAudXNlcklkKSlcbiAgICB0aGlzLmVtaXQoJ3ByZXNlbmNlJywgeyBqb2luZWQsIGxlZnQgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBFbWl0IGV2ZW50cyB0byBzdWJzY3JpYmVyc1xuICAgKi9cbiAgZW1pdChldnQsIGRhdGEpIHtcbiAgICB0aGlzLmV2ZW50RW1pdHRlci5lbWl0KGV2dCwgZGF0YSlcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIFN1YnNjcmliZSB0byBldmVudHMgZW1pdHRlZCBieSB0aGlzIHByb3ZpZGVyXG4gICAqL1xuICBvbihldnQsIGhhbmRsZXIpIHtcbiAgICB0aGlzLmV2ZW50RW1pdHRlci5vbihldnQsIGhhbmRsZXIpXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiBVbnN1YnNjcmliZSBmcm9tIGV2ZW50cyBlbWl0dGVkIGJ5IHRoaXMgcHJvdmlkZXJcbiAgICovXG4gIG9mZihldnQsIGhhbmRsZXIpIHtcbiAgICB0aGlzLmV2ZW50RW1pdHRlci5vZmYoZXZ0LCBoYW5kbGVyKVxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogVW5zdWJzY3JpYmUgYWxsIGxpc3RlbmVycyBmb3IgdGhpcyBldmVudFxuICAgKi9cbiAgdW5zdWJzY3JpYmVBbGwoZXZ0KSB7XG4gICAgdGhpcy5ldmVudEVtaXR0ZXIucmVtb3ZlQWxsTGlzdGVuZXJzKGV2dClcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgc29tZXRoaW5nIGlzIG5vdCBmdWxseSBzZW50IHRvIHRoZSBzZXJ2ZXJcbiAgICpcbiAgICogQHJldHVybnMge2Jvb2x9XG4gICAqL1xuICBpc0RpcnR5KCkge1xuICAgIHJldHVybiAhIXRoaXMuZGlydHlTaW5jZVxuICB9XG5cbiAgLyoqXG4gICAqIERhdGUgc2luY2Ugd2hpY2ggc29tZXRoaW5nIGlzIHdhaXRpbmcgdG8gYmUgc2VudCB0byB0aGUgc2VydmVyXG4gICAqXG4gICAqIEByZXR1cm5zIHtEYXRlfHVuZGVmaW5lZH0gdW5kZWZpbmVkIGlmIHRoZSBzdGF0ZSBpcyBub3QgZGlydHlcbiAgICovXG4gIGdldERpcnR5U2luY2UoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGlydHlTaW5jZVxuICB9XG5cbiAgLyoqXG4gICAqIERhdGUgb2YgdGhlIGxhc3Qgc2F2ZSBvZiBsb2NhbCBzdGF0ZSB0byB0aGUgc2VydmVyXG4gICAqXG4gICAqIEByZXR1cm5zIHtEYXRlfHVuZGVmaW5lZH1cbiAgICovXG4gIGdldExhc3RMb2NhbFNhdmUoKSB7XG4gICAgcmV0dXJuIHRoaXMubGFzdExvY2FsU2F2ZVxuICB9XG5cbiAgLyoqXG4gICAqIERhdGUgb2YgdGhlIGxhc3Qgc3luYyB3aXRoIGRhdGEgZnJvbSB0aGUgc2VydmVyXG4gICAqXG4gICAqIEByZXR1cm5zIHtEYXRlfHVuZGVmaW5lZH1cbiAgICovXG4gIGdldExhc3RSZW1vdGVTeW5jKCkge1xuICAgIHJldHVybiB0aGlzLmxhc3RSZW1vdGVTeW5jXG4gIH1cblxuICAvKipcbiAgICogRGF0ZSBvZiBsYXN0IHVwZGF0ZSB3aXRoIHRoZSBzZXJ2ZXIgKGJvdGggaW4gb3Igb3V0KVxuICAgKlxuICAgKiBAcmV0dXJucyB7RGF0ZXx1bmRlZmluZWR9XG4gICAqL1xuICBnZXRMYXN0U2F2ZU9yU3luYygpIHtcbiAgICByZXR1cm4gdGhpcy5sYXN0TG9jYWxTYXZlID4gdGhpcy5sYXN0UmVtb3RlU3luY1xuICAgICAgPyB0aGlzLmxhc3RMb2NhbFNhdmVcbiAgICAgIDogdGhpcy5sYXN0UmVtb3RlU3luY1xuICB9XG5cbiAgLyoqXG4gICAqIFdoZW4gd2Ugc3VjY2Vzc2Z1bHkgc2F2ZSBsb2NhbCBjaGFuZ2VzIHRvIHRoZSBzZXJ2ZXJcbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIG9uTG9jYWxTYXZlKCkge1xuICAgIHRoaXMubGFzdExvY2FsU2F2ZSA9IG5ldyBEYXRlKClcbiAgICB0aGlzLmVtaXQoJ2NvbGxhYi1zdGF0ZS1jaGFuZ2UnKVxuICB9XG5cbiAgLyoqXG4gICAqIFdoZW4gd2Ugc3VjY2Vzc2Z1bHkgZ2V0IHJlbW90ZSBjaGFuZ2VzIGZyb20gdGhlIHNlcnZlclxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgb25SZW1vdGVTeW5jKCkge1xuICAgIHRoaXMubGFzdFJlbW90ZVN5bmMgPSBuZXcgRGF0ZSgpXG4gICAgdGhpcy5lbWl0KCdjb2xsYWItc3RhdGUtY2hhbmdlJylcbiAgfVxuXG4gIC8qKlxuICAgKiBXaGVuIHdlIGVtcHR5IHRoZSBxdWV1ZSBvZiBkYXRhIHRvIGJlIHNlbnQgdG8gdGhlIHNlcnZlclxuICAgKiBhbmQgbm9uZSBpcyBiZWluZyBzZW50IGF0IHRoZSBtb21lbnRcbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIG9uQ2hhbm5lbEVtcHR5UXVldWUoKSB7XG4gICAgdGhpcy5kaXJ0eVNpbmNlID0gdW5kZWZpbmVkXG4gICAgdGhpcy5lbWl0KCdjb2xsYWItc3RhdGUtY2hhbmdlJylcbiAgfVxuXG4gIC8qKlxuICAgKiBXaGVuIHdlIGFkZCAgc29tZXRoaW5nIHRvIHRoZSBxdWV1ZSBvZiBkYXRhIHRvIGJlIHNlbnQgdG8gdGhlIHNlcnZlclxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgb25DaGFubmVsRW5xdWV1ZSgpIHtcbiAgICBpZiAoIXRoaXMuZGlydHlTaW5jZSkge1xuICAgICAgdGhpcy5kaXJ0eVNpbmNlID0gbmV3IERhdGUoKVxuICAgICAgdGhpcy5lbWl0KCdjb2xsYWItc3RhdGUtY2hhbmdlJylcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTGlzdGVuIHRvIGV2ZW50cyBmcm9tIGFuZCB0byB0aGUgc2VydmVyXG4gICAqIHRvIHVwZGF0ZSB0aGUgY3VycmVudCBkaXJ0eSBzdGF0ZSBhbmQgbGFzdCBzYXZlIGRhdGVzXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBsaXN0ZW5TdGF0ZUV2ZW50cyh7IGxhc3RSZW1vdGVTeW5jIH0gPSB7fSkge1xuICAgIHRoaXMuY2hhbm5lbC5vbignZW1wdHlRdWV1ZScsIHRoaXMub25DaGFubmVsRW1wdHlRdWV1ZS5iaW5kKHRoaXMpKVxuICAgIHRoaXMuY2hhbm5lbC5vbignZW5xdWV1ZVN0ZXBzJywgdGhpcy5vbkNoYW5uZWxFbnF1ZXVlLmJpbmQodGhpcykpXG4gICAgdGhpcy5jaGFubmVsLm9uKCdzdWNjZXNzZnVsUGF0Y2gnLCB0aGlzLm9uTG9jYWxTYXZlLmJpbmQodGhpcykpXG4gICAgdGhpcy5vbignZGF0YScsIHRoaXMub25SZW1vdGVTeW5jLmJpbmQodGhpcykpXG4gICAgdGhpcy5vbignaW5pdCcsIHRoaXMub25SZW1vdGVTeW5jLmJpbmQodGhpcykpXG4gICAgaWYgKGxhc3RSZW1vdGVTeW5jKSB0aGlzLmxhc3RSZW1vdGVTeW5jID0gbGFzdFJlbW90ZVN5bmNcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgdGhlIGVkaXRvciBzaG91bGQgYmUgcmVhZG9ubHlcbiAgICpcbiAgICogQHJldHVybnMge2Jvb2x9XG4gICAqL1xuICBpc1JlYWRPbmx5KCkge1xuICAgIHJldHVybiB0aGlzLnJlYWRPbmx5XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBlZGl0b3IgcmVhZG9ubHkgb3IgcmVhZHdyaXRlXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbH0gcmVhZE9ubHkgLSB0cnVlIGJ5IGRlZmF1bHRcbiAgICovXG4gIHNldFJlYWRPbmx5KHJlYWRPbmx5ID0gdHJ1ZSkge1xuICAgIHRoaXMucmVhZE9ubHkgPSAhIXJlYWRPbmx5XG4gICAgaWYgKHRoaXMucmVhZE9ubHkpIHRoaXMuY2FuY2VsTG9jYWxDaGFuZ2VzKClcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYWxsIGxvY2FsIGNoYW5nZXMgIGFuZCBnbyBiYWNrIHRvIHRoZSBzZXJ2ZXIgc3RhdGVcbiAgICovXG4gIGNhbmNlbExvY2FsQ2hhbmdlcygpIHtcbiAgICBjb25zdCBjdXJyZW50U3RhdGUgPSB0aGlzLmdldFN0YXRlICYmIHRoaXMuZ2V0U3RhdGUoKVxuICAgIGlmIChjdXJyZW50U3RhdGUpIHtcbiAgICAgIGNvbnN0IHJhd0RvYyA9IGdldChjdXJyZW50U3RhdGUsICdjb2xsYWIkLnVuY29uZmlybWVkWzBdLm9yaWdpbi5kb2NzWzBdJylcbiAgICAgIGNvbnN0IHZlcnNpb24gPSBnZXQoY3VycmVudFN0YXRlLCAnY29sbGFiJC52ZXJzaW9uJylcbiAgICAgIGNvbnN0IHNpZCA9IHRoaXMuY29uZmlnWydzZXNzaW9uSWQnXVxuICAgICAgaWYgKHJhd0RvYyAmJiB2ZXJzaW9uICYmIHNpZCkge1xuICAgICAgICBjb25zdCBkb2MgPSByYXdEb2MudG9KU09OKClcbiAgICAgICAgdGhpcy5lbWl0KCdpbml0JywgeyBkb2MsIHZlcnNpb24sIHNpZCB9KVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDb2xsYWJQcm92aWRlclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBZ05BO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQUE7QUFNQTtBQUNBO0FBQ0E7QUFBQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBTUE7QUFDQTtBQWhRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUFBO0FBQUE7QUFJQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUFBO0FBQUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFBQTtBQUFBO0FBSUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBQUE7QUFBQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBQUE7QUFBQTtBQUFBO0FBSUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBSUE7QUFBQTtBQUZBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBQUE7QUFBQTtBQUFBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFBQTtBQUFBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFBQTtBQUFBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWtCQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBZUE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUFBO0FBQUE7QUFPQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUFBO0FBQUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBQUE7QUFBQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFBQTtBQUFBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUFBO0FBQUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFBQTtBQUFBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBQUE7QUFBQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQUFBO0FBQUE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFBQTtBQUFBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBQUE7QUFBQTtBQU1BO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQUFBO0FBQUE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQUFBO0FBQUE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBQUE7QUFBQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBQUE7QUFBQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBQUE7QUFBQTtBQU1BO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBQUE7QUFBQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQUFBO0FBQUE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFBQTtBQUFBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/lib/collab/provider.js\n");

/***/ }),

/***/ "./src/lib/collab/schema.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"schemaVersion\", function() { return schemaVersion; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getSchemaVersion\", function() { return getSchemaVersion; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"nodes\", function() { return nodes; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"marks\", function() { return marks; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"schemaOrdered\", function() { return schemaOrdered; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"schemaObject\", function() { return schemaObject; });\n/* harmony import */ var prosemirror_model__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/prosemirror-model/dist/index.es.js\");\n\n\n// static because the @atlaskit code base requires a real navigator\n// TODO: either find and exclude plugins requiring interaction\n//       or running a JSDOM faking a navigator\n// @quentin: I don't understand yet why we need to do that, so if someone\n// knows, then update the comment ;)\n\n// To get the schema, we need to log the values from node_modules/cozy-editor-core/src/create-editor/create-schema\n// itself just before the call on new Schema({ nodes, marks }) and then\n// console.log({nodes})\n// console.log({marks})\n// to be able to copy paste the value in this file, click right on the log -> store as global value\n// then copy(temp1) and then past it in the method written below.\n\n/* const objectToArray = obj => {\n  const nodesArray = []\n  Object.keys(obj).map(key => {\n    nodesArray.push([key, obj[key]])\n  })\n  return nodesArray\n} */\n//\n// in order to convert it in Array.\n// It seems that Atlaskit is using Schema containing an Object but prosemissor an Array\n// Don't know yet why and if we can't reuse a code from atlaskit to do that transformation\n// since they have to do it somewhere I think\n\n// https://github.com/cozy/cozy-notes/pull/2/commits/202e529cdb1e71996c2cab43057984c9f885b61a\n\n// if you edit the schema, please upgrade this schemaVersion\n\nvar schemaVersion = 4;\nvar getSchemaVersion = function getSchemaVersion() {\n  return schemaVersion;\n};\nvar nodes = [['date', {\n  inline: true,\n  group: 'inline',\n  selectable: true,\n  attrs: {\n    timestamp: {\n      \"default\": ''\n    }\n  },\n  parseDOM: [{\n    tag: 'span[data-node-type=\"date\"]'\n  }]\n}], ['status', {\n  inline: true,\n  group: 'inline',\n  selectable: true,\n  attrs: {\n    text: {\n      \"default\": ''\n    },\n    color: {\n      \"default\": ''\n    },\n    localId: {\n      \"default\": 'dfab1003-a025-425f-869b-4592431ae618'\n    },\n    style: {\n      \"default\": ''\n    }\n  },\n  parseDOM: [{\n    tag: 'span[data-node-type=\"status\"]'\n  }]\n}], ['doc', {\n  content: '(block)+',\n  marks: 'alignment breakout indentation link unsupportedMark unsupportedNodeAttribute'\n}], ['paragraph', {\n  selectable: false,\n  content: 'inline*',\n  group: 'block',\n  marks: 'strong code em link strike subsup textColor typeAheadQuery underline unsupportedMark unsupportedNodeAttribute',\n  parseDOM: [{\n    tag: 'p'\n  }]\n}], ['text', {\n  group: 'inline'\n}], ['bulletList', {\n  group: 'block',\n  content: 'listItem+',\n  selectable: false,\n  parseDOM: [{\n    tag: 'ul'\n  }],\n  marks: 'unsupportedMark unsupportedNodeAttribute'\n}], ['orderedList', {\n  group: 'block',\n  content: 'listItem+',\n  marks: 'unsupportedMark unsupportedNodeAttribute',\n  selectable: false,\n  parseDOM: [{\n    tag: 'ol'\n  }]\n}], ['listItem', {\n  content: '(paragraph | mediaSingle | codeBlock) (paragraph | bulletList | orderedList | mediaSingle | codeBlock)*',\n  marks: 'link unsupportedMark unsupportedNodeAttribute',\n  defining: true,\n  selectable: false,\n  parseDOM: [{\n    tag: 'li'\n  }]\n}], ['heading', {\n  attrs: {\n    level: {\n      \"default\": 1\n    }\n  },\n  content: 'inline*',\n  group: 'block',\n  defining: true,\n  selectable: false,\n  parseDOM: [{\n    tag: 'h1',\n    attrs: {\n      level: 1\n    }\n  }, {\n    tag: 'h2',\n    attrs: {\n      level: 2\n    }\n  }, {\n    tag: 'h3',\n    attrs: {\n      level: 3\n    }\n  }, {\n    tag: 'h4',\n    attrs: {\n      level: 4\n    }\n  }, {\n    tag: 'h5',\n    attrs: {\n      level: 5\n    }\n  }, {\n    tag: 'h6',\n    attrs: {\n      level: 6\n    }\n  }]\n}], ['blockquote', {\n  content: 'paragraph+',\n  group: 'block',\n  defining: true,\n  selectable: false,\n  parseDOM: [{\n    tag: 'blockquote'\n  }]\n}], ['codeBlock', {\n  attrs: {\n    language: {\n      \"default\": null\n    },\n    uniqueId: {\n      \"default\": null\n    }\n  },\n  content: 'text*',\n  marks: 'unsupportedMark unsupportedNodeAttribute',\n  group: 'block',\n  code: true,\n  defining: true,\n  parseDOM: [{\n    tag: 'pre',\n    preserveWhitespace: 'full'\n  }, {\n    tag: 'div[style]',\n    preserveWhitespace: 'full'\n  }, {\n    tag: 'table[style]',\n    preserveWhitespace: 'full'\n  }, {\n    tag: 'div.code-block',\n    preserveWhitespace: 'full'\n  }]\n}], ['rule', {\n  group: 'block',\n  parseDOM: [{\n    tag: 'hr'\n  }]\n}], ['panel', {\n  group: 'block',\n  content: '(paragraph | heading | bulletList | orderedList )+',\n  marks: 'unsupportedMark unsupportedNodeAttribute',\n  attrs: {\n    panelType: {\n      \"default\": 'info'\n    }\n  },\n  parseDOM: [{\n    tag: 'div[data-panel-type]'\n  }]\n}], ['confluenceUnsupportedBlock', {\n  group: 'block',\n  attrs: {\n    cxhtml: {\n      \"default\": null\n    }\n  },\n  parseDOM: [{\n    tag: 'div[data-node-type=\"confluenceUnsupportedBlock\"]'\n  }]\n}], ['confluenceUnsupportedInline', {\n  group: 'inline',\n  inline: true,\n  atom: true,\n  attrs: {\n    cxhtml: {\n      \"default\": null\n    }\n  },\n  parseDOM: [{\n    tag: 'div[data-node-type=\"confluenceUnsupportedInline\"]'\n  }]\n}], ['unsupportedBlock', {\n  inline: false,\n  group: 'block',\n  atom: true,\n  selectable: true,\n  attrs: {\n    originalValue: {\n      \"default\": {}\n    }\n  },\n  parseDOM: [{\n    tag: '[data-node-type=\"unsupportedBlock\"]'\n  }]\n}], ['unsupportedInline', {\n  inline: true,\n  group: 'inline',\n  selectable: true,\n  attrs: {\n    originalValue: {\n      \"default\": {}\n    }\n  },\n  parseDOM: [{\n    tag: '[data-node-type=\"unsupportedInline\"]'\n  }]\n}], ['hardBreak', {\n  inline: true,\n  group: 'inline',\n  selectable: false,\n  parseDOM: [{\n    tag: 'br'\n  }]\n}], ['mediaSingle', {\n  inline: false,\n  group: 'block',\n  selectable: true,\n  atom: true,\n  content: 'media | media ( unsupportedBlock)',\n  attrs: {\n    width: {\n      \"default\": null\n    },\n    layout: {\n      \"default\": 'center'\n    }\n  },\n  marks: 'unsupportedMark unsupportedNodeAttribute link',\n  parseDOM: [{\n    tag: 'div[data-node-type=\"mediaSingle\"]'\n  }]\n}], ['table', {\n  content: 'tableRow+',\n  attrs: {\n    isNumberColumnEnabled: {\n      \"default\": false\n    },\n    layout: {\n      \"default\": 'default'\n    },\n    __autoSize: {\n      \"default\": false\n    }\n  },\n  marks: 'unsupportedMark unsupportedNodeAttribute',\n  tableRole: 'table',\n  isolating: true,\n  selectable: false,\n  group: 'block',\n  parseDOM: [{\n    tag: 'table'\n  }]\n}], ['media', {\n  selectable: true,\n  attrs: {\n    id: {\n      \"default\": ''\n    },\n    type: {\n      \"default\": 'file'\n    },\n    collection: {\n      \"default\": ''\n    },\n    occurrenceKey: {\n      \"default\": null\n    },\n    alt: {\n      \"default\": null\n    },\n    width: {\n      \"default\": null\n    },\n    height: {\n      \"default\": null\n    },\n    url: {\n      \"default\": null\n    },\n    __fileName: {\n      \"default\": null\n    },\n    __fileSize: {\n      \"default\": null\n    },\n    __fileMimeType: {\n      \"default\": null\n    },\n    __displayType: {\n      \"default\": null\n    },\n    __contextId: {\n      \"default\": null\n    },\n    __external: {\n      \"default\": false\n    }\n  },\n  parseDOM: [{\n    tag: 'div[data-node-type=\"media\"]'\n  }, {\n    tag: 'img[src^=\"data:image\"]',\n    ignore: true\n  }, {\n    tag: 'img:not(.smart-link-icon)'\n  }]\n}], ['tableHeader', {\n  selectable: false,\n  content: '(paragraph | panel | blockquote | orderedList | bulletList | rule | heading | codeBlock | mediaSingle | decisionList | taskList )+',\n  attrs: {\n    colspan: {\n      \"default\": 1\n    },\n    rowspan: {\n      \"default\": 1\n    },\n    colwidth: {\n      \"default\": null\n    },\n    background: {\n      \"default\": null\n    }\n  },\n  tableRole: 'header_cell',\n  isolating: true,\n  marks: 'link alignment unsupportedMark unsupportedNodeAttribute',\n  parseDOM: [{\n    tag: 'th'\n  }]\n}], ['decisionList', {\n  group: 'block',\n  defining: true,\n  content: 'decisionItem+',\n  marks: 'unsupportedMark unsupportedNodeAttribute',\n  selectable: false,\n  attrs: {\n    localId: {\n      \"default\": ''\n    }\n  },\n  parseDOM: [{\n    tag: 'ol[data-node-type=\"decisionList\"]',\n    priority: 100\n  }]\n}], ['tableRow', {\n  selectable: false,\n  content: '(tableCell | tableHeader)+',\n  marks: 'unsupportedMark unsupportedNodeAttribute',\n  tableRole: 'row',\n  parseDOM: [{\n    tag: 'tr'\n  }]\n}], ['decisionItem', {\n  content: 'inline*',\n  defining: true,\n  marks: '_',\n  attrs: {\n    localId: {\n      \"default\": ''\n    },\n    state: {\n      \"default\": 'DECIDED'\n    }\n  },\n  parseDOM: [{\n    tag: 'li[data-decision-local-id]',\n    priority: 100\n  }]\n}], ['tableCell', {\n  selectable: false,\n  content: '(paragraph | panel | blockquote | orderedList | bulletList | rule | heading | codeBlock | mediaSingle | decisionList | taskList | unsupportedBlock)+',\n  attrs: {\n    colspan: {\n      \"default\": 1\n    },\n    rowspan: {\n      \"default\": 1\n    },\n    colwidth: {\n      \"default\": null\n    },\n    background: {\n      \"default\": null\n    }\n  },\n  tableRole: 'cell',\n  marks: 'link alignment unsupportedMark unsupportedNodeAttribute',\n  isolating: true,\n  parseDOM: [{\n    tag: '.ak-renderer-table-number-column',\n    ignore: true\n  }, {\n    tag: 'td'\n  }]\n}], ['taskList', {\n  group: 'block',\n  defining: true,\n  selectable: false,\n  content: 'taskItem+ (taskItem|taskList)*',\n  marks: 'unsupportedMark unsupportedNodeAttribute',\n  attrs: {\n    localId: {\n      \"default\": ''\n    }\n  },\n  parseDOM: [{\n    tag: 'div[data-node-type=\"actionList\"]',\n    priority: 100\n  }]\n}], ['taskItem', {\n  content: 'inline*',\n  defining: true,\n  selectable: false,\n  marks: '_',\n  attrs: {\n    localId: {\n      \"default\": ''\n    },\n    state: {\n      \"default\": 'TODO'\n    }\n  },\n  parseDOM: [{\n    tag: 'div[data-task-local-id]',\n    priority: 100\n  }]\n}]];\nvar marks = [['link', {\n  excludes: 'link color',\n  group: 'link',\n  attrs: {\n    href: {},\n    __confluenceMetadata: {\n      \"default\": null\n    }\n  },\n  inclusive: false,\n  parseDOM: [{\n    tag: '[data-block-link]'\n  }, {\n    tag: 'a[href]',\n    context: 'paragraph/|heading/|mediaSingle/|taskItem/|decisionItem/'\n  }, {\n    tag: 'a[href]'\n  }]\n}], ['em', {\n  inclusive: true,\n  group: 'fontStyle',\n  parseDOM: [{\n    tag: 'i'\n  }, {\n    tag: 'em'\n  }, {\n    style: 'font-style=italic'\n  }]\n}], ['strong', {\n  inclusive: true,\n  group: 'fontStyle',\n  parseDOM: [{\n    tag: 'strong'\n  }, {\n    tag: 'b'\n  }, {\n    tag: 'span'\n  }]\n}], ['textColor', {\n  attrs: {\n    color: {}\n  },\n  inclusive: true,\n  group: 'color',\n  parseDOM: [{\n    style: 'color'\n  }]\n}], ['strike', {\n  inclusive: true,\n  group: 'fontStyle',\n  parseDOM: [{\n    tag: 'strike'\n  }, {\n    tag: 's'\n  }, {\n    tag: 'del'\n  }, {\n    style: 'text-decoration'\n  }]\n}], ['subsup', {\n  inclusive: true,\n  group: 'fontStyle',\n  attrs: {\n    type: {\n      \"default\": 'sub'\n    }\n  },\n  parseDOM: [{\n    tag: 'sub',\n    attrs: {\n      type: 'sub'\n    }\n  }, {\n    tag: 'sup',\n    attrs: {\n      type: 'sup'\n    }\n  }, {\n    tag: 'span',\n    style: 'vertical-align=super'\n  }, {\n    tag: 'span',\n    style: 'vertical-align=sub'\n  }]\n}], ['underline', {\n  inclusive: true,\n  group: 'fontStyle',\n  parseDOM: [{\n    tag: 'u'\n  }, {\n    style: 'text-decoration'\n  }]\n}], ['code', {\n  excludes: 'fontStyle link searchQuery color',\n  inclusive: true,\n  parseDOM: [{\n    tag: 'span.code',\n    preserveWhitespace: true\n  }, {\n    tag: 'code',\n    preserveWhitespace: true\n  }, {\n    tag: 'tt',\n    preserveWhitespace: true\n  }, {\n    tag: 'span',\n    preserveWhitespace: true\n  }]\n}], ['typeAheadQuery', {\n  inclusive: true,\n  group: 'searchQuery',\n  parseDOM: [{\n    tag: 'span[data-type-ahead-query]'\n  }],\n  attrs: {\n    trigger: {\n      \"default\": ''\n    }\n  }\n}], ['alignment', {\n  excludes: 'alignment indentation',\n  group: 'alignment',\n  attrs: {\n    align: {}\n  },\n  parseDOM: [{\n    tag: 'div.fabric-editor-block-mark'\n  }]\n}], ['breakout', {\n  spanning: false,\n  inclusive: false,\n  parseDOM: [{\n    tag: 'div.fabric-editor-breakout-mark'\n  }],\n  attrs: {\n    mode: {\n      \"default\": 'wide'\n    }\n  }\n}], ['indentation', {\n  excludes: 'indentation alignment',\n  group: 'indentation',\n  attrs: {\n    level: {}\n  },\n  parseDOM: [{\n    tag: 'div.fabric-editor-indentation-mark'\n  }]\n}], ['unsupportedMark', {\n  attrs: {\n    originalValue: {}\n  }\n}], ['unsupportedNodeAttribute', {\n  attrs: {\n    type: {},\n    unsupported: {}\n  }\n}]];\nfunction orderedToObject(ordered) {\n  return ordered.reduce(function (acc, cur) {\n    acc[cur[0]] = cur[1];\n    return acc;\n  }, {});\n}\nvar schemaOrdered = {\n  nodes: nodes,\n  marks: marks,\n  version: schemaVersion\n};\nvar schemaObject = {\n  nodes: orderedToObject(nodes),\n  marks: orderedToObject(marks)\n};\nvar schema = new prosemirror_model__WEBPACK_IMPORTED_MODULE_0__[\"Schema\"](schemaObject);\n/* harmony default export */ __webpack_exports__[\"default\"] = (schema);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGliL2NvbGxhYi9zY2hlbWEuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL2NvbGxhYi9zY2hlbWEuanM/ZWE2OSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTY2hlbWEgfSBmcm9tICdwcm9zZW1pcnJvci1tb2RlbCdcblxuLy8gc3RhdGljIGJlY2F1c2UgdGhlIEBhdGxhc2tpdCBjb2RlIGJhc2UgcmVxdWlyZXMgYSByZWFsIG5hdmlnYXRvclxuLy8gVE9ETzogZWl0aGVyIGZpbmQgYW5kIGV4Y2x1ZGUgcGx1Z2lucyByZXF1aXJpbmcgaW50ZXJhY3Rpb25cbi8vICAgICAgIG9yIHJ1bm5pbmcgYSBKU0RPTSBmYWtpbmcgYSBuYXZpZ2F0b3Jcbi8vIEBxdWVudGluOiBJIGRvbid0IHVuZGVyc3RhbmQgeWV0IHdoeSB3ZSBuZWVkIHRvIGRvIHRoYXQsIHNvIGlmIHNvbWVvbmVcbi8vIGtub3dzLCB0aGVuIHVwZGF0ZSB0aGUgY29tbWVudCA7KVxuXG4vLyBUbyBnZXQgdGhlIHNjaGVtYSwgd2UgbmVlZCB0byBsb2cgdGhlIHZhbHVlcyBmcm9tIG5vZGVfbW9kdWxlcy9jb3p5LWVkaXRvci1jb3JlL3NyYy9jcmVhdGUtZWRpdG9yL2NyZWF0ZS1zY2hlbWFcbi8vIGl0c2VsZiBqdXN0IGJlZm9yZSB0aGUgY2FsbCBvbiBuZXcgU2NoZW1hKHsgbm9kZXMsIG1hcmtzIH0pIGFuZCB0aGVuXG4vLyBjb25zb2xlLmxvZyh7bm9kZXN9KVxuLy8gY29uc29sZS5sb2coe21hcmtzfSlcbi8vIHRvIGJlIGFibGUgdG8gY29weSBwYXN0ZSB0aGUgdmFsdWUgaW4gdGhpcyBmaWxlLCBjbGljayByaWdodCBvbiB0aGUgbG9nIC0+IHN0b3JlIGFzIGdsb2JhbCB2YWx1ZVxuLy8gdGhlbiBjb3B5KHRlbXAxKSBhbmQgdGhlbiBwYXN0IGl0IGluIHRoZSBtZXRob2Qgd3JpdHRlbiBiZWxvdy5cblxuLyogY29uc3Qgb2JqZWN0VG9BcnJheSA9IG9iaiA9PiB7XG4gIGNvbnN0IG5vZGVzQXJyYXkgPSBbXVxuICBPYmplY3Qua2V5cyhvYmopLm1hcChrZXkgPT4ge1xuICAgIG5vZGVzQXJyYXkucHVzaChba2V5LCBvYmpba2V5XV0pXG4gIH0pXG4gIHJldHVybiBub2Rlc0FycmF5XG59ICovXG4vL1xuLy8gaW4gb3JkZXIgdG8gY29udmVydCBpdCBpbiBBcnJheS5cbi8vIEl0IHNlZW1zIHRoYXQgQXRsYXNraXQgaXMgdXNpbmcgU2NoZW1hIGNvbnRhaW5pbmcgYW4gT2JqZWN0IGJ1dCBwcm9zZW1pc3NvciBhbiBBcnJheVxuLy8gRG9uJ3Qga25vdyB5ZXQgd2h5IGFuZCBpZiB3ZSBjYW4ndCByZXVzZSBhIGNvZGUgZnJvbSBhdGxhc2tpdCB0byBkbyB0aGF0IHRyYW5zZm9ybWF0aW9uXG4vLyBzaW5jZSB0aGV5IGhhdmUgdG8gZG8gaXQgc29tZXdoZXJlIEkgdGhpbmtcblxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2NvenkvY296eS1ub3Rlcy9wdWxsLzIvY29tbWl0cy8yMDJlNTI5Y2RiMWU3MTk5NmMyY2FiNDMwNTc5ODRjOWY4ODViNjFhXG5cbi8vIGlmIHlvdSBlZGl0IHRoZSBzY2hlbWEsIHBsZWFzZSB1cGdyYWRlIHRoaXMgc2NoZW1hVmVyc2lvblxuXG5leHBvcnQgY29uc3Qgc2NoZW1hVmVyc2lvbiA9IDRcblxuZXhwb3J0IGNvbnN0IGdldFNjaGVtYVZlcnNpb24gPSAoKSA9PiB7XG4gIHJldHVybiBzY2hlbWFWZXJzaW9uXG59XG5cbmV4cG9ydCBjb25zdCBub2RlcyA9IFtcbiAgW1xuICAgICdkYXRlJyxcbiAgICB7XG4gICAgICBpbmxpbmU6IHRydWUsXG4gICAgICBncm91cDogJ2lubGluZScsXG4gICAgICBzZWxlY3RhYmxlOiB0cnVlLFxuICAgICAgYXR0cnM6IHtcbiAgICAgICAgdGltZXN0YW1wOiB7XG4gICAgICAgICAgZGVmYXVsdDogJydcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHBhcnNlRE9NOiBbXG4gICAgICAgIHtcbiAgICAgICAgICB0YWc6ICdzcGFuW2RhdGEtbm9kZS10eXBlPVwiZGF0ZVwiXSdcbiAgICAgICAgfVxuICAgICAgXVxuICAgIH1cbiAgXSxcbiAgW1xuICAgICdzdGF0dXMnLFxuICAgIHtcbiAgICAgIGlubGluZTogdHJ1ZSxcbiAgICAgIGdyb3VwOiAnaW5saW5lJyxcbiAgICAgIHNlbGVjdGFibGU6IHRydWUsXG4gICAgICBhdHRyczoge1xuICAgICAgICB0ZXh0OiB7XG4gICAgICAgICAgZGVmYXVsdDogJydcbiAgICAgICAgfSxcbiAgICAgICAgY29sb3I6IHtcbiAgICAgICAgICBkZWZhdWx0OiAnJ1xuICAgICAgICB9LFxuICAgICAgICBsb2NhbElkOiB7XG4gICAgICAgICAgZGVmYXVsdDogJ2RmYWIxMDAzLWEwMjUtNDI1Zi04NjliLTQ1OTI0MzFhZTYxOCdcbiAgICAgICAgfSxcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICBkZWZhdWx0OiAnJ1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgcGFyc2VET006IFtcbiAgICAgICAge1xuICAgICAgICAgIHRhZzogJ3NwYW5bZGF0YS1ub2RlLXR5cGU9XCJzdGF0dXNcIl0nXG4gICAgICAgIH1cbiAgICAgIF1cbiAgICB9XG4gIF0sXG4gIFtcbiAgICAnZG9jJyxcbiAgICB7XG4gICAgICBjb250ZW50OiAnKGJsb2NrKSsnLFxuICAgICAgbWFya3M6XG4gICAgICAgICdhbGlnbm1lbnQgYnJlYWtvdXQgaW5kZW50YXRpb24gbGluayB1bnN1cHBvcnRlZE1hcmsgdW5zdXBwb3J0ZWROb2RlQXR0cmlidXRlJ1xuICAgIH1cbiAgXSxcbiAgW1xuICAgICdwYXJhZ3JhcGgnLFxuICAgIHtcbiAgICAgIHNlbGVjdGFibGU6IGZhbHNlLFxuICAgICAgY29udGVudDogJ2lubGluZSonLFxuICAgICAgZ3JvdXA6ICdibG9jaycsXG4gICAgICBtYXJrczpcbiAgICAgICAgJ3N0cm9uZyBjb2RlIGVtIGxpbmsgc3RyaWtlIHN1YnN1cCB0ZXh0Q29sb3IgdHlwZUFoZWFkUXVlcnkgdW5kZXJsaW5lIHVuc3VwcG9ydGVkTWFyayB1bnN1cHBvcnRlZE5vZGVBdHRyaWJ1dGUnLFxuICAgICAgcGFyc2VET006IFtcbiAgICAgICAge1xuICAgICAgICAgIHRhZzogJ3AnXG4gICAgICAgIH1cbiAgICAgIF1cbiAgICB9XG4gIF0sXG4gIFtcbiAgICAndGV4dCcsXG4gICAge1xuICAgICAgZ3JvdXA6ICdpbmxpbmUnXG4gICAgfVxuICBdLFxuICBbXG4gICAgJ2J1bGxldExpc3QnLFxuICAgIHtcbiAgICAgIGdyb3VwOiAnYmxvY2snLFxuICAgICAgY29udGVudDogJ2xpc3RJdGVtKycsXG4gICAgICBzZWxlY3RhYmxlOiBmYWxzZSxcbiAgICAgIHBhcnNlRE9NOiBbXG4gICAgICAgIHtcbiAgICAgICAgICB0YWc6ICd1bCdcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIG1hcmtzOiAndW5zdXBwb3J0ZWRNYXJrIHVuc3VwcG9ydGVkTm9kZUF0dHJpYnV0ZSdcbiAgICB9XG4gIF0sXG4gIFtcbiAgICAnb3JkZXJlZExpc3QnLFxuICAgIHtcbiAgICAgIGdyb3VwOiAnYmxvY2snLFxuICAgICAgY29udGVudDogJ2xpc3RJdGVtKycsXG4gICAgICBtYXJrczogJ3Vuc3VwcG9ydGVkTWFyayB1bnN1cHBvcnRlZE5vZGVBdHRyaWJ1dGUnLFxuICAgICAgc2VsZWN0YWJsZTogZmFsc2UsXG4gICAgICBwYXJzZURPTTogW1xuICAgICAgICB7XG4gICAgICAgICAgdGFnOiAnb2wnXG4gICAgICAgIH1cbiAgICAgIF1cbiAgICB9XG4gIF0sXG4gIFtcbiAgICAnbGlzdEl0ZW0nLFxuICAgIHtcbiAgICAgIGNvbnRlbnQ6XG4gICAgICAgICcocGFyYWdyYXBoIHwgbWVkaWFTaW5nbGUgfCBjb2RlQmxvY2spIChwYXJhZ3JhcGggfCBidWxsZXRMaXN0IHwgb3JkZXJlZExpc3QgfCBtZWRpYVNpbmdsZSB8IGNvZGVCbG9jaykqJyxcbiAgICAgIG1hcmtzOiAnbGluayB1bnN1cHBvcnRlZE1hcmsgdW5zdXBwb3J0ZWROb2RlQXR0cmlidXRlJyxcbiAgICAgIGRlZmluaW5nOiB0cnVlLFxuICAgICAgc2VsZWN0YWJsZTogZmFsc2UsXG4gICAgICBwYXJzZURPTTogW1xuICAgICAgICB7XG4gICAgICAgICAgdGFnOiAnbGknXG4gICAgICAgIH1cbiAgICAgIF1cbiAgICB9XG4gIF0sXG4gIFtcbiAgICAnaGVhZGluZycsXG4gICAge1xuICAgICAgYXR0cnM6IHtcbiAgICAgICAgbGV2ZWw6IHtcbiAgICAgICAgICBkZWZhdWx0OiAxXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBjb250ZW50OiAnaW5saW5lKicsXG4gICAgICBncm91cDogJ2Jsb2NrJyxcbiAgICAgIGRlZmluaW5nOiB0cnVlLFxuICAgICAgc2VsZWN0YWJsZTogZmFsc2UsXG4gICAgICBwYXJzZURPTTogW1xuICAgICAgICB7XG4gICAgICAgICAgdGFnOiAnaDEnLFxuICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICBsZXZlbDogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHRhZzogJ2gyJyxcbiAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgbGV2ZWw6IDJcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB0YWc6ICdoMycsXG4gICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgIGxldmVsOiAzXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgdGFnOiAnaDQnLFxuICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICBsZXZlbDogNFxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHRhZzogJ2g1JyxcbiAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgbGV2ZWw6IDVcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB0YWc6ICdoNicsXG4gICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgIGxldmVsOiA2XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICBdXG4gICAgfVxuICBdLFxuICBbXG4gICAgJ2Jsb2NrcXVvdGUnLFxuICAgIHtcbiAgICAgIGNvbnRlbnQ6ICdwYXJhZ3JhcGgrJyxcbiAgICAgIGdyb3VwOiAnYmxvY2snLFxuICAgICAgZGVmaW5pbmc6IHRydWUsXG4gICAgICBzZWxlY3RhYmxlOiBmYWxzZSxcbiAgICAgIHBhcnNlRE9NOiBbXG4gICAgICAgIHtcbiAgICAgICAgICB0YWc6ICdibG9ja3F1b3RlJ1xuICAgICAgICB9XG4gICAgICBdXG4gICAgfVxuICBdLFxuICBbXG4gICAgJ2NvZGVCbG9jaycsXG4gICAge1xuICAgICAgYXR0cnM6IHtcbiAgICAgICAgbGFuZ3VhZ2U6IHtcbiAgICAgICAgICBkZWZhdWx0OiBudWxsXG4gICAgICAgIH0sXG4gICAgICAgIHVuaXF1ZUlkOiB7XG4gICAgICAgICAgZGVmYXVsdDogbnVsbFxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY29udGVudDogJ3RleHQqJyxcbiAgICAgIG1hcmtzOiAndW5zdXBwb3J0ZWRNYXJrIHVuc3VwcG9ydGVkTm9kZUF0dHJpYnV0ZScsXG4gICAgICBncm91cDogJ2Jsb2NrJyxcbiAgICAgIGNvZGU6IHRydWUsXG4gICAgICBkZWZpbmluZzogdHJ1ZSxcbiAgICAgIHBhcnNlRE9NOiBbXG4gICAgICAgIHtcbiAgICAgICAgICB0YWc6ICdwcmUnLFxuICAgICAgICAgIHByZXNlcnZlV2hpdGVzcGFjZTogJ2Z1bGwnXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB0YWc6ICdkaXZbc3R5bGVdJyxcbiAgICAgICAgICBwcmVzZXJ2ZVdoaXRlc3BhY2U6ICdmdWxsJ1xuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgdGFnOiAndGFibGVbc3R5bGVdJyxcbiAgICAgICAgICBwcmVzZXJ2ZVdoaXRlc3BhY2U6ICdmdWxsJ1xuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgdGFnOiAnZGl2LmNvZGUtYmxvY2snLFxuICAgICAgICAgIHByZXNlcnZlV2hpdGVzcGFjZTogJ2Z1bGwnXG4gICAgICAgIH1cbiAgICAgIF1cbiAgICB9XG4gIF0sXG4gIFtcbiAgICAncnVsZScsXG4gICAge1xuICAgICAgZ3JvdXA6ICdibG9jaycsXG4gICAgICBwYXJzZURPTTogW1xuICAgICAgICB7XG4gICAgICAgICAgdGFnOiAnaHInXG4gICAgICAgIH1cbiAgICAgIF1cbiAgICB9XG4gIF0sXG4gIFtcbiAgICAncGFuZWwnLFxuICAgIHtcbiAgICAgIGdyb3VwOiAnYmxvY2snLFxuICAgICAgY29udGVudDogJyhwYXJhZ3JhcGggfCBoZWFkaW5nIHwgYnVsbGV0TGlzdCB8IG9yZGVyZWRMaXN0ICkrJyxcbiAgICAgIG1hcmtzOiAndW5zdXBwb3J0ZWRNYXJrIHVuc3VwcG9ydGVkTm9kZUF0dHJpYnV0ZScsXG4gICAgICBhdHRyczoge1xuICAgICAgICBwYW5lbFR5cGU6IHtcbiAgICAgICAgICBkZWZhdWx0OiAnaW5mbydcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHBhcnNlRE9NOiBbXG4gICAgICAgIHtcbiAgICAgICAgICB0YWc6ICdkaXZbZGF0YS1wYW5lbC10eXBlXSdcbiAgICAgICAgfVxuICAgICAgXVxuICAgIH1cbiAgXSxcbiAgW1xuICAgICdjb25mbHVlbmNlVW5zdXBwb3J0ZWRCbG9jaycsXG4gICAge1xuICAgICAgZ3JvdXA6ICdibG9jaycsXG4gICAgICBhdHRyczoge1xuICAgICAgICBjeGh0bWw6IHtcbiAgICAgICAgICBkZWZhdWx0OiBudWxsXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBwYXJzZURPTTogW1xuICAgICAgICB7XG4gICAgICAgICAgdGFnOiAnZGl2W2RhdGEtbm9kZS10eXBlPVwiY29uZmx1ZW5jZVVuc3VwcG9ydGVkQmxvY2tcIl0nXG4gICAgICAgIH1cbiAgICAgIF1cbiAgICB9XG4gIF0sXG4gIFtcbiAgICAnY29uZmx1ZW5jZVVuc3VwcG9ydGVkSW5saW5lJyxcbiAgICB7XG4gICAgICBncm91cDogJ2lubGluZScsXG4gICAgICBpbmxpbmU6IHRydWUsXG4gICAgICBhdG9tOiB0cnVlLFxuICAgICAgYXR0cnM6IHtcbiAgICAgICAgY3hodG1sOiB7XG4gICAgICAgICAgZGVmYXVsdDogbnVsbFxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgcGFyc2VET006IFtcbiAgICAgICAge1xuICAgICAgICAgIHRhZzogJ2RpdltkYXRhLW5vZGUtdHlwZT1cImNvbmZsdWVuY2VVbnN1cHBvcnRlZElubGluZVwiXSdcbiAgICAgICAgfVxuICAgICAgXVxuICAgIH1cbiAgXSxcbiAgW1xuICAgICd1bnN1cHBvcnRlZEJsb2NrJyxcbiAgICB7XG4gICAgICBpbmxpbmU6IGZhbHNlLFxuICAgICAgZ3JvdXA6ICdibG9jaycsXG4gICAgICBhdG9tOiB0cnVlLFxuICAgICAgc2VsZWN0YWJsZTogdHJ1ZSxcbiAgICAgIGF0dHJzOiB7XG4gICAgICAgIG9yaWdpbmFsVmFsdWU6IHtcbiAgICAgICAgICBkZWZhdWx0OiB7fVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgcGFyc2VET006IFtcbiAgICAgICAge1xuICAgICAgICAgIHRhZzogJ1tkYXRhLW5vZGUtdHlwZT1cInVuc3VwcG9ydGVkQmxvY2tcIl0nXG4gICAgICAgIH1cbiAgICAgIF1cbiAgICB9XG4gIF0sXG4gIFtcbiAgICAndW5zdXBwb3J0ZWRJbmxpbmUnLFxuICAgIHtcbiAgICAgIGlubGluZTogdHJ1ZSxcbiAgICAgIGdyb3VwOiAnaW5saW5lJyxcbiAgICAgIHNlbGVjdGFibGU6IHRydWUsXG4gICAgICBhdHRyczoge1xuICAgICAgICBvcmlnaW5hbFZhbHVlOiB7XG4gICAgICAgICAgZGVmYXVsdDoge31cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHBhcnNlRE9NOiBbXG4gICAgICAgIHtcbiAgICAgICAgICB0YWc6ICdbZGF0YS1ub2RlLXR5cGU9XCJ1bnN1cHBvcnRlZElubGluZVwiXSdcbiAgICAgICAgfVxuICAgICAgXVxuICAgIH1cbiAgXSxcbiAgW1xuICAgICdoYXJkQnJlYWsnLFxuICAgIHtcbiAgICAgIGlubGluZTogdHJ1ZSxcbiAgICAgIGdyb3VwOiAnaW5saW5lJyxcbiAgICAgIHNlbGVjdGFibGU6IGZhbHNlLFxuICAgICAgcGFyc2VET006IFtcbiAgICAgICAge1xuICAgICAgICAgIHRhZzogJ2JyJ1xuICAgICAgICB9XG4gICAgICBdXG4gICAgfVxuICBdLFxuICBbXG4gICAgJ21lZGlhU2luZ2xlJyxcbiAgICB7XG4gICAgICBpbmxpbmU6IGZhbHNlLFxuICAgICAgZ3JvdXA6ICdibG9jaycsXG4gICAgICBzZWxlY3RhYmxlOiB0cnVlLFxuICAgICAgYXRvbTogdHJ1ZSxcbiAgICAgIGNvbnRlbnQ6ICdtZWRpYSB8IG1lZGlhICggdW5zdXBwb3J0ZWRCbG9jayknLFxuICAgICAgYXR0cnM6IHtcbiAgICAgICAgd2lkdGg6IHtcbiAgICAgICAgICBkZWZhdWx0OiBudWxsXG4gICAgICAgIH0sXG4gICAgICAgIGxheW91dDoge1xuICAgICAgICAgIGRlZmF1bHQ6ICdjZW50ZXInXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBtYXJrczogJ3Vuc3VwcG9ydGVkTWFyayB1bnN1cHBvcnRlZE5vZGVBdHRyaWJ1dGUgbGluaycsXG4gICAgICBwYXJzZURPTTogW1xuICAgICAgICB7XG4gICAgICAgICAgdGFnOiAnZGl2W2RhdGEtbm9kZS10eXBlPVwibWVkaWFTaW5nbGVcIl0nXG4gICAgICAgIH1cbiAgICAgIF1cbiAgICB9XG4gIF0sXG4gIFtcbiAgICAndGFibGUnLFxuICAgIHtcbiAgICAgIGNvbnRlbnQ6ICd0YWJsZVJvdysnLFxuICAgICAgYXR0cnM6IHtcbiAgICAgICAgaXNOdW1iZXJDb2x1bW5FbmFibGVkOiB7XG4gICAgICAgICAgZGVmYXVsdDogZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAgbGF5b3V0OiB7XG4gICAgICAgICAgZGVmYXVsdDogJ2RlZmF1bHQnXG4gICAgICAgIH0sXG4gICAgICAgIF9fYXV0b1NpemU6IHtcbiAgICAgICAgICBkZWZhdWx0OiBmYWxzZVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgbWFya3M6ICd1bnN1cHBvcnRlZE1hcmsgdW5zdXBwb3J0ZWROb2RlQXR0cmlidXRlJyxcbiAgICAgIHRhYmxlUm9sZTogJ3RhYmxlJyxcbiAgICAgIGlzb2xhdGluZzogdHJ1ZSxcbiAgICAgIHNlbGVjdGFibGU6IGZhbHNlLFxuICAgICAgZ3JvdXA6ICdibG9jaycsXG4gICAgICBwYXJzZURPTTogW1xuICAgICAgICB7XG4gICAgICAgICAgdGFnOiAndGFibGUnXG4gICAgICAgIH1cbiAgICAgIF1cbiAgICB9XG4gIF0sXG4gIFtcbiAgICAnbWVkaWEnLFxuICAgIHtcbiAgICAgIHNlbGVjdGFibGU6IHRydWUsXG4gICAgICBhdHRyczoge1xuICAgICAgICBpZDoge1xuICAgICAgICAgIGRlZmF1bHQ6ICcnXG4gICAgICAgIH0sXG4gICAgICAgIHR5cGU6IHtcbiAgICAgICAgICBkZWZhdWx0OiAnZmlsZSdcbiAgICAgICAgfSxcbiAgICAgICAgY29sbGVjdGlvbjoge1xuICAgICAgICAgIGRlZmF1bHQ6ICcnXG4gICAgICAgIH0sXG4gICAgICAgIG9jY3VycmVuY2VLZXk6IHtcbiAgICAgICAgICBkZWZhdWx0OiBudWxsXG4gICAgICAgIH0sXG4gICAgICAgIGFsdDoge1xuICAgICAgICAgIGRlZmF1bHQ6IG51bGxcbiAgICAgICAgfSxcbiAgICAgICAgd2lkdGg6IHtcbiAgICAgICAgICBkZWZhdWx0OiBudWxsXG4gICAgICAgIH0sXG4gICAgICAgIGhlaWdodDoge1xuICAgICAgICAgIGRlZmF1bHQ6IG51bGxcbiAgICAgICAgfSxcbiAgICAgICAgdXJsOiB7XG4gICAgICAgICAgZGVmYXVsdDogbnVsbFxuICAgICAgICB9LFxuICAgICAgICBfX2ZpbGVOYW1lOiB7XG4gICAgICAgICAgZGVmYXVsdDogbnVsbFxuICAgICAgICB9LFxuICAgICAgICBfX2ZpbGVTaXplOiB7XG4gICAgICAgICAgZGVmYXVsdDogbnVsbFxuICAgICAgICB9LFxuICAgICAgICBfX2ZpbGVNaW1lVHlwZToge1xuICAgICAgICAgIGRlZmF1bHQ6IG51bGxcbiAgICAgICAgfSxcbiAgICAgICAgX19kaXNwbGF5VHlwZToge1xuICAgICAgICAgIGRlZmF1bHQ6IG51bGxcbiAgICAgICAgfSxcbiAgICAgICAgX19jb250ZXh0SWQ6IHtcbiAgICAgICAgICBkZWZhdWx0OiBudWxsXG4gICAgICAgIH0sXG4gICAgICAgIF9fZXh0ZXJuYWw6IHtcbiAgICAgICAgICBkZWZhdWx0OiBmYWxzZVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgcGFyc2VET006IFtcbiAgICAgICAge1xuICAgICAgICAgIHRhZzogJ2RpdltkYXRhLW5vZGUtdHlwZT1cIm1lZGlhXCJdJ1xuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgdGFnOiAnaW1nW3NyY149XCJkYXRhOmltYWdlXCJdJyxcbiAgICAgICAgICBpZ25vcmU6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHRhZzogJ2ltZzpub3QoLnNtYXJ0LWxpbmstaWNvbiknXG4gICAgICAgIH1cbiAgICAgIF1cbiAgICB9XG4gIF0sXG4gIFtcbiAgICAndGFibGVIZWFkZXInLFxuICAgIHtcbiAgICAgIHNlbGVjdGFibGU6IGZhbHNlLFxuICAgICAgY29udGVudDpcbiAgICAgICAgJyhwYXJhZ3JhcGggfCBwYW5lbCB8IGJsb2NrcXVvdGUgfCBvcmRlcmVkTGlzdCB8IGJ1bGxldExpc3QgfCBydWxlIHwgaGVhZGluZyB8IGNvZGVCbG9jayB8IG1lZGlhU2luZ2xlIHwgZGVjaXNpb25MaXN0IHwgdGFza0xpc3QgKSsnLFxuICAgICAgYXR0cnM6IHtcbiAgICAgICAgY29sc3Bhbjoge1xuICAgICAgICAgIGRlZmF1bHQ6IDFcbiAgICAgICAgfSxcbiAgICAgICAgcm93c3Bhbjoge1xuICAgICAgICAgIGRlZmF1bHQ6IDFcbiAgICAgICAgfSxcbiAgICAgICAgY29sd2lkdGg6IHtcbiAgICAgICAgICBkZWZhdWx0OiBudWxsXG4gICAgICAgIH0sXG4gICAgICAgIGJhY2tncm91bmQ6IHtcbiAgICAgICAgICBkZWZhdWx0OiBudWxsXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB0YWJsZVJvbGU6ICdoZWFkZXJfY2VsbCcsXG4gICAgICBpc29sYXRpbmc6IHRydWUsXG4gICAgICBtYXJrczogJ2xpbmsgYWxpZ25tZW50IHVuc3VwcG9ydGVkTWFyayB1bnN1cHBvcnRlZE5vZGVBdHRyaWJ1dGUnLFxuICAgICAgcGFyc2VET006IFtcbiAgICAgICAge1xuICAgICAgICAgIHRhZzogJ3RoJ1xuICAgICAgICB9XG4gICAgICBdXG4gICAgfVxuICBdLFxuICBbXG4gICAgJ2RlY2lzaW9uTGlzdCcsXG4gICAge1xuICAgICAgZ3JvdXA6ICdibG9jaycsXG4gICAgICBkZWZpbmluZzogdHJ1ZSxcbiAgICAgIGNvbnRlbnQ6ICdkZWNpc2lvbkl0ZW0rJyxcbiAgICAgIG1hcmtzOiAndW5zdXBwb3J0ZWRNYXJrIHVuc3VwcG9ydGVkTm9kZUF0dHJpYnV0ZScsXG4gICAgICBzZWxlY3RhYmxlOiBmYWxzZSxcbiAgICAgIGF0dHJzOiB7XG4gICAgICAgIGxvY2FsSWQ6IHtcbiAgICAgICAgICBkZWZhdWx0OiAnJ1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgcGFyc2VET006IFtcbiAgICAgICAge1xuICAgICAgICAgIHRhZzogJ29sW2RhdGEtbm9kZS10eXBlPVwiZGVjaXNpb25MaXN0XCJdJyxcbiAgICAgICAgICBwcmlvcml0eTogMTAwXG4gICAgICAgIH1cbiAgICAgIF1cbiAgICB9XG4gIF0sXG4gIFtcbiAgICAndGFibGVSb3cnLFxuICAgIHtcbiAgICAgIHNlbGVjdGFibGU6IGZhbHNlLFxuICAgICAgY29udGVudDogJyh0YWJsZUNlbGwgfCB0YWJsZUhlYWRlcikrJyxcbiAgICAgIG1hcmtzOiAndW5zdXBwb3J0ZWRNYXJrIHVuc3VwcG9ydGVkTm9kZUF0dHJpYnV0ZScsXG4gICAgICB0YWJsZVJvbGU6ICdyb3cnLFxuICAgICAgcGFyc2VET006IFtcbiAgICAgICAge1xuICAgICAgICAgIHRhZzogJ3RyJ1xuICAgICAgICB9XG4gICAgICBdXG4gICAgfVxuICBdLFxuICBbXG4gICAgJ2RlY2lzaW9uSXRlbScsXG4gICAge1xuICAgICAgY29udGVudDogJ2lubGluZSonLFxuICAgICAgZGVmaW5pbmc6IHRydWUsXG4gICAgICBtYXJrczogJ18nLFxuICAgICAgYXR0cnM6IHtcbiAgICAgICAgbG9jYWxJZDoge1xuICAgICAgICAgIGRlZmF1bHQ6ICcnXG4gICAgICAgIH0sXG4gICAgICAgIHN0YXRlOiB7XG4gICAgICAgICAgZGVmYXVsdDogJ0RFQ0lERUQnXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBwYXJzZURPTTogW1xuICAgICAgICB7XG4gICAgICAgICAgdGFnOiAnbGlbZGF0YS1kZWNpc2lvbi1sb2NhbC1pZF0nLFxuICAgICAgICAgIHByaW9yaXR5OiAxMDBcbiAgICAgICAgfVxuICAgICAgXVxuICAgIH1cbiAgXSxcbiAgW1xuICAgICd0YWJsZUNlbGwnLFxuICAgIHtcbiAgICAgIHNlbGVjdGFibGU6IGZhbHNlLFxuICAgICAgY29udGVudDpcbiAgICAgICAgJyhwYXJhZ3JhcGggfCBwYW5lbCB8IGJsb2NrcXVvdGUgfCBvcmRlcmVkTGlzdCB8IGJ1bGxldExpc3QgfCBydWxlIHwgaGVhZGluZyB8IGNvZGVCbG9jayB8IG1lZGlhU2luZ2xlIHwgZGVjaXNpb25MaXN0IHwgdGFza0xpc3QgfCB1bnN1cHBvcnRlZEJsb2NrKSsnLFxuICAgICAgYXR0cnM6IHtcbiAgICAgICAgY29sc3Bhbjoge1xuICAgICAgICAgIGRlZmF1bHQ6IDFcbiAgICAgICAgfSxcbiAgICAgICAgcm93c3Bhbjoge1xuICAgICAgICAgIGRlZmF1bHQ6IDFcbiAgICAgICAgfSxcbiAgICAgICAgY29sd2lkdGg6IHtcbiAgICAgICAgICBkZWZhdWx0OiBudWxsXG4gICAgICAgIH0sXG4gICAgICAgIGJhY2tncm91bmQ6IHtcbiAgICAgICAgICBkZWZhdWx0OiBudWxsXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB0YWJsZVJvbGU6ICdjZWxsJyxcbiAgICAgIG1hcmtzOiAnbGluayBhbGlnbm1lbnQgdW5zdXBwb3J0ZWRNYXJrIHVuc3VwcG9ydGVkTm9kZUF0dHJpYnV0ZScsXG4gICAgICBpc29sYXRpbmc6IHRydWUsXG4gICAgICBwYXJzZURPTTogW1xuICAgICAgICB7XG4gICAgICAgICAgdGFnOiAnLmFrLXJlbmRlcmVyLXRhYmxlLW51bWJlci1jb2x1bW4nLFxuICAgICAgICAgIGlnbm9yZTogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgdGFnOiAndGQnXG4gICAgICAgIH1cbiAgICAgIF1cbiAgICB9XG4gIF0sXG4gIFtcbiAgICAndGFza0xpc3QnLFxuICAgIHtcbiAgICAgIGdyb3VwOiAnYmxvY2snLFxuICAgICAgZGVmaW5pbmc6IHRydWUsXG4gICAgICBzZWxlY3RhYmxlOiBmYWxzZSxcbiAgICAgIGNvbnRlbnQ6ICd0YXNrSXRlbSsgKHRhc2tJdGVtfHRhc2tMaXN0KSonLFxuICAgICAgbWFya3M6ICd1bnN1cHBvcnRlZE1hcmsgdW5zdXBwb3J0ZWROb2RlQXR0cmlidXRlJyxcbiAgICAgIGF0dHJzOiB7XG4gICAgICAgIGxvY2FsSWQ6IHtcbiAgICAgICAgICBkZWZhdWx0OiAnJ1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgcGFyc2VET006IFtcbiAgICAgICAge1xuICAgICAgICAgIHRhZzogJ2RpdltkYXRhLW5vZGUtdHlwZT1cImFjdGlvbkxpc3RcIl0nLFxuICAgICAgICAgIHByaW9yaXR5OiAxMDBcbiAgICAgICAgfVxuICAgICAgXVxuICAgIH1cbiAgXSxcbiAgW1xuICAgICd0YXNrSXRlbScsXG4gICAge1xuICAgICAgY29udGVudDogJ2lubGluZSonLFxuICAgICAgZGVmaW5pbmc6IHRydWUsXG4gICAgICBzZWxlY3RhYmxlOiBmYWxzZSxcbiAgICAgIG1hcmtzOiAnXycsXG4gICAgICBhdHRyczoge1xuICAgICAgICBsb2NhbElkOiB7XG4gICAgICAgICAgZGVmYXVsdDogJydcbiAgICAgICAgfSxcbiAgICAgICAgc3RhdGU6IHtcbiAgICAgICAgICBkZWZhdWx0OiAnVE9ETydcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHBhcnNlRE9NOiBbXG4gICAgICAgIHtcbiAgICAgICAgICB0YWc6ICdkaXZbZGF0YS10YXNrLWxvY2FsLWlkXScsXG4gICAgICAgICAgcHJpb3JpdHk6IDEwMFxuICAgICAgICB9XG4gICAgICBdXG4gICAgfVxuICBdXG5dXG5cbmV4cG9ydCBjb25zdCBtYXJrcyA9IFtcbiAgW1xuICAgICdsaW5rJyxcbiAgICB7XG4gICAgICBleGNsdWRlczogJ2xpbmsgY29sb3InLFxuICAgICAgZ3JvdXA6ICdsaW5rJyxcbiAgICAgIGF0dHJzOiB7XG4gICAgICAgIGhyZWY6IHt9LFxuICAgICAgICBfX2NvbmZsdWVuY2VNZXRhZGF0YToge1xuICAgICAgICAgIGRlZmF1bHQ6IG51bGxcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGluY2x1c2l2ZTogZmFsc2UsXG4gICAgICBwYXJzZURPTTogW1xuICAgICAgICB7XG4gICAgICAgICAgdGFnOiAnW2RhdGEtYmxvY2stbGlua10nXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB0YWc6ICdhW2hyZWZdJyxcbiAgICAgICAgICBjb250ZXh0OiAncGFyYWdyYXBoL3xoZWFkaW5nL3xtZWRpYVNpbmdsZS98dGFza0l0ZW0vfGRlY2lzaW9uSXRlbS8nXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB0YWc6ICdhW2hyZWZdJ1xuICAgICAgICB9XG4gICAgICBdXG4gICAgfVxuICBdLFxuICBbXG4gICAgJ2VtJyxcbiAgICB7XG4gICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICBncm91cDogJ2ZvbnRTdHlsZScsXG4gICAgICBwYXJzZURPTTogW1xuICAgICAgICB7XG4gICAgICAgICAgdGFnOiAnaSdcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHRhZzogJ2VtJ1xuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgc3R5bGU6ICdmb250LXN0eWxlPWl0YWxpYydcbiAgICAgICAgfVxuICAgICAgXVxuICAgIH1cbiAgXSxcbiAgW1xuICAgICdzdHJvbmcnLFxuICAgIHtcbiAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgIGdyb3VwOiAnZm9udFN0eWxlJyxcbiAgICAgIHBhcnNlRE9NOiBbXG4gICAgICAgIHtcbiAgICAgICAgICB0YWc6ICdzdHJvbmcnXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB0YWc6ICdiJ1xuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgdGFnOiAnc3BhbidcbiAgICAgICAgfVxuICAgICAgXVxuICAgIH1cbiAgXSxcbiAgW1xuICAgICd0ZXh0Q29sb3InLFxuICAgIHtcbiAgICAgIGF0dHJzOiB7XG4gICAgICAgIGNvbG9yOiB7fVxuICAgICAgfSxcbiAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgIGdyb3VwOiAnY29sb3InLFxuICAgICAgcGFyc2VET006IFtcbiAgICAgICAge1xuICAgICAgICAgIHN0eWxlOiAnY29sb3InXG4gICAgICAgIH1cbiAgICAgIF1cbiAgICB9XG4gIF0sXG4gIFtcbiAgICAnc3RyaWtlJyxcbiAgICB7XG4gICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICBncm91cDogJ2ZvbnRTdHlsZScsXG4gICAgICBwYXJzZURPTTogW1xuICAgICAgICB7XG4gICAgICAgICAgdGFnOiAnc3RyaWtlJ1xuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgdGFnOiAncydcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHRhZzogJ2RlbCdcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHN0eWxlOiAndGV4dC1kZWNvcmF0aW9uJ1xuICAgICAgICB9XG4gICAgICBdXG4gICAgfVxuICBdLFxuICBbXG4gICAgJ3N1YnN1cCcsXG4gICAge1xuICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgZ3JvdXA6ICdmb250U3R5bGUnLFxuICAgICAgYXR0cnM6IHtcbiAgICAgICAgdHlwZToge1xuICAgICAgICAgIGRlZmF1bHQ6ICdzdWInXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBwYXJzZURPTTogW1xuICAgICAgICB7XG4gICAgICAgICAgdGFnOiAnc3ViJyxcbiAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgdHlwZTogJ3N1YidcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB0YWc6ICdzdXAnLFxuICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICB0eXBlOiAnc3VwJ1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHRhZzogJ3NwYW4nLFxuICAgICAgICAgIHN0eWxlOiAndmVydGljYWwtYWxpZ249c3VwZXInXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB0YWc6ICdzcGFuJyxcbiAgICAgICAgICBzdHlsZTogJ3ZlcnRpY2FsLWFsaWduPXN1YidcbiAgICAgICAgfVxuICAgICAgXVxuICAgIH1cbiAgXSxcbiAgW1xuICAgICd1bmRlcmxpbmUnLFxuICAgIHtcbiAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgIGdyb3VwOiAnZm9udFN0eWxlJyxcbiAgICAgIHBhcnNlRE9NOiBbXG4gICAgICAgIHtcbiAgICAgICAgICB0YWc6ICd1J1xuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgc3R5bGU6ICd0ZXh0LWRlY29yYXRpb24nXG4gICAgICAgIH1cbiAgICAgIF1cbiAgICB9XG4gIF0sXG4gIFtcbiAgICAnY29kZScsXG4gICAge1xuICAgICAgZXhjbHVkZXM6ICdmb250U3R5bGUgbGluayBzZWFyY2hRdWVyeSBjb2xvcicsXG4gICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICBwYXJzZURPTTogW1xuICAgICAgICB7XG4gICAgICAgICAgdGFnOiAnc3Bhbi5jb2RlJyxcbiAgICAgICAgICBwcmVzZXJ2ZVdoaXRlc3BhY2U6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHRhZzogJ2NvZGUnLFxuICAgICAgICAgIHByZXNlcnZlV2hpdGVzcGFjZTogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgdGFnOiAndHQnLFxuICAgICAgICAgIHByZXNlcnZlV2hpdGVzcGFjZTogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgdGFnOiAnc3BhbicsXG4gICAgICAgICAgcHJlc2VydmVXaGl0ZXNwYWNlOiB0cnVlXG4gICAgICAgIH1cbiAgICAgIF1cbiAgICB9XG4gIF0sXG4gIFtcbiAgICAndHlwZUFoZWFkUXVlcnknLFxuICAgIHtcbiAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgIGdyb3VwOiAnc2VhcmNoUXVlcnknLFxuICAgICAgcGFyc2VET006IFtcbiAgICAgICAge1xuICAgICAgICAgIHRhZzogJ3NwYW5bZGF0YS10eXBlLWFoZWFkLXF1ZXJ5XSdcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIGF0dHJzOiB7XG4gICAgICAgIHRyaWdnZXI6IHtcbiAgICAgICAgICBkZWZhdWx0OiAnJ1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICBdLFxuICBbXG4gICAgJ2FsaWdubWVudCcsXG4gICAge1xuICAgICAgZXhjbHVkZXM6ICdhbGlnbm1lbnQgaW5kZW50YXRpb24nLFxuICAgICAgZ3JvdXA6ICdhbGlnbm1lbnQnLFxuICAgICAgYXR0cnM6IHtcbiAgICAgICAgYWxpZ246IHt9XG4gICAgICB9LFxuICAgICAgcGFyc2VET006IFtcbiAgICAgICAge1xuICAgICAgICAgIHRhZzogJ2Rpdi5mYWJyaWMtZWRpdG9yLWJsb2NrLW1hcmsnXG4gICAgICAgIH1cbiAgICAgIF1cbiAgICB9XG4gIF0sXG4gIFtcbiAgICAnYnJlYWtvdXQnLFxuICAgIHtcbiAgICAgIHNwYW5uaW5nOiBmYWxzZSxcbiAgICAgIGluY2x1c2l2ZTogZmFsc2UsXG4gICAgICBwYXJzZURPTTogW1xuICAgICAgICB7XG4gICAgICAgICAgdGFnOiAnZGl2LmZhYnJpYy1lZGl0b3ItYnJlYWtvdXQtbWFyaydcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIGF0dHJzOiB7XG4gICAgICAgIG1vZGU6IHtcbiAgICAgICAgICBkZWZhdWx0OiAnd2lkZSdcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgXSxcbiAgW1xuICAgICdpbmRlbnRhdGlvbicsXG4gICAge1xuICAgICAgZXhjbHVkZXM6ICdpbmRlbnRhdGlvbiBhbGlnbm1lbnQnLFxuICAgICAgZ3JvdXA6ICdpbmRlbnRhdGlvbicsXG4gICAgICBhdHRyczoge1xuICAgICAgICBsZXZlbDoge31cbiAgICAgIH0sXG4gICAgICBwYXJzZURPTTogW1xuICAgICAgICB7XG4gICAgICAgICAgdGFnOiAnZGl2LmZhYnJpYy1lZGl0b3ItaW5kZW50YXRpb24tbWFyaydcbiAgICAgICAgfVxuICAgICAgXVxuICAgIH1cbiAgXSxcbiAgW1xuICAgICd1bnN1cHBvcnRlZE1hcmsnLFxuICAgIHtcbiAgICAgIGF0dHJzOiB7XG4gICAgICAgIG9yaWdpbmFsVmFsdWU6IHt9XG4gICAgICB9XG4gICAgfVxuICBdLFxuICBbXG4gICAgJ3Vuc3VwcG9ydGVkTm9kZUF0dHJpYnV0ZScsXG4gICAge1xuICAgICAgYXR0cnM6IHtcbiAgICAgICAgdHlwZToge30sXG4gICAgICAgIHVuc3VwcG9ydGVkOiB7fVxuICAgICAgfVxuICAgIH1cbiAgXVxuXVxuXG5mdW5jdGlvbiBvcmRlcmVkVG9PYmplY3Qob3JkZXJlZCkge1xuICByZXR1cm4gb3JkZXJlZC5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgY3VyKSB7XG4gICAgYWNjW2N1clswXV0gPSBjdXJbMV1cbiAgICByZXR1cm4gYWNjXG4gIH0sIHt9KVxufVxuXG5leHBvcnQgY29uc3Qgc2NoZW1hT3JkZXJlZCA9IHtcbiAgbm9kZXMsXG4gIG1hcmtzLFxuICB2ZXJzaW9uOiBzY2hlbWFWZXJzaW9uXG59XG5cbmV4cG9ydCBjb25zdCBzY2hlbWFPYmplY3QgPSB7XG4gIG5vZGVzOiBvcmRlcmVkVG9PYmplY3Qobm9kZXMpLFxuICBtYXJrczogb3JkZXJlZFRvT2JqZWN0KG1hcmtzKVxufVxuXG5jb25zdCBzY2hlbWEgPSBuZXcgU2NoZW1hKHNjaGVtYU9iamVjdClcblxuZXhwb3J0IGRlZmF1bHQgc2NoZW1hXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUtBO0FBQ0E7QUFFQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFLQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFLQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFLQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBS0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUtBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBSUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFLQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUtBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBS0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFLQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBS0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFLQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBS0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/lib/collab/schema.js\n");

/***/ }),

/***/ "./src/lib/collab/stack-client.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ServiceClient\", function() { return ServiceClient; });\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _content__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./src/lib/collab/content.js\");\n/* harmony import */ var _schema__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./src/lib/collab/schema.js\");\n\n\n\n\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n\n\n\n\n// Warning: sessionID on the server, sessionId on the client\n\n/**\n * This is the communication layer with the server\n */\nvar ServiceClient = /*#__PURE__*/function () {\n  function ServiceClient(config) {\n    var _this = this;\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this, ServiceClient);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"postImage\", /*#__PURE__*/function () {\n      var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark(function _callee(name, noteId, file, type) {\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                return _context.abrupt(\"return\", _this.stackClient.fetchJSON('POST', _this.path(noteId, \"images?Name=\".concat(name)), file, {\n                  headers: {\n                    'Content-Type': type\n                  }\n                }));\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n      return function (_x, _x2, _x3, _x4) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n    var userId = config.userId,\n      cozyClient = config.cozyClient,\n      schema = config.schema,\n      realtime = config.realtime;\n    var now = new Date();\n    var sessionSuffix = now.getTime() + '.' + now.getMilliseconds() + '.' + Math.random();\n    this.sessionId = userId + ':' + sessionSuffix;\n    this.userId = this.getUserId(userId);\n    this.cozyClient = cozyClient;\n    this.stackClient = cozyClient.getStackClient();\n    this.schema = schema;\n    this.schemaVersion = _schema__WEBPACK_IMPORTED_MODULE_6__[\"schemaVersion\"];\n    this.onRealtimeEvent = this.onRealtimeEvent.bind(this);\n    this.realtime = realtime || cozyClient.plugins['realtime'];\n    this.resetCallbacks();\n  }\n\n  /**\n   * Remove event listeners\n   */\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(ServiceClient, [{\n    key: \"resetCallbacks\",\n    value: function resetCallbacks() {\n      this.callbacks = {};\n    }\n\n    /**\n     * Adds event listeners\n     */\n  }, {\n    key: \"setCallback\",\n    value: function setCallback(type, id, callback) {\n      this.callbacks[type] = this.callbacks[type] || {};\n      this.callbacks[type][id] = callback;\n    }\n\n    /**\n     * @returns {string} Unique id for the user\n     */\n  }, {\n    key: \"getUserId\",\n    value: function getUserId(sessionId) {\n      return sessionId ? sessionId.match(/[^:]+/)[0] : this.userId;\n    }\n\n    /**\n     * @returns {string} Unique id for the session\n     * It contains the user id + some unique part\n     */\n  }, {\n    key: \"getSessionId\",\n    value: function getSessionId() {\n      return this.sessionId;\n    }\n\n    /**\n     * Close communication with the server\n     * Remove all events listeners\n     */\n  }, {\n    key: \"close\",\n    value: function close() {\n      this.realtime.unsubscribeAll();\n      this.resetCallbacks();\n    }\n\n    /**\n     * Get a default title for the note\n     */\n  }, {\n    key: \"defaultTitle\",\n    value: function defaultTitle() {\n      return new Date().toISOString();\n    }\n\n    /**\n     * @param {uuid} id - id of the note\n     * @param {string} sub - sub-path for the server route\n     * @returns {string} path for an API route on the cozy-stack\n     */\n  }, {\n    key: \"path\",\n    value: function path(id, sub) {\n      return id ? sub ? \"/notes/\".concat(id, \"/\").concat(sub) : \"/notes/\".concat(id) : '/notes';\n    }\n\n    /**\n     * Convert data from the client format to the server format\n     */\n  }, {\n    key: \"client2server\",\n    value: function client2server(data) {\n      return _objectSpread({\n        sessionID: data.sessionId || this.sessionId\n      }, data);\n    }\n\n    /**\n     * Convert data from the server format to the client format\n     */\n  }, {\n    key: \"server2client\",\n    value: function server2client(data) {\n      return _objectSpread({\n        sessionId: data.sessionID,\n        userId: this.getUserId(data.sessionID)\n      }, data);\n    }\n\n    /**\n     * Create a new note on the server\n     * @param {string} title\n     * @param {Object} schema\n     * @param {Object} doc\n     */\n  }, {\n    key: \"create\",\n    value: (function () {\n      var _create = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark(function _callee2(title, schema, doc) {\n        var _doc$content;\n        var newDoc;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                newDoc = {\n                  data: {\n                    type: 'io.cozy.notes.documents',\n                    attributes: {\n                      title: title || this.defaultTitle(),\n                      schema: schema || this.schema || _schema__WEBPACK_IMPORTED_MODULE_6__[\"schemaOrdered\"],\n                      content: doc ? ((_doc$content = doc.content) === null || _doc$content === void 0 ? void 0 : _doc$content.length) > 0 ? doc : _objectSpread(_objectSpread({}, doc), {}, {\n                        content: _content__WEBPACK_IMPORTED_MODULE_5__[\"defaultContent\"]\n                      }) : undefined\n                    }\n                  }\n                };\n                return _context2.abrupt(\"return\", this.stackClient.fetchJSON('POST', this.path(), newDoc));\n              case 2:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n      function create(_x5, _x6, _x7) {\n        return _create.apply(this, arguments);\n      }\n      return create;\n    }()\n    /**\n     *\n     * Update the schema for a note.\n     *\n     * @param {uuid} noteId\n     * @param {Schema} newSchema\n     */\n    )\n  }, {\n    key: \"updateSchema\",\n    value: (function () {\n      var _updateSchema = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark(function _callee3(noteId, newSchema) {\n        var res, formatedDoc;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return this.stackClient.fetchJSON('PUT', this.path(noteId, 'schema'), {\n                  data: {\n                    type: 'io.cozy.notes.documents',\n                    attributes: {\n                      schema: _objectSpread(_objectSpread({}, newSchema), {}, {\n                        version: _schema__WEBPACK_IMPORTED_MODULE_6__[\"schemaVersion\"]\n                      })\n                    }\n                  }\n                });\n              case 2:\n                res = _context3.sent;\n                formatedDoc = this.formatDoc(res.data);\n                this.schemaVersion = formatedDoc.schemaVersion;\n                return _context3.abrupt(\"return\", formatedDoc);\n              case 6:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n      function updateSchema(_x8, _x9) {\n        return _updateSchema.apply(this, arguments);\n      }\n      return updateSchema;\n    }()\n    /**\n     * Force the note to be written to the io.cozy.files now\n     * @param {uuid} noteId - note id\n     */\n    )\n  }, {\n    key: \"sync\",\n    value: (function () {\n      var _sync = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark(function _callee4(noteId) {\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return this.stackClient.fetchJSON('POST', this.path(noteId, 'sync'));\n              case 2:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n      function sync(_x10) {\n        return _sync.apply(this, arguments);\n      }\n      return sync;\n    }()\n    /**\n     * Change the title of a note\n     * @param {uuid} noteId\n     * @param {string} title\n     */\n    )\n  }, {\n    key: \"setTitle\",\n    value: (function () {\n      var _setTitle = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark(function _callee5(noteId, title) {\n        var titleDoc;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                titleDoc = {\n                  data: {\n                    type: 'io.cozy.notes.documents',\n                    id: noteId,\n                    attributes: this.client2server({\n                      title: title\n                    })\n                  }\n                };\n                _context5.next = 3;\n                return this.stackClient.fetchJSON('PUT', this.path(noteId, 'title'), titleDoc);\n              case 3:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n      function setTitle(_x11, _x12) {\n        return _setTitle.apply(this, arguments);\n      }\n      return setTitle;\n    }()\n    /**\n     * Dispatch events from the server\n     * @param {Object} doc - received from the realtime of cozy-stack\n     */\n    )\n  }, {\n    key: \"onRealtimeEvent\",\n    value: function onRealtimeEvent(doc) {\n      var id = doc.id || doc._id;\n      var type = doc.doctype || doc.type;\n      // Hack needed since realtime data from io.cozy.notes & io.cozy.files\n      // are not structured the same way\n      if (type === 'file') type = 'io.cozy.files';\n      if (this.callbacks[type] && this.callbacks[type][id]) {\n        return this.callbacks[type][id](doc);\n      } else {\n        // eslint-disable-next-line no-console\n        console.warn('Event not managed', type, id, this.callbacks);\n      }\n    }\n\n    /**\n     * Join a doc - listen to realtime events for this doc\n     * @param {uui} noteId\n     */\n  }, {\n    key: \"join\",\n    value: (function () {\n      var _join = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark(function _callee6(noteId) {\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.next = 2;\n                return Promise.all([this.realtime.subscribe(null,\n                // all events\n                'io.cozy.notes.events', noteId, this.onRealtimeEvent)]);\n              case 2:\n                // Listen for an update to the file itself\n                // Needed to detect a schema changed in the note\n                // since there is no \"Note specific event\" for that\n                this.realtime.subscribe('UPDATED', 'io.cozy.files', noteId, this.onRealtimeEvent);\n              case 3:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n      function join(_x13) {\n        return _join.apply(this, arguments);\n      }\n      return join;\n    }()\n    /**\n     * Listen for new steps from the server\n     * @param {uuid} noteId\n     * @param {Function} callback\n     */\n    )\n  }, {\n    key: \"onStepsCreated\",\n    value: (function () {\n      var _onStepsCreated = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark(function _callee7(noteId, callback) {\n        var _this2 = this;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                this.setCallback('io.cozy.notes.steps', noteId, function (data) {\n                  return callback(_this2.server2client(data));\n                });\n              case 1:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n      function onStepsCreated(_x14, _x15) {\n        return _onStepsCreated.apply(this, arguments);\n      }\n      return onStepsCreated;\n    }()\n    /**\n     * Listen for new cursors positions from the server\n     * @param {uuid} noteId\n     * @param {Function} callback\n     */\n    )\n  }, {\n    key: \"onTelepointerUpdated\",\n    value: (function () {\n      var _onTelepointerUpdated = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark(function _callee8(noteId, callback) {\n        var _this3 = this;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                this.setCallback('io.cozy.notes.telepointers', noteId, function (data) {\n                  return callback(_this3.server2client(data));\n                });\n              case 1:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, this);\n      }));\n      function onTelepointerUpdated(_x16, _x17) {\n        return _onTelepointerUpdated.apply(this, arguments);\n      }\n      return onTelepointerUpdated;\n    }()\n    /**\n     *\n     * Called when a change is detected in the io.cozy.files\n     * and used to check if the schema has been updated\n     *\n     * @param {uuid} noteId\n     * @param {function} callback\n     */\n    )\n  }, {\n    key: \"onSchemaUpdated\",\n    value: (function () {\n      var _onSchemaUpdated = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark(function _callee9(noteId, callback) {\n        var _this4 = this;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                this.setCallback('io.cozy.files', noteId, function (doc) {\n                  if (doc.metadata.schema.version !== _this4.schemaVersion) {\n                    return callback(doc);\n                  }\n                });\n              case 1:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9, this);\n      }));\n      function onSchemaUpdated(_x18, _x19) {\n        return _onSchemaUpdated.apply(this, arguments);\n      }\n      return onSchemaUpdated;\n    }()\n    /**\n     * Listen for title changes in the document\n     * @param {uuid} noteId\n     * @param {Function} callback - function that get a title as paramerer\n     */\n    )\n  }, {\n    key: \"onTitleUpdated\",\n    value: (function () {\n      var _onTitleUpdated = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark(function _callee10(noteId, callback) {\n        var _this5 = this;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap(function _callee10$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                this.setCallback('io.cozy.notes.documents', noteId, function (doc) {\n                  return !doc.sessionID || doc.sessionID != _this5.sessionId ? callback(doc.title) : null;\n                });\n              case 1:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee10, this);\n      }));\n      function onTitleUpdated(_x20, _x21) {\n        return _onTitleUpdated.apply(this, arguments);\n      }\n      return onTitleUpdated;\n    }()\n    /**\n     * Get the full document for a note\n     * @param {uuid} noteId\n     */\n    )\n  }, {\n    key: \"getDoc\",\n    value: (function () {\n      var _getDoc = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark(function _callee11(noteId) {\n        var res, formatedDoc;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap(function _callee11$(_context11) {\n          while (1) {\n            switch (_context11.prev = _context11.next) {\n              case 0:\n                _context11.next = 2;\n                return this.stackClient.fetchJSON('GET', this.path(noteId));\n              case 2:\n                res = _context11.sent;\n                formatedDoc = this.formatDoc(res.data);\n                this.schemaVersion = formatedDoc.schemaVersion;\n                return _context11.abrupt(\"return\", formatedDoc);\n              case 6:\n              case \"end\":\n                return _context11.stop();\n            }\n          }\n        }, _callee11, this);\n      }));\n      function getDoc(_x22) {\n        return _getDoc.apply(this, arguments);\n      }\n      return getDoc;\n    }()\n    /**\n     * Get the full document for a note\n     * @param {uuid} noteId\n     */\n    )\n  }, {\n    key: \"getFormatedDoc\",\n    value: function getFormatedDoc(note) {\n      var formatedDoc = this.formatDoc(note);\n      this.schemaVersion = formatedDoc.schemaVersion;\n      return formatedDoc;\n    }\n\n    /**\n     * Returns a formated document with easier access\n     *\n     * @param {Note} note document\n     * @return {Object} formated document\n     */\n  }, {\n    key: \"formatDoc\",\n    value: function formatDoc(note) {\n      return {\n        doc: note.attributes.metadata.content,\n        version: note.attributes.metadata.version,\n        title: note.attributes.metadata.title,\n        updatedAt: new Date(note.attributes.updated_at),\n        file: note,\n        schemaVersion: note.attributes.metadata.schema.version\n      };\n    }\n\n    /**\n     * Push new local steps to the server\n     * @param {uuid} noteId\n     * @param {integer} version\n     * @param {Object[]} steps\n     */\n  }, {\n    key: \"pushSteps\",\n    value: (function () {\n      var _pushSteps = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark(function _callee12(noteId, version, steps) {\n        var _this6 = this;\n        var options, stepsDoc;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap(function _callee12$(_context12) {\n          while (1) {\n            switch (_context12.prev = _context12.next) {\n              case 0:\n                options = {\n                  headers: {\n                    'if-match': version\n                  }\n                };\n                stepsDoc = {\n                  data: steps.map(function (step) {\n                    return {\n                      type: 'io.cozy.notes.steps',\n                      attributes: _this6.client2server(step.toJSON())\n                    };\n                  })\n                }; // will throw in case of 409\n                // which will occurs if the server has more versions than us\n                _context12.next = 4;\n                return this.stackClient.fetchJSON('PATCH', this.path(noteId), stepsDoc, options);\n              case 4:\n                return _context12.abrupt(\"return\", null);\n              case 5:\n              case \"end\":\n                return _context12.stop();\n            }\n          }\n        }, _callee12, this);\n      }));\n      function pushSteps(_x23, _x24, _x25) {\n        return _pushSteps.apply(this, arguments);\n      }\n      return pushSteps;\n    }()\n    /**\n     * Fetch steps from the server since the provided versions\n     * @param {uuid} noteId\n     * @param {integer} version\n     * @returns {{version, steps}|{doc, version}}\n     * If the server doesn't have all requested steps in memory,\n     * it could returns the whole document in its current version\n     */\n    )\n  }, {\n    key: \"getSteps\",\n    value: (function () {\n      var _getSteps = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark(function _callee13(noteId, version) {\n        var _this7 = this;\n        var res, steps, _version, response, data, meta, doc, ver, ev, realtimeDoc;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap(function _callee13$(_context13) {\n          while (1) {\n            switch (_context13.prev = _context13.next) {\n              case 0:\n                _context13.prev = 0;\n                _context13.next = 3;\n                return this.stackClient.fetchJSON('GET', \"\".concat(this.path(noteId, 'steps'), \"?Version=\").concat(version));\n              case 3:\n                res = _context13.sent;\n                if (!(res.data.length == 0)) {\n                  _context13.next = 8;\n                  break;\n                }\n                return _context13.abrupt(\"return\", {\n                  steps: [],\n                  version: version\n                });\n              case 8:\n                steps = res.data.map(function (step) {\n                  return _this7.server2client(step.attributes);\n                });\n                _version = res.data[res.data.length - 1].attributes.version;\n                return _context13.abrupt(\"return\", {\n                  version: _version,\n                  steps: steps\n                });\n              case 11:\n                _context13.next = 28;\n                break;\n              case 13:\n                _context13.prev = 13;\n                _context13.t0 = _context13[\"catch\"](0);\n                response = _context13.t0.response;\n                data = _context13.t0.reason && _context13.t0.reason.data;\n                meta = data && data.attributes && data.attributes.metadata;\n                doc = meta && meta.content;\n                ver = meta && meta.version;\n                if (!(response.status == 412 && doc && ver)) {\n                  _context13.next = 27;\n                  break;\n                }\n                // server does not have all steps we try to fetch\n                // it responds with a full document and a title\n                ev = 'io.cozy.notes.documents';\n                realtimeDoc = {\n                  _id: noteId,\n                  _type: 'io.cozy.notes.events',\n                  doctype: ev,\n                  title: meta.title\n                };\n                if (this.callbacks[ev] && this.callbacks[ev][noteId]) {\n                  this.callbacks[ev][noteId](realtimeDoc);\n                }\n                return _context13.abrupt(\"return\", {\n                  doc: doc,\n                  version: ver\n                });\n              case 27:\n                throw _context13.t0;\n              case 28:\n              case \"end\":\n                return _context13.stop();\n            }\n          }\n        }, _callee13, this, [[0, 13]]);\n      }));\n      function getSteps(_x26, _x27) {\n        return _getSteps.apply(this, arguments);\n      }\n      return getSteps;\n    }()\n    /**\n     * Push new local cursor position to the server\n     * @param {uuid} noteId\n     * @param {Object} data\n     */\n    )\n  }, {\n    key: \"pushTelepointer\",\n    value: (function () {\n      var _pushTelepointer = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark(function _callee14(noteId, data) {\n        var telepointerDoc;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap(function _callee14$(_context14) {\n          while (1) {\n            switch (_context14.prev = _context14.next) {\n              case 0:\n                telepointerDoc = {\n                  data: {\n                    type: 'io.cozy.notes.telepointers',\n                    id: noteId,\n                    attributes: this.client2server(data)\n                  }\n                };\n                return _context14.abrupt(\"return\", this.stackClient.fetchJSON('PUT', this.path(noteId, 'telepointer'), telepointerDoc));\n              case 2:\n              case \"end\":\n                return _context14.stop();\n            }\n          }\n        }, _callee14, this);\n      }));\n      function pushTelepointer(_x28, _x29) {\n        return _pushTelepointer.apply(this, arguments);\n      }\n      return pushTelepointer;\n    }())\n  }]);\n  return ServiceClient;\n}();\n/* harmony default export */ __webpack_exports__[\"default\"] = (ServiceClient);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGliL2NvbGxhYi9zdGFjay1jbGllbnQuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL2NvbGxhYi9zdGFjay1jbGllbnQuanM/MDI1YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkZWZhdWx0Q29udGVudCB9IGZyb20gJy4vY29udGVudCdcbmltcG9ydCB7IHNjaGVtYU9yZGVyZWQgYXMgZGVmYXVsdFNjaGVtYSwgc2NoZW1hVmVyc2lvbiB9IGZyb20gJy4vc2NoZW1hJ1xuXG4vLyBXYXJuaW5nOiBzZXNzaW9uSUQgb24gdGhlIHNlcnZlciwgc2Vzc2lvbklkIG9uIHRoZSBjbGllbnRcblxuLyoqXG4gKiBUaGlzIGlzIHRoZSBjb21tdW5pY2F0aW9uIGxheWVyIHdpdGggdGhlIHNlcnZlclxuICovXG5leHBvcnQgY2xhc3MgU2VydmljZUNsaWVudCB7XG4gIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgIGNvbnN0IHsgdXNlcklkLCBjb3p5Q2xpZW50LCBzY2hlbWEsIHJlYWx0aW1lIH0gPSBjb25maWdcbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpXG4gICAgY29uc3Qgc2Vzc2lvblN1ZmZpeCA9XG4gICAgICBub3cuZ2V0VGltZSgpICsgJy4nICsgbm93LmdldE1pbGxpc2Vjb25kcygpICsgJy4nICsgTWF0aC5yYW5kb20oKVxuICAgIHRoaXMuc2Vzc2lvbklkID0gdXNlcklkICsgJzonICsgc2Vzc2lvblN1ZmZpeFxuICAgIHRoaXMudXNlcklkID0gdGhpcy5nZXRVc2VySWQodXNlcklkKVxuICAgIHRoaXMuY296eUNsaWVudCA9IGNvenlDbGllbnRcbiAgICB0aGlzLnN0YWNrQ2xpZW50ID0gY296eUNsaWVudC5nZXRTdGFja0NsaWVudCgpXG4gICAgdGhpcy5zY2hlbWEgPSBzY2hlbWFcbiAgICB0aGlzLnNjaGVtYVZlcnNpb24gPSBzY2hlbWFWZXJzaW9uXG4gICAgdGhpcy5vblJlYWx0aW1lRXZlbnQgPSB0aGlzLm9uUmVhbHRpbWVFdmVudC5iaW5kKHRoaXMpXG4gICAgdGhpcy5yZWFsdGltZSA9IHJlYWx0aW1lIHx8IGNvenlDbGllbnQucGx1Z2luc1sncmVhbHRpbWUnXVxuICAgIHRoaXMucmVzZXRDYWxsYmFja3MoKVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBldmVudCBsaXN0ZW5lcnNcbiAgICovXG4gIHJlc2V0Q2FsbGJhY2tzKCkge1xuICAgIHRoaXMuY2FsbGJhY2tzID0ge31cbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGV2ZW50IGxpc3RlbmVyc1xuICAgKi9cbiAgc2V0Q2FsbGJhY2sodHlwZSwgaWQsIGNhbGxiYWNrKSB7XG4gICAgdGhpcy5jYWxsYmFja3NbdHlwZV0gPSB0aGlzLmNhbGxiYWNrc1t0eXBlXSB8fCB7fVxuICAgIHRoaXMuY2FsbGJhY2tzW3R5cGVdW2lkXSA9IGNhbGxiYWNrXG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge3N0cmluZ30gVW5pcXVlIGlkIGZvciB0aGUgdXNlclxuICAgKi9cbiAgZ2V0VXNlcklkKHNlc3Npb25JZCkge1xuICAgIHJldHVybiBzZXNzaW9uSWQgPyBzZXNzaW9uSWQubWF0Y2goL1teOl0rLylbMF0gOiB0aGlzLnVzZXJJZFxuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFVuaXF1ZSBpZCBmb3IgdGhlIHNlc3Npb25cbiAgICogSXQgY29udGFpbnMgdGhlIHVzZXIgaWQgKyBzb21lIHVuaXF1ZSBwYXJ0XG4gICAqL1xuICBnZXRTZXNzaW9uSWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbklkXG4gIH1cblxuICAvKipcbiAgICogQ2xvc2UgY29tbXVuaWNhdGlvbiB3aXRoIHRoZSBzZXJ2ZXJcbiAgICogUmVtb3ZlIGFsbCBldmVudHMgbGlzdGVuZXJzXG4gICAqL1xuICBjbG9zZSgpIHtcbiAgICB0aGlzLnJlYWx0aW1lLnVuc3Vic2NyaWJlQWxsKClcbiAgICB0aGlzLnJlc2V0Q2FsbGJhY2tzKClcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYSBkZWZhdWx0IHRpdGxlIGZvciB0aGUgbm90ZVxuICAgKi9cbiAgZGVmYXVsdFRpdGxlKCkge1xuICAgIHJldHVybiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3V1aWR9IGlkIC0gaWQgb2YgdGhlIG5vdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN1YiAtIHN1Yi1wYXRoIGZvciB0aGUgc2VydmVyIHJvdXRlXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IHBhdGggZm9yIGFuIEFQSSByb3V0ZSBvbiB0aGUgY296eS1zdGFja1xuICAgKi9cbiAgcGF0aChpZCwgc3ViKSB7XG4gICAgcmV0dXJuIGlkID8gKHN1YiA/IGAvbm90ZXMvJHtpZH0vJHtzdWJ9YCA6IGAvbm90ZXMvJHtpZH1gKSA6ICcvbm90ZXMnXG4gIH1cblxuICAvKipcbiAgICogQ29udmVydCBkYXRhIGZyb20gdGhlIGNsaWVudCBmb3JtYXQgdG8gdGhlIHNlcnZlciBmb3JtYXRcbiAgICovXG4gIGNsaWVudDJzZXJ2ZXIoZGF0YSkge1xuICAgIHJldHVybiB7IHNlc3Npb25JRDogZGF0YS5zZXNzaW9uSWQgfHwgdGhpcy5zZXNzaW9uSWQsIC4uLmRhdGEgfVxuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnQgZGF0YSBmcm9tIHRoZSBzZXJ2ZXIgZm9ybWF0IHRvIHRoZSBjbGllbnQgZm9ybWF0XG4gICAqL1xuICBzZXJ2ZXIyY2xpZW50KGRhdGEpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc2Vzc2lvbklkOiBkYXRhLnNlc3Npb25JRCxcbiAgICAgIHVzZXJJZDogdGhpcy5nZXRVc2VySWQoZGF0YS5zZXNzaW9uSUQpLFxuICAgICAgLi4uZGF0YVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgbm90ZSBvbiB0aGUgc2VydmVyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0aXRsZVxuICAgKiBAcGFyYW0ge09iamVjdH0gc2NoZW1hXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBkb2NcbiAgICovXG4gIGFzeW5jIGNyZWF0ZSh0aXRsZSwgc2NoZW1hLCBkb2MpIHtcbiAgICBjb25zdCBuZXdEb2MgPSB7XG4gICAgICBkYXRhOiB7XG4gICAgICAgIHR5cGU6ICdpby5jb3p5Lm5vdGVzLmRvY3VtZW50cycsXG4gICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICB0aXRsZTogdGl0bGUgfHwgdGhpcy5kZWZhdWx0VGl0bGUoKSxcbiAgICAgICAgICBzY2hlbWE6IHNjaGVtYSB8fCB0aGlzLnNjaGVtYSB8fCBkZWZhdWx0U2NoZW1hLFxuICAgICAgICAgIGNvbnRlbnQ6IGRvY1xuICAgICAgICAgICAgPyBkb2MuY29udGVudD8ubGVuZ3RoID4gMFxuICAgICAgICAgICAgICA/IGRvY1xuICAgICAgICAgICAgICA6IHsgLi4uZG9jLCBjb250ZW50OiBkZWZhdWx0Q29udGVudCB9XG4gICAgICAgICAgICA6IHVuZGVmaW5lZFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuc3RhY2tDbGllbnQuZmV0Y2hKU09OKCdQT1NUJywgdGhpcy5wYXRoKCksIG5ld0RvYylcbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKiBVcGRhdGUgdGhlIHNjaGVtYSBmb3IgYSBub3RlLlxuICAgKlxuICAgKiBAcGFyYW0ge3V1aWR9IG5vdGVJZFxuICAgKiBAcGFyYW0ge1NjaGVtYX0gbmV3U2NoZW1hXG4gICAqL1xuICBhc3luYyB1cGRhdGVTY2hlbWEobm90ZUlkLCBuZXdTY2hlbWEpIHtcbiAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLnN0YWNrQ2xpZW50LmZldGNoSlNPTihcbiAgICAgICdQVVQnLFxuICAgICAgdGhpcy5wYXRoKG5vdGVJZCwgJ3NjaGVtYScpLFxuICAgICAge1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgdHlwZTogJ2lvLmNvenkubm90ZXMuZG9jdW1lbnRzJyxcbiAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICBzY2hlbWE6IHtcbiAgICAgICAgICAgICAgLi4ubmV3U2NoZW1hLFxuICAgICAgICAgICAgICB2ZXJzaW9uOiBzY2hlbWFWZXJzaW9uXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgKVxuICAgIGNvbnN0IGZvcm1hdGVkRG9jID0gdGhpcy5mb3JtYXREb2MocmVzLmRhdGEpXG4gICAgdGhpcy5zY2hlbWFWZXJzaW9uID0gZm9ybWF0ZWREb2Muc2NoZW1hVmVyc2lvblxuICAgIHJldHVybiBmb3JtYXRlZERvY1xuICB9XG5cbiAgLyoqXG4gICAqIEZvcmNlIHRoZSBub3RlIHRvIGJlIHdyaXR0ZW4gdG8gdGhlIGlvLmNvenkuZmlsZXMgbm93XG4gICAqIEBwYXJhbSB7dXVpZH0gbm90ZUlkIC0gbm90ZSBpZFxuICAgKi9cbiAgYXN5bmMgc3luYyhub3RlSWQpIHtcbiAgICBhd2FpdCB0aGlzLnN0YWNrQ2xpZW50LmZldGNoSlNPTignUE9TVCcsIHRoaXMucGF0aChub3RlSWQsICdzeW5jJykpXG4gIH1cblxuICAvKipcbiAgICogQ2hhbmdlIHRoZSB0aXRsZSBvZiBhIG5vdGVcbiAgICogQHBhcmFtIHt1dWlkfSBub3RlSWRcbiAgICogQHBhcmFtIHtzdHJpbmd9IHRpdGxlXG4gICAqL1xuICBhc3luYyBzZXRUaXRsZShub3RlSWQsIHRpdGxlKSB7XG4gICAgY29uc3QgdGl0bGVEb2MgPSB7XG4gICAgICBkYXRhOiB7XG4gICAgICAgIHR5cGU6ICdpby5jb3p5Lm5vdGVzLmRvY3VtZW50cycsXG4gICAgICAgIGlkOiBub3RlSWQsXG4gICAgICAgIGF0dHJpYnV0ZXM6IHRoaXMuY2xpZW50MnNlcnZlcih7IHRpdGxlOiB0aXRsZSB9KVxuICAgICAgfVxuICAgIH1cbiAgICBhd2FpdCB0aGlzLnN0YWNrQ2xpZW50LmZldGNoSlNPTihcbiAgICAgICdQVVQnLFxuICAgICAgdGhpcy5wYXRoKG5vdGVJZCwgJ3RpdGxlJyksXG4gICAgICB0aXRsZURvY1xuICAgIClcbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNwYXRjaCBldmVudHMgZnJvbSB0aGUgc2VydmVyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBkb2MgLSByZWNlaXZlZCBmcm9tIHRoZSByZWFsdGltZSBvZiBjb3p5LXN0YWNrXG4gICAqL1xuICBvblJlYWx0aW1lRXZlbnQoZG9jKSB7XG4gICAgY29uc3QgaWQgPSBkb2MuaWQgfHwgZG9jLl9pZFxuICAgIGxldCB0eXBlID0gZG9jLmRvY3R5cGUgfHwgZG9jLnR5cGVcbiAgICAvLyBIYWNrIG5lZWRlZCBzaW5jZSByZWFsdGltZSBkYXRhIGZyb20gaW8uY296eS5ub3RlcyAmIGlvLmNvenkuZmlsZXNcbiAgICAvLyBhcmUgbm90IHN0cnVjdHVyZWQgdGhlIHNhbWUgd2F5XG4gICAgaWYgKHR5cGUgPT09ICdmaWxlJykgdHlwZSA9ICdpby5jb3p5LmZpbGVzJ1xuICAgIGlmICh0aGlzLmNhbGxiYWNrc1t0eXBlXSAmJiB0aGlzLmNhbGxiYWNrc1t0eXBlXVtpZF0pIHtcbiAgICAgIHJldHVybiB0aGlzLmNhbGxiYWNrc1t0eXBlXVtpZF0oZG9jKVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgY29uc29sZS53YXJuKCdFdmVudCBub3QgbWFuYWdlZCcsIHR5cGUsIGlkLCB0aGlzLmNhbGxiYWNrcylcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSm9pbiBhIGRvYyAtIGxpc3RlbiB0byByZWFsdGltZSBldmVudHMgZm9yIHRoaXMgZG9jXG4gICAqIEBwYXJhbSB7dXVpfSBub3RlSWRcbiAgICovXG4gIGFzeW5jIGpvaW4obm90ZUlkKSB7XG4gICAgYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgdGhpcy5yZWFsdGltZS5zdWJzY3JpYmUoXG4gICAgICAgIG51bGwsIC8vIGFsbCBldmVudHNcbiAgICAgICAgJ2lvLmNvenkubm90ZXMuZXZlbnRzJyxcbiAgICAgICAgbm90ZUlkLFxuICAgICAgICB0aGlzLm9uUmVhbHRpbWVFdmVudFxuICAgICAgKVxuICAgIF0pXG4gICAgLy8gTGlzdGVuIGZvciBhbiB1cGRhdGUgdG8gdGhlIGZpbGUgaXRzZWxmXG4gICAgLy8gTmVlZGVkIHRvIGRldGVjdCBhIHNjaGVtYSBjaGFuZ2VkIGluIHRoZSBub3RlXG4gICAgLy8gc2luY2UgdGhlcmUgaXMgbm8gXCJOb3RlIHNwZWNpZmljIGV2ZW50XCIgZm9yIHRoYXRcbiAgICB0aGlzLnJlYWx0aW1lLnN1YnNjcmliZShcbiAgICAgICdVUERBVEVEJyxcbiAgICAgICdpby5jb3p5LmZpbGVzJyxcbiAgICAgIG5vdGVJZCxcbiAgICAgIHRoaXMub25SZWFsdGltZUV2ZW50XG4gICAgKVxuICB9XG5cbiAgLyoqXG4gICAqIExpc3RlbiBmb3IgbmV3IHN0ZXBzIGZyb20gdGhlIHNlcnZlclxuICAgKiBAcGFyYW0ge3V1aWR9IG5vdGVJZFxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICAgKi9cbiAgYXN5bmMgb25TdGVwc0NyZWF0ZWQobm90ZUlkLCBjYWxsYmFjaykge1xuICAgIHRoaXMuc2V0Q2FsbGJhY2soJ2lvLmNvenkubm90ZXMuc3RlcHMnLCBub3RlSWQsIGRhdGEgPT5cbiAgICAgIGNhbGxiYWNrKHRoaXMuc2VydmVyMmNsaWVudChkYXRhKSlcbiAgICApXG4gIH1cblxuICAvKipcbiAgICogTGlzdGVuIGZvciBuZXcgY3Vyc29ycyBwb3NpdGlvbnMgZnJvbSB0aGUgc2VydmVyXG4gICAqIEBwYXJhbSB7dXVpZH0gbm90ZUlkXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAqL1xuICBhc3luYyBvblRlbGVwb2ludGVyVXBkYXRlZChub3RlSWQsIGNhbGxiYWNrKSB7XG4gICAgdGhpcy5zZXRDYWxsYmFjaygnaW8uY296eS5ub3Rlcy50ZWxlcG9pbnRlcnMnLCBub3RlSWQsIGRhdGEgPT5cbiAgICAgIGNhbGxiYWNrKHRoaXMuc2VydmVyMmNsaWVudChkYXRhKSlcbiAgICApXG4gIH1cbiAgLyoqXG4gICAqXG4gICAqIENhbGxlZCB3aGVuIGEgY2hhbmdlIGlzIGRldGVjdGVkIGluIHRoZSBpby5jb3p5LmZpbGVzXG4gICAqIGFuZCB1c2VkIHRvIGNoZWNrIGlmIHRoZSBzY2hlbWEgaGFzIGJlZW4gdXBkYXRlZFxuICAgKlxuICAgKiBAcGFyYW0ge3V1aWR9IG5vdGVJZFxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja1xuICAgKi9cbiAgYXN5bmMgb25TY2hlbWFVcGRhdGVkKG5vdGVJZCwgY2FsbGJhY2spIHtcbiAgICB0aGlzLnNldENhbGxiYWNrKCdpby5jb3p5LmZpbGVzJywgbm90ZUlkLCBkb2MgPT4ge1xuICAgICAgaWYgKGRvYy5tZXRhZGF0YS5zY2hlbWEudmVyc2lvbiAhPT0gdGhpcy5zY2hlbWFWZXJzaW9uKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhkb2MpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBMaXN0ZW4gZm9yIHRpdGxlIGNoYW5nZXMgaW4gdGhlIGRvY3VtZW50XG4gICAqIEBwYXJhbSB7dXVpZH0gbm90ZUlkXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIC0gZnVuY3Rpb24gdGhhdCBnZXQgYSB0aXRsZSBhcyBwYXJhbWVyZXJcbiAgICovXG4gIGFzeW5jIG9uVGl0bGVVcGRhdGVkKG5vdGVJZCwgY2FsbGJhY2spIHtcbiAgICB0aGlzLnNldENhbGxiYWNrKCdpby5jb3p5Lm5vdGVzLmRvY3VtZW50cycsIG5vdGVJZCwgZG9jID0+IHtcbiAgICAgIHJldHVybiAhZG9jLnNlc3Npb25JRCB8fCBkb2Muc2Vzc2lvbklEICE9IHRoaXMuc2Vzc2lvbklkXG4gICAgICAgID8gY2FsbGJhY2soZG9jLnRpdGxlKVxuICAgICAgICA6IG51bGxcbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgZnVsbCBkb2N1bWVudCBmb3IgYSBub3RlXG4gICAqIEBwYXJhbSB7dXVpZH0gbm90ZUlkXG4gICAqL1xuICBhc3luYyBnZXREb2Mobm90ZUlkKSB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5zdGFja0NsaWVudC5mZXRjaEpTT04oJ0dFVCcsIHRoaXMucGF0aChub3RlSWQpKVxuICAgIGNvbnN0IGZvcm1hdGVkRG9jID0gdGhpcy5mb3JtYXREb2MocmVzLmRhdGEpXG4gICAgdGhpcy5zY2hlbWFWZXJzaW9uID0gZm9ybWF0ZWREb2Muc2NoZW1hVmVyc2lvblxuICAgIHJldHVybiBmb3JtYXRlZERvY1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgZnVsbCBkb2N1bWVudCBmb3IgYSBub3RlXG4gICAqIEBwYXJhbSB7dXVpZH0gbm90ZUlkXG4gICAqL1xuICBnZXRGb3JtYXRlZERvYyhub3RlKSB7XG4gICAgY29uc3QgZm9ybWF0ZWREb2MgPSB0aGlzLmZvcm1hdERvYyhub3RlKVxuICAgIHRoaXMuc2NoZW1hVmVyc2lvbiA9IGZvcm1hdGVkRG9jLnNjaGVtYVZlcnNpb25cbiAgICByZXR1cm4gZm9ybWF0ZWREb2NcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgZm9ybWF0ZWQgZG9jdW1lbnQgd2l0aCBlYXNpZXIgYWNjZXNzXG4gICAqXG4gICAqIEBwYXJhbSB7Tm90ZX0gbm90ZSBkb2N1bWVudFxuICAgKiBAcmV0dXJuIHtPYmplY3R9IGZvcm1hdGVkIGRvY3VtZW50XG4gICAqL1xuICBmb3JtYXREb2Mobm90ZSkge1xuICAgIHJldHVybiB7XG4gICAgICBkb2M6IG5vdGUuYXR0cmlidXRlcy5tZXRhZGF0YS5jb250ZW50LFxuICAgICAgdmVyc2lvbjogbm90ZS5hdHRyaWJ1dGVzLm1ldGFkYXRhLnZlcnNpb24sXG4gICAgICB0aXRsZTogbm90ZS5hdHRyaWJ1dGVzLm1ldGFkYXRhLnRpdGxlLFxuICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZShub3RlLmF0dHJpYnV0ZXMudXBkYXRlZF9hdCksXG4gICAgICBmaWxlOiBub3RlLFxuICAgICAgc2NoZW1hVmVyc2lvbjogbm90ZS5hdHRyaWJ1dGVzLm1ldGFkYXRhLnNjaGVtYS52ZXJzaW9uXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFB1c2ggbmV3IGxvY2FsIHN0ZXBzIHRvIHRoZSBzZXJ2ZXJcbiAgICogQHBhcmFtIHt1dWlkfSBub3RlSWRcbiAgICogQHBhcmFtIHtpbnRlZ2VyfSB2ZXJzaW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0W119IHN0ZXBzXG4gICAqL1xuICBhc3luYyBwdXNoU3RlcHMobm90ZUlkLCB2ZXJzaW9uLCBzdGVwcykge1xuICAgIGNvbnN0IG9wdGlvbnMgPSB7IGhlYWRlcnM6IHsgJ2lmLW1hdGNoJzogdmVyc2lvbiB9IH1cbiAgICBjb25zdCBzdGVwc0RvYyA9IHtcbiAgICAgIGRhdGE6IHN0ZXBzLm1hcChzdGVwID0+ICh7XG4gICAgICAgIHR5cGU6ICdpby5jb3p5Lm5vdGVzLnN0ZXBzJyxcbiAgICAgICAgYXR0cmlidXRlczogdGhpcy5jbGllbnQyc2VydmVyKHN0ZXAudG9KU09OKCkpXG4gICAgICB9KSlcbiAgICB9XG4gICAgLy8gd2lsbCB0aHJvdyBpbiBjYXNlIG9mIDQwOVxuICAgIC8vIHdoaWNoIHdpbGwgb2NjdXJzIGlmIHRoZSBzZXJ2ZXIgaGFzIG1vcmUgdmVyc2lvbnMgdGhhbiB1c1xuICAgIGF3YWl0IHRoaXMuc3RhY2tDbGllbnQuZmV0Y2hKU09OKFxuICAgICAgJ1BBVENIJyxcbiAgICAgIHRoaXMucGF0aChub3RlSWQpLFxuICAgICAgc3RlcHNEb2MsXG4gICAgICBvcHRpb25zXG4gICAgKVxuICAgIHJldHVybiBudWxsXG4gIH1cblxuICAvKipcbiAgICogRmV0Y2ggc3RlcHMgZnJvbSB0aGUgc2VydmVyIHNpbmNlIHRoZSBwcm92aWRlZCB2ZXJzaW9uc1xuICAgKiBAcGFyYW0ge3V1aWR9IG5vdGVJZFxuICAgKiBAcGFyYW0ge2ludGVnZXJ9IHZlcnNpb25cbiAgICogQHJldHVybnMge3t2ZXJzaW9uLCBzdGVwc318e2RvYywgdmVyc2lvbn19XG4gICAqIElmIHRoZSBzZXJ2ZXIgZG9lc24ndCBoYXZlIGFsbCByZXF1ZXN0ZWQgc3RlcHMgaW4gbWVtb3J5LFxuICAgKiBpdCBjb3VsZCByZXR1cm5zIHRoZSB3aG9sZSBkb2N1bWVudCBpbiBpdHMgY3VycmVudCB2ZXJzaW9uXG4gICAqL1xuICBhc3luYyBnZXRTdGVwcyhub3RlSWQsIHZlcnNpb24pIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5zdGFja0NsaWVudC5mZXRjaEpTT04oXG4gICAgICAgICdHRVQnLFxuICAgICAgICBgJHt0aGlzLnBhdGgobm90ZUlkLCAnc3RlcHMnKX0/VmVyc2lvbj0ke3ZlcnNpb259YFxuICAgICAgKVxuICAgICAgaWYgKHJlcy5kYXRhLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgIHJldHVybiB7IHN0ZXBzOiBbXSwgdmVyc2lvbiB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBzdGVwcyA9IHJlcy5kYXRhLm1hcChzdGVwID0+IHRoaXMuc2VydmVyMmNsaWVudChzdGVwLmF0dHJpYnV0ZXMpKVxuICAgICAgICBjb25zdCB2ZXJzaW9uID0gcmVzLmRhdGFbcmVzLmRhdGEubGVuZ3RoIC0gMV0uYXR0cmlidXRlcy52ZXJzaW9uXG4gICAgICAgIHJldHVybiB7IHZlcnNpb24sIHN0ZXBzIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gZXJyLnJlc3BvbnNlXG4gICAgICBjb25zdCBkYXRhID0gZXJyLnJlYXNvbiAmJiBlcnIucmVhc29uLmRhdGFcbiAgICAgIGNvbnN0IG1ldGEgPSBkYXRhICYmIGRhdGEuYXR0cmlidXRlcyAmJiBkYXRhLmF0dHJpYnV0ZXMubWV0YWRhdGFcbiAgICAgIGNvbnN0IGRvYyA9IG1ldGEgJiYgbWV0YS5jb250ZW50XG4gICAgICBjb25zdCB2ZXIgPSBtZXRhICYmIG1ldGEudmVyc2lvblxuICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PSA0MTIgJiYgZG9jICYmIHZlcikge1xuICAgICAgICAvLyBzZXJ2ZXIgZG9lcyBub3QgaGF2ZSBhbGwgc3RlcHMgd2UgdHJ5IHRvIGZldGNoXG4gICAgICAgIC8vIGl0IHJlc3BvbmRzIHdpdGggYSBmdWxsIGRvY3VtZW50IGFuZCBhIHRpdGxlXG4gICAgICAgIGNvbnN0IGV2ID0gJ2lvLmNvenkubm90ZXMuZG9jdW1lbnRzJ1xuICAgICAgICBjb25zdCByZWFsdGltZURvYyA9IHtcbiAgICAgICAgICBfaWQ6IG5vdGVJZCxcbiAgICAgICAgICBfdHlwZTogJ2lvLmNvenkubm90ZXMuZXZlbnRzJyxcbiAgICAgICAgICBkb2N0eXBlOiBldixcbiAgICAgICAgICB0aXRsZTogbWV0YS50aXRsZVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNhbGxiYWNrc1tldl0gJiYgdGhpcy5jYWxsYmFja3NbZXZdW25vdGVJZF0pIHtcbiAgICAgICAgICB0aGlzLmNhbGxiYWNrc1tldl1bbm90ZUlkXShyZWFsdGltZURvYylcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGRvYzogZG9jLFxuICAgICAgICAgIHZlcnNpb246IHZlclxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBlcnJcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUHVzaCBuZXcgbG9jYWwgY3Vyc29yIHBvc2l0aW9uIHRvIHRoZSBzZXJ2ZXJcbiAgICogQHBhcmFtIHt1dWlkfSBub3RlSWRcbiAgICogQHBhcmFtIHtPYmplY3R9IGRhdGFcbiAgICovXG4gIGFzeW5jIHB1c2hUZWxlcG9pbnRlcihub3RlSWQsIGRhdGEpIHtcbiAgICBjb25zdCB0ZWxlcG9pbnRlckRvYyA9IHtcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgdHlwZTogJ2lvLmNvenkubm90ZXMudGVsZXBvaW50ZXJzJyxcbiAgICAgICAgaWQ6IG5vdGVJZCxcbiAgICAgICAgYXR0cmlidXRlczogdGhpcy5jbGllbnQyc2VydmVyKGRhdGEpXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnN0YWNrQ2xpZW50LmZldGNoSlNPTihcbiAgICAgICdQVVQnLFxuICAgICAgdGhpcy5wYXRoKG5vdGVJZCwgJ3RlbGVwb2ludGVyJyksXG4gICAgICB0ZWxlcG9pbnRlckRvY1xuICAgIClcbiAgfVxuXG4gIHBvc3RJbWFnZSA9IGFzeW5jIChuYW1lLCBub3RlSWQsIGZpbGUsIHR5cGUpID0+XG4gICAgdGhpcy5zdGFja0NsaWVudC5mZXRjaEpTT04oXG4gICAgICAnUE9TVCcsXG4gICAgICB0aGlzLnBhdGgobm90ZUlkLCBgaW1hZ2VzP05hbWU9JHtuYW1lfWApLFxuICAgICAgZmlsZSxcbiAgICAgIHsgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogdHlwZSB9IH1cbiAgICApXG59XG5leHBvcnQgZGVmYXVsdCBTZXJ2aWNlQ2xpZW50XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUEyWUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUtBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQWhaQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFBQTtBQUFBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFBQTtBQUFBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUFBO0FBQUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBQUE7QUFBQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFBQTtBQUFBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUFBO0FBQUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFBQTtBQUFBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFBQTtBQUFBO0FBSUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBQUE7QUFBQTtBQUlBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBQUE7QUFBQTtBQUFBO0FBTUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU5BO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFPQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBZEE7QUFlQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUtBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBS0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUFBO0FBQUE7QUFBQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUFBO0FBQUE7QUFBQTtBQUlBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFLQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFLQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVBBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFRQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBS0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFHQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUlBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFBQTtBQUFBO0FBQUE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTEE7QUFBQTtBQUFBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQUFBO0FBQUE7QUFBQTtBQU1BO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBTUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFQQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBUUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBS0E7QUFIQTtBQUFBO0FBSUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUtBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUtBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBS0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBVUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/lib/collab/stack-client.js\n");

/***/ }),

/***/ "./src/lib/debug.jsx":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"useDebugValue\", function() { return useDebugValue; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setDebugValue\", function() { return setDebugValue; });\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/lodash/get.js\");\n/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var lodash_set__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./node_modules/lodash/set.js\");\n/* harmony import */ var lodash_set__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_set__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var prosemirror_collab__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./node_modules/prosemirror-collab/dist/index.es.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./node_modules/cozy-flags/dist/index.browser.js\");\n/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(cozy_flags__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var cozy_flags_dist_useFlag__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./node_modules/cozy-flags/dist/useFlag.js\");\n/* harmony import */ var cozy_flags_dist_useFlag__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(cozy_flags_dist_useFlag__WEBPACK_IMPORTED_MODULE_7__);\n\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal[\"default\"].signature : function (a) {\n  return a;\n};\n\n\n\n\n\n\n\n/**\n * Sets a value in a global debug object\n *\n * If the corresponding 'debug.{name}' flag is activated\n * then you'll find the value in 'window.cozy.debug.{name}'\n *\n * @param {string} name\n * @param {object} value\n */\nfunction useDebugValue(name, value) {\n  var activated = cozy_flags_dist_useFlag__WEBPACK_IMPORTED_MODULE_7___default()(\"debug.\".concat(name));\n  Object(react__WEBPACK_IMPORTED_MODULE_5__[\"useEffect\"])(function () {\n    if (activated) setDebugValue(name, value);\n  }, [activated, name, value]);\n}\n__signature__(useDebugValue, \"useFlag{activated}\\nuseEffect{}\", function () {\n  return [cozy_flags_dist_useFlag__WEBPACK_IMPORTED_MODULE_7___default.a];\n});\nfunction setDebugValue(name, value) {\n  lodash_set__WEBPACK_IMPORTED_MODULE_3___default()(window, \"cozy.debug.\".concat(name), value);\n}\nlodash_set__WEBPACK_IMPORTED_MODULE_3___default()(window, 'cozy.debug.notes.debugCollab', /*#__PURE__*/function () {\n  var _debugCollab = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee3() {\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            // activate all needed flags\n            cozy_flags__WEBPACK_IMPORTED_MODULE_6___default()('debug.client', true);\n            cozy_flags__WEBPACK_IMPORTED_MODULE_6___default()('debug.notes.service', true);\n            cozy_flags__WEBPACK_IMPORTED_MODULE_6___default()('debug.notes.collabProvider', true);\n            cozy_flags__WEBPACK_IMPORTED_MODULE_6___default()('debug.notes.channel', true);\n            cozy_flags__WEBPACK_IMPORTED_MODULE_6___default()('debug.notes.noteId', true);\n            cozy_flags__WEBPACK_IMPORTED_MODULE_6___default()('debug.notes.doc', true);\n            cozy_flags__WEBPACK_IMPORTED_MODULE_6___default()('debug.notes.file', true);\n            cozy_flags__WEBPACK_IMPORTED_MODULE_6___default()('debug.notes.returnUrl', true);\n            cozy_flags__WEBPACK_IMPORTED_MODULE_6___default()('debug.notes.dirtyRef', true);\n            cozy_flags__WEBPACK_IMPORTED_MODULE_6___default()('debug.notes.lastPatchError', true);\n\n            // then wait and trigger the collab  debug\n            _context3.next = 12;\n            return new Promise(function (resolve) {\n              window.setTimeout( /*#__PURE__*/_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee2() {\n                var collabProvider, channel, data, state, version, _ref2, steps, backoff, failures, isDirty, isSending, hasQueue, queued, queuedState, queuedVersion, queuedSteps, dirtySince, lastRemoteSync, lastLocalSave, serviceClient, realtime, websocket, retryManager, client, error, msg;\n                return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee2$(_context2) {\n                  while (1) {\n                    switch (_context2.prev = _context2.next) {\n                      case 0:\n                        collabProvider = lodash_get__WEBPACK_IMPORTED_MODULE_2___default()(window, 'cozy.debug.notes.collabProvider');\n                        channel = lodash_get__WEBPACK_IMPORTED_MODULE_2___default()(window, 'cozy.debug.notes.channel');\n                        data = {\n                          date: new Date().toISOString()\n                        };\n                        data.noteId = lodash_get__WEBPACK_IMPORTED_MODULE_2___default()(window, 'cozy.debug.notes.noteId');\n                        data.initialVersion = lodash_get__WEBPACK_IMPORTED_MODULE_2___default()(window, 'cozy.debug.notes.initialVersion');\n                        data.returnUrl = lodash_get__WEBPACK_IMPORTED_MODULE_2___default()(window, 'cozy.debug.notes.returnUrl');\n                        state = collabProvider && collabProvider.getState();\n                        version = collabProvider && state && Object(prosemirror_collab__WEBPACK_IMPORTED_MODULE_4__[\"getVersion\"])(state);\n                        _ref2 = state && Object(prosemirror_collab__WEBPACK_IMPORTED_MODULE_4__[\"sendableSteps\"])(state) || {\n                          steps: []\n                        }, steps = _ref2.steps;\n                        data.state = {\n                          version: version,\n                          steps: steps,\n                          length: steps && steps.length\n                        };\n                        backoff = channel && channel.backoff;\n                        failures = channel && channel.failures;\n                        isDirty = channel && channel.isDirty();\n                        isSending = channel && channel.isSending;\n                        hasQueue = channel && channel.hasQueuedSteps();\n                        queued = channel && channel.queuedStep;\n                        queuedState = queued && queued.state;\n                        queuedVersion = queuedState && Object(prosemirror_collab__WEBPACK_IMPORTED_MODULE_4__[\"getVersion\"])(queuedState);\n                        queuedSteps = queued && queued.localSteps && queued.localSteps.steps;\n                        data.queue = {\n                          backoff: backoff,\n                          failures: failures,\n                          isDirty: isDirty,\n                          isSending: isSending,\n                          hasQueue: hasQueue,\n                          version: queuedVersion,\n                          steps: queuedSteps,\n                          length: queuedSteps && queuedSteps.length\n                        };\n                        dirtySince = collabProvider.isDirty();\n                        lastRemoteSync = collabProvider.getLastRemoteSync();\n                        lastLocalSave = collabProvider.getLastLocalSave();\n                        data.collabState = {\n                          dirtySince: dirtySince,\n                          lastRemoteSync: lastRemoteSync,\n                          lastLocalSave: lastLocalSave\n                        };\n                        serviceClient = collabProvider && collabProvider.serviceClient;\n                        realtime = serviceClient && serviceClient.realtime;\n                        websocket = realtime && realtime.websocket;\n                        retryManager = realtime && realtime.retryManager;\n                        data.realtime = {\n                          hasRealtime: !!realtime,\n                          started: realtime && realtime.isStarted,\n                          hasWebsocket: realtime && realtime.hasWebSocket(),\n                          isOpen: realtime && realtime.isWebSocketOpen(),\n                          readyState: websocket && websocket.readyState,\n                          bufferedAmount: websocket && websocket.bufferedAmount,\n                          url: websocket && websocket.url,\n                          retries: retryManager && retryManager.retries,\n                          wait: retryManager && retryManager.wait\n                        };\n                        client = lodash_get__WEBPACK_IMPORTED_MODULE_2___default()(window, 'cozy.debug.client');\n                        data.client = {\n                          token: client.stackClient.token,\n                          credentials: client.stackClient.getCredentials(),\n                          authorization: client.stackClient.getAuthorizationHeader(),\n                          uri: client.uri\n                        };\n                        error = lodash_get__WEBPACK_IMPORTED_MODULE_2___default()(window, 'cozy.debug.notes.lastPatchError');\n                        if (!(!error && isDirty)) {\n                          _context2.next = 43;\n                          break;\n                        }\n                      case 33:\n                        if (!channel.isSending) {\n                          _context2.next = 38;\n                          break;\n                        }\n                        _context2.next = 36;\n                        return new Promise(function (resolve) {\n                          return window.setTimeout(resolve, 50);\n                        });\n                      case 36:\n                        _context2.next = 33;\n                        break;\n                      case 38:\n                        channel.resetBackoff();\n                        channel.processQueue();\n                        _context2.next = 42;\n                        return Promise.race([new Promise(function (resolve) {\n                          return window.setTimeout(resolve, 2000);\n                        }), new Promise(function (resolve) {\n                          var fn = /*#__PURE__*/function () {\n                            var _ref3 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee() {\n                              var err;\n                              return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {\n                                while (1) {\n                                  switch (_context.prev = _context.next) {\n                                    case 0:\n                                      err = lodash_get__WEBPACK_IMPORTED_MODULE_2___default()(window, 'cozy.debug.notes.lastPatchError');\n                                    case 1:\n                                      if (err) {\n                                        _context.next = 7;\n                                        break;\n                                      }\n                                      _context.next = 4;\n                                      return new Promise(function (resolve) {\n                                        return window.setTimeout(resolve, 50);\n                                      });\n                                    case 4:\n                                      err = lodash_get__WEBPACK_IMPORTED_MODULE_2___default()(window, 'cozy.debug.notes.lastPatchError');\n                                      _context.next = 1;\n                                      break;\n                                    case 7:\n                                      error = err;\n                                      resolve();\n                                    case 9:\n                                    case \"end\":\n                                      return _context.stop();\n                                  }\n                                }\n                              }, _callee);\n                            }));\n                            return function fn() {\n                              return _ref3.apply(this, arguments);\n                            };\n                          }();\n                          fn();\n                        })]);\n                      case 42:\n                        if (channel.isDirty()) {\n                          channel.backoff = backoff;\n                          channel.failures = failures;\n                        }\n                      case 43:\n                        msg = error && error.message;\n                        try {\n                          msg = JSON.parse(error.message);\n                        } catch (e) {\n                          // nothing\n                        }\n                        data.lastPatchError = {\n                          name: error && error.name,\n                          status: error && error.status,\n                          message: msg\n                        };\n                        resolve(data);\n                      case 47:\n                      case \"end\":\n                        return _context2.stop();\n                    }\n                  }\n                }, _callee2);\n              })), 250);\n            });\n          case 12:\n            return _context3.abrupt(\"return\", _context3.sent);\n          case 13:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n  function debugCollab() {\n    return _debugCollab.apply(this, arguments);\n  }\n  return debugCollab;\n}());\n;\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n  if (!reactHotLoader) {\n    return;\n  }\n  reactHotLoader.register(useDebugValue, \"useDebugValue\", \"/home/paul/dev/cozy/apps/cozy-notes/src/lib/debug.jsx\");\n  reactHotLoader.register(setDebugValue, \"setDebugValue\", \"/home/paul/dev/cozy/apps/cozy-notes/src/lib/debug.jsx\");\n})();\n;\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(\"./node_modules/webpack/buildin/harmony-module.js\")(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGliL2RlYnVnLmpzeC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9saWIvZGVidWcuanN4PzZkYTciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGdldCBmcm9tICdsb2Rhc2gvZ2V0J1xuaW1wb3J0IHNldCBmcm9tICdsb2Rhc2gvc2V0J1xuaW1wb3J0IHsgZ2V0VmVyc2lvbiwgc2VuZGFibGVTdGVwcyB9IGZyb20gJ3Byb3NlbWlycm9yLWNvbGxhYidcbmltcG9ydCB7IHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0J1xuXG5pbXBvcnQgZmxhZyBmcm9tICdjb3p5LWZsYWdzJ1xuaW1wb3J0IHVzZUZsYWcgZnJvbSAnY296eS1mbGFncy9kaXN0L3VzZUZsYWcnXG5cbi8qKlxuICogU2V0cyBhIHZhbHVlIGluIGEgZ2xvYmFsIGRlYnVnIG9iamVjdFxuICpcbiAqIElmIHRoZSBjb3JyZXNwb25kaW5nICdkZWJ1Zy57bmFtZX0nIGZsYWcgaXMgYWN0aXZhdGVkXG4gKiB0aGVuIHlvdSdsbCBmaW5kIHRoZSB2YWx1ZSBpbiAnd2luZG93LmNvenkuZGVidWcue25hbWV9J1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gKiBAcGFyYW0ge29iamVjdH0gdmFsdWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZURlYnVnVmFsdWUobmFtZSwgdmFsdWUpIHtcbiAgY29uc3QgYWN0aXZhdGVkID0gdXNlRmxhZyhgZGVidWcuJHtuYW1lfWApXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGFjdGl2YXRlZCkgc2V0RGVidWdWYWx1ZShuYW1lLCB2YWx1ZSlcbiAgfSwgW2FjdGl2YXRlZCwgbmFtZSwgdmFsdWVdKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0RGVidWdWYWx1ZShuYW1lLCB2YWx1ZSkge1xuICBzZXQod2luZG93LCBgY296eS5kZWJ1Zy4ke25hbWV9YCwgdmFsdWUpXG59XG5cbnNldCh3aW5kb3csICdjb3p5LmRlYnVnLm5vdGVzLmRlYnVnQ29sbGFiJywgYXN5bmMgZnVuY3Rpb24gZGVidWdDb2xsYWIoKSB7XG4gIC8vIGFjdGl2YXRlIGFsbCBuZWVkZWQgZmxhZ3NcbiAgZmxhZygnZGVidWcuY2xpZW50JywgdHJ1ZSlcbiAgZmxhZygnZGVidWcubm90ZXMuc2VydmljZScsIHRydWUpXG4gIGZsYWcoJ2RlYnVnLm5vdGVzLmNvbGxhYlByb3ZpZGVyJywgdHJ1ZSlcbiAgZmxhZygnZGVidWcubm90ZXMuY2hhbm5lbCcsIHRydWUpXG4gIGZsYWcoJ2RlYnVnLm5vdGVzLm5vdGVJZCcsIHRydWUpXG4gIGZsYWcoJ2RlYnVnLm5vdGVzLmRvYycsIHRydWUpXG4gIGZsYWcoJ2RlYnVnLm5vdGVzLmZpbGUnLCB0cnVlKVxuICBmbGFnKCdkZWJ1Zy5ub3Rlcy5yZXR1cm5VcmwnLCB0cnVlKVxuICBmbGFnKCdkZWJ1Zy5ub3Rlcy5kaXJ0eVJlZicsIHRydWUpXG4gIGZsYWcoJ2RlYnVnLm5vdGVzLmxhc3RQYXRjaEVycm9yJywgdHJ1ZSlcblxuICAvLyB0aGVuIHdhaXQgYW5kIHRyaWdnZXIgdGhlIGNvbGxhYiAgZGVidWdcbiAgcmV0dXJuIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgIHdpbmRvdy5zZXRUaW1lb3V0KGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbGxhYlByb3ZpZGVyID0gZ2V0KHdpbmRvdywgJ2NvenkuZGVidWcubm90ZXMuY29sbGFiUHJvdmlkZXInKVxuICAgICAgY29uc3QgY2hhbm5lbCA9IGdldCh3aW5kb3csICdjb3p5LmRlYnVnLm5vdGVzLmNoYW5uZWwnKVxuICAgICAgY29uc3QgZGF0YSA9IHsgZGF0ZTogbmV3IERhdGUoKS50b0lTT1N0cmluZygpIH1cblxuICAgICAgZGF0YS5ub3RlSWQgPSBnZXQod2luZG93LCAnY296eS5kZWJ1Zy5ub3Rlcy5ub3RlSWQnKVxuICAgICAgZGF0YS5pbml0aWFsVmVyc2lvbiA9IGdldCh3aW5kb3csICdjb3p5LmRlYnVnLm5vdGVzLmluaXRpYWxWZXJzaW9uJylcbiAgICAgIGRhdGEucmV0dXJuVXJsID0gZ2V0KHdpbmRvdywgJ2NvenkuZGVidWcubm90ZXMucmV0dXJuVXJsJylcblxuICAgICAgY29uc3Qgc3RhdGUgPSBjb2xsYWJQcm92aWRlciAmJiBjb2xsYWJQcm92aWRlci5nZXRTdGF0ZSgpXG4gICAgICBjb25zdCB2ZXJzaW9uID0gY29sbGFiUHJvdmlkZXIgJiYgc3RhdGUgJiYgZ2V0VmVyc2lvbihzdGF0ZSlcbiAgICAgIGNvbnN0IHsgc3RlcHMgfSA9IChzdGF0ZSAmJiBzZW5kYWJsZVN0ZXBzKHN0YXRlKSkgfHwgeyBzdGVwczogW10gfVxuICAgICAgZGF0YS5zdGF0ZSA9IHsgdmVyc2lvbiwgc3RlcHMsIGxlbmd0aDogc3RlcHMgJiYgc3RlcHMubGVuZ3RoIH1cblxuICAgICAgY29uc3QgYmFja29mZiA9IGNoYW5uZWwgJiYgY2hhbm5lbC5iYWNrb2ZmXG4gICAgICBjb25zdCBmYWlsdXJlcyA9IGNoYW5uZWwgJiYgY2hhbm5lbC5mYWlsdXJlc1xuICAgICAgY29uc3QgaXNEaXJ0eSA9IGNoYW5uZWwgJiYgY2hhbm5lbC5pc0RpcnR5KClcbiAgICAgIGNvbnN0IGlzU2VuZGluZyA9IGNoYW5uZWwgJiYgY2hhbm5lbC5pc1NlbmRpbmdcbiAgICAgIGNvbnN0IGhhc1F1ZXVlID0gY2hhbm5lbCAmJiBjaGFubmVsLmhhc1F1ZXVlZFN0ZXBzKClcbiAgICAgIGNvbnN0IHF1ZXVlZCA9IGNoYW5uZWwgJiYgY2hhbm5lbC5xdWV1ZWRTdGVwXG4gICAgICBjb25zdCBxdWV1ZWRTdGF0ZSA9IHF1ZXVlZCAmJiBxdWV1ZWQuc3RhdGVcbiAgICAgIGNvbnN0IHF1ZXVlZFZlcnNpb24gPSBxdWV1ZWRTdGF0ZSAmJiBnZXRWZXJzaW9uKHF1ZXVlZFN0YXRlKVxuICAgICAgY29uc3QgcXVldWVkU3RlcHMgPSBxdWV1ZWQgJiYgcXVldWVkLmxvY2FsU3RlcHMgJiYgcXVldWVkLmxvY2FsU3RlcHMuc3RlcHNcbiAgICAgIGRhdGEucXVldWUgPSB7XG4gICAgICAgIGJhY2tvZmYsXG4gICAgICAgIGZhaWx1cmVzLFxuICAgICAgICBpc0RpcnR5LFxuICAgICAgICBpc1NlbmRpbmcsXG4gICAgICAgIGhhc1F1ZXVlLFxuICAgICAgICB2ZXJzaW9uOiBxdWV1ZWRWZXJzaW9uLFxuICAgICAgICBzdGVwczogcXVldWVkU3RlcHMsXG4gICAgICAgIGxlbmd0aDogcXVldWVkU3RlcHMgJiYgcXVldWVkU3RlcHMubGVuZ3RoXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGRpcnR5U2luY2UgPSBjb2xsYWJQcm92aWRlci5pc0RpcnR5KClcbiAgICAgIGNvbnN0IGxhc3RSZW1vdGVTeW5jID0gY29sbGFiUHJvdmlkZXIuZ2V0TGFzdFJlbW90ZVN5bmMoKVxuICAgICAgY29uc3QgbGFzdExvY2FsU2F2ZSA9IGNvbGxhYlByb3ZpZGVyLmdldExhc3RMb2NhbFNhdmUoKVxuICAgICAgZGF0YS5jb2xsYWJTdGF0ZSA9IHtcbiAgICAgICAgZGlydHlTaW5jZSxcbiAgICAgICAgbGFzdFJlbW90ZVN5bmMsXG4gICAgICAgIGxhc3RMb2NhbFNhdmVcbiAgICAgIH1cblxuICAgICAgY29uc3Qgc2VydmljZUNsaWVudCA9IGNvbGxhYlByb3ZpZGVyICYmIGNvbGxhYlByb3ZpZGVyLnNlcnZpY2VDbGllbnRcbiAgICAgIGNvbnN0IHJlYWx0aW1lID0gc2VydmljZUNsaWVudCAmJiBzZXJ2aWNlQ2xpZW50LnJlYWx0aW1lXG4gICAgICBjb25zdCB3ZWJzb2NrZXQgPSByZWFsdGltZSAmJiByZWFsdGltZS53ZWJzb2NrZXRcbiAgICAgIGNvbnN0IHJldHJ5TWFuYWdlciA9IHJlYWx0aW1lICYmIHJlYWx0aW1lLnJldHJ5TWFuYWdlclxuICAgICAgZGF0YS5yZWFsdGltZSA9IHtcbiAgICAgICAgaGFzUmVhbHRpbWU6ICEhcmVhbHRpbWUsXG4gICAgICAgIHN0YXJ0ZWQ6IHJlYWx0aW1lICYmIHJlYWx0aW1lLmlzU3RhcnRlZCxcbiAgICAgICAgaGFzV2Vic29ja2V0OiByZWFsdGltZSAmJiByZWFsdGltZS5oYXNXZWJTb2NrZXQoKSxcbiAgICAgICAgaXNPcGVuOiByZWFsdGltZSAmJiByZWFsdGltZS5pc1dlYlNvY2tldE9wZW4oKSxcbiAgICAgICAgcmVhZHlTdGF0ZTogd2Vic29ja2V0ICYmIHdlYnNvY2tldC5yZWFkeVN0YXRlLFxuICAgICAgICBidWZmZXJlZEFtb3VudDogd2Vic29ja2V0ICYmIHdlYnNvY2tldC5idWZmZXJlZEFtb3VudCxcbiAgICAgICAgdXJsOiB3ZWJzb2NrZXQgJiYgd2Vic29ja2V0LnVybCxcbiAgICAgICAgcmV0cmllczogcmV0cnlNYW5hZ2VyICYmIHJldHJ5TWFuYWdlci5yZXRyaWVzLFxuICAgICAgICB3YWl0OiByZXRyeU1hbmFnZXIgJiYgcmV0cnlNYW5hZ2VyLndhaXRcbiAgICAgIH1cblxuICAgICAgY29uc3QgY2xpZW50ID0gZ2V0KHdpbmRvdywgJ2NvenkuZGVidWcuY2xpZW50JylcbiAgICAgIGRhdGEuY2xpZW50ID0ge1xuICAgICAgICB0b2tlbjogY2xpZW50LnN0YWNrQ2xpZW50LnRva2VuLFxuICAgICAgICBjcmVkZW50aWFsczogY2xpZW50LnN0YWNrQ2xpZW50LmdldENyZWRlbnRpYWxzKCksXG4gICAgICAgIGF1dGhvcml6YXRpb246IGNsaWVudC5zdGFja0NsaWVudC5nZXRBdXRob3JpemF0aW9uSGVhZGVyKCksXG4gICAgICAgIHVyaTogY2xpZW50LnVyaVxuICAgICAgfVxuXG4gICAgICBsZXQgZXJyb3IgPSBnZXQod2luZG93LCAnY296eS5kZWJ1Zy5ub3Rlcy5sYXN0UGF0Y2hFcnJvcicpXG4gICAgICBpZiAoIWVycm9yICYmIGlzRGlydHkpIHtcbiAgICAgICAgd2hpbGUgKGNoYW5uZWwuaXNTZW5kaW5nKSB7XG4gICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB3aW5kb3cuc2V0VGltZW91dChyZXNvbHZlLCA1MCkpXG4gICAgICAgIH1cbiAgICAgICAgY2hhbm5lbC5yZXNldEJhY2tvZmYoKVxuICAgICAgICBjaGFubmVsLnByb2Nlc3NRdWV1ZSgpXG4gICAgICAgIGF3YWl0IFByb21pc2UucmFjZShbXG4gICAgICAgICAgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB3aW5kb3cuc2V0VGltZW91dChyZXNvbHZlLCAyMDAwKSksXG4gICAgICAgICAgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICBjb25zdCBmbiA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgbGV0IGVyciA9IGdldCh3aW5kb3csICdjb3p5LmRlYnVnLm5vdGVzLmxhc3RQYXRjaEVycm9yJylcbiAgICAgICAgICAgICAgd2hpbGUgKCFlcnIpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHdpbmRvdy5zZXRUaW1lb3V0KHJlc29sdmUsIDUwKSlcbiAgICAgICAgICAgICAgICBlcnIgPSBnZXQod2luZG93LCAnY296eS5kZWJ1Zy5ub3Rlcy5sYXN0UGF0Y2hFcnJvcicpXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZXJyb3IgPSBlcnJcbiAgICAgICAgICAgICAgcmVzb2x2ZSgpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmbigpXG4gICAgICAgICAgfSlcbiAgICAgICAgXSlcbiAgICAgICAgaWYgKGNoYW5uZWwuaXNEaXJ0eSgpKSB7XG4gICAgICAgICAgY2hhbm5lbC5iYWNrb2ZmID0gYmFja29mZlxuICAgICAgICAgIGNoYW5uZWwuZmFpbHVyZXMgPSBmYWlsdXJlc1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsZXQgbXNnID0gZXJyb3IgJiYgZXJyb3IubWVzc2FnZVxuICAgICAgdHJ5IHtcbiAgICAgICAgbXNnID0gSlNPTi5wYXJzZShlcnJvci5tZXNzYWdlKVxuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBub3RoaW5nXG4gICAgICB9XG4gICAgICBkYXRhLmxhc3RQYXRjaEVycm9yID0ge1xuICAgICAgICBuYW1lOiBlcnJvciAmJiBlcnJvci5uYW1lLFxuICAgICAgICBzdGF0dXM6IGVycm9yICYmIGVycm9yLnN0YXR1cyxcbiAgICAgICAgbWVzc2FnZTogbXNnXG4gICAgICB9XG5cbiAgICAgIHJlc29sdmUoZGF0YSlcbiAgICB9LCAyNTApXG4gIH0pXG59KVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBTEE7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQVJBO0FBQUE7QUFBQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUE1SEE7QUFBQTtBQUFBO0FBQUE7QUE0SEE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUF2SUE7QUFPQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/lib/debug.jsx\n");

/***/ }),

/***/ "./src/lib/helpers.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"processFile\", function() { return processFile; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeFilename\", function() { return removeFilename; });\nvar processFile = function processFile(file) {\n  return file === null || typeof file === 'string' ? false : file;\n};\nvar removeFilename = function removeFilename(path) {\n  var _exec;\n  return ((_exec = /(.+)(\\/.+)$/.exec(path)) === null || _exec === void 0 ? void 0 : _exec[1]) || path;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGliL2hlbHBlcnMudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL2hlbHBlcnMudHM/Yjk0ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgcHJvY2Vzc0ZpbGUgPSAoXG4gIGZpbGU6IHN0cmluZyB8IG51bGwgfCBBcnJheUJ1ZmZlclxuKTogZmFsc2UgfCBBcnJheUJ1ZmZlciA9PlxuICBmaWxlID09PSBudWxsIHx8IHR5cGVvZiBmaWxlID09PSAnc3RyaW5nJyA/IGZhbHNlIDogZmlsZVxuXG5leHBvcnQgY29uc3QgcmVtb3ZlRmlsZW5hbWUgPSAocGF0aDogc3RyaW5nKTogc3RyaW5nID0+XG4gIC8oLispKFxcLy4rKSQvLmV4ZWMocGF0aCk/LlsxXSB8fCBwYXRoXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUVBO0FBQUE7QUFBQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/lib/helpers.ts\n");

/***/ }),

/***/ "./src/lib/image-upload-provider.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"imageUploadProvider\", function() { return imageUploadProvider; });\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var constants_interface__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./src/constants/interface.ts\");\n/* harmony import */ var constants_strings__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./src/constants/strings.ts\");\n/* harmony import */ var lib_helpers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./src/lib/helpers.ts\");\n/* harmony import */ var types_guards__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./src/types/guards.ts\");\n/* harmony import */ var cozy_ui_transpiled_react_deprecated_Alerter__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/deprecated/Alerter/index.js\");\n\n\n\n\n\n\n\nvar imageUploadProvider = function imageUploadProvider(config) {\n  return Promise.resolve(function (event, insertImageFn) {\n    return handleEvent(event, function (file) {\n      return uploadImage(config, insertImageFn, file);\n    });\n  });\n};\nvar handleEvent = function handleEvent(event, cb) {\n  switch (event === null || event === void 0 ? void 0 : event.type) {\n    case constants_strings__WEBPACK_IMPORTED_MODULE_3__[\"EventType\"].Drop:\n      return handleDrop(event, cb);\n    case constants_strings__WEBPACK_IMPORTED_MODULE_3__[\"EventType\"].Paste:\n      return handlePaste(event, cb);\n    default:\n      return handleClick(cb);\n  }\n};\nvar handleClick = function handleClick(cb) {\n  var inputElement = document.createElement(constants_strings__WEBPACK_IMPORTED_MODULE_3__[\"ElementType\"].Input);\n  inputElement.setAttribute('accept', 'image/*');\n  inputElement.type = constants_strings__WEBPACK_IMPORTED_MODULE_3__[\"InputType\"].File;\n  inputElement.dispatchEvent(new MouseEvent(constants_strings__WEBPACK_IMPORTED_MODULE_3__[\"EventType\"].Click));\n  inputElement.addEventListener(constants_strings__WEBPACK_IMPORTED_MODULE_3__[\"EventType\"].Change, function () {\n    var _inputElement$files;\n    return cb((_inputElement$files = inputElement.files) === null || _inputElement$files === void 0 ? void 0 : _inputElement$files[0]);\n  });\n};\nvar isSingle = function isSingle(fileList) {\n  return (fileList === null || fileList === void 0 ? void 0 : fileList.length) === 1 || (cozy_ui_transpiled_react_deprecated_Alerter__WEBPACK_IMPORTED_MODULE_6__[\"default\"].error('Error.only_one_image'), false);\n};\nvar handleDrop = function handleDrop(_ref, cb) {\n  var _dataTransfer$files;\n  var dataTransfer = _ref.dataTransfer;\n  return isSingle(dataTransfer === null || dataTransfer === void 0 ? void 0 : dataTransfer.files) && cb(dataTransfer === null || dataTransfer === void 0 ? void 0 : (_dataTransfer$files = dataTransfer.files) === null || _dataTransfer$files === void 0 ? void 0 : _dataTransfer$files[0]);\n};\nvar handlePaste = function handlePaste(_ref2, cb) {\n  var _clipboardData$files;\n  var clipboardData = _ref2.clipboardData;\n  return cb(clipboardData === null || clipboardData === void 0 ? void 0 : (_clipboardData$files = clipboardData.files) === null || _clipboardData$files === void 0 ? void 0 : _clipboardData$files[0]);\n};\nvar uploadImage = function uploadImage(config, insertImageFn, file) {\n  var reader = new window.FileReader();\n  if (!file) throw Error(constants_strings__WEBPACK_IMPORTED_MODULE_3__[\"Errors\"].NoFileFoundAfterInput);\n  reader.readAsArrayBuffer(file);\n  reader.onloadend = /*#__PURE__*/_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee() {\n    var processedFile, _yield$config$collabP, src;\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            processedFile = Object(lib_helpers__WEBPACK_IMPORTED_MODULE_4__[\"processFile\"])(reader.result);\n            if (processedFile) {\n              _context.next = 3;\n              break;\n            }\n            throw Error(constants_strings__WEBPACK_IMPORTED_MODULE_3__[\"Errors\"].FileNotProcessable);\n          case 3:\n            _context.prev = 3;\n            config.setUploading(true);\n            _context.next = 7;\n            return config.collabProvider.serviceClient.postImage(file.name, config.collabProvider.config.noteId, processedFile, file.type);\n          case 7:\n            _yield$config$collabP = _context.sent;\n            src = _yield$config$collabP.data.id;\n            insertImageFn({\n              src: src\n            });\n            _context.next = 15;\n            break;\n          case 12:\n            _context.prev = 12;\n            _context.t0 = _context[\"catch\"](3);\n            cozy_ui_transpiled_react_deprecated_Alerter__WEBPACK_IMPORTED_MODULE_6__[\"default\"].error(config.t(Object(types_guards__WEBPACK_IMPORTED_MODULE_5__[\"isCozyStackError\"])(_context.t0) ? \"Error.\".concat(_context.t0.status) : 'Error.unknown_error'), {\n              duration: constants_interface__WEBPACK_IMPORTED_MODULE_2__[\"TOASTER_DURATION\"]\n            });\n          case 15:\n            _context.prev = 15;\n            config.setUploading(false);\n            return _context.finish(15);\n          case 18:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[3, 12, 15, 18]]);\n  }));\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGliL2ltYWdlLXVwbG9hZC1wcm92aWRlci50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9saWIvaW1hZ2UtdXBsb2FkLXByb3ZpZGVyLnRzP2EwMTkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVE9BU1RFUl9EVVJBVElPTiB9IGZyb20gJ2NvbnN0YW50cy9pbnRlcmZhY2UnXG5pbXBvcnQgeyBFbGVtZW50VHlwZSwgRXJyb3JzLCBFdmVudFR5cGUsIElucHV0VHlwZSB9IGZyb20gJ2NvbnN0YW50cy9zdHJpbmdzJ1xuXG5pbXBvcnQgeyBJbWFnZVVwbG9hZFByb3ZpZGVyIH0gZnJvbSAnQGF0bGFza2l0L2VkaXRvci1jb21tb24vZGlzdC90eXBlcy9wcm92aWRlci1mYWN0b3J5J1xuaW1wb3J0IHsgcHJvY2Vzc0ZpbGUgfSBmcm9tICdsaWIvaGVscGVycydcbmltcG9ydCB7IGlzQ296eVN0YWNrRXJyb3IgfSBmcm9tICd0eXBlcy9ndWFyZHMnXG5cbmltcG9ydCB7IEluc2VydGVkSW1hZ2VQcm9wZXJ0aWVzIH0gZnJvbSAnY296eS1lZGl0b3ItY29yZS9zcmMvcGx1Z2lucy9pbWFnZS11cGxvYWQvdHlwZXMnXG5pbXBvcnQgQWxlcnRlciBmcm9tICdjb3p5LXVpL3RyYW5zcGlsZWQvcmVhY3QvZGVwcmVjYXRlZC9BbGVydGVyJ1xuXG5pbnRlcmZhY2UgQ29sbGFiUHJvdmlkZXIge1xuICBjb25maWc6IHtcbiAgICBub3RlSWQ6IHN0cmluZ1xuICB9XG4gIHNlcnZpY2VDbGllbnQ6IHtcbiAgICBwb3N0SW1hZ2U6IChcbiAgICAgIG5hbWU6IHN0cmluZyxcbiAgICAgIG5vdGVJZDogc3RyaW5nLFxuICAgICAgZmlsZTogQXJyYXlCdWZmZXIsXG4gICAgICB0eXBlOiBzdHJpbmdcbiAgICApID0+IFByb21pc2U8eyBkYXRhOiB7IGlkOiBzdHJpbmcgfSB9PlxuICB9XG59XG5cbmludGVyZmFjZSBJbWFnZVVwbG9hZFByb3ZpZGVyQ29uZmlnIHtcbiAgY29sbGFiUHJvdmlkZXI6IENvbGxhYlByb3ZpZGVyXG4gIHQ6IChlcnJvcjogc3RyaW5nKSA9PiBzdHJpbmdcbiAgc2V0VXBsb2FkaW5nOiAoc2V0OiBib29sZWFuKSA9PiB2b2lkXG59XG5cbnR5cGUgRmlsZUNhbGxiYWNrID0gKGZpbGU/OiBGaWxlKSA9PiB2b2lkXG5cbmV4cG9ydCBjb25zdCBpbWFnZVVwbG9hZFByb3ZpZGVyID0gKFxuICBjb25maWc6IEltYWdlVXBsb2FkUHJvdmlkZXJDb25maWdcbik6IFByb21pc2U8SW1hZ2VVcGxvYWRQcm92aWRlcj4gPT5cbiAgUHJvbWlzZS5yZXNvbHZlPEltYWdlVXBsb2FkUHJvdmlkZXI+KChldmVudCwgaW5zZXJ0SW1hZ2VGbikgPT5cbiAgICBoYW5kbGVFdmVudChldmVudCwgZmlsZSA9PiB1cGxvYWRJbWFnZShjb25maWcsIGluc2VydEltYWdlRm4sIGZpbGUpKVxuICApXG5cbmNvbnN0IGhhbmRsZUV2ZW50ID0gKFxuICBldmVudDogRXZlbnQgfCB1bmRlZmluZWQsXG4gIGNiOiBGaWxlQ2FsbGJhY2tcbik6IHZvaWQgfCBib29sZWFuID0+IHtcbiAgc3dpdGNoIChldmVudD8udHlwZSkge1xuICAgIGNhc2UgRXZlbnRUeXBlLkRyb3A6XG4gICAgICByZXR1cm4gaGFuZGxlRHJvcChldmVudCBhcyBEcmFnRXZlbnQsIGNiKVxuICAgIGNhc2UgRXZlbnRUeXBlLlBhc3RlOlxuICAgICAgcmV0dXJuIGhhbmRsZVBhc3RlKGV2ZW50IGFzIENsaXBib2FyZEV2ZW50LCBjYilcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGhhbmRsZUNsaWNrKGNiKVxuICB9XG59XG5cbmNvbnN0IGhhbmRsZUNsaWNrID0gKGNiOiBGaWxlQ2FsbGJhY2spOiB2b2lkID0+IHtcbiAgY29uc3QgaW5wdXRFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChFbGVtZW50VHlwZS5JbnB1dClcblxuICBpbnB1dEVsZW1lbnQuc2V0QXR0cmlidXRlKCdhY2NlcHQnLCAnaW1hZ2UvKicpXG5cbiAgaW5wdXRFbGVtZW50LnR5cGUgPSBJbnB1dFR5cGUuRmlsZVxuXG4gIGlucHV0RWxlbWVudC5kaXNwYXRjaEV2ZW50KG5ldyBNb3VzZUV2ZW50KEV2ZW50VHlwZS5DbGljaykpXG5cbiAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlLkNoYW5nZSwgKCkgPT5cbiAgICBjYihpbnB1dEVsZW1lbnQuZmlsZXM/LlswXSlcbiAgKVxufVxuXG5jb25zdCBpc1NpbmdsZSA9IChmaWxlTGlzdD86IEZpbGVMaXN0KTogYm9vbGVhbiB8IHZvaWQgPT5cbiAgZmlsZUxpc3Q/Lmxlbmd0aCA9PT0gMSB8fCAoQWxlcnRlci5lcnJvcignRXJyb3Iub25seV9vbmVfaW1hZ2UnKSwgZmFsc2UpXG5cbmNvbnN0IGhhbmRsZURyb3AgPSAoXG4gIHsgZGF0YVRyYW5zZmVyIH06IERyYWdFdmVudCxcbiAgY2I6IEZpbGVDYWxsYmFja1xuKTogYm9vbGVhbiB8IHZvaWQgPT5cbiAgaXNTaW5nbGUoZGF0YVRyYW5zZmVyPy5maWxlcykgJiYgY2IoZGF0YVRyYW5zZmVyPy5maWxlcz8uWzBdKVxuXG5jb25zdCBoYW5kbGVQYXN0ZSA9IChcbiAgeyBjbGlwYm9hcmREYXRhIH06IENsaXBib2FyZEV2ZW50LFxuICBjYjogRmlsZUNhbGxiYWNrXG4pOiB2b2lkID0+IGNiKGNsaXBib2FyZERhdGE/LmZpbGVzPy5bMF0pXG5cbmNvbnN0IHVwbG9hZEltYWdlID0gKFxuICBjb25maWc6IEltYWdlVXBsb2FkUHJvdmlkZXJDb25maWcsXG4gIGluc2VydEltYWdlRm46IChwcm9wczogSW5zZXJ0ZWRJbWFnZVByb3BlcnRpZXMpID0+IHZvaWQsXG4gIGZpbGU/OiBGaWxlXG4pOiB2b2lkID0+IHtcbiAgY29uc3QgcmVhZGVyID0gbmV3IHdpbmRvdy5GaWxlUmVhZGVyKClcblxuICBpZiAoIWZpbGUpIHRocm93IEVycm9yKEVycm9ycy5Ob0ZpbGVGb3VuZEFmdGVySW5wdXQpXG5cbiAgcmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKGZpbGUpXG5cbiAgcmVhZGVyLm9ubG9hZGVuZCA9IGFzeW5jICgpOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgICBjb25zdCBwcm9jZXNzZWRGaWxlID0gcHJvY2Vzc0ZpbGUocmVhZGVyLnJlc3VsdClcblxuICAgIGlmICghcHJvY2Vzc2VkRmlsZSkgdGhyb3cgRXJyb3IoRXJyb3JzLkZpbGVOb3RQcm9jZXNzYWJsZSlcblxuICAgIHRyeSB7XG4gICAgICBjb25maWcuc2V0VXBsb2FkaW5nKHRydWUpXG5cbiAgICAgIGNvbnN0IHtcbiAgICAgICAgZGF0YTogeyBpZDogc3JjIH1cbiAgICAgIH0gPSBhd2FpdCBjb25maWcuY29sbGFiUHJvdmlkZXIuc2VydmljZUNsaWVudC5wb3N0SW1hZ2UoXG4gICAgICAgIGZpbGUubmFtZSxcbiAgICAgICAgY29uZmlnLmNvbGxhYlByb3ZpZGVyLmNvbmZpZy5ub3RlSWQsXG4gICAgICAgIHByb2Nlc3NlZEZpbGUsXG4gICAgICAgIGZpbGUudHlwZVxuICAgICAgKVxuXG4gICAgICBpbnNlcnRJbWFnZUZuKHsgc3JjIH0pXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIEFsZXJ0ZXIuZXJyb3IoXG4gICAgICAgIGNvbmZpZy50KFxuICAgICAgICAgIGlzQ296eVN0YWNrRXJyb3IoZXJyb3IpXG4gICAgICAgICAgICA/IGBFcnJvci4ke2Vycm9yLnN0YXR1c31gXG4gICAgICAgICAgICA6ICdFcnJvci51bmtub3duX2Vycm9yJ1xuICAgICAgICApLFxuICAgICAgICB7IGR1cmF0aW9uOiBUT0FTVEVSX0RVUkFUSU9OIH1cbiAgICAgIClcbiAgICB9IGZpbmFsbHkge1xuICAgICAgY29uZmlnLnNldFVwbG9hZGluZyhmYWxzZSlcbiAgICB9XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBR0E7QUF3QkE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBRUE7QUFBQTtBQUNBO0FBRUE7QUFFQTtBQUFBO0FBREE7QUFHQTtBQUVBO0FBRUE7QUFBQTtBQURBO0FBRUE7QUFFQTtBQUtBO0FBRUE7QUFFQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFTQTtBQUFBO0FBTkE7QUFRQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFNQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/lib/image-upload-provider.ts\n");

/***/ }),

/***/ "./src/lib/initFromDom.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getDataset\", function() { return getDataset; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getDataOrDefault\", function() { return getDataOrDefault; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getPublicSharecode\", function() { return getPublicSharecode; });\n/* harmony import */ var url_search_params_polyfill__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/url-search-params-polyfill/index.js\");\n/* harmony import */ var url_search_params_polyfill__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(url_search_params_polyfill__WEBPACK_IMPORTED_MODULE_0__);\n\nvar getDataset = function getDataset() {\n  var root = document.querySelector('[role=application]');\n  return JSON.parse(root.dataset.cozy);\n};\n\n// return a defaultData if the template hasn't been replaced by cozy-stack\nvar getDataOrDefault = function getDataOrDefault(toTest, defaultData) {\n  var templateRegex = /^\\{\\{\\.[a-zA-Z]*\\}\\}$/; // {{.Example}}\n  return templateRegex.test(toTest) ? defaultData : toTest;\n};\nvar getPublicSharecode = function getPublicSharecode() {\n  var search = new URLSearchParams(window.location.search);\n  return search.get('sharecode');\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGliL2luaXRGcm9tRG9tLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi9pbml0RnJvbURvbS5qcz9iZjY1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAndXJsLXNlYXJjaC1wYXJhbXMtcG9seWZpbGwnXG5cbmV4cG9ydCBjb25zdCBnZXREYXRhc2V0ID0gZnVuY3Rpb24gKCkge1xuICBjb25zdCByb290ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW3JvbGU9YXBwbGljYXRpb25dJylcbiAgcmV0dXJuIEpTT04ucGFyc2Uocm9vdC5kYXRhc2V0LmNvenkpXG59XG5cbi8vIHJldHVybiBhIGRlZmF1bHREYXRhIGlmIHRoZSB0ZW1wbGF0ZSBoYXNuJ3QgYmVlbiByZXBsYWNlZCBieSBjb3p5LXN0YWNrXG5leHBvcnQgY29uc3QgZ2V0RGF0YU9yRGVmYXVsdCA9IGZ1bmN0aW9uICh0b1Rlc3QsIGRlZmF1bHREYXRhKSB7XG4gIGNvbnN0IHRlbXBsYXRlUmVnZXggPSAvXlxce1xce1xcLlthLXpBLVpdKlxcfVxcfSQvIC8vIHt7LkV4YW1wbGV9fVxuICByZXR1cm4gdGVtcGxhdGVSZWdleC50ZXN0KHRvVGVzdCkgPyBkZWZhdWx0RGF0YSA6IHRvVGVzdFxufVxuXG5leHBvcnQgY29uc3QgZ2V0UHVibGljU2hhcmVjb2RlID0gZnVuY3Rpb24gKCkge1xuICBjb25zdCBzZWFyY2ggPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpXG4gIHJldHVybiBzZWFyY2guZ2V0KCdzaGFyZWNvZGUnKVxufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/lib/initFromDom.js\n");

/***/ }),

/***/ "./src/lib/patches/firefox-drag.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"firefoxElement\", function() { return firefoxElement; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initFirefoxDrag\", function() { return initFirefoxDrag; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeFirefoxDrag\", function() { return removeFirefoxDrag; });\n/**\n * This patch provides a way to handle a prosemirror bug happening in Firefox when dragging images\n * Use initFirefoxDrag(firefoxElement()) when you want to start listening to drag events\n * Use removeFirefoxDrag(firefoxElement()) when you're leaving your drag context\n *\n * Removing the listeners is not mandatory but healthy for the application performance\n * A good place to do it, if using React, is in the componentWillUnmount() method or in a useEffect() return function\n */\n\nvar handleDragStart = function handleDragStart() {\n  return document.querySelectorAll('.ProseMirror > p').forEach(function (p) {\n    return p.setAttribute('contenteditable', 'false');\n  });\n};\nvar handleDragEnd = function handleDragEnd() {\n  return document.querySelectorAll('.ProseMirror > p').forEach(function (p) {\n    return p.setAttribute('contenteditable', '');\n  });\n};\nvar firefoxElement = function firefoxElement() {\n  return document.querySelector('.ua-firefox');\n};\nvar initFirefoxDrag = function initFirefoxDrag(element) {\n  return element.addEventListener('dragstart', handleDragStart), element.addEventListener('dragend', handleDragEnd);\n};\nvar removeFirefoxDrag = function removeFirefoxDrag(element) {\n  return element.removeEventListener('dragstart', handleDragStart), element.removeEventListener('dragend', handleDragEnd);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGliL3BhdGNoZXMvZmlyZWZveC1kcmFnLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi9wYXRjaGVzL2ZpcmVmb3gtZHJhZy50cz8wZDZlIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGhpcyBwYXRjaCBwcm92aWRlcyBhIHdheSB0byBoYW5kbGUgYSBwcm9zZW1pcnJvciBidWcgaGFwcGVuaW5nIGluIEZpcmVmb3ggd2hlbiBkcmFnZ2luZyBpbWFnZXNcbiAqIFVzZSBpbml0RmlyZWZveERyYWcoZmlyZWZveEVsZW1lbnQoKSkgd2hlbiB5b3Ugd2FudCB0byBzdGFydCBsaXN0ZW5pbmcgdG8gZHJhZyBldmVudHNcbiAqIFVzZSByZW1vdmVGaXJlZm94RHJhZyhmaXJlZm94RWxlbWVudCgpKSB3aGVuIHlvdSdyZSBsZWF2aW5nIHlvdXIgZHJhZyBjb250ZXh0XG4gKlxuICogUmVtb3ZpbmcgdGhlIGxpc3RlbmVycyBpcyBub3QgbWFuZGF0b3J5IGJ1dCBoZWFsdGh5IGZvciB0aGUgYXBwbGljYXRpb24gcGVyZm9ybWFuY2VcbiAqIEEgZ29vZCBwbGFjZSB0byBkbyBpdCwgaWYgdXNpbmcgUmVhY3QsIGlzIGluIHRoZSBjb21wb25lbnRXaWxsVW5tb3VudCgpIG1ldGhvZCBvciBpbiBhIHVzZUVmZmVjdCgpIHJldHVybiBmdW5jdGlvblxuICovXG5cbmNvbnN0IGhhbmRsZURyYWdTdGFydCA9ICgpOiB2b2lkID0+XG4gIGRvY3VtZW50XG4gICAgLnF1ZXJ5U2VsZWN0b3JBbGwoJy5Qcm9zZU1pcnJvciA+IHAnKVxuICAgIC5mb3JFYWNoKHAgPT4gcC5zZXRBdHRyaWJ1dGUoJ2NvbnRlbnRlZGl0YWJsZScsICdmYWxzZScpKVxuXG5jb25zdCBoYW5kbGVEcmFnRW5kID0gKCk6IHZvaWQgPT5cbiAgZG9jdW1lbnRcbiAgICAucXVlcnlTZWxlY3RvckFsbCgnLlByb3NlTWlycm9yID4gcCcpXG4gICAgLmZvckVhY2gocCA9PiBwLnNldEF0dHJpYnV0ZSgnY29udGVudGVkaXRhYmxlJywgJycpKVxuXG5leHBvcnQgY29uc3QgZmlyZWZveEVsZW1lbnQgPSAoKTogRWxlbWVudCB8IG51bGwgPT5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnVhLWZpcmVmb3gnKVxuXG5leHBvcnQgY29uc3QgaW5pdEZpcmVmb3hEcmFnID0gKGVsZW1lbnQ6IEVsZW1lbnQgfCBudWxsKTogdm9pZCA9PiAoXG4gIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ3N0YXJ0JywgaGFuZGxlRHJhZ1N0YXJ0KSxcbiAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdkcmFnZW5kJywgaGFuZGxlRHJhZ0VuZClcbilcblxuZXhwb3J0IGNvbnN0IHJlbW92ZUZpcmVmb3hEcmFnID0gKGVsZW1lbnQ6IEVsZW1lbnQgfCBudWxsKTogdm9pZCA9PiAoXG4gIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignZHJhZ3N0YXJ0JywgaGFuZGxlRHJhZ1N0YXJ0KSxcbiAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdkcmFnZW5kJywgaGFuZGxlRHJhZ0VuZClcbilcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFDQTtBQUVBO0FBQUE7QUFFQTtBQUdBO0FBQUE7QUFFQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/lib/patches/firefox-drag.ts\n");

/***/ }),

/***/ "./src/lib/patches/fixedToBottomIos.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TOOLBAR_SELECTOR\", function() { return TOOLBAR_SELECTOR; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"applyFixToElement\", function() { return applyFixToElement; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createAdjustmentFunction\", function() { return createAdjustmentFunction; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"enableAbsolutePositioning\", function() { return enableAbsolutePositioning; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setupEventListeners\", function() { return setupEventListeners; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"tearDownEventListeners\", function() { return tearDownEventListeners; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"handleMutation\", function() { return handleMutation; });\nvar TOOLBAR_SELECTOR = '[data-testid=\"ak-editor-main-toolbar\"]';\n\n/**\n * Applies a fix to the specified element to ensure it stays fixed to the bottom of the viewport.\n * @param element - The element to apply the fix to.\n * @returns A function that can be called to remove the applied fix.\n */\nvar applyFixToElement = function applyFixToElement(element) {\n  var adjustFixedPos = createAdjustmentFunction(element);\n  enableAbsolutePositioning(element, adjustFixedPos);\n  return function () {\n    document.removeEventListener('scroll', adjustFixedPos);\n    window.visualViewport.removeEventListener('resize', adjustFixedPos);\n  };\n};\n\n/**\n * Creates an adjustment function that fixes an element to the bottom of the viewport.\n * The adjustment function adjusts the position of the element based on the viewport height and scroll position.\n *\n * @param element - The HTML element to be fixed to the bottom of the viewport.\n * @returns A function that adjusts the position of the element.\n */\nvar createAdjustmentFunction = function createAdjustmentFunction(element) {\n  return function () {\n    var viewport = window.visualViewport;\n    var elementHeight = element.offsetHeight;\n    var elementBottom = viewport.height - elementHeight + document.documentElement.scrollTop;\n    element.style.top = \"\".concat(elementBottom, \"px\");\n  };\n};\n\n/**\n * Enables absolute positioning for the specified element and adjusts its position.\n * This function is typically used to fix elements to the bottom of the screen on iOS devices.\n *\n * @param element - The HTML element to enable absolute positioning for.\n * @param adjustPosition - A callback function that adjusts the position of the element.\n */\nvar enableAbsolutePositioning = function enableAbsolutePositioning(element, adjustPosition) {\n  element.style.position = 'absolute';\n  element.style.bottom = 'auto';\n  element.style.marginTop = '-5rem'; // Offset the element to avoid the keyboard\n  adjustPosition();\n  document.addEventListener('scroll', adjustPosition, {\n    passive: true\n  });\n  window.visualViewport.addEventListener('resize', adjustPosition, {\n    passive: true\n  });\n};\n\n/**\n * Sets up event listeners for the given element to adjust its position when scrolling or resizing the window.\n * @param element - The HTML element to adjust.\n */\nvar setupEventListeners = function setupEventListeners(element) {\n  var adjustFunction = createAdjustmentFunction(element);\n  document.addEventListener('scroll', adjustFunction, {\n    passive: true\n  });\n  window.visualViewport.addEventListener('resize', adjustFunction, {\n    passive: true\n  });\n};\n\n/**\n * Removes event listeners for scroll and resize events.\n * @param element - The HTML element to remove event listeners from.\n */\nvar tearDownEventListeners = function tearDownEventListeners(element) {\n  var adjustFunction = createAdjustmentFunction(element);\n  document.removeEventListener('scroll', adjustFunction);\n  window.visualViewport.removeEventListener('resize', adjustFunction);\n};\n\n/**\n * Handles mutations in the DOM and applies fixes to the toolbar element.\n * @param mutations - An array of MutationRecord objects representing DOM mutations.\n * @param observer - The MutationObserver instance used to observe DOM mutations.\n */\nvar handleMutation = function handleMutation(mutations, observer) {\n  mutations.forEach(function (mutation) {\n    Array.from(mutation.addedNodes).forEach(function (node) {\n      if (node.nodeType === 1) {\n        // Ensuring node is an Element\n        var element = node;\n        var elementIsToolbar = element.matches(TOOLBAR_SELECTOR) || element.querySelector(TOOLBAR_SELECTOR);\n        if (elementIsToolbar) {\n          observer.disconnect(); // Disconnect observer to avoid infinite loop\n\n          var targetElement = element.matches(TOOLBAR_SELECTOR) ? element : element.querySelector(TOOLBAR_SELECTOR);\n          if (targetElement) {\n            applyFixToElement(targetElement); // Adjust toolbar position immediately\n            setupEventListeners(targetElement); // Set up event listeners for future position adjustments\n          }\n\n          return; // Exit after applying fix to the first matching element (which should be the toolbar)\n        }\n      }\n    });\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGliL3BhdGNoZXMvZml4ZWRUb0JvdHRvbUlvcy50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9saWIvcGF0Y2hlcy9maXhlZFRvQm90dG9tSW9zLnRzPzlhOWUiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IFRPT0xCQVJfU0VMRUNUT1IgPSAnW2RhdGEtdGVzdGlkPVwiYWstZWRpdG9yLW1haW4tdG9vbGJhclwiXSdcblxuLyoqXG4gKiBBcHBsaWVzIGEgZml4IHRvIHRoZSBzcGVjaWZpZWQgZWxlbWVudCB0byBlbnN1cmUgaXQgc3RheXMgZml4ZWQgdG8gdGhlIGJvdHRvbSBvZiB0aGUgdmlld3BvcnQuXG4gKiBAcGFyYW0gZWxlbWVudCAtIFRoZSBlbGVtZW50IHRvIGFwcGx5IHRoZSBmaXggdG8uXG4gKiBAcmV0dXJucyBBIGZ1bmN0aW9uIHRoYXQgY2FuIGJlIGNhbGxlZCB0byByZW1vdmUgdGhlIGFwcGxpZWQgZml4LlxuICovXG5leHBvcnQgY29uc3QgYXBwbHlGaXhUb0VsZW1lbnQgPSAoZWxlbWVudDogSFRNTEVsZW1lbnQpOiAoKCkgPT4gdm9pZCkgPT4ge1xuICBjb25zdCBhZGp1c3RGaXhlZFBvcyA9IGNyZWF0ZUFkanVzdG1lbnRGdW5jdGlvbihlbGVtZW50KVxuICBlbmFibGVBYnNvbHV0ZVBvc2l0aW9uaW5nKGVsZW1lbnQsIGFkanVzdEZpeGVkUG9zKVxuXG4gIHJldHVybiAoKSA9PiB7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgYWRqdXN0Rml4ZWRQb3MpXG4gICAgd2luZG93LnZpc3VhbFZpZXdwb3J0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGFkanVzdEZpeGVkUG9zKVxuICB9XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBhZGp1c3RtZW50IGZ1bmN0aW9uIHRoYXQgZml4ZXMgYW4gZWxlbWVudCB0byB0aGUgYm90dG9tIG9mIHRoZSB2aWV3cG9ydC5cbiAqIFRoZSBhZGp1c3RtZW50IGZ1bmN0aW9uIGFkanVzdHMgdGhlIHBvc2l0aW9uIG9mIHRoZSBlbGVtZW50IGJhc2VkIG9uIHRoZSB2aWV3cG9ydCBoZWlnaHQgYW5kIHNjcm9sbCBwb3NpdGlvbi5cbiAqXG4gKiBAcGFyYW0gZWxlbWVudCAtIFRoZSBIVE1MIGVsZW1lbnQgdG8gYmUgZml4ZWQgdG8gdGhlIGJvdHRvbSBvZiB0aGUgdmlld3BvcnQuXG4gKiBAcmV0dXJucyBBIGZ1bmN0aW9uIHRoYXQgYWRqdXN0cyB0aGUgcG9zaXRpb24gb2YgdGhlIGVsZW1lbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBjcmVhdGVBZGp1c3RtZW50RnVuY3Rpb24gPSAoZWxlbWVudDogSFRNTEVsZW1lbnQpID0+ICgpOiB2b2lkID0+IHtcbiAgY29uc3Qgdmlld3BvcnQgPSB3aW5kb3cudmlzdWFsVmlld3BvcnRcbiAgY29uc3QgZWxlbWVudEhlaWdodCA9IGVsZW1lbnQub2Zmc2V0SGVpZ2h0XG4gIGNvbnN0IGVsZW1lbnRCb3R0b20gPVxuICAgIHZpZXdwb3J0LmhlaWdodCAtIGVsZW1lbnRIZWlnaHQgKyBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wXG5cbiAgZWxlbWVudC5zdHlsZS50b3AgPSBgJHtlbGVtZW50Qm90dG9tfXB4YFxufVxuXG4vKipcbiAqIEVuYWJsZXMgYWJzb2x1dGUgcG9zaXRpb25pbmcgZm9yIHRoZSBzcGVjaWZpZWQgZWxlbWVudCBhbmQgYWRqdXN0cyBpdHMgcG9zaXRpb24uXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIHR5cGljYWxseSB1c2VkIHRvIGZpeCBlbGVtZW50cyB0byB0aGUgYm90dG9tIG9mIHRoZSBzY3JlZW4gb24gaU9TIGRldmljZXMuXG4gKlxuICogQHBhcmFtIGVsZW1lbnQgLSBUaGUgSFRNTCBlbGVtZW50IHRvIGVuYWJsZSBhYnNvbHV0ZSBwb3NpdGlvbmluZyBmb3IuXG4gKiBAcGFyYW0gYWRqdXN0UG9zaXRpb24gLSBBIGNhbGxiYWNrIGZ1bmN0aW9uIHRoYXQgYWRqdXN0cyB0aGUgcG9zaXRpb24gb2YgdGhlIGVsZW1lbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBlbmFibGVBYnNvbHV0ZVBvc2l0aW9uaW5nID0gKFxuICBlbGVtZW50OiBIVE1MRWxlbWVudCxcbiAgYWRqdXN0UG9zaXRpb246ICgpID0+IHZvaWRcbik6IHZvaWQgPT4ge1xuICBlbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJ1xuICBlbGVtZW50LnN0eWxlLmJvdHRvbSA9ICdhdXRvJ1xuICBlbGVtZW50LnN0eWxlLm1hcmdpblRvcCA9ICctNXJlbScgLy8gT2Zmc2V0IHRoZSBlbGVtZW50IHRvIGF2b2lkIHRoZSBrZXlib2FyZFxuICBhZGp1c3RQb3NpdGlvbigpXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGFkanVzdFBvc2l0aW9uLCB7IHBhc3NpdmU6IHRydWUgfSlcbiAgd2luZG93LnZpc3VhbFZpZXdwb3J0LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGFkanVzdFBvc2l0aW9uLCB7XG4gICAgcGFzc2l2ZTogdHJ1ZVxuICB9KVxufVxuXG4vKipcbiAqIFNldHMgdXAgZXZlbnQgbGlzdGVuZXJzIGZvciB0aGUgZ2l2ZW4gZWxlbWVudCB0byBhZGp1c3QgaXRzIHBvc2l0aW9uIHdoZW4gc2Nyb2xsaW5nIG9yIHJlc2l6aW5nIHRoZSB3aW5kb3cuXG4gKiBAcGFyYW0gZWxlbWVudCAtIFRoZSBIVE1MIGVsZW1lbnQgdG8gYWRqdXN0LlxuICovXG5leHBvcnQgY29uc3Qgc2V0dXBFdmVudExpc3RlbmVycyA9IChlbGVtZW50OiBIVE1MRWxlbWVudCk6IHZvaWQgPT4ge1xuICBjb25zdCBhZGp1c3RGdW5jdGlvbiA9IGNyZWF0ZUFkanVzdG1lbnRGdW5jdGlvbihlbGVtZW50KVxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBhZGp1c3RGdW5jdGlvbiwgeyBwYXNzaXZlOiB0cnVlIH0pXG4gIHdpbmRvdy52aXN1YWxWaWV3cG9ydC5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBhZGp1c3RGdW5jdGlvbiwge1xuICAgIHBhc3NpdmU6IHRydWVcbiAgfSlcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGV2ZW50IGxpc3RlbmVycyBmb3Igc2Nyb2xsIGFuZCByZXNpemUgZXZlbnRzLlxuICogQHBhcmFtIGVsZW1lbnQgLSBUaGUgSFRNTCBlbGVtZW50IHRvIHJlbW92ZSBldmVudCBsaXN0ZW5lcnMgZnJvbS5cbiAqL1xuZXhwb3J0IGNvbnN0IHRlYXJEb3duRXZlbnRMaXN0ZW5lcnMgPSAoZWxlbWVudDogSFRNTEVsZW1lbnQpOiB2b2lkID0+IHtcbiAgY29uc3QgYWRqdXN0RnVuY3Rpb24gPSBjcmVhdGVBZGp1c3RtZW50RnVuY3Rpb24oZWxlbWVudClcbiAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgYWRqdXN0RnVuY3Rpb24pXG4gIHdpbmRvdy52aXN1YWxWaWV3cG9ydC5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCBhZGp1c3RGdW5jdGlvbilcbn1cblxuLyoqXG4gKiBIYW5kbGVzIG11dGF0aW9ucyBpbiB0aGUgRE9NIGFuZCBhcHBsaWVzIGZpeGVzIHRvIHRoZSB0b29sYmFyIGVsZW1lbnQuXG4gKiBAcGFyYW0gbXV0YXRpb25zIC0gQW4gYXJyYXkgb2YgTXV0YXRpb25SZWNvcmQgb2JqZWN0cyByZXByZXNlbnRpbmcgRE9NIG11dGF0aW9ucy5cbiAqIEBwYXJhbSBvYnNlcnZlciAtIFRoZSBNdXRhdGlvbk9ic2VydmVyIGluc3RhbmNlIHVzZWQgdG8gb2JzZXJ2ZSBET00gbXV0YXRpb25zLlxuICovXG5leHBvcnQgY29uc3QgaGFuZGxlTXV0YXRpb24gPSAoXG4gIG11dGF0aW9uczogTXV0YXRpb25SZWNvcmRbXSxcbiAgb2JzZXJ2ZXI6IE11dGF0aW9uT2JzZXJ2ZXJcbik6IHZvaWQgPT4ge1xuICBtdXRhdGlvbnMuZm9yRWFjaChtdXRhdGlvbiA9PiB7XG4gICAgQXJyYXkuZnJvbShtdXRhdGlvbi5hZGRlZE5vZGVzKS5mb3JFYWNoKG5vZGUgPT4ge1xuICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgICAgLy8gRW5zdXJpbmcgbm9kZSBpcyBhbiBFbGVtZW50XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBub2RlIGFzIEhUTUxFbGVtZW50XG4gICAgICAgIGNvbnN0IGVsZW1lbnRJc1Rvb2xiYXIgPVxuICAgICAgICAgIGVsZW1lbnQubWF0Y2hlcyhUT09MQkFSX1NFTEVDVE9SKSB8fFxuICAgICAgICAgIGVsZW1lbnQucXVlcnlTZWxlY3RvcihUT09MQkFSX1NFTEVDVE9SKVxuXG4gICAgICAgIGlmIChlbGVtZW50SXNUb29sYmFyKSB7XG4gICAgICAgICAgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpIC8vIERpc2Nvbm5lY3Qgb2JzZXJ2ZXIgdG8gYXZvaWQgaW5maW5pdGUgbG9vcFxuXG4gICAgICAgICAgY29uc3QgdGFyZ2V0RWxlbWVudCA9IGVsZW1lbnQubWF0Y2hlcyhUT09MQkFSX1NFTEVDVE9SKVxuICAgICAgICAgICAgPyBlbGVtZW50XG4gICAgICAgICAgICA6IGVsZW1lbnQucXVlcnlTZWxlY3RvcjxIVE1MRWxlbWVudD4oVE9PTEJBUl9TRUxFQ1RPUilcblxuICAgICAgICAgIGlmICh0YXJnZXRFbGVtZW50KSB7XG4gICAgICAgICAgICBhcHBseUZpeFRvRWxlbWVudCh0YXJnZXRFbGVtZW50KSAvLyBBZGp1c3QgdG9vbGJhciBwb3NpdGlvbiBpbW1lZGlhdGVseVxuICAgICAgICAgICAgc2V0dXBFdmVudExpc3RlbmVycyh0YXJnZXRFbGVtZW50KSAvLyBTZXQgdXAgZXZlbnQgbGlzdGVuZXJzIGZvciBmdXR1cmUgcG9zaXRpb24gYWRqdXN0bWVudHNcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gLy8gRXhpdCBhZnRlciBhcHBseWluZyBmaXggdG8gdGhlIGZpcnN0IG1hdGNoaW5nIGVsZW1lbnQgKHdoaWNoIHNob3VsZCBiZSB0aGUgdG9vbGJhcilcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG4gIH0pXG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/lib/patches/fixedToBottomIos.ts\n");

/***/ }),

/***/ "./src/lib/queries.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"buildNoteByIdQuery\", function() { return buildNoteByIdQuery; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"buildFileByIdQuery\", function() { return buildFileByIdQuery; });\n/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/cozy-client/dist/index.js\");\n/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_0__);\n\nvar DEFAULT_CACHE_TIMEOUT_QUERIES = 5 * 60 * 1000; // 5 minutes\nvar defaultFetchPolicy = cozy_client__WEBPACK_IMPORTED_MODULE_0__[\"fetchPolicies\"].olderThan(DEFAULT_CACHE_TIMEOUT_QUERIES);\nvar buildNoteByIdQuery = function buildNoteByIdQuery(id) {\n  return {\n    definition: Object(cozy_client__WEBPACK_IMPORTED_MODULE_0__[\"Q\"])('io.cozy.notes').getById(id),\n    options: {\n      as: \"io.cozy.notes/\".concat(id),\n      fetchPolicy: defaultFetchPolicy,\n      singleDocData: true\n    }\n  };\n};\nvar buildFileByIdQuery = function buildFileByIdQuery(id) {\n  return {\n    definition: Object(cozy_client__WEBPACK_IMPORTED_MODULE_0__[\"Q\"])('io.cozy.files').getById(id),\n    options: {\n      as: \"io.cozy.files/\".concat(id),\n      fetchPolicy: defaultFetchPolicy,\n      singleDocData: true\n    }\n  };\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGliL3F1ZXJpZXMuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL3F1ZXJpZXMuanM/MDhmYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBRLCBmZXRjaFBvbGljaWVzIH0gZnJvbSAnY296eS1jbGllbnQnXG5cbmNvbnN0IERFRkFVTFRfQ0FDSEVfVElNRU9VVF9RVUVSSUVTID0gNSAqIDYwICogMTAwMCAvLyA1IG1pbnV0ZXNcbmNvbnN0IGRlZmF1bHRGZXRjaFBvbGljeSA9IGZldGNoUG9saWNpZXMub2xkZXJUaGFuKFxuICBERUZBVUxUX0NBQ0hFX1RJTUVPVVRfUVVFUklFU1xuKVxuXG5leHBvcnQgY29uc3QgYnVpbGROb3RlQnlJZFF1ZXJ5ID0gaWQgPT4gKHtcbiAgZGVmaW5pdGlvbjogUSgnaW8uY296eS5ub3RlcycpLmdldEJ5SWQoaWQpLFxuICBvcHRpb25zOiB7XG4gICAgYXM6IGBpby5jb3p5Lm5vdGVzLyR7aWR9YCxcbiAgICBmZXRjaFBvbGljeTogZGVmYXVsdEZldGNoUG9saWN5LFxuICAgIHNpbmdsZURvY0RhdGE6IHRydWVcbiAgfVxufSlcblxuZXhwb3J0IGNvbnN0IGJ1aWxkRmlsZUJ5SWRRdWVyeSA9IGlkID0+ICh7XG4gIGRlZmluaXRpb246IFEoJ2lvLmNvenkuZmlsZXMnKS5nZXRCeUlkKGlkKSxcbiAgb3B0aW9uczoge1xuICAgIGFzOiBgaW8uY296eS5maWxlcy8ke2lkfWAsXG4gICAgZmV0Y2hQb2xpY3k6IGRlZmF1bHRGZXRjaFBvbGljeSxcbiAgICBzaW5nbGVEb2NEYXRhOiB0cnVlXG4gIH1cbn0pXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFJQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/lib/queries.js\n");

/***/ }),

/***/ "./src/lib/utils.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getShortNameFromClient\", function() { return getShortNameFromClient; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getReturnUrl\", function() { return getReturnUrl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"generateReturnUrlToNotesIndex\", function() { return generateReturnUrlToNotesIndex; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"fetchIfIsNoteReadOnly\", function() { return fetchIfIsNoteReadOnly; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getSharedDocument\", function() { return getSharedDocument; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getFolderLink\", function() { return getFolderLink; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getDriveLink\", function() { return getDriveLink; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getParentFolderLink\", function() { return getParentFolderLink; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getAppFullName\", function() { return getAppFullName; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createNoteDocument\", function() { return createNoteDocument; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"relativeAge\", function() { return relativeAge; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getUserNameFromUrl\", function() { return getUserNameFromUrl; });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/slicedToArray.js\");\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var lib_collab_schema__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./src/lib/collab/schema.js\");\n/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./node_modules/lodash/get.js\");\n/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./node_modules/cozy-client/dist/index.js\");\n/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _initFromDom__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./src/lib/initFromDom.js\");\n/* harmony import */ var _manifest_webapp__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./manifest.webapp\");\n/* harmony import */ var _manifest_webapp__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_manifest_webapp__WEBPACK_IMPORTED_MODULE_8__);\n\n\n\n\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n\n\n\n\n\nfunction getShortNameFromClient(client) {\n  var url = new URL(client.getStackClient().uri);\n  return url.hostname + Math.floor(Math.random() * 100);\n}\nvar returnUrlKey = 'returnUrl';\nfunction getReturnUrl() {\n  var searchParams = new URLSearchParams(window.location.search);\n  var _iterator = _createForOfIteratorHelper(searchParams),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var _step$value = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_step.value, 2),\n        key = _step$value[0],\n        value = _step$value[1];\n      if (key === returnUrlKey) {\n        return value;\n      }\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n  return undefined;\n}\n\n/**\n * Create the URL to be used to edit a note\n *\n * @param {CozyClient} client\n * @param {object} doc - couchdb document for the note/file\n * @return {string} URL where one can edit the note\n * @return {string} URL to use as returnUrl if you don't want the current location\n */\nfunction generateReturnUrlToNotesIndex(_x, _x2, _x3) {\n  return _generateReturnUrlToNotesIndex.apply(this, arguments);\n}\n\n/**\n * Get permissions on io.cozy.files for current context\n * @private\n * @param {CozyClient} client\n * @returns {object}\n */\nfunction _generateReturnUrlToNotesIndex() {\n  _generateReturnUrlToNotesIndex = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee(client, doc, returnUrl) {\n    var rawUrl, back, dest;\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            rawUrl = cozy_client__WEBPACK_IMPORTED_MODULE_6__[\"models\"].note.fetchURL(client, doc);\n            back = window.location.toString();\n            _context.t0 = URL;\n            _context.next = 5;\n            return rawUrl;\n          case 5:\n            _context.t1 = _context.sent;\n            dest = new _context.t0(_context.t1);\n            dest.searchParams.set(returnUrlKey, returnUrl || back);\n            return _context.abrupt(\"return\", dest.toString());\n          case 9:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _generateReturnUrlToNotesIndex.apply(this, arguments);\n}\nfunction getFilesOwnPermissions(_x4) {\n  return _getFilesOwnPermissions.apply(this, arguments);\n}\n/**\n * Get a file by it's id\n * @private\n * @param {CozyClient} client\n * @param {string} id\n */\nfunction _getFilesOwnPermissions() {\n  _getFilesOwnPermissions = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee2(client) {\n    var permissionsData, permissionObject, permissions;\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return client.collection('io.cozy.permissions').fetchOwnPermissions();\n          case 2:\n            permissionsData = _context2.sent;\n            permissionObject = lodash_get__WEBPACK_IMPORTED_MODULE_5___default()(permissionsData, 'data.attributes.permissions');\n            if (permissionObject) {\n              _context2.next = 6;\n              break;\n            }\n            throw \"can't get self permissions\";\n          case 6:\n            permissions = Object.values(permissionObject);\n            return _context2.abrupt(\"return\", permissions.filter(function (perm) {\n              return cozy_client__WEBPACK_IMPORTED_MODULE_6__[\"models\"].permission.isForType(perm, 'io.cozy.files');\n            }));\n          case 8:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _getFilesOwnPermissions.apply(this, arguments);\n}\nfunction getFile(_x5, _x6) {\n  return _getFile.apply(this, arguments);\n}\n/**\n * Checks if the note is read-only or read-write\n *\n * @param {CozyClient} client\n * @param {string} fileId - io.cozy.files id\n * @returns {bool}\n */\nfunction _getFile() {\n  _getFile = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee3(client, id) {\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            return _context3.abrupt(\"return\", client.query(client.find('io.cozy.files').getById(id)).then(function (data) {\n              return data && data.data;\n            }));\n          case 1:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n  return _getFile.apply(this, arguments);\n}\nfunction fetchIfIsNoteReadOnly(_x7, _x8) {\n  return _fetchIfIsNoteReadOnly.apply(this, arguments);\n}\n\n/**\n * Get the first shared document for the current shared token\n *\n * @param {CozyClient} client\n * @returns {{id, readOnly}} id of the document and the readOnly status\n */\nfunction _fetchIfIsNoteReadOnly() {\n  _fetchIfIsNoteReadOnly = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee4(client, fileId) {\n    var document;\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.next = 2;\n            return getFile(client, fileId);\n          case 2:\n            document = _context4.sent;\n            return _context4.abrupt(\"return\", cozy_client__WEBPACK_IMPORTED_MODULE_6__[\"models\"].permission.isDocumentReadOnly({\n              document: document,\n              client: client,\n              writability: ['PATCH']\n            }));\n          case 4:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n  return _fetchIfIsNoteReadOnly.apply(this, arguments);\n}\nfunction getSharedDocument(_x9) {\n  return _getSharedDocument.apply(this, arguments);\n}\nfunction _getSharedDocument() {\n  _getSharedDocument = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee5(client) {\n    var permissions, perm, sharedDocumentId, readOnly;\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            _context5.next = 2;\n            return getFilesOwnPermissions(client);\n          case 2:\n            permissions = _context5.sent.filter(function (p) {\n              return cozy_client__WEBPACK_IMPORTED_MODULE_6__[\"models\"].permission.isForType(p, 'io.cozy.files') && p.values && p.values.length > 0;\n            });\n            if (!(permissions.length < 1)) {\n              _context5.next = 7;\n              break;\n            }\n            throw new Error('No individual io.cozy.files permissions in current context');\n          case 7:\n            if (permissions.length > 1 || permissions[0].values.length > 1) {\n              // eslint-disable-next-line no-console\n              console.warn(\"There are more than one permission for a file in current context. Let's take the first one, but it may not be the one you expect\");\n            }\n          case 8:\n            perm = permissions[0];\n            sharedDocumentId = perm.values[0];\n            readOnly = cozy_client__WEBPACK_IMPORTED_MODULE_6__[\"models\"].permission.isReadOnly(perm, {\n              writability: ['PATCH']\n            });\n            return _context5.abrupt(\"return\", {\n              id: sharedDocumentId,\n              readOnly: readOnly\n            });\n          case 12:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _callee5);\n  }));\n  return _getSharedDocument.apply(this, arguments);\n}\nfunction getFolderLink(id) {\n  return \"/folder/\".concat(id);\n}\nfunction getDriveLink(client) {\n  var id = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  var cozyURL = new URL(client.getStackClient().uri);\n  var _client$getInstanceOp = client.getInstanceOptions(),\n    subdomain = _client$getInstanceOp.subdomain;\n  var driveSlug = 'drive';\n  var pathForDrive = id !== null ? getFolderLink(id) : '';\n  var webUrl = Object(cozy_client__WEBPACK_IMPORTED_MODULE_6__[\"generateWebLink\"])({\n    cozyUrl: cozyURL.origin,\n    slug: driveSlug,\n    pathname: '/',\n    subDomainType: subdomain,\n    hash: pathForDrive\n  });\n  return webUrl;\n}\nfunction getParentFolderLink(client, file) {\n  return getDriveLink(client, cozy_client__WEBPACK_IMPORTED_MODULE_6__[\"models\"].file.getParentFolderId(file));\n}\nfunction getAppFullName() {\n  var dataset = Object(_initFromDom__WEBPACK_IMPORTED_MODULE_7__[\"getDataset\"])();\n  var appNamePrefix = Object(_initFromDom__WEBPACK_IMPORTED_MODULE_7__[\"getDataOrDefault\"])(dataset.app.prefix || _manifest_webapp__WEBPACK_IMPORTED_MODULE_8___default.a.name_prefix, '');\n  var appName = Object(_initFromDom__WEBPACK_IMPORTED_MODULE_7__[\"getDataOrDefault\"])(dataset.app.name, _manifest_webapp__WEBPACK_IMPORTED_MODULE_8___default.a.name);\n  return appNamePrefix != '' ? \"\".concat(appNamePrefix, \" \").concat(appName) : appName;\n}\nfunction createNoteDocument(client) {\n  return client.getStackClient().fetchJSON('POST', '/notes', {\n    data: {\n      type: 'io.cozy.notes.documents',\n      attributes: {\n        title: '',\n        schema: _objectSpread(_objectSpread({}, lib_collab_schema__WEBPACK_IMPORTED_MODULE_4__[\"schemaOrdered\"]), {}, {\n          version: lib_collab_schema__WEBPACK_IMPORTED_MODULE_4__[\"schemaVersion\"]\n        })\n      }\n    }\n  });\n}\n\n// constants\nvar sec = 1000;\nvar min = 60 * sec;\nvar hour = 60 * min;\nvar day = 24 * hour;\nvar month = 31 * day;\nvar year = 365 * day;\n\n// differents steps for message formating\n// [age, key, unit, coef] :\n// - `age`: the line applies only if the last saved\n// was done less than this `age` ago\n// (only the first match will apply)\n// - `key` is the traduction key for the message\n// - `unit` is the unit in which we will send the time\n// to the translated message\n// - `coef` is  the granularity in which we will send\n// the time (`min, 5` is \"by 5 minutes slices\")\nvar defaultSteps = [[10 * sec, 'just_now', sec, 1], [1 * min, 'secs_ago', sec, 10], [2 * min, 'min_ago', min, 1], [5 * min, 'mins_ago', min, 1], [20 * min, 'mins_ago', min, 5], [1 * hour, 'mins_ago', min, 10], [2 * hour, 'hour_ago', hour, 1], [1 * day, 'hours_ago', hour, 1], [2 * day, 'day_ago', day, 1], [1 * month, 'days_ago', day, 1], [2 * month, 'month_ago', month, 1], [1 * year, 'monthes_ago', month, 1], [2 * year, 'year_ago', year, 1], [Infinity, 'years_ago', year, 1]];\n\n/**\n * @typedef {object} RelativeAge\n * @property {string} key - translation (sub) key\n * @property {unit} unit - unit (minute, second, hour) in which the age will be displayed\n * @property {integer} coef - in how much values of this unit do we count (like every 10 minutes)\n * @property {integer} time - age to be inserted in the translation message\n * @property {integer} interval - `unit * coef`: compute again in that timeframe (in milliseconds)\n */\n/**\n * Gets raw data to display a relative age in human words\n * @param {integer} age - age in milliseconds\n * @param {array} steps - array of [max_age, key, unit, coef]\n * @returns {RelativeAge}\n */\nfunction relativeAge(age, steps) {\n  var step = (steps || defaultSteps).find(function (el) {\n    return age < el[0];\n  });\n  var _step2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(step, 4),\n    key = _step2[1],\n    unit = _step2[2],\n    coef = _step2[3];\n  return {\n    key: key,\n    unit: unit,\n    coef: coef,\n    time: Math.floor(age / unit / coef) * coef,\n    interval: unit * coef\n  };\n}\n\n/**\n * Gets the username defined by the current URL, if any\n *\n * @returns {string|null} username\n */\nfunction getUserNameFromUrl() {\n  var searchParams = new URLSearchParams(window.location.search);\n  if (searchParams.has('username')) {\n    return searchParams.get('username');\n  } else {\n    return null;\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGliL3V0aWxzLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi91dGlscy5qcz82Y2UwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHNjaGVtYU9yZGVyZWQsIHNjaGVtYVZlcnNpb24gfSBmcm9tICdsaWIvY29sbGFiL3NjaGVtYSdcbmltcG9ydCBnZXQgZnJvbSAnbG9kYXNoL2dldCdcblxuaW1wb3J0IHsgZ2VuZXJhdGVXZWJMaW5rIH0gZnJvbSAnY296eS1jbGllbnQnXG5pbXBvcnQgeyBtb2RlbHMgfSBmcm9tICdjb3p5LWNsaWVudCdcblxuaW1wb3J0IHsgZ2V0RGF0YXNldCwgZ2V0RGF0YU9yRGVmYXVsdCB9IGZyb20gJy4vaW5pdEZyb21Eb20nXG5pbXBvcnQgbWFuaWZlc3QgZnJvbSAnLi4vLi4vbWFuaWZlc3Qud2ViYXBwJ1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2hvcnROYW1lRnJvbUNsaWVudChjbGllbnQpIHtcbiAgY29uc3QgdXJsID0gbmV3IFVSTChjbGllbnQuZ2V0U3RhY2tDbGllbnQoKS51cmkpXG4gIHJldHVybiB1cmwuaG9zdG5hbWUgKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDApXG59XG5cbmNvbnN0IHJldHVyblVybEtleSA9ICdyZXR1cm5VcmwnXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRSZXR1cm5VcmwoKSB7XG4gIGNvbnN0IHNlYXJjaFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMod2luZG93LmxvY2F0aW9uLnNlYXJjaClcbiAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2Ygc2VhcmNoUGFyYW1zKSB7XG4gICAgaWYgKGtleSA9PT0gcmV0dXJuVXJsS2V5KSB7XG4gICAgICByZXR1cm4gdmFsdWVcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHVuZGVmaW5lZFxufVxuXG4vKipcbiAqIENyZWF0ZSB0aGUgVVJMIHRvIGJlIHVzZWQgdG8gZWRpdCBhIG5vdGVcbiAqXG4gKiBAcGFyYW0ge0NvenlDbGllbnR9IGNsaWVudFxuICogQHBhcmFtIHtvYmplY3R9IGRvYyAtIGNvdWNoZGIgZG9jdW1lbnQgZm9yIHRoZSBub3RlL2ZpbGVcbiAqIEByZXR1cm4ge3N0cmluZ30gVVJMIHdoZXJlIG9uZSBjYW4gZWRpdCB0aGUgbm90ZVxuICogQHJldHVybiB7c3RyaW5nfSBVUkwgdG8gdXNlIGFzIHJldHVyblVybCBpZiB5b3UgZG9uJ3Qgd2FudCB0aGUgY3VycmVudCBsb2NhdGlvblxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2VuZXJhdGVSZXR1cm5VcmxUb05vdGVzSW5kZXgoY2xpZW50LCBkb2MsIHJldHVyblVybCkge1xuICBjb25zdCByYXdVcmwgPSBtb2RlbHMubm90ZS5mZXRjaFVSTChjbGllbnQsIGRvYylcbiAgY29uc3QgYmFjayA9IHdpbmRvdy5sb2NhdGlvbi50b1N0cmluZygpXG4gIGNvbnN0IGRlc3QgPSBuZXcgVVJMKGF3YWl0IHJhd1VybClcbiAgZGVzdC5zZWFyY2hQYXJhbXMuc2V0KHJldHVyblVybEtleSwgcmV0dXJuVXJsIHx8IGJhY2spXG4gIHJldHVybiBkZXN0LnRvU3RyaW5nKClcbn1cblxuLyoqXG4gKiBHZXQgcGVybWlzc2lvbnMgb24gaW8uY296eS5maWxlcyBmb3IgY3VycmVudCBjb250ZXh0XG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtDb3p5Q2xpZW50fSBjbGllbnRcbiAqIEByZXR1cm5zIHtvYmplY3R9XG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGdldEZpbGVzT3duUGVybWlzc2lvbnMoY2xpZW50KSB7XG4gIGNvbnN0IHBlcm1pc3Npb25zRGF0YSA9IGF3YWl0IGNsaWVudFxuICAgIC5jb2xsZWN0aW9uKCdpby5jb3p5LnBlcm1pc3Npb25zJylcbiAgICAuZmV0Y2hPd25QZXJtaXNzaW9ucygpXG4gIGNvbnN0IHBlcm1pc3Npb25PYmplY3QgPSBnZXQocGVybWlzc2lvbnNEYXRhLCAnZGF0YS5hdHRyaWJ1dGVzLnBlcm1pc3Npb25zJylcbiAgaWYgKCFwZXJtaXNzaW9uT2JqZWN0KSB0aHJvdyBgY2FuJ3QgZ2V0IHNlbGYgcGVybWlzc2lvbnNgXG4gIGNvbnN0IHBlcm1pc3Npb25zID0gT2JqZWN0LnZhbHVlcyhwZXJtaXNzaW9uT2JqZWN0KVxuICByZXR1cm4gcGVybWlzc2lvbnMuZmlsdGVyKHBlcm0gPT5cbiAgICBtb2RlbHMucGVybWlzc2lvbi5pc0ZvclR5cGUocGVybSwgJ2lvLmNvenkuZmlsZXMnKVxuICApXG59XG5cbi8qKlxuICogR2V0IGEgZmlsZSBieSBpdCdzIGlkXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtDb3p5Q2xpZW50fSBjbGllbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSBpZFxuICovXG5hc3luYyBmdW5jdGlvbiBnZXRGaWxlKGNsaWVudCwgaWQpIHtcbiAgcmV0dXJuIGNsaWVudFxuICAgIC5xdWVyeShjbGllbnQuZmluZCgnaW8uY296eS5maWxlcycpLmdldEJ5SWQoaWQpKVxuICAgIC50aGVuKGRhdGEgPT4gZGF0YSAmJiBkYXRhLmRhdGEpXG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIHRoZSBub3RlIGlzIHJlYWQtb25seSBvciByZWFkLXdyaXRlXG4gKlxuICogQHBhcmFtIHtDb3p5Q2xpZW50fSBjbGllbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSBmaWxlSWQgLSBpby5jb3p5LmZpbGVzIGlkXG4gKiBAcmV0dXJucyB7Ym9vbH1cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZldGNoSWZJc05vdGVSZWFkT25seShjbGllbnQsIGZpbGVJZCkge1xuICBjb25zdCBkb2N1bWVudCA9IGF3YWl0IGdldEZpbGUoY2xpZW50LCBmaWxlSWQpXG4gIHJldHVybiBtb2RlbHMucGVybWlzc2lvbi5pc0RvY3VtZW50UmVhZE9ubHkoe1xuICAgIGRvY3VtZW50LFxuICAgIGNsaWVudCxcbiAgICB3cml0YWJpbGl0eTogWydQQVRDSCddXG4gIH0pXG59XG5cbi8qKlxuICogR2V0IHRoZSBmaXJzdCBzaGFyZWQgZG9jdW1lbnQgZm9yIHRoZSBjdXJyZW50IHNoYXJlZCB0b2tlblxuICpcbiAqIEBwYXJhbSB7Q296eUNsaWVudH0gY2xpZW50XG4gKiBAcmV0dXJucyB7e2lkLCByZWFkT25seX19IGlkIG9mIHRoZSBkb2N1bWVudCBhbmQgdGhlIHJlYWRPbmx5IHN0YXR1c1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0U2hhcmVkRG9jdW1lbnQoY2xpZW50KSB7XG4gIGNvbnN0IHBlcm1pc3Npb25zID0gKGF3YWl0IGdldEZpbGVzT3duUGVybWlzc2lvbnMoY2xpZW50KSkuZmlsdGVyKFxuICAgIHAgPT5cbiAgICAgIG1vZGVscy5wZXJtaXNzaW9uLmlzRm9yVHlwZShwLCAnaW8uY296eS5maWxlcycpICYmXG4gICAgICBwLnZhbHVlcyAmJlxuICAgICAgcC52YWx1ZXMubGVuZ3RoID4gMFxuICApXG5cbiAgaWYgKHBlcm1pc3Npb25zLmxlbmd0aCA8IDEpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAnTm8gaW5kaXZpZHVhbCBpby5jb3p5LmZpbGVzIHBlcm1pc3Npb25zIGluIGN1cnJlbnQgY29udGV4dCdcbiAgICApXG4gIH0gZWxzZSBpZiAocGVybWlzc2lvbnMubGVuZ3RoID4gMSB8fCBwZXJtaXNzaW9uc1swXS52YWx1ZXMubGVuZ3RoID4gMSkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgY29uc29sZS53YXJuKFxuICAgICAgYFRoZXJlIGFyZSBtb3JlIHRoYW4gb25lIHBlcm1pc3Npb24gZm9yIGEgZmlsZSBpbiBjdXJyZW50IGNvbnRleHQuIExldCdzIHRha2UgdGhlIGZpcnN0IG9uZSwgYnV0IGl0IG1heSBub3QgYmUgdGhlIG9uZSB5b3UgZXhwZWN0YFxuICAgIClcbiAgfVxuICBjb25zdCBwZXJtID0gcGVybWlzc2lvbnNbMF1cbiAgY29uc3Qgc2hhcmVkRG9jdW1lbnRJZCA9IHBlcm0udmFsdWVzWzBdXG4gIGNvbnN0IHJlYWRPbmx5ID0gbW9kZWxzLnBlcm1pc3Npb24uaXNSZWFkT25seShwZXJtLCB7XG4gICAgd3JpdGFiaWxpdHk6IFsnUEFUQ0gnXVxuICB9KVxuICByZXR1cm4geyBpZDogc2hhcmVkRG9jdW1lbnRJZCwgcmVhZE9ubHkgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Rm9sZGVyTGluayhpZCkge1xuICByZXR1cm4gYC9mb2xkZXIvJHtpZH1gXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXREcml2ZUxpbmsoY2xpZW50LCBpZCA9IG51bGwpIHtcbiAgY29uc3QgY296eVVSTCA9IG5ldyBVUkwoY2xpZW50LmdldFN0YWNrQ2xpZW50KCkudXJpKVxuICBjb25zdCB7IHN1YmRvbWFpbiB9ID0gY2xpZW50LmdldEluc3RhbmNlT3B0aW9ucygpXG4gIGNvbnN0IGRyaXZlU2x1ZyA9ICdkcml2ZSdcbiAgY29uc3QgcGF0aEZvckRyaXZlID0gaWQgIT09IG51bGwgPyBnZXRGb2xkZXJMaW5rKGlkKSA6ICcnXG5cbiAgY29uc3Qgd2ViVXJsID0gZ2VuZXJhdGVXZWJMaW5rKHtcbiAgICBjb3p5VXJsOiBjb3p5VVJMLm9yaWdpbixcbiAgICBzbHVnOiBkcml2ZVNsdWcsXG4gICAgcGF0aG5hbWU6ICcvJyxcbiAgICBzdWJEb21haW5UeXBlOiBzdWJkb21haW4sXG4gICAgaGFzaDogcGF0aEZvckRyaXZlXG4gIH0pXG5cbiAgcmV0dXJuIHdlYlVybFxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UGFyZW50Rm9sZGVyTGluayhjbGllbnQsIGZpbGUpIHtcbiAgcmV0dXJuIGdldERyaXZlTGluayhjbGllbnQsIG1vZGVscy5maWxlLmdldFBhcmVudEZvbGRlcklkKGZpbGUpKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0QXBwRnVsbE5hbWUoKSB7XG4gIGNvbnN0IGRhdGFzZXQgPSBnZXREYXRhc2V0KClcbiAgY29uc3QgYXBwTmFtZVByZWZpeCA9IGdldERhdGFPckRlZmF1bHQoXG4gICAgZGF0YXNldC5hcHAucHJlZml4IHx8IG1hbmlmZXN0Lm5hbWVfcHJlZml4LFxuICAgICcnXG4gIClcbiAgY29uc3QgYXBwTmFtZSA9IGdldERhdGFPckRlZmF1bHQoZGF0YXNldC5hcHAubmFtZSwgbWFuaWZlc3QubmFtZSlcbiAgcmV0dXJuIGFwcE5hbWVQcmVmaXggIT0gJycgPyBgJHthcHBOYW1lUHJlZml4fSAke2FwcE5hbWV9YCA6IGFwcE5hbWVcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU5vdGVEb2N1bWVudChjbGllbnQpIHtcbiAgcmV0dXJuIGNsaWVudC5nZXRTdGFja0NsaWVudCgpLmZldGNoSlNPTignUE9TVCcsICcvbm90ZXMnLCB7XG4gICAgZGF0YToge1xuICAgICAgdHlwZTogJ2lvLmNvenkubm90ZXMuZG9jdW1lbnRzJyxcbiAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgdGl0bGU6ICcnLFxuICAgICAgICBzY2hlbWE6IHtcbiAgICAgICAgICAuLi5zY2hlbWFPcmRlcmVkLFxuICAgICAgICAgIHZlcnNpb246IHNjaGVtYVZlcnNpb25cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSlcbn1cblxuLy8gY29uc3RhbnRzXG5jb25zdCBzZWMgPSAxMDAwXG5jb25zdCBtaW4gPSA2MCAqIHNlY1xuY29uc3QgaG91ciA9IDYwICogbWluXG5jb25zdCBkYXkgPSAyNCAqIGhvdXJcbmNvbnN0IG1vbnRoID0gMzEgKiBkYXlcbmNvbnN0IHllYXIgPSAzNjUgKiBkYXlcblxuLy8gZGlmZmVyZW50cyBzdGVwcyBmb3IgbWVzc2FnZSBmb3JtYXRpbmdcbi8vIFthZ2UsIGtleSwgdW5pdCwgY29lZl0gOlxuLy8gLSBgYWdlYDogdGhlIGxpbmUgYXBwbGllcyBvbmx5IGlmIHRoZSBsYXN0IHNhdmVkXG4vLyB3YXMgZG9uZSBsZXNzIHRoYW4gdGhpcyBgYWdlYCBhZ29cbi8vIChvbmx5IHRoZSBmaXJzdCBtYXRjaCB3aWxsIGFwcGx5KVxuLy8gLSBga2V5YCBpcyB0aGUgdHJhZHVjdGlvbiBrZXkgZm9yIHRoZSBtZXNzYWdlXG4vLyAtIGB1bml0YCBpcyB0aGUgdW5pdCBpbiB3aGljaCB3ZSB3aWxsIHNlbmQgdGhlIHRpbWVcbi8vIHRvIHRoZSB0cmFuc2xhdGVkIG1lc3NhZ2Vcbi8vIC0gYGNvZWZgIGlzICB0aGUgZ3JhbnVsYXJpdHkgaW4gd2hpY2ggd2Ugd2lsbCBzZW5kXG4vLyB0aGUgdGltZSAoYG1pbiwgNWAgaXMgXCJieSA1IG1pbnV0ZXMgc2xpY2VzXCIpXG5jb25zdCBkZWZhdWx0U3RlcHMgPSBbXG4gIFsxMCAqIHNlYywgJ2p1c3Rfbm93Jywgc2VjLCAxXSxcbiAgWzEgKiBtaW4sICdzZWNzX2FnbycsIHNlYywgMTBdLFxuICBbMiAqIG1pbiwgJ21pbl9hZ28nLCBtaW4sIDFdLFxuICBbNSAqIG1pbiwgJ21pbnNfYWdvJywgbWluLCAxXSxcbiAgWzIwICogbWluLCAnbWluc19hZ28nLCBtaW4sIDVdLFxuICBbMSAqIGhvdXIsICdtaW5zX2FnbycsIG1pbiwgMTBdLFxuICBbMiAqIGhvdXIsICdob3VyX2FnbycsIGhvdXIsIDFdLFxuICBbMSAqIGRheSwgJ2hvdXJzX2FnbycsIGhvdXIsIDFdLFxuICBbMiAqIGRheSwgJ2RheV9hZ28nLCBkYXksIDFdLFxuICBbMSAqIG1vbnRoLCAnZGF5c19hZ28nLCBkYXksIDFdLFxuICBbMiAqIG1vbnRoLCAnbW9udGhfYWdvJywgbW9udGgsIDFdLFxuICBbMSAqIHllYXIsICdtb250aGVzX2FnbycsIG1vbnRoLCAxXSxcbiAgWzIgKiB5ZWFyLCAneWVhcl9hZ28nLCB5ZWFyLCAxXSxcbiAgW0luZmluaXR5LCAneWVhcnNfYWdvJywgeWVhciwgMV1cbl1cblxuLyoqXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBSZWxhdGl2ZUFnZVxuICogQHByb3BlcnR5IHtzdHJpbmd9IGtleSAtIHRyYW5zbGF0aW9uIChzdWIpIGtleVxuICogQHByb3BlcnR5IHt1bml0fSB1bml0IC0gdW5pdCAobWludXRlLCBzZWNvbmQsIGhvdXLigKYpIGluIHdoaWNoIHRoZSBhZ2Ugd2lsbCBiZSBkaXNwbGF5ZWRcbiAqIEBwcm9wZXJ0eSB7aW50ZWdlcn0gY29lZiAtIGluIGhvdyBtdWNoIHZhbHVlcyBvZiB0aGlzIHVuaXQgZG8gd2UgY291bnQgKGxpa2UgZXZlcnkgMTAgbWludXRlcylcbiAqIEBwcm9wZXJ0eSB7aW50ZWdlcn0gdGltZSAtIGFnZSB0byBiZSBpbnNlcnRlZCBpbiB0aGUgdHJhbnNsYXRpb24gbWVzc2FnZVxuICogQHByb3BlcnR5IHtpbnRlZ2VyfSBpbnRlcnZhbCAtIGB1bml0ICogY29lZmA6IGNvbXB1dGUgYWdhaW4gaW4gdGhhdCB0aW1lZnJhbWUgKGluIG1pbGxpc2Vjb25kcylcbiAqL1xuLyoqXG4gKiBHZXRzIHJhdyBkYXRhIHRvIGRpc3BsYXkgYSByZWxhdGl2ZSBhZ2UgaW4gaHVtYW4gd29yZHNcbiAqIEBwYXJhbSB7aW50ZWdlcn0gYWdlIC0gYWdlIGluIG1pbGxpc2Vjb25kc1xuICogQHBhcmFtIHthcnJheX0gc3RlcHMgLSBhcnJheSBvZiBbbWF4X2FnZSwga2V5LCB1bml0LCBjb2VmXVxuICogQHJldHVybnMge1JlbGF0aXZlQWdlfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVsYXRpdmVBZ2UoYWdlLCBzdGVwcykge1xuICBjb25zdCBzdGVwID0gKHN0ZXBzIHx8IGRlZmF1bHRTdGVwcykuZmluZChlbCA9PiBhZ2UgPCBlbFswXSlcbiAgY29uc3QgWywga2V5LCB1bml0LCBjb2VmXSA9IHN0ZXBcbiAgcmV0dXJuIHtcbiAgICBrZXksXG4gICAgdW5pdCxcbiAgICBjb2VmLFxuICAgIHRpbWU6IE1hdGguZmxvb3IoYWdlIC8gdW5pdCAvIGNvZWYpICogY29lZixcbiAgICBpbnRlcnZhbDogdW5pdCAqIGNvZWZcbiAgfVxufVxuXG4vKipcbiAqIEdldHMgdGhlIHVzZXJuYW1lIGRlZmluZWQgYnkgdGhlIGN1cnJlbnQgVVJMLCBpZiBhbnlcbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfG51bGx9IHVzZXJuYW1lXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRVc2VyTmFtZUZyb21VcmwoKSB7XG4gIGNvbnN0IHNlYXJjaFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMod2luZG93LmxvY2F0aW9uLnNlYXJjaClcbiAgaWYgKHNlYXJjaFBhcmFtcy5oYXMoJ3VzZXJuYW1lJykpIHtcbiAgICByZXR1cm4gc2VhcmNoUGFyYW1zLmdldCgndXNlcm5hbWUnKVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsXG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTEE7QUFBQTtBQVJBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBUUE7QUFBQTtBQVlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBQUE7QUFaQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBRkE7QUFHQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFRQTtBQUFBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFOQTtBQUFBO0FBTkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFTQTtBQUFBO0FBQUE7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBQUE7QUFUQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBUUE7QUFBQTtBQUFBO0FBd0JBO0FBQUE7QUF4QkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFHQTtBQUFBO0FBR0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBZ0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/lib/utils.js\n");

/***/ }),

/***/ "./src/locales sync recursive ^\\.\\/.*$":
/***/ (function(module, exports, __webpack_require__) {

eval("var map = {\n\t\"./atlassian_missing_french\": \"./src/locales/atlassian_missing_french.json\",\n\t\"./atlassian_missing_french.json\": \"./src/locales/atlassian_missing_french.json\",\n\t\"./en\": \"./src/locales/en.json\",\n\t\"./en.json\": \"./src/locales/en.json\",\n\t\"./fr\": \"./src/locales/fr.json\",\n\t\"./fr.json\": \"./src/locales/fr.json\",\n\t\"./ru\": \"./src/locales/ru.json\",\n\t\"./ru.json\": \"./src/locales/ru.json\",\n\t\"./vi\": \"./src/locales/vi.json\",\n\t\"./vi.json\": \"./src/locales/vi.json\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./src/locales sync recursive ^\\\\.\\\\/.*$\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbG9jYWxlcyBzeW5jIHJlY3Vyc2l2ZSBeXFwuXFwvLiokLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2xvY2FsZXMgc3luYyBeXFwuXFwvLiokPzRkNzAiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIG1hcCA9IHtcblx0XCIuL2F0bGFzc2lhbl9taXNzaW5nX2ZyZW5jaFwiOiBcIi4vc3JjL2xvY2FsZXMvYXRsYXNzaWFuX21pc3NpbmdfZnJlbmNoLmpzb25cIixcblx0XCIuL2F0bGFzc2lhbl9taXNzaW5nX2ZyZW5jaC5qc29uXCI6IFwiLi9zcmMvbG9jYWxlcy9hdGxhc3NpYW5fbWlzc2luZ19mcmVuY2guanNvblwiLFxuXHRcIi4vZW5cIjogXCIuL3NyYy9sb2NhbGVzL2VuLmpzb25cIixcblx0XCIuL2VuLmpzb25cIjogXCIuL3NyYy9sb2NhbGVzL2VuLmpzb25cIixcblx0XCIuL2ZyXCI6IFwiLi9zcmMvbG9jYWxlcy9mci5qc29uXCIsXG5cdFwiLi9mci5qc29uXCI6IFwiLi9zcmMvbG9jYWxlcy9mci5qc29uXCIsXG5cdFwiLi9ydVwiOiBcIi4vc3JjL2xvY2FsZXMvcnUuanNvblwiLFxuXHRcIi4vcnUuanNvblwiOiBcIi4vc3JjL2xvY2FsZXMvcnUuanNvblwiLFxuXHRcIi4vdmlcIjogXCIuL3NyYy9sb2NhbGVzL3ZpLmpzb25cIixcblx0XCIuL3ZpLmpzb25cIjogXCIuL3NyYy9sb2NhbGVzL3ZpLmpzb25cIlxufTtcblxuXG5mdW5jdGlvbiB3ZWJwYWNrQ29udGV4dChyZXEpIHtcblx0dmFyIGlkID0gd2VicGFja0NvbnRleHRSZXNvbHZlKHJlcSk7XG5cdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKGlkKTtcbn1cbmZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0UmVzb2x2ZShyZXEpIHtcblx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhtYXAsIHJlcSkpIHtcblx0XHR2YXIgZSA9IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIgKyByZXEgKyBcIidcIik7XG5cdFx0ZS5jb2RlID0gJ01PRFVMRV9OT1RfRk9VTkQnO1xuXHRcdHRocm93IGU7XG5cdH1cblx0cmV0dXJuIG1hcFtyZXFdO1xufVxud2VicGFja0NvbnRleHQua2V5cyA9IGZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0S2V5cygpIHtcblx0cmV0dXJuIE9iamVjdC5rZXlzKG1hcCk7XG59O1xud2VicGFja0NvbnRleHQucmVzb2x2ZSA9IHdlYnBhY2tDb250ZXh0UmVzb2x2ZTtcbm1vZHVsZS5leHBvcnRzID0gd2VicGFja0NvbnRleHQ7XG53ZWJwYWNrQ29udGV4dC5pZCA9IFwiLi9zcmMvbG9jYWxlcyBzeW5jIHJlY3Vyc2l2ZSBeXFxcXC5cXFxcLy4qJFwiOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/locales sync recursive ^\\.\\/.*$\n");

/***/ }),

/***/ "./src/locales/atlassian_missing_french.json":
/***/ (function(module) {

eval("module.exports = JSON.parse(\"{\\\"fabric.editor.editMode.inviteToEditButton.title\\\":\\\"Inviter  diter\\\",\\\"fabric.editor.blockquote2\\\":\\\"Citation\\\",\\\"fabric.editor.remove\\\":\\\"Supprimer\\\",\\\"fabric.editor.linkPlaceholder\\\":\\\"Coller le lien\\\",\\\"fabric.editor.linkAddress\\\":\\\"Adresse du lien\\\",\\\"fabric.editor.layoutWide\\\":\\\"largir\\\",\\\"fabric.editor.layoutFullWidth\\\":\\\"Pleine largeur\\\",\\\"fabric.editor.layoutFixedWidth\\\":\\\"Retour au centre\\\",\\\"fabric.editor.alignImageLeft\\\":\\\"Aligner l'image  gauche\\\",\\\"fabric.editor.alignImageCenter\\\":\\\"Centrer l'image\\\",\\\"fabric.editor.alignImageRight\\\":\\\"Aligner l'image  droite\\\",\\\"fabric.editor.numberedColumn\\\":\\\"Lignes numrotes\\\",\\\"fabric.editor.taskPlaceholder\\\":\\\"Saisissez votre action\\\"}\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbG9jYWxlcy9hdGxhc3NpYW5fbWlzc2luZ19mcmVuY2guanNvbi5qcyIsInNvdXJjZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/locales/atlassian_missing_french.json\n");

/***/ }),

/***/ "./src/locales/en.json":
/***/ (function(module) {

eval("module.exports = JSON.parse(\"{\\\"Notes\\\":{\\\"Add\\\":{\\\"add_note\\\":\\\"Add a note\\\"},\\\"Delete\\\":{\\\"delete_note\\\":\\\"Delete\\\",\\\"deleted\\\":\\\"The note has been moved to the trash of your Drive\\\",\\\"failed\\\":\\\"The note could not be deleted, please try again\\\"},\\\"EditorView\\\":{\\\"main_placeholder\\\":\\\"Write anything\\\"},\\\"Editor\\\":{\\\"title_placeholder\\\":\\\"Write your title\\\",\\\"exit_confirmation_message\\\":\\\"Automatic saving has not taken into account the latest changes in your doc. Please stay on your current note if you want to keep them.\\\",\\\"exit_confirmation_title\\\":\\\"Abandon your changes?\\\",\\\"exit_confirmation_leave\\\":\\\"Leave without saving\\\",\\\"exit_confirmation_cancel\\\":\\\"Cancel\\\",\\\"read_only\\\":\\\"This note is in read-only mode.\\\"},\\\"Files\\\":{\\\"share\\\":{\\\"cta\\\":\\\"Share\\\"}},\\\"List\\\":{\\\"latest_notes\\\":\\\"Latest Notes\\\",\\\"name\\\":\\\"Name\\\",\\\"updated_at\\\":\\\"Updated at\\\",\\\"location\\\":\\\"Location\\\",\\\"sharings\\\":\\\"Sharings\\\",\\\"at\\\":\\\"%{date} at %{time}\\\"},\\\"Empty\\\":{\\\"welcome\\\":\\\"Welcome on Twake Notes\\\",\\\"after_created\\\":\\\"Once your Note is created, you can find it in your \\\"},\\\"SavingIndicator\\\":{\\\"saved\\\":{\\\"default\\\":\\\"Up to date\\\",\\\"just_now\\\":\\\"Up to date\\\",\\\"secs_ago\\\":\\\"Up to date (saved %{time} sec. ago)\\\",\\\"min_ago\\\":\\\"Up to date (saved %{time} min. ago)\\\",\\\"mins_ago\\\":\\\"Up to date (saved %{time} min. ago)\\\",\\\"hour_ago\\\":\\\"Up to date (saved %{time} hour ago)\\\",\\\"hours_ago\\\":\\\"Up to date (saved %{time} hours ago)\\\",\\\"day_ago\\\":\\\"Up to date (saved %{time} day ago)\\\",\\\"days_ago\\\":\\\"Up to date (saved %{time} days ago)\\\",\\\"month_ago\\\":\\\"Up to date (saved %{time} month ago)\\\",\\\"monthes_ago\\\":\\\"Up to date (saved %{time} monthes ago)\\\",\\\"year_ago\\\":\\\"Up to date (saved %{time} year ago)\\\",\\\"years_ago\\\":\\\"Up to date (saved %{time} years ago)\\\"},\\\"saving\\\":\\\"Saving...\\\",\\\"still_saving\\\":\\\"Saving......\\\",\\\"out_of_sync\\\":{\\\"default\\\":\\\"Saved (off-line)\\\",\\\"just_now\\\":\\\"Saved (off-line)\\\",\\\"secs_ago\\\":\\\"Saved (off-line for %{time} sec)\\\",\\\"min_ago\\\":\\\"Saved (off-line for %{time} min)\\\",\\\"mins_ago\\\":\\\"Saved (off-line for %{time} min)\\\",\\\"hour_ago\\\":\\\"Saved (off-line for %{time} hour)\\\",\\\"hours_ago\\\":\\\"Saved (off-line for %{time} hours)\\\",\\\"day_ago\\\":\\\"Saved (off-line for %{time} day)\\\",\\\"days_ago\\\":\\\"Saved (off-line for %{time} days)\\\",\\\"month_ago\\\":\\\"Saved (off-line for %{time} month)\\\",\\\"monthes_ago\\\":\\\"Saved (off-line for %{time} monthes)\\\",\\\"year_ago\\\":\\\"Saved (off-line for %{time} year)\\\",\\\"years_ago\\\":\\\"Saved (off-line for %{time} years)\\\"},\\\"saving_impossible\\\":{\\\"default\\\":\\\"Changes unsaved (off-line)\\\",\\\"just_now\\\":\\\"Changes unsaved (off-line)\\\",\\\"secs_ago\\\":\\\"Changes unsaved (off-line for %{time} sec)\\\",\\\"min_ago\\\":\\\"Changes unsaved (off-line for %{time} min)\\\",\\\"mins_ago\\\":\\\"Changes unsaved (off-line for %{time} min)\\\",\\\"hour_ago\\\":\\\"Changes unsaved (off-line for %{time} hour)\\\",\\\"hours_ago\\\":\\\"Changes unsaved (off-line for %{time} hours)\\\",\\\"day_ago\\\":\\\"Changes unsaved (off-line for %{time} day)\\\",\\\"days_ago\\\":\\\"Changes unsaved (off-line for %{time} days)\\\",\\\"month_ago\\\":\\\"Changes unsaved (off-line for %{time} month)\\\",\\\"monthes_ago\\\":\\\"Changes unsaved (off-line for %{time} monthes)\\\",\\\"year_ago\\\":\\\"Changes unsaved (off-line for %{time} year)\\\",\\\"years_ago\\\":\\\"Changes unsaved (off-line for %{time} years)\\\"}},\\\"OfflineIndicator\\\":{\\\"message\\\":\\\"You're not connected to internet anymore. Your changes will be saved once you will be connected again.\\\"}},\\\"Error\\\":{\\\"422\\\":\\\"Only images are accepted\\\",\\\"unshared_title\\\":\\\"This share is no longer active\\\",\\\"unshared_text\\\":\\\"The owner may have revoked this sharing. You can no longer edit a note at this address.\\\",\\\"loading_error_title\\\":\\\"The note couldn't be loaded\\\",\\\"loading_error_text_noReturnUrl\\\":\\\"The note may not exists anymore, or our servers may have a temporary glitch. Please try again later.\\\",\\\"back\\\":\\\"back\\\",\\\"unknown_error\\\":\\\"An unexpected error occured\\\",\\\"only_one_image\\\":\\\"You cannot drag and drop multiple pictures at the same time\\\"},\\\"manifest\\\":{\\\"short_description\\\":\\\"Twake Notes is your personal and collaborative note-taking application.\\\",\\\"long_description\\\":\\\"Notes is an online text editor that can already offer you to:\\\\n\\\\n* Create your own notes with the essential features (bold, underlined, links, tables...)\\\\n* Fill and find your notes with you other documents in files of your personal Drive\\\\n* Edit easily your notes from all your devices\\\\n* Access your notes offline\\\\n* For the fans, use shortcuts and input in markdown format ... and even write with contacts together on the same note (coming soon)!\\\",\\\"screenshots\\\":[\\\"screenshots/en/screenshot01.png\\\",\\\"screenshots/en/screenshot02.png\\\"]},\\\"Intents\\\":{\\\"save\\\":\\\"Save\\\"},\\\"TrashedBanner\\\":{\\\"text\\\":\\\"The item has been trashed\\\",\\\"redirect\\\":\\\"Open the trash\\\",\\\"restore\\\":\\\"Restore\\\",\\\"restoreSuccess\\\":\\\"The item has been restored\\\",\\\"restoreError\\\":\\\"An error has occurred, please try again.\\\",\\\"destroy\\\":\\\"Delete permanently\\\"},\\\"DestroyConfirm\\\":{\\\"title\\\":\\\"Permanently delete?\\\",\\\"forbidden\\\":\\\"You won't be able to access this file anymore.\\\",\\\"restore\\\":\\\"You won't be able to restore this file if you didn't make a backup.\\\",\\\"cancel\\\":\\\"Cancel\\\",\\\"delete\\\":\\\"Delete permanently\\\",\\\"deleteError\\\":\\\"An error has occurred, please try again.\\\"},\\\"MoreButton\\\":{\\\"more\\\":\\\"More\\\"}}\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbG9jYWxlcy9lbi5qc29uLmpzIiwic291cmNlcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/locales/en.json\n");

/***/ }),

/***/ "./src/locales/fr.json":
/***/ (function(module) {

eval("module.exports = JSON.parse(\"{\\\"Notes\\\":{\\\"Add\\\":{\\\"add_note\\\":\\\"Ajouter une note\\\"},\\\"Delete\\\":{\\\"delete_note\\\":\\\"Supprimer\\\",\\\"deleted\\\":\\\"La note a t place dans la corbeille de votre Drive\\\",\\\"failed\\\":\\\"La note n'a pas pu tre supprime, merci de re-essayer plus tard\\\"},\\\"EditorView\\\":{\\\"main_placeholder\\\":\\\"crivez ce que vous souhaitez\\\"},\\\"Editor\\\":{\\\"title_placeholder\\\":\\\"crivez votre titre\\\",\\\"exit_confirmation_message\\\":\\\"La sauvegarde automatique n'a pas encore pris en compte vos dernires modifications. Merci de retourner sur votre note pour ne pas les perdre.\\\",\\\"exit_confirmation_title\\\":\\\"Abandonner les modifications?\\\",\\\"exit_confirmation_leave\\\":\\\"Quitter sans sauvegarder\\\",\\\"exit_confirmation_cancel\\\":\\\"Retour\\\",\\\"read_only\\\":\\\"Cette note est en mode lecture-seule.\\\"},\\\"Files\\\":{\\\"share\\\":{\\\"cta\\\":\\\"Partager\\\"}},\\\"List\\\":{\\\"latest_notes\\\":\\\"Notes rcentes\\\",\\\"name\\\":\\\"Nom\\\",\\\"updated_at\\\":\\\"Mise  jour\\\",\\\"location\\\":\\\"Emplacement\\\",\\\"sharings\\\":\\\"Partage\\\",\\\"at\\\":\\\"%{date}  %{time}\\\"},\\\"Empty\\\":{\\\"welcome\\\":\\\"Bienvenue sur Twake Notes\\\",\\\"after_created\\\":\\\"Une fois votre note cre, il vous est possible de la retrouver dans \\\"},\\\"SavingIndicator\\\":{\\\"saved\\\":{\\\"default\\\":\\\" jour\\\",\\\"just_now\\\":\\\" jour\\\",\\\"secs_ago\\\":\\\" jour (enregistr il y a %{time} sec.)\\\",\\\"min_ago\\\":\\\" jour (enregistr il y a %{time} min.)\\\",\\\"mins_ago\\\":\\\" jour (enregistr il y a %{time} min.)\\\",\\\"hour_ago\\\":\\\" jour (enregistr il y a %{time} heure)\\\",\\\"hours_ago\\\":\\\" jour (enregistr il y a %{time} heures)\\\",\\\"day_ago\\\":\\\" jour (enregistr il y a %{time} jour)\\\",\\\"days_ago\\\":\\\" jour (enregistr il y a %{time} jours)\\\",\\\"month_ago\\\":\\\" jour (enregistr il y a %{time} mois)\\\",\\\"monthes_ago\\\":\\\" jour (enregistr il y a %{time} mois)\\\",\\\"year_ago\\\":\\\" jour (enregistr il y a %{time} an)\\\",\\\"years_ago\\\":\\\" jour (enregistr il y a %{time} ans)\\\"},\\\"saving\\\":\\\"Enregistrement en cours...\\\",\\\"still_saving\\\":\\\"Enregistrement en cours......\\\",\\\"out_of_sync\\\":{\\\"default\\\":\\\"Enregistr (hors ligne)\\\",\\\"just_now\\\":\\\"Enregistr (hors ligne)\\\",\\\"secs_ago\\\":\\\"Enregistr (hors ligne depuis %{time} sec)\\\",\\\"min_ago\\\":\\\"Enregistr (hors ligne depuis %{time} min)\\\",\\\"mins_ago\\\":\\\"Enregistr (hors ligne depuis %{time} min)\\\",\\\"hour_ago\\\":\\\"Enregistr (hors ligne depuis %{time}h)\\\",\\\"hours_ago\\\":\\\"Enregistr (hors ligne depuis %{time}h)\\\",\\\"day_ago\\\":\\\"Enregistr (hors ligne depuis %{time} jour)\\\",\\\"days_ago\\\":\\\"Enregistr (hors ligne depuis %{time} jours)\\\",\\\"month_ago\\\":\\\"Enregistr (hors ligne depuis %{time} mois)\\\",\\\"monthes_ago\\\":\\\"Enregistr (hors ligne depuis %{time} mois)\\\",\\\"year_ago\\\":\\\"Enregistr (hors ligne depuis %{time} an)\\\",\\\"years_ago\\\":\\\"Enregistr (hors ligne depuis %{time} ans)\\\"},\\\"saving_impossible\\\":{\\\"default\\\":\\\"Non enregistr (hors ligne)\\\",\\\"just_now\\\":\\\"Non enregistr (hors ligne)\\\",\\\"secs_ago\\\":\\\"Non enregistr (hors ligne depuis %{time} sec)\\\",\\\"min_ago\\\":\\\"Non enregistr (hors ligne depuis %{time} min)\\\",\\\"mins_ago\\\":\\\"Non enregistr (hors ligne depuis %{time} min)\\\",\\\"hour_ago\\\":\\\"Non enregistr (hors ligne depuis %{time}h)\\\",\\\"hours_ago\\\":\\\"Non enregistr (hors ligne depuis %{time}h)\\\",\\\"day_ago\\\":\\\"Non enregistr (hors ligne depuis %{time} jour)\\\",\\\"days_ago\\\":\\\"Non enregistr (hors ligne depuis %{time} jours)\\\",\\\"month_ago\\\":\\\"Non enregistr (hors ligne depuis %{time} mois)\\\",\\\"monthes_ago\\\":\\\"Non enregistr (hors ligne depuis %{time} mois)\\\",\\\"year_ago\\\":\\\"Non enregistr (hors ligne depuis %{time} an)\\\",\\\"years_ago\\\":\\\"Non enregistr (hors ligne depuis %{time} ans)\\\"}},\\\"OfflineIndicator\\\":{\\\"message\\\":\\\"Vous ntes plus connect  internet. Vos modifications seront enregistres quand vous serez connect  nouveau.\\\"}},\\\"Error\\\":{\\\"422\\\":\\\"Seules les images sont acceptes\\\",\\\"unshared_title\\\":\\\"Le partage n'est plus actif\\\",\\\"unshared_text\\\":\\\"Le propritaire a peut-tre rvoqu ce partage. Vous ne pouvez plus diter de note  cette adresse.\\\",\\\"loading_error_title\\\":\\\"La note n'a pas pu tre charge\\\",\\\"loading_error_text_noReturnUrl\\\":\\\"Cette note n'existe peut-tre plus, ou nos serveurs ont peut-tre un moment d'garement. Merci de retenter plus tard.\\\",\\\"back\\\":\\\"Retour\\\",\\\"unknown_error\\\":\\\"Une erreur inattendue s'est produite\\\",\\\"only_one_image\\\":\\\"Vous ne pouvez pas glisser-dposer plusieurs images en mme temps\\\"},\\\"manifest\\\":{\\\"short_description\\\":\\\"Twake Notes est votre application de prise de notes personnelles et collaboratives.\\\",\\\"long_description\\\":\\\"Notes est un diteur de texte en ligne destin  :\\\\n\\\\n* Crer vos propres notes avec les fonctionnalits essentielles (gras, soulign, liens, tableaux...)\\\\n* Classer et retrouver vos notes avec vos autres documents, dans les rpertoires de votre Drive personnel\\\\n* diter facilement vos notes depuis tous vos appareils\\\\n* Accder  vos notes, mme sans internet, stockes sur votre PC\\\\n* Pour les aficionados, utiliser les raccourcis et la saisie au format markdown\\\\n*  ... et mme crire  plusieurs simultanment sur la mme note ( venir) ! \\\",\\\"screenshots\\\":[\\\"screenshots/fr/screenshot01.png\\\",\\\"screenshots/fr/screenshot02.png\\\"]},\\\"Intents\\\":{\\\"save\\\":\\\"Enregistrer\\\"},\\\"TrashedBanner\\\":{\\\"text\\\":\\\"Cet lment est dans la corbeille\\\",\\\"redirect\\\":\\\"Ouvrir la corbeille\\\",\\\"restore\\\":\\\"Restaurer\\\",\\\"restoreSuccess\\\":\\\"Cet lment a t restaur avec succs\\\",\\\"restoreError\\\":\\\"Une erreur s'est produite, veuillez ressayer\\\",\\\"destroy\\\":\\\"Supprimer dfinitivement\\\"},\\\"DestroyConfirm\\\":{\\\"title\\\":\\\"Supprimer dfinitivement ?\\\",\\\"forbidden\\\":\\\"Vous ne pourrez plus accder  ce fichier.\\\",\\\"restore\\\":\\\"Vous ne pourrez pas restaurer ce fichier.\\\",\\\"cancel\\\":\\\"Annuler\\\",\\\"delete\\\":\\\"Supprimer dfinitivement\\\",\\\"deleteError\\\":\\\"Une erreur s'est produite, veuillez ressayer\\\"},\\\"MoreButton\\\":{\\\"more\\\":\\\"Plus\\\"}}\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbG9jYWxlcy9mci5qc29uLmpzIiwic291cmNlcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/locales/fr.json\n");

/***/ }),

/***/ "./src/locales/ru.json":
/***/ (function(module) {

eval("module.exports = JSON.parse(\"{\\\"Notes\\\":{\\\"Add\\\":{\\\"add_note\\\":\\\" \\\"},\\\"Delete\\\":{\\\"delete_note\\\":\\\"\\\",\\\"deleted\\\":\\\"     \\\",\\\"failed\\\":\\\"   ,  \\\"},\\\"EditorView\\\":{\\\"main_placeholder\\\":\\\" -\\\"},\\\"Editor\\\":{\\\"title_placeholder\\\":\\\" \\\",\\\"exit_confirmation_message\\\":\\\"        . ,    ,    .\\\",\\\"exit_confirmation_title\\\":\\\" ?\\\",\\\"exit_confirmation_leave\\\":\\\"  \\\",\\\"exit_confirmation_cancel\\\":\\\"\\\",\\\"read_only\\\":\\\"     .\\\"},\\\"Files\\\":{\\\"share\\\":{\\\"cta\\\":\\\"\\\"}},\\\"List\\\":{\\\"latest_notes\\\":\\\" \\\",\\\"name\\\":\\\"\\\",\\\"updated_at\\\":\\\"\\\",\\\"location\\\":\\\"\\\",\\\"sharings\\\":\\\"\\\",\\\"at\\\":\\\"%{date}  %{time}\\\"},\\\"Empty\\\":{\\\"welcome\\\":\\\"   Twake Notes\\\",\\\"after_created\\\":\\\"        \\\"},\\\"SavingIndicator\\\":{\\\"saved\\\":{\\\"default\\\":\\\"\\\",\\\"just_now\\\":\\\"\\\",\\\"secs_ago\\\":\\\" (%{time} . )\\\",\\\"min_ago\\\":\\\" (%{time} . )\\\",\\\"mins_ago\\\":\\\" (%{time} . )\\\",\\\"hour_ago\\\":\\\" (%{time}  )\\\",\\\"hours_ago\\\":\\\" (%{time} (-) )\\\",\\\"day_ago\\\":\\\" (%{time}  )\\\",\\\"days_ago\\\":\\\" (%{time} (-) )\\\",\\\"month_ago\\\":\\\" (%{time}  )\\\",\\\"monthes_ago\\\":\\\" (%{time} (-) )\\\",\\\"year_ago\\\":\\\" (%{time}  )\\\",\\\"years_ago\\\":\\\" (%{time}  )\\\"},\\\"saving\\\":\\\"...\\\",\\\"still_saving\\\":\\\"......\\\",\\\"out_of_sync\\\":{\\\"default\\\":\\\" (  )\\\",\\\"just_now\\\":\\\" (  )\\\",\\\"secs_ago\\\":\\\" (   %{time} )\\\",\\\"min_ago\\\":\\\" (   %{time} )\\\",\\\"mins_ago\\\":\\\" (   %{time} )\\\",\\\"hour_ago\\\":\\\" (   %{time} )\\\",\\\"hours_ago\\\":\\\" (   %{time} (-))\\\",\\\"day_ago\\\":\\\" (   %{time} )\\\",\\\"days_ago\\\":\\\" (   %{time} (-))\\\",\\\"month_ago\\\":\\\" (   %{time} )\\\",\\\"monthes_ago\\\":\\\" (   %{time} (-))\\\",\\\"year_ago\\\":\\\" (   %{time} )\\\",\\\"years_ago\\\":\\\" (   %{time} )\\\"},\\\"saving_impossible\\\":{\\\"default\\\":\\\"   (  )\\\",\\\"just_now\\\":\\\"   (  )\\\",\\\"secs_ago\\\":\\\"   (   %{time} )\\\",\\\"min_ago\\\":\\\"   (   %{time} )\\\",\\\"mins_ago\\\":\\\"   (   %{time} )\\\",\\\"hour_ago\\\":\\\"   (   %{time} )\\\",\\\"hours_ago\\\":\\\"   (   %{time} (-))\\\",\\\"day_ago\\\":\\\"   (   %{time} )\\\",\\\"days_ago\\\":\\\"   (   %{time} (-))\\\",\\\"month_ago\\\":\\\"   (   %{time} )\\\",\\\"monthes_ago\\\":\\\"   (   %{time} (-))\\\",\\\"year_ago\\\":\\\"   (   %{time} )\\\",\\\"years_ago\\\":\\\"   (   %{time} )\\\"}},\\\"OfflineIndicator\\\":{\\\"message\\\":\\\"     .       .\\\"}},\\\"Error\\\":{\\\"422\\\":\\\"  \\\",\\\"unshared_title\\\":\\\"   \\\",\\\"unshared_text\\\":\\\"   .         .\\\",\\\"loading_error_title\\\":\\\"   \\\",\\\"loading_error_text_noReturnUrl\\\":\\\"   ,      . ,  .\\\",\\\"back\\\":\\\"\\\",\\\"unknown_error\\\":\\\"  \\\",\\\"only_one_image\\\":\\\"    \\\"},\\\"manifest\\\":{\\\"short_description\\\":\\\"Twake Notes         .\\\",\\\"long_description\\\":\\\"Notes   - ,     :\\\\n\\\\n*       (, , , ...)\\\\n*           \\\\n*      \\\\n*      \\\\n*  :        markdown ...         ()!\\\",\\\"screenshots\\\":[\\\"screenshots/en/screenshot01.png\\\",\\\"screenshots/en/screenshot02.png\\\"]},\\\"Intents\\\":{\\\"save\\\":\\\"\\\"},\\\"TrashedBanner\\\":{\\\"text\\\":\\\"   \\\",\\\"redirect\\\":\\\" \\\",\\\"restore\\\":\\\"\\\",\\\"restoreSuccess\\\":\\\" \\\",\\\"restoreError\\\":\\\" ,  .\\\",\\\"destroy\\\":\\\" \\\"},\\\"DestroyConfirm\\\":{\\\"title\\\":\\\" ?\\\",\\\"forbidden\\\":\\\"        .\\\",\\\"restore\\\":\\\"     ,      .\\\",\\\"cancel\\\":\\\"\\\",\\\"delete\\\":\\\" \\\",\\\"deleteError\\\":\\\" ,  .\\\"},\\\"MoreButton\\\":{\\\"more\\\":\\\"\\\"}}\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbG9jYWxlcy9ydS5qc29uLmpzIiwic291cmNlcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/locales/ru.json\n");

/***/ }),

/***/ "./src/locales/vi.json":
/***/ (function(module) {

eval("module.exports = JSON.parse(\"{\\\"Notes\\\":{\\\"Add\\\":{\\\"add_note\\\":\\\"Thm ghi ch\\\"},\\\"Delete\\\":{\\\"delete_note\\\":\\\"Xa\\\",\\\"deleted\\\":\\\"Ghi ch  c chuyn vo thng rc trong Drive ca bn\\\",\\\"failed\\\":\\\"Khng th xa ghi ch, vui lng th li\\\"},\\\"EditorView\\\":{\\\"main_placeholder\\\":\\\"Vit bt c iu g\\\"},\\\"Editor\\\":{\\\"title_placeholder\\\":\\\"Vit tiu  ca bn\\\",\\\"exit_confirmation_message\\\":\\\"Tnh nng lu t ng cha lu nhng thay i mi nht trong ti liu ca bn. Vui lng  li ghi ch hin ti nu bn mun gi li chng.\\\",\\\"exit_confirmation_title\\\":\\\"B qua cc thay i ca bn?\\\",\\\"exit_confirmation_leave\\\":\\\"Ri i m khng lu\\\",\\\"exit_confirmation_cancel\\\":\\\"Hy\\\",\\\"read_only\\\":\\\"Ghi ch ny ang  ch  ch c.\\\"},\\\"Files\\\":{\\\"share\\\":{\\\"cta\\\":\\\"Chia s\\\"}},\\\"List\\\":{\\\"latest_notes\\\":\\\"Ghi ch mi nht\\\",\\\"name\\\":\\\"Tn\\\",\\\"updated_at\\\":\\\"Cp nht lc\\\",\\\"location\\\":\\\"V tr\\\",\\\"sharings\\\":\\\"Chia s\\\",\\\"at\\\":\\\"%{date} lc %{time}\\\"},\\\"Empty\\\":{\\\"welcome\\\":\\\"Cho mng n vi Twake Notes\\\",\\\"after_created\\\":\\\"Sau khi ghi ch c to, bn c th tm thy n trong \\\"},\\\"SavingIndicator\\\":{\\\"saved\\\":{\\\"default\\\":\\\" cp nht\\\",\\\"just_now\\\":\\\" cp nht\\\",\\\"secs_ago\\\":\\\" cp nht ( lu %{time} giy trc)\\\",\\\"min_ago\\\":\\\" cp nht ( lu %{time} pht trc)\\\",\\\"mins_ago\\\":\\\" cp nht ( lu %{time} pht trc)\\\",\\\"hour_ago\\\":\\\" cp nht ( lu %{time} gi trc)\\\",\\\"hours_ago\\\":\\\" cp nht ( lu %{time} gi trc)\\\",\\\"day_ago\\\":\\\" cp nht ( lu %{time} ngy trc)\\\",\\\"days_ago\\\":\\\" cp nht ( lu %{time} ngy trc)\\\",\\\"month_ago\\\":\\\" cp nht ( lu %{time} thng trc)\\\",\\\"monthes_ago\\\":\\\" cp nht ( lu %{time} thng trc)\\\",\\\"year_ago\\\":\\\" cp nht ( lu %{time} nm trc)\\\",\\\"years_ago\\\":\\\" cp nht ( lu %{time} nm trc)\\\"},\\\"saving\\\":\\\"ang lu...\\\",\\\"still_saving\\\":\\\"ang lu......\\\",\\\"out_of_sync\\\":{\\\"default\\\":\\\" lu (ngoi tuyn)\\\",\\\"just_now\\\":\\\" lu (ngoi tuyn)\\\",\\\"secs_ago\\\":\\\" lu (ngoi tuyn %{time} giy)\\\",\\\"min_ago\\\":\\\" lu (ngoi tuyn %{time} pht)\\\",\\\"mins_ago\\\":\\\" lu (ngoi tuyn %{time} pht)\\\",\\\"hour_ago\\\":\\\" lu (ngoi tuyn %{time} gi)\\\",\\\"hours_ago\\\":\\\" lu (ngoi tuyn %{time} gi)\\\",\\\"day_ago\\\":\\\" lu (ngoi tuyn %{time} ngy)\\\",\\\"days_ago\\\":\\\" lu (ngoi tuyn %{time} ngy)\\\",\\\"month_ago\\\":\\\" lu (ngoi tuyn %{time} thng)\\\",\\\"monthes_ago\\\":\\\" lu (ngoi tuyn %{time} thng)\\\",\\\"year_ago\\\":\\\" lu (ngoi tuyn %{time} nm)\\\",\\\"years_ago\\\":\\\" lu (ngoi tuyn %{time} nm)\\\"},\\\"saving_impossible\\\":{\\\"default\\\":\\\"Thay i cha c lu (ngoi tuyn)\\\",\\\"just_now\\\":\\\"Thay i cha c lu (ngoi tuyn)\\\",\\\"secs_ago\\\":\\\"Thay i cha c lu (ngoi tuyn %{time} giy)\\\",\\\"min_ago\\\":\\\"Thay i cha c lu (ngoi tuyn %{time} pht)\\\",\\\"mins_ago\\\":\\\"Thay i cha c lu (ngoi tuyn %{time} pht)\\\",\\\"hour_ago\\\":\\\"Thay i cha c lu (ngoi tuyn %{time} gi)\\\",\\\"hours_ago\\\":\\\"Thay i cha c lu (ngoi tuyn %{time} gi)\\\",\\\"day_ago\\\":\\\"Thay i cha c lu (ngoi tuyn %{time} ngy)\\\",\\\"days_ago\\\":\\\"Thay i cha c lu (ngoi tuyn %{time} ngy)\\\",\\\"month_ago\\\":\\\"Thay i cha c lu (ngoi tuyn %{time} thng)\\\",\\\"monthes_ago\\\":\\\"Thay i cha c lu (ngoi tuyn %{time} thng)\\\",\\\"year_ago\\\":\\\"Thay i cha c lu (ngoi tuyn %{time} nm)\\\",\\\"years_ago\\\":\\\"Thay i cha c lu (ngoi tuyn %{time} nm)\\\"}},\\\"OfflineIndicator\\\":{\\\"message\\\":\\\"Bn khng cn kt ni internet. Cc thay i ca bn s c lu khi bn kt ni tr li.\\\"}},\\\"Error\\\":{\\\"422\\\":\\\"Ch chp nhn hnh nh\\\",\\\"unshared_title\\\":\\\"Chia s ny khng cn hot ng\\\",\\\"unshared_text\\\":\\\"Ch s hu c th  thu hi chia s ny. Bn khng th chnh sa ghi ch ti a ch ny na.\\\",\\\"loading_error_title\\\":\\\"Khng th ti ghi ch\\\",\\\"loading_error_text_noReturnUrl\\\":\\\"Ghi ch c th khng cn tn ti, hoc my ch ca chng ti c th gp s c tm thi. Vui lng th li sau.\\\",\\\"back\\\":\\\"quay li\\\",\\\"unknown_error\\\":\\\" xy ra li khng mong i\\\",\\\"only_one_image\\\":\\\"Bn khng th ko v th nhiu hnh nh cng mt lc\\\"},\\\"manifest\\\":{\\\"short_description\\\":\\\"Twake Notes l ng dng ghi ch c nhn v cng tc ca bn.\\\",\\\"long_description\\\":\\\"Notes l trnh son tho vn bn trc tuyn c th cung cp cho bn:\\\\n\\\\n* To ghi ch ca ring bn vi cc tnh nng thit yu (in m, gch chn, lin kt, bng...)\\\\n* in v tm ghi ch ca bn vi cc ti liu khc trong cc tp ca Drive c nhn\\\\n* Chnh sa ghi ch d dng t tt c cc thit b ca bn\\\\n* Truy cp ghi ch khi ngoi tuyn\\\\n* Dnh cho ngi hm m, s dng phm tt v nhp theo nh dng markdown ... v thm ch vit cng vi ngi khc trn cng mt ghi ch (sp ra mt)!\\\",\\\"screenshots\\\":[\\\"screenshots/en/screenshot01.png\\\",\\\"screenshots/en/screenshot02.png\\\"]},\\\"Intents\\\":{\\\"save\\\":\\\"Lu\\\"},\\\"TrashedBanner\\\":{\\\"text\\\":\\\"Mc ny  c chuyn vo thng rc\\\",\\\"redirect\\\":\\\"M thng rc\\\",\\\"restore\\\":\\\"Khi phc\\\",\\\"restoreSuccess\\\":\\\"Mc  c khi phc\\\",\\\"restoreError\\\":\\\" xy ra li, vui lng th li.\\\",\\\"destroy\\\":\\\"Xa vnh vin\\\"},\\\"DestroyConfirm\\\":{\\\"title\\\":\\\"Xa vnh vin?\\\",\\\"forbidden\\\":\\\"Bn s khng th truy cp tp ny na.\\\",\\\"restore\\\":\\\"Bn s khng th khi phc tp ny nu bn cha to bn sao lu.\\\",\\\"cancel\\\":\\\"Hy\\\",\\\"delete\\\":\\\"Xa vnh vin\\\",\\\"deleteError\\\":\\\" xy ra li, vui lng th li.\\\"},\\\"MoreButton\\\":{\\\"more\\\":\\\"Thm\\\"}}\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbG9jYWxlcy92aS5qc29uLmpzIiwic291cmNlcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/locales/vi.json\n");

/***/ }),

/***/ "./src/plugins/image-upload/event-handlers.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nwindow.document.addEventListener('dragover', function (event) {\n  return event.preventDefault(), !(event === null || event === void 0 ? void 0 : event.target).closest('.ProseMirror') && event.dataTransfer !== null && (event.dataTransfer.dropEffect = 'none');\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9pbWFnZS11cGxvYWQvZXZlbnQtaGFuZGxlcnMudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2lucy9pbWFnZS11cGxvYWQvZXZlbnQtaGFuZGxlcnMudHM/OTY2NCJdLCJzb3VyY2VzQ29udGVudCI6WyJ3aW5kb3cuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgJ2RyYWdvdmVyJyxcbiAgZXZlbnQgPT4gKFxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCksXG4gICAgISg8SFRNTEVsZW1lbnQ+ZXZlbnQ/LnRhcmdldCkuY2xvc2VzdCgnLlByb3NlTWlycm9yJykgJiZcbiAgICAgIGV2ZW50LmRhdGFUcmFuc2ZlciAhPT0gbnVsbCAmJlxuICAgICAgKGV2ZW50LmRhdGFUcmFuc2Zlci5kcm9wRWZmZWN0ID0gJ25vbmUnKVxuICApXG4pXG5cbmV4cG9ydCB7fVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBRUE7QUFJQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/plugins/image-upload/event-handlers.ts\n");

/***/ }),

/***/ "./src/plugins/image-upload/index.tsx":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _pm_plugins_main__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./src/plugins/image-upload/pm-plugins/main.ts\");\n/* harmony import */ var _pm_plugins_input_rule__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./src/plugins/image-upload/pm-plugins/input-rule.ts\");\n/* harmony import */ var _event_handlers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./src/plugins/image-upload/event-handlers.ts\");\n\n\n\nvar imageUpload = function imageUpload() {\n  return {\n    name: 'imageUpload',\n    pmPlugins: function pmPlugins() {\n      return [{\n        name: 'imageUpload',\n        plugin: _pm_plugins_main__WEBPACK_IMPORTED_MODULE_0__[\"createPlugin\"]\n      }, {\n        name: 'imageUploadInputRule',\n        plugin: function plugin(_ref) {\n          var schema = _ref.schema;\n          return Object(_pm_plugins_input_rule__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(schema);\n        }\n      }];\n    }\n  };\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (imageUpload);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9pbWFnZS11cGxvYWQvaW5kZXgudHN4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbnMvaW1hZ2UtdXBsb2FkL2luZGV4LnRzeD8xOWY3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEVkaXRvclBsdWdpbiB9IGZyb20gJ0BhdGxhc2tpdC9lZGl0b3ItY29yZS90eXBlcydcbmltcG9ydCB7IGNyZWF0ZVBsdWdpbiB9IGZyb20gJy4vcG0tcGx1Z2lucy9tYWluJ1xuaW1wb3J0IGlucHV0UnVsZVBsdWdpbiBmcm9tICcuL3BtLXBsdWdpbnMvaW5wdXQtcnVsZSdcbmltcG9ydCAnLi9ldmVudC1oYW5kbGVycydcblxuY29uc3QgaW1hZ2VVcGxvYWQgPSAoKTogRWRpdG9yUGx1Z2luID0+ICh7XG4gIG5hbWU6ICdpbWFnZVVwbG9hZCcsXG5cbiAgcG1QbHVnaW5zKCkge1xuICAgIHJldHVybiBbXG4gICAgICB7XG4gICAgICAgIG5hbWU6ICdpbWFnZVVwbG9hZCcsXG4gICAgICAgIHBsdWdpbjogY3JlYXRlUGx1Z2luXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBuYW1lOiAnaW1hZ2VVcGxvYWRJbnB1dFJ1bGUnLFxuICAgICAgICBwbHVnaW46ICh7IHNjaGVtYSB9KSA9PiBpbnB1dFJ1bGVQbHVnaW4oc2NoZW1hKVxuICAgICAgfVxuICAgIF1cbiAgfVxufSlcblxuZXhwb3J0IGRlZmF1bHQgaW1hZ2VVcGxvYWRcbiJdLCJtYXBwaW5ncyI6IkFBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBRUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/plugins/image-upload/index.tsx\n");

/***/ }),

/***/ "./src/plugins/image-upload/pm-plugins/actions.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"startUpload\", function() { return startUpload; });\n/* harmony import */ var _plugin_key__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./src/plugins/image-upload/pm-plugins/plugin-key.ts\");\n\nvar imageUploadAction = function imageUploadAction(tr, action) {\n  return tr.setMeta(_plugin_key__WEBPACK_IMPORTED_MODULE_0__[\"stateKey\"], action);\n};\nvar startUpload = function startUpload(event) {\n  return function (tr) {\n    return imageUploadAction(tr, {\n      name: 'START_UPLOAD',\n      event: event\n    });\n  };\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9pbWFnZS11cGxvYWQvcG0tcGx1Z2lucy9hY3Rpb25zLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbnMvaW1hZ2UtdXBsb2FkL3BtLXBsdWdpbnMvYWN0aW9ucy50cz8xMzQzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEltYWdlVXBsb2FkUGx1Z2luQWN0aW9uIH0gZnJvbSAnLi4vdHlwZXMnXG5pbXBvcnQgeyBUcmFuc2FjdGlvbiB9IGZyb20gJ3Byb3NlbWlycm9yLXN0YXRlJ1xuaW1wb3J0IHsgc3RhdGVLZXkgfSBmcm9tICcuL3BsdWdpbi1rZXknXG5cbmNvbnN0IGltYWdlVXBsb2FkQWN0aW9uID0gKFxuICB0cjogVHJhbnNhY3Rpb24sXG4gIGFjdGlvbjogSW1hZ2VVcGxvYWRQbHVnaW5BY3Rpb25cbik6IFRyYW5zYWN0aW9uID0+IHtcbiAgcmV0dXJuIHRyLnNldE1ldGEoc3RhdGVLZXksIGFjdGlvbilcbn1cblxuZXhwb3J0IGNvbnN0IHN0YXJ0VXBsb2FkID0gKGV2ZW50OiBhbnkpID0+ICh0cjogVHJhbnNhY3Rpb24pID0+XG4gIGltYWdlVXBsb2FkQWN0aW9uKHRyLCB7XG4gICAgbmFtZTogJ1NUQVJUX1VQTE9BRCcsXG4gICAgZXZlbnRcbiAgfSlcbiJdLCJtYXBwaW5ncyI6IkFBRUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUlBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/plugins/image-upload/pm-plugins/actions.ts\n");

/***/ }),

/***/ "./src/plugins/image-upload/pm-plugins/commands.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"insertExternalImage\", function() { return insertExternalImage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"startImageUpload\", function() { return startImageUpload; });\n/* harmony import */ var prosemirror_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/prosemirror-utils/dist/index.js\");\n/* harmony import */ var prosemirror_utils__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(prosemirror_utils__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./src/plugins/image-upload/utils.ts\");\n/* harmony import */ var _actions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./src/plugins/image-upload/pm-plugins/actions.ts\");\n/* harmony import */ var _plugin_key__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./src/plugins/image-upload/pm-plugins/plugin-key.ts\");\n\n\n\n\nvar insertExternalImage = function insertExternalImage(options) {\n  return function (state, dispatch) {\n    var pluginState = _plugin_key__WEBPACK_IMPORTED_MODULE_3__[\"stateKey\"].getState(state);\n    if (!pluginState.enabled || !options.src) {\n      return false;\n    }\n    var mediaNode = Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"createExternalMediaNode\"])(options.src, state.schema);\n    if (!mediaNode) {\n      return false;\n    }\n    if (dispatch) {\n      dispatch(Object(prosemirror_utils__WEBPACK_IMPORTED_MODULE_0__[\"safeInsert\"])(mediaNode, state.selection.$to.pos)(state.tr).scrollIntoView());\n    }\n    return true;\n  };\n};\nvar startImageUpload = function startImageUpload(event) {\n  return function (state, dispatch) {\n    var pluginState = _plugin_key__WEBPACK_IMPORTED_MODULE_3__[\"stateKey\"].getState(state);\n    if (!pluginState.enabled) {\n      return false;\n    }\n    if (dispatch) {\n      dispatch(Object(_actions__WEBPACK_IMPORTED_MODULE_2__[\"startUpload\"])(event)(state.tr));\n    }\n    return true;\n  };\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9pbWFnZS11cGxvYWQvcG0tcGx1Z2lucy9jb21tYW5kcy50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9wbHVnaW5zL2ltYWdlLXVwbG9hZC9wbS1wbHVnaW5zL2NvbW1hbmRzLnRzPzAyZjAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5zZXJ0ZWRJbWFnZVByb3BlcnRpZXMgfSBmcm9tICdAYXRsYXNraXQvZWRpdG9yLWNvbW1vbi9wcm92aWRlci1mYWN0b3J5J1xuaW1wb3J0IHsgc2FmZUluc2VydCB9IGZyb20gJ3Byb3NlbWlycm9yLXV0aWxzJ1xuaW1wb3J0IHsgY3JlYXRlRXh0ZXJuYWxNZWRpYU5vZGUgfSBmcm9tICcuLi91dGlscydcbmltcG9ydCB7IENvbW1hbmQgfSBmcm9tICdAYXRsYXNraXQvZWRpdG9yLWNvcmUvdHlwZXMnXG5pbXBvcnQgeyBJbWFnZVVwbG9hZFBsdWdpblN0YXRlIH0gZnJvbSAnLi4vdHlwZXMnXG5pbXBvcnQgeyBzdGFydFVwbG9hZCB9IGZyb20gJy4vYWN0aW9ucydcbmltcG9ydCB7IHN0YXRlS2V5IH0gZnJvbSAnLi9wbHVnaW4ta2V5J1xuXG5leHBvcnQgY29uc3QgaW5zZXJ0RXh0ZXJuYWxJbWFnZTogKFxuICBvcHRpb25zOiBJbnNlcnRlZEltYWdlUHJvcGVydGllc1xuKSA9PiBDb21tYW5kID0gb3B0aW9ucyA9PiAoc3RhdGUsIGRpc3BhdGNoKSA9PiB7XG4gIGNvbnN0IHBsdWdpblN0YXRlOiBJbWFnZVVwbG9hZFBsdWdpblN0YXRlID0gc3RhdGVLZXkuZ2V0U3RhdGUoc3RhdGUpXG4gIGlmICghcGx1Z2luU3RhdGUuZW5hYmxlZCB8fCAhb3B0aW9ucy5zcmMpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIGNvbnN0IG1lZGlhTm9kZSA9IGNyZWF0ZUV4dGVybmFsTWVkaWFOb2RlKG9wdGlvbnMuc3JjLCBzdGF0ZS5zY2hlbWEpXG4gIGlmICghbWVkaWFOb2RlKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBpZiAoZGlzcGF0Y2gpIHtcbiAgICBkaXNwYXRjaChcbiAgICAgIHNhZmVJbnNlcnQobWVkaWFOb2RlLCBzdGF0ZS5zZWxlY3Rpb24uJHRvLnBvcykoc3RhdGUudHIpLnNjcm9sbEludG9WaWV3KClcbiAgICApXG4gIH1cbiAgcmV0dXJuIHRydWVcbn1cblxuZXhwb3J0IGNvbnN0IHN0YXJ0SW1hZ2VVcGxvYWQ6IChldmVudD86IEV2ZW50KSA9PiBDb21tYW5kID0gZXZlbnQgPT4gKFxuICBzdGF0ZSxcbiAgZGlzcGF0Y2hcbikgPT4ge1xuICBjb25zdCBwbHVnaW5TdGF0ZTogSW1hZ2VVcGxvYWRQbHVnaW5TdGF0ZSA9IHN0YXRlS2V5LmdldFN0YXRlKHN0YXRlKVxuICBpZiAoIXBsdWdpblN0YXRlLmVuYWJsZWQpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIGlmIChkaXNwYXRjaCkge1xuICAgIGRpc3BhdGNoKHN0YXJ0VXBsb2FkKGV2ZW50KShzdGF0ZS50cikpXG4gIH1cbiAgcmV0dXJuIHRydWVcbn1cbiJdLCJtYXBwaW5ncyI6IkFBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUFBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/plugins/image-upload/pm-plugins/commands.ts\n");

/***/ }),

/***/ "./src/plugins/image-upload/pm-plugins/input-rule.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"inputRulePlugin\", function() { return inputRulePlugin; });\n/* harmony import */ var _atlaskit_editor_core_utils_input_rules__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/utils/input-rules.ts\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./src/plugins/image-upload/utils.ts\");\n\n\nfunction inputRulePlugin(schema) {\n  if (!schema.nodes.media || !schema.nodes.mediaSingle) {\n    return;\n  }\n\n  // ![something](link) should convert to an image\n  var imageRule = Object(_atlaskit_editor_core_utils_input_rules__WEBPACK_IMPORTED_MODULE_0__[\"createInputRule\"])(/!\\[(.*)\\]\\((\\S+)\\)$/, function (state, match, start, end) {\n    var schema = state.schema;\n    var attrs = {\n      src: match[2],\n      alt: match[1]\n    };\n    var node = Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"createExternalMediaNode\"])(attrs.src, schema);\n    if (node) {\n      return state.tr.replaceWith(start, end, node);\n    }\n    return null;\n  });\n  return Object(_atlaskit_editor_core_utils_input_rules__WEBPACK_IMPORTED_MODULE_0__[\"instrumentedInputRule\"])('image-upload', {\n    rules: [imageRule]\n  });\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (inputRulePlugin);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9pbWFnZS11cGxvYWQvcG0tcGx1Z2lucy9pbnB1dC1ydWxlLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbnMvaW1hZ2UtdXBsb2FkL3BtLXBsdWdpbnMvaW5wdXQtcnVsZS50cz9iMmEyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNjaGVtYSB9IGZyb20gJ3Byb3NlbWlycm9yLW1vZGVsJ1xuaW1wb3J0IHsgUGx1Z2luIH0gZnJvbSAncHJvc2VtaXJyb3Itc3RhdGUnXG5pbXBvcnQge1xuICBjcmVhdGVJbnB1dFJ1bGUsXG4gIGluc3RydW1lbnRlZElucHV0UnVsZVxufSBmcm9tICdAYXRsYXNraXQvZWRpdG9yLWNvcmUvdXRpbHMvaW5wdXQtcnVsZXMnXG5pbXBvcnQgeyBjcmVhdGVFeHRlcm5hbE1lZGlhTm9kZSB9IGZyb20gJy4uL3V0aWxzJ1xuXG5leHBvcnQgZnVuY3Rpb24gaW5wdXRSdWxlUGx1Z2luKHNjaGVtYTogU2NoZW1hKTogUGx1Z2luIHwgdW5kZWZpbmVkIHtcbiAgaWYgKCFzY2hlbWEubm9kZXMubWVkaWEgfHwgIXNjaGVtYS5ub2Rlcy5tZWRpYVNpbmdsZSkge1xuICAgIHJldHVyblxuICB9XG5cbiAgLy8gIVtzb21ldGhpbmddKGxpbmspIHNob3VsZCBjb252ZXJ0IHRvIGFuIGltYWdlXG4gIGNvbnN0IGltYWdlUnVsZSA9IGNyZWF0ZUlucHV0UnVsZShcbiAgICAvIVxcWyguKilcXF1cXCgoXFxTKylcXCkkLyxcbiAgICAoc3RhdGUsIG1hdGNoLCBzdGFydCwgZW5kKSA9PiB7XG4gICAgICBjb25zdCB7IHNjaGVtYSB9ID0gc3RhdGVcbiAgICAgIGNvbnN0IGF0dHJzID0ge1xuICAgICAgICBzcmM6IG1hdGNoWzJdLFxuICAgICAgICBhbHQ6IG1hdGNoWzFdXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG5vZGUgPSBjcmVhdGVFeHRlcm5hbE1lZGlhTm9kZShhdHRycy5zcmMsIHNjaGVtYSlcbiAgICAgIGlmIChub2RlKSB7XG4gICAgICAgIHJldHVybiBzdGF0ZS50ci5yZXBsYWNlV2l0aChzdGFydCwgZW5kLCBub2RlKVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgKVxuXG4gIHJldHVybiBpbnN0cnVtZW50ZWRJbnB1dFJ1bGUoJ2ltYWdlLXVwbG9hZCcsIHtcbiAgICBydWxlczogW2ltYWdlUnVsZV1cbiAgfSlcbn1cblxuZXhwb3J0IGRlZmF1bHQgaW5wdXRSdWxlUGx1Z2luXG4iXSwibWFwcGluZ3MiOiJBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/plugins/image-upload/pm-plugins/input-rule.ts\n");

/***/ }),

/***/ "./src/plugins/image-upload/pm-plugins/main.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createPlugin\", function() { return createPlugin; });\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var prosemirror_state__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./node_modules/prosemirror-state/dist/index.es.js\");\n/* harmony import */ var _atlaskit_editor_core_utils_clipboard__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/utils/clipboard.ts\");\n/* harmony import */ var _atlaskit_editor_core_utils_drag_drop__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/utils/drag-drop.ts\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./src/plugins/image-upload/utils.ts\");\n/* harmony import */ var _commands__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./src/plugins/image-upload/pm-plugins/commands.ts\");\n/* harmony import */ var _plugin_key__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./src/plugins/image-upload/pm-plugins/plugin-key.ts\");\n/* harmony import */ var constants_strings__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"./src/constants/strings.ts\");\n\n\n\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n\n\n\n\n\n\n\nvar createDOMHandler = function createDOMHandler(pred, eventName) {\n  return function (view, event) {\n    if (!pred(event)) {\n      return false;\n    }\n    event.preventDefault();\n    event.stopPropagation();\n    if (event.type === constants_strings__WEBPACK_IMPORTED_MODULE_9__[\"EventType\"].Drop) Object(_utils__WEBPACK_IMPORTED_MODULE_6__[\"setSelectionAtDropPoint\"])(event, view);\n    Object(_commands__WEBPACK_IMPORTED_MODULE_7__[\"startImageUpload\"])(event)(view.state, view.dispatch);\n    return true;\n  };\n};\nvar getNewActiveUpload = function getNewActiveUpload(tr, pluginState) {\n  var meta = tr.getMeta(_plugin_key__WEBPACK_IMPORTED_MODULE_8__[\"stateKey\"]);\n  if (meta && meta.name === 'START_UPLOAD') {\n    return {\n      event: meta.event\n    };\n  }\n  return pluginState.activeUpload;\n};\nvar createPlugin = function createPlugin(_ref) {\n  var dispatch = _ref.dispatch,\n    providerFactory = _ref.providerFactory;\n  var uploadHandler;\n  return new prosemirror_state__WEBPACK_IMPORTED_MODULE_3__[\"Plugin\"]({\n    state: {\n      init: function init(_config, state) {\n        return {\n          active: false,\n          enabled: Object(_utils__WEBPACK_IMPORTED_MODULE_6__[\"canInsertMedia\"])(state),\n          hidden: !state.schema.nodes.media || !state.schema.nodes.mediaSingle\n        };\n      },\n      apply: function apply(tr, pluginState, _oldState, newState) {\n        var newActive = Object(_utils__WEBPACK_IMPORTED_MODULE_6__[\"isMediaSelected\"])(newState);\n        var newEnabled = Object(_utils__WEBPACK_IMPORTED_MODULE_6__[\"canInsertMedia\"])(newState);\n        var newActiveUpload = getNewActiveUpload(tr, pluginState);\n        if (newActive !== pluginState.active || newEnabled !== pluginState.enabled || newActiveUpload !== pluginState.activeUpload) {\n          var newPluginState = _objectSpread(_objectSpread({}, pluginState), {}, {\n            active: newActive,\n            enabled: newEnabled,\n            activeUpload: newActiveUpload\n          });\n          dispatch(_plugin_key__WEBPACK_IMPORTED_MODULE_8__[\"stateKey\"], newPluginState);\n          return newPluginState;\n        }\n        return pluginState;\n      }\n    },\n    key: _plugin_key__WEBPACK_IMPORTED_MODULE_8__[\"stateKey\"],\n    view: function view() {\n      var handleProvider = /*#__PURE__*/function () {\n        var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee(name, provider) {\n          return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  if (!(name !== 'imageUploadProvider' || !provider)) {\n                    _context.next = 2;\n                    break;\n                  }\n                  return _context.abrupt(\"return\");\n                case 2:\n                  _context.prev = 2;\n                  _context.next = 5;\n                  return provider;\n                case 5:\n                  uploadHandler = _context.sent;\n                  _context.next = 11;\n                  break;\n                case 8:\n                  _context.prev = 8;\n                  _context.t0 = _context[\"catch\"](2);\n                  uploadHandler = undefined;\n                case 11:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee, null, [[2, 8]]);\n        }));\n        return function handleProvider(_x, _x2) {\n          return _ref2.apply(this, arguments);\n        };\n      }();\n      providerFactory.subscribe('imageUploadProvider', handleProvider);\n      return {\n        update: function update(view, prevState) {\n          var editorState = view.state;\n          var currentState = _plugin_key__WEBPACK_IMPORTED_MODULE_8__[\"stateKey\"].getState(editorState);\n\n          // if we've add a new upload to the state, execute the uploadHandler\n          var oldState = _plugin_key__WEBPACK_IMPORTED_MODULE_8__[\"stateKey\"].getState(prevState);\n          if (currentState.activeUpload !== oldState.activeUpload && currentState.activeUpload && uploadHandler) {\n            uploadHandler(currentState.activeUpload.event, function (options) {\n              return Object(_commands__WEBPACK_IMPORTED_MODULE_7__[\"insertExternalImage\"])(options)(view.state, view.dispatch);\n            });\n          }\n        },\n        destroy: function destroy() {\n          providerFactory.unsubscribe('imageUploadProvider', handleProvider);\n        }\n      };\n    },\n    props: {\n      handleDOMEvents: {\n        drop: createDOMHandler(_atlaskit_editor_core_utils_drag_drop__WEBPACK_IMPORTED_MODULE_5__[\"isDroppedFile\"], 'atlassian.editor.image.drop'),\n        paste: createDOMHandler(_atlaskit_editor_core_utils_clipboard__WEBPACK_IMPORTED_MODULE_4__[\"isPastedFile\"], 'atlassian.editor.image.paste')\n      }\n    }\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9pbWFnZS11cGxvYWQvcG0tcGx1Z2lucy9tYWluLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbnMvaW1hZ2UtdXBsb2FkL3BtLXBsdWdpbnMvbWFpbi50cz9mMWY0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEVkaXRvclN0YXRlLCBQbHVnaW4sIFRyYW5zYWN0aW9uIH0gZnJvbSAncHJvc2VtaXJyb3Itc3RhdGUnXG5cbmltcG9ydCB7IGlzUGFzdGVkRmlsZSB9IGZyb20gJ0BhdGxhc2tpdC9lZGl0b3ItY29yZS91dGlscy9jbGlwYm9hcmQnXG5pbXBvcnQgeyBpc0Ryb3BwZWRGaWxlIH0gZnJvbSAnQGF0bGFza2l0L2VkaXRvci1jb3JlL3V0aWxzL2RyYWctZHJvcCdcblxuaW1wb3J0IHtcbiAgY2FuSW5zZXJ0TWVkaWEsXG4gIGlzTWVkaWFTZWxlY3RlZCxcbiAgc2V0U2VsZWN0aW9uQXREcm9wUG9pbnRcbn0gZnJvbSAnLi4vdXRpbHMnXG5pbXBvcnQgeyBJbWFnZVVwbG9hZFBsdWdpbkFjdGlvbiwgSW1hZ2VVcGxvYWRQbHVnaW5TdGF0ZSB9IGZyb20gJy4uL3R5cGVzJ1xuaW1wb3J0IHsgRWRpdG9yVmlldyB9IGZyb20gJ3Byb3NlbWlycm9yLXZpZXcnXG5pbXBvcnQgeyBpbnNlcnRFeHRlcm5hbEltYWdlLCBzdGFydEltYWdlVXBsb2FkIH0gZnJvbSAnLi9jb21tYW5kcydcbmltcG9ydCB7IFBNUGx1Z2luRmFjdG9yeVBhcmFtcyB9IGZyb20gJ0BhdGxhc2tpdC9lZGl0b3ItY29yZS90eXBlcydcbmltcG9ydCB7XG4gIEltYWdlVXBsb2FkUHJvdmlkZXIsXG4gIFByb3ZpZGVyc1xufSBmcm9tICdAYXRsYXNraXQvZWRpdG9yLWNvbW1vbi9wcm92aWRlci1mYWN0b3J5J1xuaW1wb3J0IHsgc3RhdGVLZXkgfSBmcm9tICcuL3BsdWdpbi1rZXknXG5pbXBvcnQgeyBFdmVudFR5cGUgfSBmcm9tICdjb25zdGFudHMvc3RyaW5ncydcblxudHlwZSBET01IYW5kbGVyUHJlZGljYXRlID0gKGU6IEV2ZW50KSA9PiBib29sZWFuXG5jb25zdCBjcmVhdGVET01IYW5kbGVyID0gKHByZWQ6IERPTUhhbmRsZXJQcmVkaWNhdGUsIGV2ZW50TmFtZTogc3RyaW5nKSA9PiAoXG4gIHZpZXc6IEVkaXRvclZpZXcsXG4gIGV2ZW50OiBFdmVudFxuKSA9PiB7XG4gIGlmICghcHJlZChldmVudCkpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcblxuICBpZiAoZXZlbnQudHlwZSA9PT0gRXZlbnRUeXBlLkRyb3ApXG4gICAgc2V0U2VsZWN0aW9uQXREcm9wUG9pbnQoZXZlbnQgYXMgRHJhZ0V2ZW50LCB2aWV3KVxuXG4gIHN0YXJ0SW1hZ2VVcGxvYWQoZXZlbnQpKHZpZXcuc3RhdGUsIHZpZXcuZGlzcGF0Y2gpXG5cbiAgcmV0dXJuIHRydWVcbn1cblxuY29uc3QgZ2V0TmV3QWN0aXZlVXBsb2FkID0gKFxuICB0cjogVHJhbnNhY3Rpb24sXG4gIHBsdWdpblN0YXRlOiBJbWFnZVVwbG9hZFBsdWdpblN0YXRlXG4pID0+IHtcbiAgY29uc3QgbWV0YTogSW1hZ2VVcGxvYWRQbHVnaW5BY3Rpb24gfCB1bmRlZmluZWQgPSB0ci5nZXRNZXRhKHN0YXRlS2V5KVxuICBpZiAobWV0YSAmJiBtZXRhLm5hbWUgPT09ICdTVEFSVF9VUExPQUQnKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGV2ZW50OiBtZXRhLmV2ZW50XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHBsdWdpblN0YXRlLmFjdGl2ZVVwbG9hZFxufVxuXG5leHBvcnQgY29uc3QgY3JlYXRlUGx1Z2luID0gKHtcbiAgZGlzcGF0Y2gsXG4gIHByb3ZpZGVyRmFjdG9yeVxufTogUE1QbHVnaW5GYWN0b3J5UGFyYW1zKSA9PiB7XG4gIGxldCB1cGxvYWRIYW5kbGVyOiBJbWFnZVVwbG9hZFByb3ZpZGVyIHwgdW5kZWZpbmVkXG5cbiAgcmV0dXJuIG5ldyBQbHVnaW4oe1xuICAgIHN0YXRlOiB7XG4gICAgICBpbml0KF9jb25maWcsIHN0YXRlOiBFZGl0b3JTdGF0ZSk6IEltYWdlVXBsb2FkUGx1Z2luU3RhdGUge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGFjdGl2ZTogZmFsc2UsXG4gICAgICAgICAgZW5hYmxlZDogY2FuSW5zZXJ0TWVkaWEoc3RhdGUpLFxuICAgICAgICAgIGhpZGRlbjogIXN0YXRlLnNjaGVtYS5ub2Rlcy5tZWRpYSB8fCAhc3RhdGUuc2NoZW1hLm5vZGVzLm1lZGlhU2luZ2xlXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBhcHBseSh0ciwgcGx1Z2luU3RhdGU6IEltYWdlVXBsb2FkUGx1Z2luU3RhdGUsIF9vbGRTdGF0ZSwgbmV3U3RhdGUpIHtcbiAgICAgICAgY29uc3QgbmV3QWN0aXZlID0gaXNNZWRpYVNlbGVjdGVkKG5ld1N0YXRlKVxuICAgICAgICBjb25zdCBuZXdFbmFibGVkID0gY2FuSW5zZXJ0TWVkaWEobmV3U3RhdGUpXG4gICAgICAgIGNvbnN0IG5ld0FjdGl2ZVVwbG9hZCA9IGdldE5ld0FjdGl2ZVVwbG9hZCh0ciwgcGx1Z2luU3RhdGUpXG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgIG5ld0FjdGl2ZSAhPT0gcGx1Z2luU3RhdGUuYWN0aXZlIHx8XG4gICAgICAgICAgbmV3RW5hYmxlZCAhPT0gcGx1Z2luU3RhdGUuZW5hYmxlZCB8fFxuICAgICAgICAgIG5ld0FjdGl2ZVVwbG9hZCAhPT0gcGx1Z2luU3RhdGUuYWN0aXZlVXBsb2FkXG4gICAgICAgICkge1xuICAgICAgICAgIGNvbnN0IG5ld1BsdWdpblN0YXRlID0ge1xuICAgICAgICAgICAgLi4ucGx1Z2luU3RhdGUsXG4gICAgICAgICAgICBhY3RpdmU6IG5ld0FjdGl2ZSxcbiAgICAgICAgICAgIGVuYWJsZWQ6IG5ld0VuYWJsZWQsXG4gICAgICAgICAgICBhY3RpdmVVcGxvYWQ6IG5ld0FjdGl2ZVVwbG9hZFxuICAgICAgICAgIH1cblxuICAgICAgICAgIGRpc3BhdGNoKHN0YXRlS2V5LCBuZXdQbHVnaW5TdGF0ZSlcbiAgICAgICAgICByZXR1cm4gbmV3UGx1Z2luU3RhdGVcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwbHVnaW5TdGF0ZVxuICAgICAgfVxuICAgIH0sXG4gICAga2V5OiBzdGF0ZUtleSxcbiAgICB2aWV3OiAoKSA9PiB7XG4gICAgICBjb25zdCBoYW5kbGVQcm92aWRlciA9IGFzeW5jIChcbiAgICAgICAgbmFtZTogc3RyaW5nLFxuICAgICAgICBwcm92aWRlcj86IFByb3ZpZGVyc1snaW1hZ2VVcGxvYWRQcm92aWRlciddXG4gICAgICApID0+IHtcbiAgICAgICAgaWYgKG5hbWUgIT09ICdpbWFnZVVwbG9hZFByb3ZpZGVyJyB8fCAhcHJvdmlkZXIpIHtcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdXBsb2FkSGFuZGxlciA9IGF3YWl0IHByb3ZpZGVyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICB1cGxvYWRIYW5kbGVyID0gdW5kZWZpbmVkXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcHJvdmlkZXJGYWN0b3J5LnN1YnNjcmliZSgnaW1hZ2VVcGxvYWRQcm92aWRlcicsIGhhbmRsZVByb3ZpZGVyKVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICB1cGRhdGUodmlldywgcHJldlN0YXRlKSB7XG4gICAgICAgICAgY29uc3QgeyBzdGF0ZTogZWRpdG9yU3RhdGUgfSA9IHZpZXdcbiAgICAgICAgICBjb25zdCBjdXJyZW50U3RhdGU6IEltYWdlVXBsb2FkUGx1Z2luU3RhdGUgPSBzdGF0ZUtleS5nZXRTdGF0ZShcbiAgICAgICAgICAgIGVkaXRvclN0YXRlXG4gICAgICAgICAgKSFcblxuICAgICAgICAgIC8vIGlmIHdlJ3ZlIGFkZCBhIG5ldyB1cGxvYWQgdG8gdGhlIHN0YXRlLCBleGVjdXRlIHRoZSB1cGxvYWRIYW5kbGVyXG4gICAgICAgICAgY29uc3Qgb2xkU3RhdGU6IEltYWdlVXBsb2FkUGx1Z2luU3RhdGUgPSBzdGF0ZUtleS5nZXRTdGF0ZShwcmV2U3RhdGUpIVxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGN1cnJlbnRTdGF0ZS5hY3RpdmVVcGxvYWQgIT09IG9sZFN0YXRlLmFjdGl2ZVVwbG9hZCAmJlxuICAgICAgICAgICAgY3VycmVudFN0YXRlLmFjdGl2ZVVwbG9hZCAmJlxuICAgICAgICAgICAgdXBsb2FkSGFuZGxlclxuICAgICAgICAgICkge1xuICAgICAgICAgICAgdXBsb2FkSGFuZGxlcihjdXJyZW50U3RhdGUuYWN0aXZlVXBsb2FkLmV2ZW50LCBvcHRpb25zID0+XG4gICAgICAgICAgICAgIGluc2VydEV4dGVybmFsSW1hZ2Uob3B0aW9ucykodmlldy5zdGF0ZSwgdmlldy5kaXNwYXRjaClcbiAgICAgICAgICAgIClcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgZGVzdHJveSgpIHtcbiAgICAgICAgICBwcm92aWRlckZhY3RvcnkudW5zdWJzY3JpYmUoJ2ltYWdlVXBsb2FkUHJvdmlkZXInLCBoYW5kbGVQcm92aWRlcilcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgcHJvcHM6IHtcbiAgICAgIGhhbmRsZURPTUV2ZW50czoge1xuICAgICAgICBkcm9wOiBjcmVhdGVET01IYW5kbGVyKGlzRHJvcHBlZEZpbGUsICdhdGxhc3NpYW4uZWRpdG9yLmltYWdlLmRyb3AnKSxcbiAgICAgICAgcGFzdGU6IGNyZWF0ZURPTUhhbmRsZXIoaXNQYXN0ZWRGaWxlLCAnYXRsYXNzaWFuLmVkaXRvci5pbWFnZS5wYXN0ZScpXG4gICAgICB9XG4gICAgfVxuICB9KVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBRUE7QUFDQTtBQUVBO0FBT0E7QUFNQTtBQUNBO0FBR0E7QUFBQTtBQUlBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUdBO0FBRUE7QUFDQTtBQUFBO0FBRUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFHQTtBQURBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBS0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFLQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQWJBO0FBQUE7QUFBQTtBQWVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUtBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/plugins/image-upload/pm-plugins/main.ts\n");

/***/ }),

/***/ "./src/plugins/image-upload/pm-plugins/plugin-key.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"stateKey\", function() { return stateKey; });\n/* harmony import */ var prosemirror_state__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/prosemirror-state/dist/index.es.js\");\n\nvar stateKey = new prosemirror_state__WEBPACK_IMPORTED_MODULE_0__[\"PluginKey\"]('imageUploadPlugin');//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9pbWFnZS11cGxvYWQvcG0tcGx1Z2lucy9wbHVnaW4ta2V5LnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbnMvaW1hZ2UtdXBsb2FkL3BtLXBsdWdpbnMvcGx1Z2luLWtleS50cz9mMDExIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBsdWdpbktleSB9IGZyb20gJ3Byb3NlbWlycm9yLXN0YXRlJ1xuXG5leHBvcnQgY29uc3Qgc3RhdGVLZXkgPSBuZXcgUGx1Z2luS2V5KCdpbWFnZVVwbG9hZFBsdWdpbicpXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/plugins/image-upload/pm-plugins/plugin-key.ts\n");

/***/ }),

/***/ "./src/plugins/image-upload/utils.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isMediaSelected\", function() { return isMediaSelected; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"canInsertMedia\", function() { return canInsertMedia; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createExternalMediaNode\", function() { return createExternalMediaNode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setSelectionAtDropPoint\", function() { return setSelectionAtDropPoint; });\n/* harmony import */ var prosemirror_state__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/prosemirror-state/dist/index.es.js\");\n\nvar isMediaSelected = function isMediaSelected(state) {\n  var media = state.schema.nodes.media;\n  return state.selection instanceof prosemirror_state__WEBPACK_IMPORTED_MODULE_0__[\"NodeSelection\"] && state.selection.node.type === media;\n};\nvar canInsertMedia = function canInsertMedia(state) {\n  var mediaSingle = state.schema.nodes.mediaSingle;\n  var $to = state.selection.$to;\n  if (mediaSingle) {\n    for (var d = $to.depth; d >= 0; d--) {\n      var index = $to.index(d);\n      if ($to.node(d).canReplaceWith(index, index, mediaSingle)) {\n        return true;\n      }\n    }\n  }\n  return false;\n};\nvar createExternalMediaNode = function createExternalMediaNode(url, schema) {\n  var _schema$nodes = schema.nodes,\n    media = _schema$nodes.media,\n    mediaSingle = _schema$nodes.mediaSingle;\n  if (!media || !mediaSingle) {\n    return null;\n  }\n  var mediaNode = media.createChecked({\n    type: 'external',\n    url: url\n  });\n  return mediaSingle.createChecked({}, mediaNode);\n};\nvar setSelectionAtDropPoint = function setSelectionAtDropPoint(_ref, view) {\n  var _view$posAtCoords;\n  var clientX = _ref.clientX,\n    clientY = _ref.clientY;\n  return view.dispatch(view.state.tr.setSelection(prosemirror_state__WEBPACK_IMPORTED_MODULE_0__[\"TextSelection\"].create(view.state.doc, ((_view$posAtCoords = view.posAtCoords({\n    left: clientX,\n    top: clientY\n  })) === null || _view$posAtCoords === void 0 ? void 0 : _view$posAtCoords.pos) || 0)));\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9pbWFnZS11cGxvYWQvdXRpbHMudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2lucy9pbWFnZS11cGxvYWQvdXRpbHMudHM/MjVkMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFZGl0b3JTdGF0ZSwgTm9kZVNlbGVjdGlvbiwgVGV4dFNlbGVjdGlvbiB9IGZyb20gJ3Byb3NlbWlycm9yLXN0YXRlJ1xuaW1wb3J0IHsgU2NoZW1hLCBOb2RlIH0gZnJvbSAncHJvc2VtaXJyb3ItbW9kZWwnXG5pbXBvcnQgeyBFZGl0b3JWaWV3IH0gZnJvbSAncHJvc2VtaXJyb3ItdmlldydcblxuZXhwb3J0IGNvbnN0IGlzTWVkaWFTZWxlY3RlZCA9IChzdGF0ZTogRWRpdG9yU3RhdGUpOiBib29sZWFuID0+IHtcbiAgY29uc3QgeyBtZWRpYSB9ID0gc3RhdGUuc2NoZW1hLm5vZGVzXG5cbiAgcmV0dXJuIChcbiAgICBzdGF0ZS5zZWxlY3Rpb24gaW5zdGFuY2VvZiBOb2RlU2VsZWN0aW9uICYmXG4gICAgc3RhdGUuc2VsZWN0aW9uLm5vZGUudHlwZSA9PT0gbWVkaWFcbiAgKVxufVxuXG5leHBvcnQgY29uc3QgY2FuSW5zZXJ0TWVkaWEgPSAoc3RhdGU6IEVkaXRvclN0YXRlKTogYm9vbGVhbiA9PiB7XG4gIGNvbnN0IHsgbWVkaWFTaW5nbGUgfSA9IHN0YXRlLnNjaGVtYS5ub2Rlc1xuICBjb25zdCB7ICR0byB9ID0gc3RhdGUuc2VsZWN0aW9uXG5cbiAgaWYgKG1lZGlhU2luZ2xlKSB7XG4gICAgZm9yIChsZXQgZCA9ICR0by5kZXB0aDsgZCA+PSAwOyBkLS0pIHtcbiAgICAgIGNvbnN0IGluZGV4ID0gJHRvLmluZGV4KGQpXG4gICAgICBpZiAoJHRvLm5vZGUoZCkuY2FuUmVwbGFjZVdpdGgoaW5kZXgsIGluZGV4LCBtZWRpYVNpbmdsZSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlXG59XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVFeHRlcm5hbE1lZGlhTm9kZSA9IChcbiAgdXJsOiBzdHJpbmcsXG4gIHNjaGVtYTogU2NoZW1hXG4pOiBOb2RlIHwgbnVsbCA9PiB7XG4gIGNvbnN0IHsgbWVkaWEsIG1lZGlhU2luZ2xlIH0gPSBzY2hlbWEubm9kZXNcbiAgaWYgKCFtZWRpYSB8fCAhbWVkaWFTaW5nbGUpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgY29uc3QgbWVkaWFOb2RlID0gbWVkaWEuY3JlYXRlQ2hlY2tlZCh7XG4gICAgdHlwZTogJ2V4dGVybmFsJyxcbiAgICB1cmxcbiAgfSlcbiAgcmV0dXJuIG1lZGlhU2luZ2xlLmNyZWF0ZUNoZWNrZWQoe30sIG1lZGlhTm9kZSlcbn1cblxuZXhwb3J0IGNvbnN0IHNldFNlbGVjdGlvbkF0RHJvcFBvaW50ID0gKFxuICB7IGNsaWVudFgsIGNsaWVudFkgfTogRHJhZ0V2ZW50LFxuICB2aWV3OiBFZGl0b3JWaWV3XG4pOiB2b2lkID0+XG4gIHZpZXcuZGlzcGF0Y2goXG4gICAgdmlldy5zdGF0ZS50ci5zZXRTZWxlY3Rpb24oXG4gICAgICBUZXh0U2VsZWN0aW9uLmNyZWF0ZShcbiAgICAgICAgdmlldy5zdGF0ZS5kb2MsXG4gICAgICAgIHZpZXcucG9zQXRDb29yZHMoeyBsZWZ0OiBjbGllbnRYLCB0b3A6IGNsaWVudFkgfSk/LnBvcyB8fCAwXG4gICAgICApXG4gICAgKVxuICApXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBSUE7QUFDQTtBQUVBO0FBSUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBSUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUFBO0FBREE7QUFBQTtBQU9BO0FBQUE7QUFBQTtBQUdBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/plugins/image-upload/utils.ts\n");

/***/ }),

/***/ "./src/plugins/media/commands/helpers.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"findMediaSingleNode\", function() { return findMediaSingleNode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"findAllMediaSingleNodes\", function() { return findAllMediaSingleNodes; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"findMediaNode\", function() { return findMediaNode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isMobileUploadCompleted\", function() { return isMobileUploadCompleted; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"updateAllMediaNodesAttrs\", function() { return updateAllMediaNodesAttrs; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"updateMediaNodeAttrs\", function() { return updateMediaNodeAttrs; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"replaceExternalMedia\", function() { return replaceExternalMedia; });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _pm_plugins_plugin_key__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./src/plugins/media/pm-plugins/plugin-key.ts\");\n/* harmony import */ var _atlaskit_adf_schema_steps__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/@atlaskit/editor-common/node_modules/@atlaskit/adf-schema/dist/esm/steps.js\");\n\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n\n\nvar findMediaSingleNode = function findMediaSingleNode(mediaPluginState, id) {\n  var mediaNodes = mediaPluginState.mediaNodes;\n\n  // Array#find... no IE support\n  return mediaNodes.reduce(function (memo, nodeWithPos) {\n    if (memo) {\n      return memo;\n    }\n    var node = nodeWithPos.node;\n    if (node.attrs.id === id) {\n      return nodeWithPos;\n    }\n    return memo;\n  }, null);\n};\nvar findAllMediaSingleNodes = function findAllMediaSingleNodes(mediaPluginState, id) {\n  var mediaNodes = mediaPluginState.mediaNodes;\n  return mediaNodes.filter(function (nodeWithHandler) {\n    return nodeWithHandler.node.attrs.id === id;\n  });\n};\nvar findMediaNode = function findMediaNode(mediaPluginState, id, isMediaSingle) {\n  var mediaNodeWithPos = isMediaSingle ? findMediaSingleNode(mediaPluginState, id) : mediaPluginState.mediaGroupNodes[id];\n  return mediaNodeWithPos;\n};\nvar isMobileUploadCompleted = function isMobileUploadCompleted(mediaPluginState, mediaId) {\n  return !!mediaPluginState.mediaOptions &&\n  // This flag tells us that it's a 'mobile' env.\n  !!mediaPluginState.mediaOptions.allowMarkingUploadsAsIncomplete && typeof mediaPluginState.mobileUploadComplete[mediaId] === 'boolean' ? mediaPluginState.mobileUploadComplete[mediaId] : undefined;\n};\nvar updateAllMediaNodesAttrs = function updateAllMediaNodesAttrs(id, attrs, isMediaSingle) {\n  return function (state, dispatch) {\n    var mediaPluginState = _pm_plugins_plugin_key__WEBPACK_IMPORTED_MODULE_1__[\"stateKey\"].getState(state);\n    var mediaNodes;\n    if (isMediaSingle) {\n      mediaNodes = findAllMediaSingleNodes(mediaPluginState, id);\n    } else {\n      var mediaGroupNode = findMediaNode(mediaPluginState, id, isMediaSingle);\n      mediaNodes = mediaGroupNode ? [mediaGroupNode] : [];\n    }\n\n    // TODO: ED-7784 Clean media plugin state from having media that were previously removed.\n    // Sanity check\n    var mediaType = state.schema.nodes.media;\n    mediaNodes = mediaNodes.filter(function (nodeWithPos) {\n      var node;\n      try {\n        node = state.doc.nodeAt(nodeWithPos.getPos());\n      } catch (e) {\n        return false;\n      }\n      return node && node.type === mediaType;\n    });\n    if (mediaNodes.length === 0) {\n      return false;\n    }\n    if (dispatch) {\n      var tr = state.tr;\n      mediaNodes.forEach(function (_ref) {\n        var getPos = _ref.getPos;\n        return tr.step(new _atlaskit_adf_schema_steps__WEBPACK_IMPORTED_MODULE_2__[\"SetAttrsStep\"](getPos(), attrs));\n      });\n      tr.setMeta('addToHistory', false);\n      dispatch(tr);\n    }\n    return true;\n  };\n};\nvar updateMediaNodeAttrs = function updateMediaNodeAttrs(id, attrs, isMediaSingle) {\n  return function (state, dispatch) {\n    var mediaPluginState = _pm_plugins_plugin_key__WEBPACK_IMPORTED_MODULE_1__[\"stateKey\"].getState(state);\n    var mediaNodeWithPos = findMediaNode(mediaPluginState, id, isMediaSingle);\n    if (!mediaNodeWithPos) {\n      // We can still try to find the node by position id (media nodes can have no id but only position, it is unknown why)\n      var nodeFoundByPos = mediaPluginState.mediaNodes.find(function (node) {\n        return node.getPos().toString() === id;\n      });\n      if (!nodeFoundByPos) return false;\n      dispatch === null || dispatch === void 0 ? void 0 : dispatch(state.tr.step(new _atlaskit_adf_schema_steps__WEBPACK_IMPORTED_MODULE_2__[\"SetAttrsStep\"](nodeFoundByPos.getPos(), attrs)).setMeta('addToHistory', false) // unsure what this does\n      );\n\n      return true;\n    }\n    if (dispatch) {\n      dispatch(state.tr.step(new _atlaskit_adf_schema_steps__WEBPACK_IMPORTED_MODULE_2__[\"SetAttrsStep\"](mediaNodeWithPos.getPos(), attrs)).setMeta('addToHistory', false));\n    }\n    return true;\n  };\n};\nvar replaceExternalMedia = function replaceExternalMedia(pos, attrs) {\n  return function (state, dispatch) {\n    if (dispatch) {\n      dispatch(state.tr.step(new _atlaskit_adf_schema_steps__WEBPACK_IMPORTED_MODULE_2__[\"SetAttrsStep\"](pos, _objectSpread({\n        type: 'file',\n        url: null\n      }, attrs))).setMeta('addToHistory', false));\n      return true;\n    }\n    return false;\n  };\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9tZWRpYS9jb21tYW5kcy9oZWxwZXJzLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbnMvbWVkaWEvY29tbWFuZHMvaGVscGVycy50cz82MThlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE1lZGlhQXR0cmlidXRlcyB9IGZyb20gJ0BhdGxhc2tpdC9hZGYtc2NoZW1hJ1xuaW1wb3J0IHsgc3RhdGVLZXkgYXMgbWVkaWFQbHVnaW5LZXkgfSBmcm9tICcuLi9wbS1wbHVnaW5zL3BsdWdpbi1rZXknXG5pbXBvcnQgeyBNZWRpYU5vZGVXaXRoUG9zSGFuZGxlciwgTWVkaWFQbHVnaW5TdGF0ZSB9IGZyb20gJy4uL3BtLXBsdWdpbnMvdHlwZXMnXG5pbXBvcnQgeyBTZXRBdHRyc1N0ZXAgfSBmcm9tICdAYXRsYXNraXQvYWRmLXNjaGVtYS9zdGVwcydcbmltcG9ydCB7IENvbW1hbmQgfSBmcm9tICdjb3p5LWVkaXRvci1jb3JlL3NyYy90eXBlcydcblxuZXhwb3J0IGNvbnN0IGZpbmRNZWRpYVNpbmdsZU5vZGUgPSAoXG4gIG1lZGlhUGx1Z2luU3RhdGU6IE1lZGlhUGx1Z2luU3RhdGUsXG4gIGlkOiBzdHJpbmdcbik6IE1lZGlhTm9kZVdpdGhQb3NIYW5kbGVyIHwgbnVsbCA9PiB7XG4gIGNvbnN0IHsgbWVkaWFOb2RlcyB9ID0gbWVkaWFQbHVnaW5TdGF0ZVxuXG4gIC8vIEFycmF5I2ZpbmQuLi4gbm8gSUUgc3VwcG9ydFxuICByZXR1cm4gbWVkaWFOb2Rlcy5yZWR1Y2UoXG4gICAgKFxuICAgICAgbWVtbzogTWVkaWFOb2RlV2l0aFBvc0hhbmRsZXIgfCBudWxsLFxuICAgICAgbm9kZVdpdGhQb3M6IE1lZGlhTm9kZVdpdGhQb3NIYW5kbGVyXG4gICAgKSA9PiB7XG4gICAgICBpZiAobWVtbykge1xuICAgICAgICByZXR1cm4gbWVtb1xuICAgICAgfVxuXG4gICAgICBjb25zdCB7IG5vZGUgfSA9IG5vZGVXaXRoUG9zXG4gICAgICBpZiAobm9kZS5hdHRycy5pZCA9PT0gaWQpIHtcbiAgICAgICAgcmV0dXJuIG5vZGVXaXRoUG9zXG4gICAgICB9XG5cbiAgICAgIHJldHVybiBtZW1vXG4gICAgfSxcbiAgICBudWxsXG4gIClcbn1cblxuZXhwb3J0IGNvbnN0IGZpbmRBbGxNZWRpYVNpbmdsZU5vZGVzID0gKFxuICBtZWRpYVBsdWdpblN0YXRlOiBNZWRpYVBsdWdpblN0YXRlLFxuICBpZDogc3RyaW5nXG4pOiBNZWRpYU5vZGVXaXRoUG9zSGFuZGxlcltdID0+IHtcbiAgY29uc3QgeyBtZWRpYU5vZGVzIH0gPSBtZWRpYVBsdWdpblN0YXRlXG5cbiAgcmV0dXJuIG1lZGlhTm9kZXMuZmlsdGVyKFxuICAgIG5vZGVXaXRoSGFuZGxlciA9PiAobm9kZVdpdGhIYW5kbGVyLm5vZGUuYXR0cnMgYXMgTWVkaWFBdHRyaWJ1dGVzKS5pZCA9PT0gaWRcbiAgKVxufVxuXG5leHBvcnQgY29uc3QgZmluZE1lZGlhTm9kZSA9IChcbiAgbWVkaWFQbHVnaW5TdGF0ZTogTWVkaWFQbHVnaW5TdGF0ZSxcbiAgaWQ6IHN0cmluZyxcbiAgaXNNZWRpYVNpbmdsZTogYm9vbGVhblxuKTogTWVkaWFOb2RlV2l0aFBvc0hhbmRsZXIgfCBudWxsID0+IHtcbiAgY29uc3QgbWVkaWFOb2RlV2l0aFBvcyA9IGlzTWVkaWFTaW5nbGVcbiAgICA/IGZpbmRNZWRpYVNpbmdsZU5vZGUobWVkaWFQbHVnaW5TdGF0ZSwgaWQpXG4gICAgOiBtZWRpYVBsdWdpblN0YXRlLm1lZGlhR3JvdXBOb2Rlc1tpZF1cbiAgcmV0dXJuIG1lZGlhTm9kZVdpdGhQb3Ncbn1cblxuZXhwb3J0IGNvbnN0IGlzTW9iaWxlVXBsb2FkQ29tcGxldGVkID0gKFxuICBtZWRpYVBsdWdpblN0YXRlOiBNZWRpYVBsdWdpblN0YXRlLFxuICBtZWRpYUlkOiBzdHJpbmdcbik6IGJvb2xlYW4gfCB1bmRlZmluZWQgPT5cbiAgISFtZWRpYVBsdWdpblN0YXRlLm1lZGlhT3B0aW9ucyAmJlxuICAvLyBUaGlzIGZsYWcgdGVsbHMgdXMgdGhhdCBpdCdzIGEgJ21vYmlsZScgZW52LlxuICAhIW1lZGlhUGx1Z2luU3RhdGUubWVkaWFPcHRpb25zLmFsbG93TWFya2luZ1VwbG9hZHNBc0luY29tcGxldGUgJiZcbiAgdHlwZW9mIG1lZGlhUGx1Z2luU3RhdGUubW9iaWxlVXBsb2FkQ29tcGxldGVbbWVkaWFJZF0gPT09ICdib29sZWFuJ1xuICAgID8gbWVkaWFQbHVnaW5TdGF0ZS5tb2JpbGVVcGxvYWRDb21wbGV0ZVttZWRpYUlkXVxuICAgIDogdW5kZWZpbmVkXG5cbmV4cG9ydCBjb25zdCB1cGRhdGVBbGxNZWRpYU5vZGVzQXR0cnMgPSAoXG4gIGlkOiBzdHJpbmcsXG4gIGF0dHJzOiBvYmplY3QsXG4gIGlzTWVkaWFTaW5nbGU6IGJvb2xlYW5cbik6IENvbW1hbmQgPT4gKHN0YXRlLCBkaXNwYXRjaCkgPT4ge1xuICBjb25zdCBtZWRpYVBsdWdpblN0YXRlOiBNZWRpYVBsdWdpblN0YXRlID0gbWVkaWFQbHVnaW5LZXkuZ2V0U3RhdGUoc3RhdGUpXG5cbiAgbGV0IG1lZGlhTm9kZXM6IE1lZGlhTm9kZVdpdGhQb3NIYW5kbGVyW11cbiAgaWYgKGlzTWVkaWFTaW5nbGUpIHtcbiAgICBtZWRpYU5vZGVzID0gZmluZEFsbE1lZGlhU2luZ2xlTm9kZXMobWVkaWFQbHVnaW5TdGF0ZSwgaWQpXG4gIH0gZWxzZSB7XG4gICAgY29uc3QgbWVkaWFHcm91cE5vZGUgPSBmaW5kTWVkaWFOb2RlKG1lZGlhUGx1Z2luU3RhdGUsIGlkLCBpc01lZGlhU2luZ2xlKVxuICAgIG1lZGlhTm9kZXMgPSBtZWRpYUdyb3VwTm9kZSA/IFttZWRpYUdyb3VwTm9kZV0gOiBbXVxuICB9XG5cbiAgLy8gVE9ETzogRUQtNzc4NCBDbGVhbiBtZWRpYSBwbHVnaW4gc3RhdGUgZnJvbSBoYXZpbmcgbWVkaWEgdGhhdCB3ZXJlIHByZXZpb3VzbHkgcmVtb3ZlZC5cbiAgLy8gU2FuaXR5IGNoZWNrXG4gIGNvbnN0IG1lZGlhVHlwZSA9IHN0YXRlLnNjaGVtYS5ub2Rlcy5tZWRpYVxuICBtZWRpYU5vZGVzID0gbWVkaWFOb2Rlcy5maWx0ZXIobm9kZVdpdGhQb3MgPT4ge1xuICAgIGxldCBub2RlXG4gICAgdHJ5IHtcbiAgICAgIG5vZGUgPSBzdGF0ZS5kb2Mubm9kZUF0KG5vZGVXaXRoUG9zLmdldFBvcygpKVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIHJldHVybiBub2RlICYmIG5vZGUudHlwZSA9PT0gbWVkaWFUeXBlXG4gIH0pXG5cbiAgaWYgKG1lZGlhTm9kZXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBpZiAoZGlzcGF0Y2gpIHtcbiAgICBjb25zdCB0ciA9IHN0YXRlLnRyXG4gICAgbWVkaWFOb2Rlcy5mb3JFYWNoKCh7IGdldFBvcyB9KSA9PlxuICAgICAgdHIuc3RlcChuZXcgU2V0QXR0cnNTdGVwKGdldFBvcygpLCBhdHRycykpXG4gICAgKVxuICAgIHRyLnNldE1ldGEoJ2FkZFRvSGlzdG9yeScsIGZhbHNlKVxuICAgIGRpc3BhdGNoKHRyKVxuICB9XG4gIHJldHVybiB0cnVlXG59XG5cbmV4cG9ydCBjb25zdCB1cGRhdGVNZWRpYU5vZGVBdHRycyA9IChcbiAgaWQ6IHN0cmluZyxcbiAgYXR0cnM6IG9iamVjdCxcbiAgaXNNZWRpYVNpbmdsZTogYm9vbGVhblxuKTogQ29tbWFuZCA9PiAoc3RhdGUsIGRpc3BhdGNoKSA9PiB7XG4gIGNvbnN0IG1lZGlhUGx1Z2luU3RhdGU6IE1lZGlhUGx1Z2luU3RhdGUgPSBtZWRpYVBsdWdpbktleS5nZXRTdGF0ZShzdGF0ZSlcblxuICBjb25zdCBtZWRpYU5vZGVXaXRoUG9zID0gZmluZE1lZGlhTm9kZShtZWRpYVBsdWdpblN0YXRlLCBpZCwgaXNNZWRpYVNpbmdsZSlcblxuICBpZiAoIW1lZGlhTm9kZVdpdGhQb3MpIHtcbiAgICAvLyBXZSBjYW4gc3RpbGwgdHJ5IHRvIGZpbmQgdGhlIG5vZGUgYnkgcG9zaXRpb24gaWQgKG1lZGlhIG5vZGVzIGNhbiBoYXZlIG5vIGlkIGJ1dCBvbmx5IHBvc2l0aW9uLCBpdCBpcyB1bmtub3duIHdoeSlcbiAgICBjb25zdCBub2RlRm91bmRCeVBvcyA9IG1lZGlhUGx1Z2luU3RhdGUubWVkaWFOb2Rlcy5maW5kKG5vZGUgPT4gbm9kZS5nZXRQb3MoKS50b1N0cmluZygpID09PSBpZClcbiAgICBcbiAgICBpZiAoIW5vZGVGb3VuZEJ5UG9zKSByZXR1cm4gZmFsc2VcblxuICAgIGRpc3BhdGNoPy4oXG4gICAgICBzdGF0ZS50clxuICAgICAgICAuc3RlcChuZXcgU2V0QXR0cnNTdGVwKG5vZGVGb3VuZEJ5UG9zLmdldFBvcygpLCBhdHRycykpXG4gICAgICAgIC5zZXRNZXRhKCdhZGRUb0hpc3RvcnknLCBmYWxzZSkgLy8gdW5zdXJlIHdoYXQgdGhpcyBkb2VzXG4gICAgKVxuXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIGlmIChkaXNwYXRjaCkge1xuICAgIGRpc3BhdGNoKFxuICAgICAgc3RhdGUudHJcbiAgICAgICAgLnN0ZXAobmV3IFNldEF0dHJzU3RlcChtZWRpYU5vZGVXaXRoUG9zLmdldFBvcygpLCBhdHRycykpXG4gICAgICAgIC5zZXRNZXRhKCdhZGRUb0hpc3RvcnknLCBmYWxzZSlcbiAgICApXG4gIH1cblxuICByZXR1cm4gdHJ1ZVxufVxuXG5leHBvcnQgY29uc3QgcmVwbGFjZUV4dGVybmFsTWVkaWEgPSAocG9zOiBudW1iZXIsIGF0dHJzOiBvYmplY3QpOiBDb21tYW5kID0+IChcbiAgc3RhdGUsXG4gIGRpc3BhdGNoXG4pID0+IHtcbiAgaWYgKGRpc3BhdGNoKSB7XG4gICAgZGlzcGF0Y2goXG4gICAgICBzdGF0ZS50clxuICAgICAgICAuc3RlcChcbiAgICAgICAgICBuZXcgU2V0QXR0cnNTdGVwKHBvcywge1xuICAgICAgICAgICAgdHlwZTogJ2ZpbGUnLFxuICAgICAgICAgICAgdXJsOiBudWxsLFxuICAgICAgICAgICAgLi4uYXR0cnNcbiAgICAgICAgICB9KVxuICAgICAgICApXG4gICAgICAgIC5zZXRNZXRhKCdhZGRUb0hpc3RvcnknLCBmYWxzZSlcbiAgICApXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuICByZXR1cm4gZmFsc2Vcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQ0E7QUFFQTtBQUdBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUVBO0FBSUE7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUVBO0FBS0E7QUFHQTtBQUNBO0FBRUE7QUFFQTtBQUdBO0FBQ0E7QUFHQTtBQUVBO0FBR0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUdBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUVBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBS0E7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUFBO0FBSUE7QUFDQTtBQUlBO0FBQ0E7QUFBQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/plugins/media/commands/helpers.ts\n");

/***/ }),

/***/ "./src/plugins/media/commands/linking.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"showLinkingToolbar\", function() { return showLinkingToolbar; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"showLinkingToolbarWithMediaTypeCheck\", function() { return showLinkingToolbarWithMediaTypeCheck; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"hideLinkingToolbar\", function() { return hideLinkingToolbar; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"unlink\", function() { return unlink; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setUrlToMedia\", function() { return setUrlToMedia; });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _pm_plugins_linking__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./src/plugins/media/pm-plugins/linking/index.ts\");\n/* harmony import */ var _atlaskit_editor_core_plugins_hyperlink_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/plugins/hyperlink/utils.ts\");\n/* harmony import */ var _atlaskit_editor_core_commands__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/commands/index.ts\");\n/* harmony import */ var _pm_plugins_linking_actions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./src/plugins/media/pm-plugins/linking/actions.ts\");\n/* harmony import */ var _atlaskit_editor_core_plugins_analytics__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/plugins/analytics/index.ts\");\n/* harmony import */ var _utils_current_media_node__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./src/plugins/media/utils/current-media-node.ts\");\n/* harmony import */ var _utils_check_media_type__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./src/plugins/media/utils/check-media-type.ts\");\n/* harmony import */ var _pm_plugins_main__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./src/plugins/media/pm-plugins/main.ts\");\n\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n\n\n\n\n\n\n\n\nvar showLinkingToolbar = Object(_pm_plugins_linking__WEBPACK_IMPORTED_MODULE_1__[\"createMediaLinkingCommand\"])(function (state) {\n  var mediaLinkingState = Object(_pm_plugins_linking__WEBPACK_IMPORTED_MODULE_1__[\"getMediaLinkingState\"])(state);\n  if (mediaLinkingState && mediaLinkingState.mediaPos !== null) {\n    var mediaSingle = state.doc.nodeAt(mediaLinkingState.mediaPos);\n    if (mediaSingle) {\n      return {\n        type: _pm_plugins_linking_actions__WEBPACK_IMPORTED_MODULE_4__[\"MediaLinkingActionsTypes\"].showToolbar\n      };\n    }\n  }\n  return false;\n});\nvar showLinkingToolbarWithMediaTypeCheck = function showLinkingToolbarWithMediaTypeCheck(editorState, dispatch, editorView) {\n  if (dispatch && editorView) {\n    var mediaNode = Object(_utils_current_media_node__WEBPACK_IMPORTED_MODULE_6__[\"currentMediaNode\"])(editorState);\n    if (!mediaNode) {\n      return false;\n    }\n    var _getMediaPluginState = Object(_pm_plugins_main__WEBPACK_IMPORTED_MODULE_8__[\"getMediaPluginState\"])(editorState),\n      mediaClientConfig = _getMediaPluginState.mediaClientConfig;\n    if (!mediaClientConfig) {\n      return false;\n    }\n    Object(_utils_check_media_type__WEBPACK_IMPORTED_MODULE_7__[\"checkMediaType\"])(mediaNode, mediaClientConfig).then(function (mediaType) {\n      if ((mediaType === 'external' || mediaType === 'image') &&\n      // We make sure the selection and the node hasn't changed.\n      Object(_utils_current_media_node__WEBPACK_IMPORTED_MODULE_6__[\"currentMediaNode\"])(editorView.state) === mediaNode) {\n        dispatch(editorView.state.tr.setMeta(_pm_plugins_linking__WEBPACK_IMPORTED_MODULE_1__[\"mediaLinkingPluginKey\"], {\n          type: _pm_plugins_linking_actions__WEBPACK_IMPORTED_MODULE_4__[\"MediaLinkingActionsTypes\"].showToolbar\n        }));\n      }\n    });\n  }\n  return true;\n};\nvar hideLinkingToolbarCommand = Object(_pm_plugins_linking__WEBPACK_IMPORTED_MODULE_1__[\"createMediaLinkingCommand\"])({\n  type: _pm_plugins_linking_actions__WEBPACK_IMPORTED_MODULE_4__[\"MediaLinkingActionsTypes\"].hideToolbar\n});\nvar hideLinkingToolbar = function hideLinkingToolbar(state, dispatch, view) {\n  hideLinkingToolbarCommand(state, dispatch, view);\n\n  // restore focus on the editor so keyboard shortcuts aren't lost to the browser\n  if (view) {\n    view.focus();\n  }\n};\nfunction getCurrentUrl(state) {\n  var linkType = state.schema.marks.link;\n  var mediaLinkingState = Object(_pm_plugins_linking__WEBPACK_IMPORTED_MODULE_1__[\"getMediaLinkingState\"])(state);\n  if (!mediaLinkingState || mediaLinkingState.mediaPos === null) {\n    return;\n  }\n  var $pos = state.doc.resolve(mediaLinkingState.mediaPos);\n  var node = state.doc.nodeAt($pos.pos);\n  if (!node) {\n    return;\n  }\n  var hasLink = linkType.isInSet(node.marks);\n  if (!hasLink) {\n    return;\n  }\n  var link = node.marks.find(function (mark) {\n    return mark.type === linkType;\n  }); // Already check exist\n  var url = link.attrs.href;\n  return url;\n}\nfunction toggleLinkMark(tr, state, _ref) {\n  var _ref$forceRemove = _ref.forceRemove,\n    forceRemove = _ref$forceRemove === void 0 ? false : _ref$forceRemove,\n    url = _ref.url;\n  var mediaLinkingState = Object(_pm_plugins_linking__WEBPACK_IMPORTED_MODULE_1__[\"getMediaLinkingState\"])(state);\n  if (!mediaLinkingState || mediaLinkingState.mediaPos === null) {\n    return tr;\n  }\n  var $pos = state.doc.resolve(mediaLinkingState.mediaPos);\n  var node = state.doc.nodeAt($pos.pos);\n  if (!node) {\n    return tr;\n  }\n  var linkMark = state.schema.marks.link;\n  var media = state.schema.nodes.media;\n  var toggleBlockLinkMark = Object(_atlaskit_editor_core_commands__WEBPACK_IMPORTED_MODULE_3__[\"createToggleBlockMarkOnRange\"])(linkMark, function (prevAttrs, node) {\n    // Only add mark to media\n    if (!node || node.type !== media) {\n      return; //No op\n    }\n\n    if (forceRemove) {\n      return false;\n    }\n    var href = Object(_atlaskit_editor_core_plugins_hyperlink_utils__WEBPACK_IMPORTED_MODULE_2__[\"normalizeUrl\"])(url);\n    if (prevAttrs && prevAttrs.href === href) {\n      return; //No op\n    }\n\n    if (href.trim() === '') {\n      return false; // remove\n    }\n\n    return _objectSpread(_objectSpread({}, prevAttrs), {}, {\n      href: href\n    });\n  }, [media]);\n  toggleBlockLinkMark($pos.pos, $pos.pos + node.nodeSize, tr, state);\n  return tr;\n}\nvar fireAnalyticForMediaLink = function fireAnalyticForMediaLink(tr, state, action) {\n  var attributes = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : undefined;\n  return Object(_atlaskit_editor_core_plugins_analytics__WEBPACK_IMPORTED_MODULE_5__[\"addAnalytics\"])(state, tr, {\n    action: action,\n    eventType: _atlaskit_editor_core_plugins_analytics__WEBPACK_IMPORTED_MODULE_5__[\"EVENT_TYPE\"].TRACK,\n    actionSubject: _atlaskit_editor_core_plugins_analytics__WEBPACK_IMPORTED_MODULE_5__[\"ACTION_SUBJECT\"].MEDIA,\n    actionSubjectId: _atlaskit_editor_core_plugins_analytics__WEBPACK_IMPORTED_MODULE_5__[\"ACTION_SUBJECT_ID\"].LINK,\n    attributes: attributes\n  });\n};\nvar unlink = Object(_pm_plugins_linking__WEBPACK_IMPORTED_MODULE_1__[\"createMediaLinkingCommand\"])({\n  type: _pm_plugins_linking_actions__WEBPACK_IMPORTED_MODULE_4__[\"MediaLinkingActionsTypes\"].unlink\n}, function (tr, state) {\n  var transaction = toggleLinkMark(tr, state, {\n    forceRemove: true\n  });\n  return fireAnalyticForMediaLink(transaction, state, _atlaskit_editor_core_plugins_analytics__WEBPACK_IMPORTED_MODULE_5__[\"ACTION\"].DELETED);\n});\nvar getAction = function getAction(newUrl, state) {\n  var currentUrl = getCurrentUrl(state);\n  if (!currentUrl) {\n    return _atlaskit_editor_core_plugins_analytics__WEBPACK_IMPORTED_MODULE_5__[\"ACTION\"].ADDED;\n  } else if (newUrl !== currentUrl) {\n    return _atlaskit_editor_core_plugins_analytics__WEBPACK_IMPORTED_MODULE_5__[\"ACTION\"].EDITED;\n  }\n  return undefined;\n};\nvar setUrlToMedia = function setUrlToMedia(url, inputMethod) {\n  return Object(_pm_plugins_linking__WEBPACK_IMPORTED_MODULE_1__[\"createMediaLinkingCommand\"])({\n    type: _pm_plugins_linking_actions__WEBPACK_IMPORTED_MODULE_4__[\"MediaLinkingActionsTypes\"].setUrl,\n    payload: Object(_atlaskit_editor_core_plugins_hyperlink_utils__WEBPACK_IMPORTED_MODULE_2__[\"normalizeUrl\"])(url)\n  }, function (tr, state) {\n    var action = getAction(url, state);\n    if (!action) {\n      return tr;\n    }\n    try {\n      var toggleLinkMarkResult = toggleLinkMark(tr, state, {\n        url: url\n      });\n      fireAnalyticForMediaLink(tr, state, action, action === _atlaskit_editor_core_plugins_analytics__WEBPACK_IMPORTED_MODULE_5__[\"ACTION\"].ADDED ? {\n        inputMethod: inputMethod\n      } : undefined);\n      return toggleLinkMarkResult;\n    } catch (e) {\n      fireAnalyticForMediaLink(tr, state, _atlaskit_editor_core_plugins_analytics__WEBPACK_IMPORTED_MODULE_5__[\"ACTION\"].ERRORED, {\n        action: action\n      });\n      throw e;\n    }\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9tZWRpYS9jb21tYW5kcy9saW5raW5nLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbnMvbWVkaWEvY29tbWFuZHMvbGlua2luZy50cz9lYjFkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEVkaXRvclZpZXcgfSBmcm9tICdwcm9zZW1pcnJvci12aWV3J1xuaW1wb3J0IHtcbiAgY3JlYXRlTWVkaWFMaW5raW5nQ29tbWFuZCxcbiAgZ2V0TWVkaWFMaW5raW5nU3RhdGUsXG4gIG1lZGlhTGlua2luZ1BsdWdpbktleVxufSBmcm9tICcuLi9wbS1wbHVnaW5zL2xpbmtpbmcnXG5pbXBvcnQgeyBOb2RlLCBNYXJrVHlwZSB9IGZyb20gJ3Byb3NlbWlycm9yLW1vZGVsJ1xuaW1wb3J0IHsgbm9ybWFsaXplVXJsIH0gZnJvbSAnQGF0bGFza2l0L2VkaXRvci1jb3JlL3BsdWdpbnMvaHlwZXJsaW5rL3V0aWxzJ1xuaW1wb3J0IHsgQ29tbWFuZERpc3BhdGNoIH0gZnJvbSAnQGF0bGFza2l0L2VkaXRvci1jb3JlL3R5cGVzL2NvbW1hbmQnXG5pbXBvcnQgeyBjcmVhdGVUb2dnbGVCbG9ja01hcmtPblJhbmdlIH0gZnJvbSAnQGF0bGFza2l0L2VkaXRvci1jb3JlL2NvbW1hbmRzJ1xuaW1wb3J0IHsgTGlua0F0dHJpYnV0ZXMgfSBmcm9tICdAYXRsYXNraXQvYWRmLXNjaGVtYSdcbmltcG9ydCB7IE1lZGlhTGlua2luZ0FjdGlvbnNUeXBlcyB9IGZyb20gJy4uL3BtLXBsdWdpbnMvbGlua2luZy9hY3Rpb25zJ1xuaW1wb3J0IHsgRWRpdG9yU3RhdGUsIFRyYW5zYWN0aW9uIH0gZnJvbSAncHJvc2VtaXJyb3Itc3RhdGUnXG5pbXBvcnQge1xuICBhZGRBbmFseXRpY3MsXG4gIEVWRU5UX1RZUEUsXG4gIEFDVElPTixcbiAgQUNUSU9OX1NVQkpFQ1QsXG4gIEFDVElPTl9TVUJKRUNUX0lELFxuICBJTlBVVF9NRVRIT0QsXG4gIE1lZGlhTGlua0FFUFxufSBmcm9tICdAYXRsYXNraXQvZWRpdG9yLWNvcmUvcGx1Z2lucy9hbmFseXRpY3MnXG5pbXBvcnQgeyBjdXJyZW50TWVkaWFOb2RlIH0gZnJvbSAnLi4vdXRpbHMvY3VycmVudC1tZWRpYS1ub2RlJ1xuaW1wb3J0IHsgY2hlY2tNZWRpYVR5cGUgfSBmcm9tICcuLi91dGlscy9jaGVjay1tZWRpYS10eXBlJ1xuaW1wb3J0IHsgZ2V0TWVkaWFQbHVnaW5TdGF0ZSB9IGZyb20gJy4uL3BtLXBsdWdpbnMvbWFpbidcbmltcG9ydCB7IENvbW1hbmQgfSBmcm9tICdAYXRsYXNraXQvZWRpdG9yLWNvcmUvdHlwZXMnXG5cbmV4cG9ydCBjb25zdCBzaG93TGlua2luZ1Rvb2xiYXIgPSBjcmVhdGVNZWRpYUxpbmtpbmdDb21tYW5kKHN0YXRlID0+IHtcbiAgY29uc3QgbWVkaWFMaW5raW5nU3RhdGUgPSBnZXRNZWRpYUxpbmtpbmdTdGF0ZShzdGF0ZSlcbiAgaWYgKG1lZGlhTGlua2luZ1N0YXRlICYmIG1lZGlhTGlua2luZ1N0YXRlLm1lZGlhUG9zICE9PSBudWxsKSB7XG4gICAgY29uc3QgbWVkaWFTaW5nbGUgPSBzdGF0ZS5kb2Mubm9kZUF0KG1lZGlhTGlua2luZ1N0YXRlLm1lZGlhUG9zKVxuICAgIGlmIChtZWRpYVNpbmdsZSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogTWVkaWFMaW5raW5nQWN0aW9uc1R5cGVzLnNob3dUb29sYmFyXG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZVxufSlcblxuZXhwb3J0IGNvbnN0IHNob3dMaW5raW5nVG9vbGJhcldpdGhNZWRpYVR5cGVDaGVjazogQ29tbWFuZCA9IChcbiAgZWRpdG9yU3RhdGUsXG4gIGRpc3BhdGNoLFxuICBlZGl0b3JWaWV3XG4pID0+IHtcbiAgaWYgKGRpc3BhdGNoICYmIGVkaXRvclZpZXcpIHtcbiAgICBjb25zdCBtZWRpYU5vZGUgPSBjdXJyZW50TWVkaWFOb2RlKGVkaXRvclN0YXRlKVxuXG4gICAgaWYgKCFtZWRpYU5vZGUpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIGNvbnN0IHsgbWVkaWFDbGllbnRDb25maWcgfSA9IGdldE1lZGlhUGx1Z2luU3RhdGUoZWRpdG9yU3RhdGUpXG5cbiAgICBpZiAoIW1lZGlhQ2xpZW50Q29uZmlnKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBjaGVja01lZGlhVHlwZShtZWRpYU5vZGUsIG1lZGlhQ2xpZW50Q29uZmlnKS50aGVuKG1lZGlhVHlwZSA9PiB7XG4gICAgICBpZiAoXG4gICAgICAgIChtZWRpYVR5cGUgPT09ICdleHRlcm5hbCcgfHwgbWVkaWFUeXBlID09PSAnaW1hZ2UnKSAmJlxuICAgICAgICAvLyBXZSBtYWtlIHN1cmUgdGhlIHNlbGVjdGlvbiBhbmQgdGhlIG5vZGUgaGFzbid0IGNoYW5nZWQuXG4gICAgICAgIGN1cnJlbnRNZWRpYU5vZGUoZWRpdG9yVmlldy5zdGF0ZSkgPT09IG1lZGlhTm9kZVxuICAgICAgKSB7XG4gICAgICAgIGRpc3BhdGNoKFxuICAgICAgICAgIGVkaXRvclZpZXcuc3RhdGUudHIuc2V0TWV0YShtZWRpYUxpbmtpbmdQbHVnaW5LZXksIHtcbiAgICAgICAgICAgIHR5cGU6IE1lZGlhTGlua2luZ0FjdGlvbnNUeXBlcy5zaG93VG9vbGJhclxuICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgIH1cbiAgICB9KVxuICB9XG4gIHJldHVybiB0cnVlXG59XG5cbmNvbnN0IGhpZGVMaW5raW5nVG9vbGJhckNvbW1hbmQgPSBjcmVhdGVNZWRpYUxpbmtpbmdDb21tYW5kKHtcbiAgdHlwZTogTWVkaWFMaW5raW5nQWN0aW9uc1R5cGVzLmhpZGVUb29sYmFyXG59KVxuZXhwb3J0IGNvbnN0IGhpZGVMaW5raW5nVG9vbGJhciA9IChcbiAgc3RhdGU6IEVkaXRvclN0YXRlLFxuICBkaXNwYXRjaD86IENvbW1hbmREaXNwYXRjaCxcbiAgdmlldz86IEVkaXRvclZpZXdcbikgPT4ge1xuICBoaWRlTGlua2luZ1Rvb2xiYXJDb21tYW5kKHN0YXRlLCBkaXNwYXRjaCwgdmlldylcblxuICAvLyByZXN0b3JlIGZvY3VzIG9uIHRoZSBlZGl0b3Igc28ga2V5Ym9hcmQgc2hvcnRjdXRzIGFyZW4ndCBsb3N0IHRvIHRoZSBicm93c2VyXG4gIGlmICh2aWV3KSB7XG4gICAgdmlldy5mb2N1cygpXG4gIH1cbn1cblxuaW50ZXJmYWNlIENyZWF0ZVRvZ2dsZUxpbmtNYXJrT3B0aW9ucyB7XG4gIGZvcmNlUmVtb3ZlPzogYm9vbGVhblxuICB1cmw/OiBzdHJpbmdcbn1cbmZ1bmN0aW9uIGdldEN1cnJlbnRVcmwoc3RhdGU6IEVkaXRvclN0YXRlKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgY29uc3QgeyBsaW5rOiBsaW5rVHlwZSB9OiB7IGxpbms6IE1hcmtUeXBlIH0gPSBzdGF0ZS5zY2hlbWEubWFya3NcbiAgY29uc3QgbWVkaWFMaW5raW5nU3RhdGUgPSBnZXRNZWRpYUxpbmtpbmdTdGF0ZShzdGF0ZSlcbiAgaWYgKCFtZWRpYUxpbmtpbmdTdGF0ZSB8fCBtZWRpYUxpbmtpbmdTdGF0ZS5tZWRpYVBvcyA9PT0gbnVsbCkge1xuICAgIHJldHVyblxuICB9XG4gIGNvbnN0ICRwb3MgPSBzdGF0ZS5kb2MucmVzb2x2ZShtZWRpYUxpbmtpbmdTdGF0ZS5tZWRpYVBvcylcbiAgY29uc3Qgbm9kZSA9IHN0YXRlLmRvYy5ub2RlQXQoJHBvcy5wb3MpIGFzIE5vZGVcblxuICBpZiAoIW5vZGUpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIGNvbnN0IGhhc0xpbmsgPSBsaW5rVHlwZS5pc0luU2V0KG5vZGUubWFya3MpXG4gIGlmICghaGFzTGluaykge1xuICAgIHJldHVyblxuICB9XG4gIGNvbnN0IGxpbmsgPSBub2RlLm1hcmtzLmZpbmQobWFyayA9PiBtYXJrLnR5cGUgPT09IGxpbmtUeXBlKSEgLy8gQWxyZWFkeSBjaGVjayBleGlzdFxuICBjb25zdCB1cmwgPSAobGluay5hdHRycyBhcyBMaW5rQXR0cmlidXRlcykuaHJlZlxuXG4gIHJldHVybiB1cmxcbn1cblxuZnVuY3Rpb24gdG9nZ2xlTGlua01hcmsoXG4gIHRyOiBUcmFuc2FjdGlvbixcbiAgc3RhdGU6IEVkaXRvclN0YXRlLFxuICB7IGZvcmNlUmVtb3ZlID0gZmFsc2UsIHVybCB9OiBDcmVhdGVUb2dnbGVMaW5rTWFya09wdGlvbnNcbikge1xuICBjb25zdCBtZWRpYUxpbmtpbmdTdGF0ZSA9IGdldE1lZGlhTGlua2luZ1N0YXRlKHN0YXRlKVxuICBpZiAoIW1lZGlhTGlua2luZ1N0YXRlIHx8IG1lZGlhTGlua2luZ1N0YXRlLm1lZGlhUG9zID09PSBudWxsKSB7XG4gICAgcmV0dXJuIHRyXG4gIH1cbiAgY29uc3QgJHBvcyA9IHN0YXRlLmRvYy5yZXNvbHZlKG1lZGlhTGlua2luZ1N0YXRlLm1lZGlhUG9zKVxuICBjb25zdCBub2RlID0gc3RhdGUuZG9jLm5vZGVBdCgkcG9zLnBvcykgYXMgTm9kZVxuXG4gIGlmICghbm9kZSkge1xuICAgIHJldHVybiB0clxuICB9XG5cbiAgY29uc3QgbGlua01hcmsgPSBzdGF0ZS5zY2hlbWEubWFya3MubGlua1xuICBjb25zdCB7IG1lZGlhIH0gPSBzdGF0ZS5zY2hlbWEubm9kZXNcbiAgY29uc3QgdG9nZ2xlQmxvY2tMaW5rTWFyayA9IGNyZWF0ZVRvZ2dsZUJsb2NrTWFya09uUmFuZ2U8TGlua0F0dHJpYnV0ZXM+KFxuICAgIGxpbmtNYXJrLFxuICAgIChwcmV2QXR0cnMsIG5vZGUpID0+IHtcbiAgICAgIC8vIE9ubHkgYWRkIG1hcmsgdG8gbWVkaWFcbiAgICAgIGlmICghbm9kZSB8fCBub2RlLnR5cGUgIT09IG1lZGlhKSB7XG4gICAgICAgIHJldHVybiAvL05vIG9wXG4gICAgICB9XG4gICAgICBpZiAoZm9yY2VSZW1vdmUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgICBjb25zdCBocmVmID0gbm9ybWFsaXplVXJsKHVybClcblxuICAgICAgaWYgKHByZXZBdHRycyAmJiBwcmV2QXR0cnMuaHJlZiA9PT0gaHJlZikge1xuICAgICAgICByZXR1cm4gLy9ObyBvcFxuICAgICAgfVxuXG4gICAgICBpZiAoaHJlZi50cmltKCkgPT09ICcnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZSAvLyByZW1vdmVcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ucHJldkF0dHJzLFxuICAgICAgICBocmVmOiBocmVmXG4gICAgICB9XG4gICAgfSxcbiAgICBbbWVkaWFdXG4gIClcbiAgdG9nZ2xlQmxvY2tMaW5rTWFyaygkcG9zLnBvcywgJHBvcy5wb3MgKyBub2RlLm5vZGVTaXplLCB0ciwgc3RhdGUpXG5cbiAgcmV0dXJuIHRyXG59XG5cbmNvbnN0IGZpcmVBbmFseXRpY0Zvck1lZGlhTGluayA9IDxUIGV4dGVuZHMgTWVkaWFMaW5rQUVQPihcbiAgdHI6IFRyYW5zYWN0aW9uLFxuICBzdGF0ZTogRWRpdG9yU3RhdGUsXG4gIGFjdGlvbjogVFsnYWN0aW9uJ10sXG4gIGF0dHJpYnV0ZXM6IFRbJ2F0dHJpYnV0ZXMnXSA9IHVuZGVmaW5lZFxuKSA9PiB7XG4gIHJldHVybiBhZGRBbmFseXRpY3Moc3RhdGUsIHRyLCB7XG4gICAgYWN0aW9uLFxuICAgIGV2ZW50VHlwZTogRVZFTlRfVFlQRS5UUkFDSyxcbiAgICBhY3Rpb25TdWJqZWN0OiBBQ1RJT05fU1VCSkVDVC5NRURJQSxcbiAgICBhY3Rpb25TdWJqZWN0SWQ6IEFDVElPTl9TVUJKRUNUX0lELkxJTkssXG4gICAgYXR0cmlidXRlc1xuICB9KVxufVxuXG5leHBvcnQgY29uc3QgdW5saW5rID0gY3JlYXRlTWVkaWFMaW5raW5nQ29tbWFuZChcbiAge1xuICAgIHR5cGU6IE1lZGlhTGlua2luZ0FjdGlvbnNUeXBlcy51bmxpbmtcbiAgfSxcbiAgKHRyLCBzdGF0ZSkgPT4ge1xuICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gdG9nZ2xlTGlua01hcmsodHIsIHN0YXRlLCB7IGZvcmNlUmVtb3ZlOiB0cnVlIH0pXG4gICAgcmV0dXJuIGZpcmVBbmFseXRpY0Zvck1lZGlhTGluayh0cmFuc2FjdGlvbiwgc3RhdGUsIEFDVElPTi5ERUxFVEVEKVxuICB9XG4pXG5cbmNvbnN0IGdldEFjdGlvbiA9IChuZXdVcmw6IHN0cmluZywgc3RhdGU6IEVkaXRvclN0YXRlKSA9PiB7XG4gIGNvbnN0IGN1cnJlbnRVcmwgPSBnZXRDdXJyZW50VXJsKHN0YXRlKVxuICBpZiAoIWN1cnJlbnRVcmwpIHtcbiAgICByZXR1cm4gQUNUSU9OLkFEREVEXG4gIH0gZWxzZSBpZiAobmV3VXJsICE9PSBjdXJyZW50VXJsKSB7XG4gICAgcmV0dXJuIEFDVElPTi5FRElURURcbiAgfVxuICByZXR1cm4gdW5kZWZpbmVkXG59XG5cbmV4cG9ydCBjb25zdCBzZXRVcmxUb01lZGlhID0gKFxuICB1cmw6IHN0cmluZyxcbiAgaW5wdXRNZXRob2Q6IElOUFVUX01FVEhPRC5UWVBFQUhFQUQgfCBJTlBVVF9NRVRIT0QuTUFOVUFMXG4pID0+XG4gIGNyZWF0ZU1lZGlhTGlua2luZ0NvbW1hbmQoXG4gICAge1xuICAgICAgdHlwZTogTWVkaWFMaW5raW5nQWN0aW9uc1R5cGVzLnNldFVybCxcbiAgICAgIHBheWxvYWQ6IG5vcm1hbGl6ZVVybCh1cmwpXG4gICAgfSxcbiAgICAodHIsIHN0YXRlKSA9PiB7XG4gICAgICBjb25zdCBhY3Rpb24gPSBnZXRBY3Rpb24odXJsLCBzdGF0ZSlcbiAgICAgIGlmICghYWN0aW9uKSB7XG4gICAgICAgIHJldHVybiB0clxuICAgICAgfVxuXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB0b2dnbGVMaW5rTWFya1Jlc3VsdCA9IHRvZ2dsZUxpbmtNYXJrKHRyLCBzdGF0ZSwgeyB1cmw6IHVybCB9KVxuICAgICAgICBmaXJlQW5hbHl0aWNGb3JNZWRpYUxpbmsoXG4gICAgICAgICAgdHIsXG4gICAgICAgICAgc3RhdGUsXG4gICAgICAgICAgYWN0aW9uLFxuICAgICAgICAgIGFjdGlvbiA9PT0gQUNUSU9OLkFEREVEID8geyBpbnB1dE1ldGhvZCB9IDogdW5kZWZpbmVkXG4gICAgICAgIClcbiAgICAgICAgcmV0dXJuIHRvZ2dsZUxpbmtNYXJrUmVzdWx0XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGZpcmVBbmFseXRpY0Zvck1lZGlhTGluayh0ciwgc3RhdGUsIEFDVElPTi5FUlJPUkVELCB7XG4gICAgICAgICAgYWN0aW9uOiBhY3Rpb25cbiAgICAgICAgfSlcbiAgICAgICAgdGhyb3cgZVxuICAgICAgfVxuICAgIH1cbiAgKVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQ0E7QUFNQTtBQUVBO0FBRUE7QUFFQTtBQVNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBS0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFJQTtBQURBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBRUE7QUFHQTtBQUVBO0FBQ0E7QUFFQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBSUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBSUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/plugins/media/commands/linking.ts\n");

/***/ }),

/***/ "./src/plugins/media/commands/media-editor.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"openMediaEditor\", function() { return openMediaEditor; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"closeMediaEditor\", function() { return closeMediaEditor; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setMediaClientConfig\", function() { return setMediaClientConfig; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"uploadAnnotation\", function() { return uploadAnnotation; });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _pm_plugins_media_editor_plugin_factory__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./src/plugins/media/pm-plugins/media-editor-plugin-factory.ts\");\n\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n\nvar openMediaEditor = function openMediaEditor(pos, identifier) {\n  return Object(_pm_plugins_media_editor_plugin_factory__WEBPACK_IMPORTED_MODULE_1__[\"createCommand\"])({\n    type: 'open',\n    identifier: identifier,\n    pos: pos\n  });\n};\nvar closeMediaEditor = function closeMediaEditor() {\n  return Object(_pm_plugins_media_editor_plugin_factory__WEBPACK_IMPORTED_MODULE_1__[\"createCommand\"])({\n    type: 'close'\n  });\n};\nvar setMediaClientConfig = function setMediaClientConfig(mediaClientConfig) {\n  return Object(_pm_plugins_media_editor_plugin_factory__WEBPACK_IMPORTED_MODULE_1__[\"createCommand\"])({\n    type: 'setMediaClientConfig',\n    mediaClientConfig: mediaClientConfig\n  });\n};\nvar uploadAnnotation = function uploadAnnotation(newIdentifier, newDimensions) {\n  return Object(_pm_plugins_media_editor_plugin_factory__WEBPACK_IMPORTED_MODULE_1__[\"createCommand\"])({\n    type: 'upload',\n    newIdentifier: newIdentifier\n  }, function (tr, state) {\n    var editingMedia = Object(_pm_plugins_media_editor_plugin_factory__WEBPACK_IMPORTED_MODULE_1__[\"getPluginState\"])(state).editor;\n    if (!editingMedia) {\n      return tr;\n    }\n\n    // remap pos across transactions being applied\n    var pos = tr.mapping.map(editingMedia.pos);\n\n    // get the old media node to copy attributes; ensure it's still media\n    var oldMediaNode = tr.doc.nodeAt(pos);\n    var media = state.schema.nodes.media;\n    if (!oldMediaNode || oldMediaNode.type !== media) {\n      return tr;\n    }\n\n    // update attributes\n    var attrs = _objectSpread(_objectSpread({}, oldMediaNode.attrs), {}, {\n      // @atlaskit/media-editor always gives id as string (better types would be nice...)\n      id: newIdentifier.id,\n      collection: newIdentifier.collectionName || oldMediaNode.attrs.collection,\n      occurrenceKey: newIdentifier.occurrenceKey,\n      width: newDimensions.width,\n      height: newDimensions.height\n    });\n    return tr.setNodeMarkup(pos, undefined, attrs);\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9tZWRpYS9jb21tYW5kcy9tZWRpYS1lZGl0b3IudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2lucy9tZWRpYS9jb21tYW5kcy9tZWRpYS1lZGl0b3IudHM/MmQ5ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNZWRpYUNsaWVudENvbmZpZyB9IGZyb20gJ0BhdGxhc2tpdC9tZWRpYS1jb3JlJ1xuaW1wb3J0IHsgRmlsZUlkZW50aWZpZXIgfSBmcm9tICdAYXRsYXNraXQvbWVkaWEtY2xpZW50J1xuaW1wb3J0IHsgTWVkaWFCYXNlQXR0cmlidXRlcyB9IGZyb20gJ0BhdGxhc2tpdC9hZGYtc2NoZW1hJ1xuaW1wb3J0IHsgRGltZW5zaW9ucyB9IGZyb20gJ0BhdGxhc2tpdC9tZWRpYS1lZGl0b3InXG5pbXBvcnQge1xuICBjcmVhdGVDb21tYW5kLFxuICBnZXRQbHVnaW5TdGF0ZVxufSBmcm9tICcuLi9wbS1wbHVnaW5zL21lZGlhLWVkaXRvci1wbHVnaW4tZmFjdG9yeSdcblxuZXhwb3J0IGNvbnN0IG9wZW5NZWRpYUVkaXRvciA9IChwb3M6IG51bWJlciwgaWRlbnRpZmllcjogRmlsZUlkZW50aWZpZXIpID0+XG4gIGNyZWF0ZUNvbW1hbmQoe1xuICAgIHR5cGU6ICdvcGVuJyxcbiAgICBpZGVudGlmaWVyLFxuICAgIHBvc1xuICB9KVxuXG5leHBvcnQgY29uc3QgY2xvc2VNZWRpYUVkaXRvciA9ICgpID0+XG4gIGNyZWF0ZUNvbW1hbmQoe1xuICAgIHR5cGU6ICdjbG9zZSdcbiAgfSlcblxuZXhwb3J0IGNvbnN0IHNldE1lZGlhQ2xpZW50Q29uZmlnID0gKG1lZGlhQ2xpZW50Q29uZmlnPzogTWVkaWFDbGllbnRDb25maWcpID0+XG4gIGNyZWF0ZUNvbW1hbmQoe1xuICAgIHR5cGU6ICdzZXRNZWRpYUNsaWVudENvbmZpZycsXG4gICAgbWVkaWFDbGllbnRDb25maWdcbiAgfSlcblxuZXhwb3J0IGNvbnN0IHVwbG9hZEFubm90YXRpb24gPSAoXG4gIG5ld0lkZW50aWZpZXI6IEZpbGVJZGVudGlmaWVyLFxuICBuZXdEaW1lbnNpb25zOiBEaW1lbnNpb25zXG4pID0+XG4gIGNyZWF0ZUNvbW1hbmQoXG4gICAge1xuICAgICAgdHlwZTogJ3VwbG9hZCcsXG4gICAgICBuZXdJZGVudGlmaWVyXG4gICAgfSxcbiAgICAodHIsIHN0YXRlKSA9PiB7XG4gICAgICBjb25zdCBlZGl0aW5nTWVkaWEgPSBnZXRQbHVnaW5TdGF0ZShzdGF0ZSkuZWRpdG9yXG4gICAgICBpZiAoIWVkaXRpbmdNZWRpYSkge1xuICAgICAgICByZXR1cm4gdHJcbiAgICAgIH1cblxuICAgICAgLy8gcmVtYXAgcG9zIGFjcm9zcyB0cmFuc2FjdGlvbnMgYmVpbmcgYXBwbGllZFxuICAgICAgY29uc3QgcG9zID0gdHIubWFwcGluZy5tYXAoZWRpdGluZ01lZGlhLnBvcylcblxuICAgICAgLy8gZ2V0IHRoZSBvbGQgbWVkaWEgbm9kZSB0byBjb3B5IGF0dHJpYnV0ZXM7IGVuc3VyZSBpdCdzIHN0aWxsIG1lZGlhXG4gICAgICBjb25zdCBvbGRNZWRpYU5vZGUgPSB0ci5kb2Mubm9kZUF0KHBvcylcbiAgICAgIGNvbnN0IHsgbWVkaWEgfSA9IHN0YXRlLnNjaGVtYS5ub2Rlc1xuICAgICAgaWYgKCFvbGRNZWRpYU5vZGUgfHwgb2xkTWVkaWFOb2RlLnR5cGUgIT09IG1lZGlhKSB7XG4gICAgICAgIHJldHVybiB0clxuICAgICAgfVxuXG4gICAgICAvLyB1cGRhdGUgYXR0cmlidXRlc1xuICAgICAgY29uc3QgYXR0cnM6IE1lZGlhQmFzZUF0dHJpYnV0ZXMgPSB7XG4gICAgICAgIC4uLm9sZE1lZGlhTm9kZS5hdHRycyxcblxuICAgICAgICAvLyBAYXRsYXNraXQvbWVkaWEtZWRpdG9yIGFsd2F5cyBnaXZlcyBpZCBhcyBzdHJpbmcgKGJldHRlciB0eXBlcyB3b3VsZCBiZSBuaWNlLi4uKVxuICAgICAgICBpZDogbmV3SWRlbnRpZmllci5pZCBhcyBzdHJpbmcsXG4gICAgICAgIGNvbGxlY3Rpb246XG4gICAgICAgICAgbmV3SWRlbnRpZmllci5jb2xsZWN0aW9uTmFtZSB8fCBvbGRNZWRpYU5vZGUuYXR0cnMuY29sbGVjdGlvbixcbiAgICAgICAgb2NjdXJyZW5jZUtleTogbmV3SWRlbnRpZmllci5vY2N1cnJlbmNlS2V5LFxuXG4gICAgICAgIHdpZHRoOiBuZXdEaW1lbnNpb25zLndpZHRoLFxuICAgICAgICBoZWlnaHQ6IG5ld0RpbWVuc2lvbnMuaGVpZ2h0XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0ci5zZXROb2RlTWFya3VwKHBvcywgdW5kZWZpbmVkLCBhdHRycylcbiAgICB9XG4gIClcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFJQTtBQUtBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUVBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBRUE7QUFJQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/plugins/media/commands/media-editor.ts\n");

/***/ }),

/***/ "./src/plugins/media/index.tsx":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _atlaskit_adf_schema__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/@atlaskit/editor-common/node_modules/@atlaskit/adf-schema/dist/esm/index.js\");\n/* harmony import */ var _pm_plugins_main__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./src/plugins/media/pm-plugins/main.ts\");\n/* harmony import */ var _pm_plugins_media_editor__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./src/plugins/media/pm-plugins/media-editor.ts\");\n/* harmony import */ var _pm_plugins_media_editor_plugin_factory__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./src/plugins/media/pm-plugins/media-editor-plugin-factory.ts\");\n/* harmony import */ var _pm_plugins_alt_text__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./src/plugins/media/pm-plugins/alt-text/index.ts\");\n/* harmony import */ var _pm_plugins_alt_text_keymap__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./src/plugins/media/pm-plugins/alt-text/keymap.ts\");\n/* harmony import */ var _pm_plugins_keymap_media_single__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./src/plugins/media/pm-plugins/keymap-media-single.ts\");\n/* harmony import */ var _pm_plugins_linking_keymap__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"./src/plugins/media/pm-plugins/linking/keymap.ts\");\n/* harmony import */ var _pm_plugins_keymap__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"./src/plugins/media/pm-plugins/keymap.ts\");\n/* harmony import */ var _pm_plugins_linking__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"./src/plugins/media/pm-plugins/linking/index.ts\");\n/* harmony import */ var _ui_ToolbarMedia__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"./src/plugins/media/ui/ToolbarMedia/index.tsx\");\n/* harmony import */ var _nodeviews_mediaGroup__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"./src/plugins/media/nodeviews/mediaGroup.tsx\");\n/* harmony import */ var _nodeviews_mediaSingle__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(\"./src/plugins/media/nodeviews/mediaSingle.tsx\");\n/* harmony import */ var _toolbar__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(\"./src/plugins/media/toolbar/index.tsx\");\n/* harmony import */ var _atlaskit_editor_core_plugins_analytics__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/plugins/analytics/index.ts\");\n/* harmony import */ var _atlaskit_editor_core_plugins_quick_insert_assets__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/plugins/quick-insert/assets/index.tsx\");\n/* harmony import */ var _atlaskit_editor_core_ui_WithPluginState__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/ui/WithPluginState/index.tsx\");\n/* harmony import */ var _ui_MediaEditor__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(\"./src/plugins/media/ui/MediaEditor.tsx\");\n/* harmony import */ var _ui_MediaPicker__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(\"./src/plugins/media/ui/MediaPicker/index.tsx\");\n/* harmony import */ var _atlaskit_editor_core_plugins_insert_block_ui_ToolbarInsertBlock_messages__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/plugins/insert-block/ui/ToolbarInsertBlock/messages.ts\");\n/* harmony import */ var _nodeviews_mediaNodeView__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(\"./src/plugins/media/nodeviews/mediaNodeView/index.tsx\");\n/* harmony import */ var config_cozy_media_options__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(\"./src/config/cozy-media-options.ts\");\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(\"./src/plugins/media/types.ts\");\n/* empty/unused harmony star reexport *//* harmony import */ var _utils_media_single__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(\"./src/plugins/media/utils/media-single.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"insertMediaSingleNode\", function() { return _utils_media_single__WEBPACK_IMPORTED_MODULE_25__[\"insertMediaSingleNode\"]; });\n\n\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar mediaPlugin = function mediaPlugin(options) {\n  return {\n    name: 'media',\n    nodes: function nodes() {\n      var _ref = options || {},\n        _ref$allowMediaGroup = _ref.allowMediaGroup,\n        allowMediaGroup = _ref$allowMediaGroup === void 0 ? true : _ref$allowMediaGroup,\n        _ref$allowMediaSingle = _ref.allowMediaSingle,\n        allowMediaSingle = _ref$allowMediaSingle === void 0 ? false : _ref$allowMediaSingle,\n        _ref$UNSAFE_allowImag = _ref.UNSAFE_allowImageCaptions,\n        UNSAFE_allowImageCaptions = _ref$UNSAFE_allowImag === void 0 ? false : _ref$UNSAFE_allowImag;\n      var mediaSingleNode = UNSAFE_allowImageCaptions ? _atlaskit_adf_schema__WEBPACK_IMPORTED_MODULE_2__[\"mediaSingleWithCaption\"] : _atlaskit_adf_schema__WEBPACK_IMPORTED_MODULE_2__[\"mediaSingle\"];\n      return [{\n        name: 'mediaGroup',\n        node: _atlaskit_adf_schema__WEBPACK_IMPORTED_MODULE_2__[\"mediaGroup\"]\n      }, {\n        name: 'mediaSingle',\n        node: mediaSingleNode\n      }, {\n        name: 'media',\n        node: _atlaskit_adf_schema__WEBPACK_IMPORTED_MODULE_2__[\"media\"]\n      }].filter(function (node) {\n        if (node.name === 'mediaGroup') {\n          return allowMediaGroup;\n        }\n        if (node.name === 'mediaSingle') {\n          return allowMediaSingle;\n        }\n        return true;\n      });\n    },\n    pmPlugins: function pmPlugins() {\n      var pmPlugins = [{\n        name: 'media',\n        plugin: function plugin(_ref2) {\n          var schema = _ref2.schema,\n            dispatch = _ref2.dispatch,\n            eventDispatcher = _ref2.eventDispatcher,\n            providerFactory = _ref2.providerFactory,\n            errorReporter = _ref2.errorReporter,\n            portalProviderAPI = _ref2.portalProviderAPI,\n            reactContext = _ref2.reactContext,\n            dispatchAnalyticsEvent = _ref2.dispatchAnalyticsEvent;\n          return Object(_pm_plugins_main__WEBPACK_IMPORTED_MODULE_3__[\"createPlugin\"])(schema, {\n            providerFactory: providerFactory,\n            nodeViews: {\n              mediaGroup: Object(_nodeviews_mediaGroup__WEBPACK_IMPORTED_MODULE_13__[\"ReactMediaGroupNode\"])(portalProviderAPI, eventDispatcher, providerFactory, options),\n              mediaSingle: Object(_nodeviews_mediaSingle__WEBPACK_IMPORTED_MODULE_14__[\"ReactMediaSingleNode\"])(portalProviderAPI, eventDispatcher, providerFactory, dispatchAnalyticsEvent, options),\n              media: Object(_nodeviews_mediaNodeView__WEBPACK_IMPORTED_MODULE_22__[\"ReactMediaNode\"])(portalProviderAPI, eventDispatcher, providerFactory, options)\n            },\n            errorReporter: errorReporter,\n            uploadErrorHandler: options && options.uploadErrorHandler,\n            waitForMediaUpload: options && options.waitForMediaUpload,\n            customDropzoneContainer: options && options.customDropzoneContainer,\n            customMediaPicker: options && options.customMediaPicker,\n            allowResizing: !!(options && options.allowResizing)\n          }, reactContext, dispatch, options);\n        }\n      }, {\n        name: 'mediaKeymap',\n        plugin: function plugin() {\n          return Object(_pm_plugins_keymap__WEBPACK_IMPORTED_MODULE_10__[\"default\"])();\n        }\n      }];\n      if (options && options.allowMediaSingle) {\n        pmPlugins.push({\n          name: 'mediaSingleKeymap',\n          plugin: function plugin(_ref3) {\n            var schema = _ref3.schema;\n            return Object(_pm_plugins_keymap_media_single__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(schema);\n          }\n        });\n      }\n      if (options && options.allowAnnotation) {\n        pmPlugins.push({\n          name: 'mediaEditor',\n          plugin: _pm_plugins_media_editor__WEBPACK_IMPORTED_MODULE_4__[\"createPlugin\"]\n        });\n      }\n      if (options && options.allowAltTextOnImages) {\n        pmPlugins.push({\n          name: 'mediaAltText',\n          plugin: _pm_plugins_alt_text__WEBPACK_IMPORTED_MODULE_6__[\"createPlugin\"]\n        });\n        pmPlugins.push({\n          name: 'mediaAltTextKeymap',\n          plugin: function plugin(_ref4) {\n            var schema = _ref4.schema;\n            return Object(_pm_plugins_alt_text_keymap__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(schema);\n          }\n        });\n      }\n      if (options && options.allowLinking) {\n        pmPlugins.push({\n          name: 'mediaLinking',\n          plugin: function plugin(_ref5) {\n            var dispatch = _ref5.dispatch;\n            return Object(_pm_plugins_linking__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(dispatch);\n          }\n        });\n        pmPlugins.push({\n          name: 'mediaLinkingKeymap',\n          plugin: function plugin(_ref6) {\n            var schema = _ref6.schema;\n            return Object(_pm_plugins_linking_keymap__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(schema);\n          }\n        });\n      }\n      return pmPlugins;\n    },\n    contentComponent: function contentComponent(_ref7) {\n      var editorView = _ref7.editorView,\n        eventDispatcher = _ref7.eventDispatcher;\n      // render MediaEditor separately because it doesn't depend on media plugin state\n      // so we can utilise EventDispatcher-based rerendering\n      var mediaEditor = options && options.allowAnnotation ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_atlaskit_editor_core_ui_WithPluginState__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n        editorView: editorView,\n        plugins: {\n          mediaEditorState: _pm_plugins_media_editor_plugin_factory__WEBPACK_IMPORTED_MODULE_5__[\"pluginKey\"]\n        },\n        eventDispatcher: eventDispatcher,\n        render: function render(_ref8) {\n          var mediaEditorState = _ref8.mediaEditorState;\n          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_ui_MediaEditor__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n            mediaEditorState: mediaEditorState,\n            view: editorView\n          });\n        }\n      }) : null;\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_atlaskit_editor_core_ui_WithPluginState__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n        editorView: editorView,\n        plugins: {\n          mediaState: _pm_plugins_main__WEBPACK_IMPORTED_MODULE_3__[\"stateKey\"]\n        },\n        render: function render(_ref9) {\n          var mediaState = _ref9.mediaState;\n          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_ui_MediaPicker__WEBPACK_IMPORTED_MODULE_20__[\"MediaPickerComponents\"], {\n            mediaState: mediaState\n          });\n        }\n      }), mediaEditor);\n    },\n    secondaryToolbarComponent: function secondaryToolbarComponent(_ref10) {\n      var editorView = _ref10.editorView,\n        eventDispatcher = _ref10.eventDispatcher,\n        disabled = _ref10.disabled;\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_ui_ToolbarMedia__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n        editorView: editorView,\n        eventDispatcher: eventDispatcher,\n        pluginKey: _pm_plugins_main__WEBPACK_IMPORTED_MODULE_3__[\"stateKey\"],\n        isDisabled: disabled,\n        isReducedSpacing: true\n      });\n    },\n    pluginsOptions: {\n      quickInsert: function quickInsert(_ref11) {\n        var formatMessage = _ref11.formatMessage;\n        return [{\n          id: 'media',\n          title: formatMessage(_atlaskit_editor_core_plugins_insert_block_ui_ToolbarInsertBlock_messages__WEBPACK_IMPORTED_MODULE_21__[\"messages\"].filesAndImages),\n          description: formatMessage(_atlaskit_editor_core_plugins_insert_block_ui_ToolbarInsertBlock_messages__WEBPACK_IMPORTED_MODULE_21__[\"messages\"].filesAndImagesDescription),\n          priority: 400,\n          keywords: ['attachment', 'gif', 'media', 'picture'],\n          icon: function icon() {\n            return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_atlaskit_editor_core_plugins_quick_insert_assets__WEBPACK_IMPORTED_MODULE_17__[\"IconImages\"], {\n              label: formatMessage(_atlaskit_editor_core_plugins_insert_block_ui_ToolbarInsertBlock_messages__WEBPACK_IMPORTED_MODULE_21__[\"messages\"].filesAndImages)\n            });\n          },\n          action: function action(insert, state) {\n            var pluginState = _pm_plugins_main__WEBPACK_IMPORTED_MODULE_3__[\"stateKey\"].getState(state);\n            pluginState.showMediaPicker();\n            var tr = insert('');\n            return Object(_atlaskit_editor_core_plugins_analytics__WEBPACK_IMPORTED_MODULE_16__[\"addAnalytics\"])(state, tr, {\n              action: _atlaskit_editor_core_plugins_analytics__WEBPACK_IMPORTED_MODULE_16__[\"ACTION\"].OPENED,\n              actionSubject: _atlaskit_editor_core_plugins_analytics__WEBPACK_IMPORTED_MODULE_16__[\"ACTION_SUBJECT\"].PICKER,\n              actionSubjectId: _atlaskit_editor_core_plugins_analytics__WEBPACK_IMPORTED_MODULE_16__[\"ACTION_SUBJECT_ID\"].PICKER_CLOUD,\n              attributes: {\n                inputMethod: _atlaskit_editor_core_plugins_analytics__WEBPACK_IMPORTED_MODULE_16__[\"INPUT_METHOD\"].QUICK_INSERT\n              },\n              eventType: _atlaskit_editor_core_plugins_analytics__WEBPACK_IMPORTED_MODULE_16__[\"EVENT_TYPE\"].UI\n            });\n          }\n        }];\n      },\n      floatingToolbar: function floatingToolbar(state, intl, providerFactory) {\n        return Object(_toolbar__WEBPACK_IMPORTED_MODULE_15__[\"floatingToolbar\"])(state, intl, {\n          providerFactory: providerFactory,\n          allowResizing: options && options.allowResizing,\n          allowResizingInTables: options && options.allowResizingInTables,\n          allowAnnotation: options && options.allowAnnotation,\n          allowLinking: options && options.allowLinking,\n          allowAdvancedToolBarOptions: options && options.allowAdvancedToolBarOptions,\n          allowAltTextOnImages: options && options.allowAltTextOnImages,\n          altTextValidator: options && options.altTextValidator\n        });\n      }\n    }\n  };\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (options) {\n  return mediaPlugin(_objectSpread(_objectSpread({}, options), config_cozy_media_options__WEBPACK_IMPORTED_MODULE_23__[\"cozyMediaOptions\"]));\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9tZWRpYS9pbmRleC50c3guanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2lucy9tZWRpYS9pbmRleC50c3g/NmYxYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQge1xuICBtZWRpYSxcbiAgbWVkaWFHcm91cCxcbiAgbWVkaWFTaW5nbGUsXG4gIG1lZGlhU2luZ2xlV2l0aENhcHRpb25cbn0gZnJvbSAnQGF0bGFza2l0L2FkZi1zY2hlbWEnXG5pbXBvcnQge1xuICBFZGl0b3JQbHVnaW4sXG4gIFBNUGx1Z2luRmFjdG9yeVBhcmFtc1xufSBmcm9tICdAYXRsYXNraXQvZWRpdG9yLWNvcmUvdHlwZXMnXG5pbXBvcnQgeyBzdGF0ZUtleSBhcyBwbHVnaW5LZXksIGNyZWF0ZVBsdWdpbiB9IGZyb20gJy4vcG0tcGx1Z2lucy9tYWluJ1xuaW1wb3J0IHsgY3JlYXRlUGx1Z2luIGFzIGNyZWF0ZU1lZGlhRWRpdG9yUGx1Z2luIH0gZnJvbSAnLi9wbS1wbHVnaW5zL21lZGlhLWVkaXRvcidcbmltcG9ydCB7IHBsdWdpbktleSBhcyBtZWRpYUVkaXRvclBsdWdpbktleSB9IGZyb20gJy4vcG0tcGx1Z2lucy9tZWRpYS1lZGl0b3ItcGx1Z2luLWZhY3RvcnknXG5pbXBvcnQgeyBjcmVhdGVQbHVnaW4gYXMgY3JlYXRlTWVkaWFBbHRUZXh0UGx1Z2luIH0gZnJvbSAnLi9wbS1wbHVnaW5zL2FsdC10ZXh0J1xuaW1wb3J0IGtleW1hcE1lZGlhQWx0VGV4dFBsdWdpbiBmcm9tICcuL3BtLXBsdWdpbnMvYWx0LXRleHQva2V5bWFwJ1xuaW1wb3J0IGtleW1hcE1lZGlhU2luZ2xlUGx1Z2luIGZyb20gJy4vcG0tcGx1Z2lucy9rZXltYXAtbWVkaWEtc2luZ2xlJ1xuaW1wb3J0IGtleW1hcExpbmtpbmdQbHVnaW4gZnJvbSAnLi9wbS1wbHVnaW5zL2xpbmtpbmcva2V5bWFwJ1xuaW1wb3J0IGtleW1hcFBsdWdpbiBmcm9tICcuL3BtLXBsdWdpbnMva2V5bWFwJ1xuaW1wb3J0IGxpbmtpbmdQbHVnaW4gZnJvbSAnLi9wbS1wbHVnaW5zL2xpbmtpbmcnXG5pbXBvcnQgVG9vbGJhck1lZGlhIGZyb20gJy4vdWkvVG9vbGJhck1lZGlhJ1xuaW1wb3J0IHsgUmVhY3RNZWRpYUdyb3VwTm9kZSB9IGZyb20gJy4vbm9kZXZpZXdzL21lZGlhR3JvdXAnXG5pbXBvcnQgeyBSZWFjdE1lZGlhU2luZ2xlTm9kZSB9IGZyb20gJy4vbm9kZXZpZXdzL21lZGlhU2luZ2xlJ1xuaW1wb3J0IHsgTWVkaWFFZGl0b3JTdGF0ZSwgTWVkaWFPcHRpb25zIH0gZnJvbSAnLi90eXBlcydcbmltcG9ydCB7IGZsb2F0aW5nVG9vbGJhciB9IGZyb20gJy4vdG9vbGJhcidcblxuaW1wb3J0IHtcbiAgYWRkQW5hbHl0aWNzLFxuICBBQ1RJT04sXG4gIEFDVElPTl9TVUJKRUNULFxuICBJTlBVVF9NRVRIT0QsXG4gIEVWRU5UX1RZUEUsXG4gIEFDVElPTl9TVUJKRUNUX0lEXG59IGZyb20gJ0BhdGxhc2tpdC9lZGl0b3ItY29yZS9wbHVnaW5zL2FuYWx5dGljcydcbmltcG9ydCB7IEljb25JbWFnZXMgfSBmcm9tICdAYXRsYXNraXQvZWRpdG9yLWNvcmUvcGx1Z2lucy9xdWljay1pbnNlcnQvYXNzZXRzJ1xuaW1wb3J0IFdpdGhQbHVnaW5TdGF0ZSBmcm9tICdAYXRsYXNraXQvZWRpdG9yLWNvcmUvdWkvV2l0aFBsdWdpblN0YXRlJ1xuaW1wb3J0IE1lZGlhRWRpdG9yIGZyb20gJy4vdWkvTWVkaWFFZGl0b3InXG5pbXBvcnQgeyBNZWRpYVBpY2tlckNvbXBvbmVudHMgfSBmcm9tICcuL3VpL01lZGlhUGlja2VyJ1xuaW1wb3J0IHsgbWVzc2FnZXMgfSBmcm9tICdAYXRsYXNraXQvZWRpdG9yLWNvcmUvcGx1Z2lucy9pbnNlcnQtYmxvY2svdWkvVG9vbGJhckluc2VydEJsb2NrL21lc3NhZ2VzJ1xuaW1wb3J0IHsgUmVhY3RNZWRpYU5vZGUgfSBmcm9tICcuL25vZGV2aWV3cy9tZWRpYU5vZGVWaWV3J1xuaW1wb3J0IHsgY296eU1lZGlhT3B0aW9ucyB9IGZyb20gJ2NvbmZpZy9jb3p5LW1lZGlhLW9wdGlvbnMnXG5cbmV4cG9ydCAqIGZyb20gJy4vdHlwZXMnXG5leHBvcnQgeyBpbnNlcnRNZWRpYVNpbmdsZU5vZGUgfSBmcm9tICcuL3V0aWxzL21lZGlhLXNpbmdsZSdcblxuY29uc3QgbWVkaWFQbHVnaW4gPSAob3B0aW9ucz86IE1lZGlhT3B0aW9ucyk6IEVkaXRvclBsdWdpbiA9PiAoe1xuICBuYW1lOiAnbWVkaWEnLFxuXG4gIG5vZGVzKCkge1xuICAgICAgY29uc3Qge1xuICAgICAgICBhbGxvd01lZGlhR3JvdXAgPSB0cnVlLFxuICAgICAgICBhbGxvd01lZGlhU2luZ2xlID0gZmFsc2UsXG4gICAgICAgIFVOU0FGRV9hbGxvd0ltYWdlQ2FwdGlvbnMgPSBmYWxzZSxcbiAgICAgIH0gPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgY29uc3QgbWVkaWFTaW5nbGVOb2RlID0gVU5TQUZFX2FsbG93SW1hZ2VDYXB0aW9uc1xuICAgICAgPyBtZWRpYVNpbmdsZVdpdGhDYXB0aW9uXG4gICAgICA6IG1lZGlhU2luZ2xlXG5cbiAgICByZXR1cm4gW1xuICAgICAgeyBuYW1lOiAnbWVkaWFHcm91cCcsIG5vZGU6IG1lZGlhR3JvdXAgfSxcbiAgICAgIHsgbmFtZTogJ21lZGlhU2luZ2xlJywgbm9kZTogbWVkaWFTaW5nbGVOb2RlIH0sXG4gICAgICB7IG5hbWU6ICdtZWRpYScsIG5vZGU6IG1lZGlhIH1cbiAgICBdLmZpbHRlcihub2RlID0+IHtcbiAgICAgIGlmIChub2RlLm5hbWUgPT09ICdtZWRpYUdyb3VwJykge1xuICAgICAgICByZXR1cm4gYWxsb3dNZWRpYUdyb3VwXG4gICAgICB9XG5cbiAgICAgIGlmIChub2RlLm5hbWUgPT09ICdtZWRpYVNpbmdsZScpIHtcbiAgICAgICAgcmV0dXJuIGFsbG93TWVkaWFTaW5nbGVcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRydWVcbiAgICB9KVxuICB9LFxuXG4gIHBtUGx1Z2lucygpIHtcbiAgICBjb25zdCBwbVBsdWdpbnMgPSBbXG4gICAgICB7XG4gICAgICAgIG5hbWU6ICdtZWRpYScsXG4gICAgICAgIHBsdWdpbjogKHtcbiAgICAgICAgICBzY2hlbWEsXG4gICAgICAgICAgZGlzcGF0Y2gsXG4gICAgICAgICAgZXZlbnREaXNwYXRjaGVyLFxuICAgICAgICAgIHByb3ZpZGVyRmFjdG9yeSxcbiAgICAgICAgICBlcnJvclJlcG9ydGVyLFxuICAgICAgICAgIHBvcnRhbFByb3ZpZGVyQVBJLFxuICAgICAgICAgIHJlYWN0Q29udGV4dCxcbiAgICAgICAgICBkaXNwYXRjaEFuYWx5dGljc0V2ZW50XG4gICAgICAgIH06IFBNUGx1Z2luRmFjdG9yeVBhcmFtcykgPT5cbiAgICAgICAgICBjcmVhdGVQbHVnaW4oXG4gICAgICAgICAgICBzY2hlbWEsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHByb3ZpZGVyRmFjdG9yeSxcbiAgICAgICAgICAgICAgbm9kZVZpZXdzOiB7XG4gICAgICAgICAgICAgICAgbWVkaWFHcm91cDogUmVhY3RNZWRpYUdyb3VwTm9kZShcbiAgICAgICAgICAgICAgICAgIHBvcnRhbFByb3ZpZGVyQVBJLFxuICAgICAgICAgICAgICAgICAgZXZlbnREaXNwYXRjaGVyLFxuICAgICAgICAgICAgICAgICAgcHJvdmlkZXJGYWN0b3J5LFxuICAgICAgICAgICAgICAgICAgb3B0aW9uc1xuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgbWVkaWFTaW5nbGU6IFJlYWN0TWVkaWFTaW5nbGVOb2RlKFxuICAgICAgICAgICAgICAgICAgcG9ydGFsUHJvdmlkZXJBUEksXG4gICAgICAgICAgICAgICAgICBldmVudERpc3BhdGNoZXIsXG4gICAgICAgICAgICAgICAgICBwcm92aWRlckZhY3RvcnksXG4gICAgICAgICAgICAgICAgICBkaXNwYXRjaEFuYWx5dGljc0V2ZW50LFxuICAgICAgICAgICAgICAgICAgb3B0aW9uc1xuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgbWVkaWE6IFJlYWN0TWVkaWFOb2RlKFxuICAgICAgICAgICAgICAgICAgcG9ydGFsUHJvdmlkZXJBUEksXG4gICAgICAgICAgICAgICAgICBldmVudERpc3BhdGNoZXIsXG4gICAgICAgICAgICAgICAgICBwcm92aWRlckZhY3RvcnksXG4gICAgICAgICAgICAgICAgICBvcHRpb25zXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBlcnJvclJlcG9ydGVyLFxuICAgICAgICAgICAgICB1cGxvYWRFcnJvckhhbmRsZXI6IG9wdGlvbnMgJiYgb3B0aW9ucy51cGxvYWRFcnJvckhhbmRsZXIsXG4gICAgICAgICAgICAgIHdhaXRGb3JNZWRpYVVwbG9hZDogb3B0aW9ucyAmJiBvcHRpb25zLndhaXRGb3JNZWRpYVVwbG9hZCxcbiAgICAgICAgICAgICAgY3VzdG9tRHJvcHpvbmVDb250YWluZXI6XG4gICAgICAgICAgICAgICAgb3B0aW9ucyAmJiBvcHRpb25zLmN1c3RvbURyb3B6b25lQ29udGFpbmVyLFxuICAgICAgICAgICAgICBjdXN0b21NZWRpYVBpY2tlcjogb3B0aW9ucyAmJiBvcHRpb25zLmN1c3RvbU1lZGlhUGlja2VyLFxuICAgICAgICAgICAgICBhbGxvd1Jlc2l6aW5nOiAhIShvcHRpb25zICYmIG9wdGlvbnMuYWxsb3dSZXNpemluZylcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZWFjdENvbnRleHQsXG4gICAgICAgICAgICBkaXNwYXRjaCxcbiAgICAgICAgICAgIG9wdGlvbnNcbiAgICAgICAgICApXG4gICAgICB9LFxuICAgICAgeyBuYW1lOiAnbWVkaWFLZXltYXAnLCBwbHVnaW46ICgpID0+IGtleW1hcFBsdWdpbigpIH1cbiAgICBdXG5cbiAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmFsbG93TWVkaWFTaW5nbGUpIHtcbiAgICAgIHBtUGx1Z2lucy5wdXNoKHtcbiAgICAgICAgbmFtZTogJ21lZGlhU2luZ2xlS2V5bWFwJyxcbiAgICAgICAgcGx1Z2luOiAoeyBzY2hlbWEgfSkgPT4ga2V5bWFwTWVkaWFTaW5nbGVQbHVnaW4oc2NoZW1hKVxuICAgICAgfSlcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmFsbG93QW5ub3RhdGlvbikge1xuICAgICAgcG1QbHVnaW5zLnB1c2goeyBuYW1lOiAnbWVkaWFFZGl0b3InLCBwbHVnaW46IGNyZWF0ZU1lZGlhRWRpdG9yUGx1Z2luIH0pXG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5hbGxvd0FsdFRleHRPbkltYWdlcykge1xuICAgICAgcG1QbHVnaW5zLnB1c2goe1xuICAgICAgICBuYW1lOiAnbWVkaWFBbHRUZXh0JyxcbiAgICAgICAgcGx1Z2luOiBjcmVhdGVNZWRpYUFsdFRleHRQbHVnaW5cbiAgICAgIH0pXG4gICAgICBwbVBsdWdpbnMucHVzaCh7XG4gICAgICAgIG5hbWU6ICdtZWRpYUFsdFRleHRLZXltYXAnLFxuICAgICAgICBwbHVnaW46ICh7IHNjaGVtYSB9KSA9PiBrZXltYXBNZWRpYUFsdFRleHRQbHVnaW4oc2NoZW1hKVxuICAgICAgfSlcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmFsbG93TGlua2luZykge1xuICAgICAgcG1QbHVnaW5zLnB1c2goe1xuICAgICAgICBuYW1lOiAnbWVkaWFMaW5raW5nJyxcbiAgICAgICAgcGx1Z2luOiAoeyBkaXNwYXRjaCB9OiBQTVBsdWdpbkZhY3RvcnlQYXJhbXMpID0+IGxpbmtpbmdQbHVnaW4oZGlzcGF0Y2gpXG4gICAgICB9KVxuICAgICAgcG1QbHVnaW5zLnB1c2goe1xuICAgICAgICBuYW1lOiAnbWVkaWFMaW5raW5nS2V5bWFwJyxcbiAgICAgICAgcGx1Z2luOiAoeyBzY2hlbWEgfSkgPT4ga2V5bWFwTGlua2luZ1BsdWdpbihzY2hlbWEpXG4gICAgICB9KVxuICAgIH1cblxuICAgIHJldHVybiBwbVBsdWdpbnNcbiAgfSxcblxuICBjb250ZW50Q29tcG9uZW50KHsgZWRpdG9yVmlldywgZXZlbnREaXNwYXRjaGVyIH0pIHtcbiAgICAvLyByZW5kZXIgTWVkaWFFZGl0b3Igc2VwYXJhdGVseSBiZWNhdXNlIGl0IGRvZXNuJ3QgZGVwZW5kIG9uIG1lZGlhIHBsdWdpbiBzdGF0ZVxuICAgIC8vIHNvIHdlIGNhbiB1dGlsaXNlIEV2ZW50RGlzcGF0Y2hlci1iYXNlZCByZXJlbmRlcmluZ1xuICAgIGNvbnN0IG1lZGlhRWRpdG9yID1cbiAgICAgIG9wdGlvbnMgJiYgb3B0aW9ucy5hbGxvd0Fubm90YXRpb24gPyAoXG4gICAgICAgIDxXaXRoUGx1Z2luU3RhdGVcbiAgICAgICAgICBlZGl0b3JWaWV3PXtlZGl0b3JWaWV3fVxuICAgICAgICAgIHBsdWdpbnM9e3sgbWVkaWFFZGl0b3JTdGF0ZTogbWVkaWFFZGl0b3JQbHVnaW5LZXkgfX1cbiAgICAgICAgICBldmVudERpc3BhdGNoZXI9e2V2ZW50RGlzcGF0Y2hlcn1cbiAgICAgICAgICByZW5kZXI9eyh7XG4gICAgICAgICAgICBtZWRpYUVkaXRvclN0YXRlXG4gICAgICAgICAgfToge1xuICAgICAgICAgICAgbWVkaWFFZGl0b3JTdGF0ZTogTWVkaWFFZGl0b3JTdGF0ZVxuICAgICAgICAgIH0pID0+IChcbiAgICAgICAgICAgIDxNZWRpYUVkaXRvclxuICAgICAgICAgICAgICBtZWRpYUVkaXRvclN0YXRlPXttZWRpYUVkaXRvclN0YXRlfVxuICAgICAgICAgICAgICB2aWV3PXtlZGl0b3JWaWV3fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICApfVxuICAgICAgICAvPlxuICAgICAgKSA6IG51bGxcbiAgICByZXR1cm4gKFxuICAgICAgPD5cbiAgICAgICAgPFdpdGhQbHVnaW5TdGF0ZVxuICAgICAgICAgIGVkaXRvclZpZXc9e2VkaXRvclZpZXd9XG4gICAgICAgICAgcGx1Z2lucz17e1xuICAgICAgICAgICAgbWVkaWFTdGF0ZTogcGx1Z2luS2V5XG4gICAgICAgICAgfX1cbiAgICAgICAgICByZW5kZXI9eyh7IG1lZGlhU3RhdGUgfSkgPT4gKFxuICAgICAgICAgICAgPE1lZGlhUGlja2VyQ29tcG9uZW50cyBtZWRpYVN0YXRlPXttZWRpYVN0YXRlfSAvPlxuICAgICAgICAgICl9XG4gICAgICAgIC8+XG5cbiAgICAgICAge21lZGlhRWRpdG9yfVxuICAgICAgPC8+XG4gICAgKVxuICB9LFxuXG4gIHNlY29uZGFyeVRvb2xiYXJDb21wb25lbnQoeyBlZGl0b3JWaWV3LCBldmVudERpc3BhdGNoZXIsIGRpc2FibGVkIH0pIHtcbiAgICByZXR1cm4gKFxuICAgICAgPFRvb2xiYXJNZWRpYVxuICAgICAgICBlZGl0b3JWaWV3PXtlZGl0b3JWaWV3fVxuICAgICAgICBldmVudERpc3BhdGNoZXI9e2V2ZW50RGlzcGF0Y2hlcn1cbiAgICAgICAgcGx1Z2luS2V5PXtwbHVnaW5LZXl9XG4gICAgICAgIGlzRGlzYWJsZWQ9e2Rpc2FibGVkfVxuICAgICAgICBpc1JlZHVjZWRTcGFjaW5nPXt0cnVlfVxuICAgICAgLz5cbiAgICApXG4gIH0sXG5cbiAgcGx1Z2luc09wdGlvbnM6IHtcbiAgICBxdWlja0luc2VydDogKHsgZm9ybWF0TWVzc2FnZSB9KSA9PiBbXG4gICAgICB7XG4gICAgICAgIGlkOiAnbWVkaWEnLFxuICAgICAgICB0aXRsZTogZm9ybWF0TWVzc2FnZShtZXNzYWdlcy5maWxlc0FuZEltYWdlcyksXG4gICAgICAgIGRlc2NyaXB0aW9uOiBmb3JtYXRNZXNzYWdlKG1lc3NhZ2VzLmZpbGVzQW5kSW1hZ2VzRGVzY3JpcHRpb24pLFxuICAgICAgICBwcmlvcml0eTogNDAwLFxuICAgICAgICBrZXl3b3JkczogWydhdHRhY2htZW50JywgJ2dpZicsICdtZWRpYScsICdwaWN0dXJlJ10sXG4gICAgICAgIGljb246ICgpID0+IChcbiAgICAgICAgICA8SWNvbkltYWdlcyBsYWJlbD17Zm9ybWF0TWVzc2FnZShtZXNzYWdlcy5maWxlc0FuZEltYWdlcyl9IC8+XG4gICAgICAgICksXG4gICAgICAgIGFjdGlvbihpbnNlcnQsIHN0YXRlKSB7XG4gICAgICAgICAgY29uc3QgcGx1Z2luU3RhdGUgPSBwbHVnaW5LZXkuZ2V0U3RhdGUoc3RhdGUpXG4gICAgICAgICAgcGx1Z2luU3RhdGUuc2hvd01lZGlhUGlja2VyKClcbiAgICAgICAgICBjb25zdCB0ciA9IGluc2VydCgnJylcbiAgICAgICAgICByZXR1cm4gYWRkQW5hbHl0aWNzKHN0YXRlLCB0ciwge1xuICAgICAgICAgICAgYWN0aW9uOiBBQ1RJT04uT1BFTkVELFxuICAgICAgICAgICAgYWN0aW9uU3ViamVjdDogQUNUSU9OX1NVQkpFQ1QuUElDS0VSLFxuICAgICAgICAgICAgYWN0aW9uU3ViamVjdElkOiBBQ1RJT05fU1VCSkVDVF9JRC5QSUNLRVJfQ0xPVUQsXG4gICAgICAgICAgICBhdHRyaWJ1dGVzOiB7IGlucHV0TWV0aG9kOiBJTlBVVF9NRVRIT0QuUVVJQ0tfSU5TRVJUIH0sXG4gICAgICAgICAgICBldmVudFR5cGU6IEVWRU5UX1RZUEUuVUlcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgXSxcblxuICAgIGZsb2F0aW5nVG9vbGJhcjogKHN0YXRlLCBpbnRsLCBwcm92aWRlckZhY3RvcnkpID0+XG4gICAgICBmbG9hdGluZ1Rvb2xiYXIoc3RhdGUsIGludGwsIHtcbiAgICAgICAgcHJvdmlkZXJGYWN0b3J5LFxuICAgICAgICBhbGxvd1Jlc2l6aW5nOiBvcHRpb25zICYmIG9wdGlvbnMuYWxsb3dSZXNpemluZyxcbiAgICAgICAgYWxsb3dSZXNpemluZ0luVGFibGVzOiBvcHRpb25zICYmIG9wdGlvbnMuYWxsb3dSZXNpemluZ0luVGFibGVzLFxuICAgICAgICBhbGxvd0Fubm90YXRpb246IG9wdGlvbnMgJiYgb3B0aW9ucy5hbGxvd0Fubm90YXRpb24sXG4gICAgICAgIGFsbG93TGlua2luZzogb3B0aW9ucyAmJiBvcHRpb25zLmFsbG93TGlua2luZyxcbiAgICAgICAgYWxsb3dBZHZhbmNlZFRvb2xCYXJPcHRpb25zOlxuICAgICAgICAgIG9wdGlvbnMgJiYgb3B0aW9ucy5hbGxvd0FkdmFuY2VkVG9vbEJhck9wdGlvbnMsXG4gICAgICAgIGFsbG93QWx0VGV4dE9uSW1hZ2VzOiBvcHRpb25zICYmIG9wdGlvbnMuYWxsb3dBbHRUZXh0T25JbWFnZXMsXG4gICAgICAgIGFsdFRleHRWYWxpZGF0b3I6IG9wdGlvbnMgJiYgb3B0aW9ucy5hbHRUZXh0VmFsaWRhdG9yLFxuICAgICAgfSksXG4gIH1cbn0pXG5cbmV4cG9ydCBkZWZhdWx0IChvcHRpb25zOiBNZWRpYU9wdGlvbnMpOiBFZGl0b3JQbHVnaW4gPT4gbWVkaWFQbHVnaW4oey4uLm9wdGlvbnMsIC4uLmNvenlNZWRpYU9wdGlvbnN9KVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBSUE7QUFIQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBR0E7QUFJQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBS0E7QUFDQTtBQUNBO0FBTUE7QUFPQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUtBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFHQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFNQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQUE7QUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/plugins/media/index.tsx\n");

/***/ }),

/***/ "./src/plugins/media/nodeviews/mediaGroup.tsx":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return MediaGroup; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ReactMediaGroupNode\", function() { return ReactMediaGroupNode; });\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/assertThisInitialized.js\");\n/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/inherits.js\");\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\");\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/getPrototypeOf.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _atlaskit_editor_common__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"./node_modules/@atlaskit/editor-common/dist/esm/index.js\");\n/* harmony import */ var _atlaskit_icon_glyph_editor_close__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"./node_modules/@atlaskit/icon/glyph/editor/close.js\");\n/* harmony import */ var _atlaskit_icon_glyph_editor_close__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_atlaskit_icon_glyph_editor_close__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _atlaskit_media_filmstrip__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"./node_modules/@atlaskit/media-filmstrip/dist/esm/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _atlaskit_editor_core_nodeviews_ReactNodeView__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/nodeviews/ReactNodeView.tsx\");\n/* harmony import */ var _atlaskit_editor_core_plugins_base_pm_plugins_react_nodeview__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/plugins/base/pm-plugins/react-nodeview.ts\");\n/* harmony import */ var _atlaskit_editor_core_ui_WithPluginState__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/ui/WithPluginState/index.tsx\");\n/* harmony import */ var _atlaskit_editor_core_utils__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/utils/index.ts\");\n/* harmony import */ var _atlaskit_editor_core_utils_nodes__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/utils/nodes.ts\");\n/* harmony import */ var _atlaskit_editor_core_plugins_editor_disabled__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/plugins/editor-disabled/index.ts\");\n/* harmony import */ var _pm_plugins_plugin_key__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(\"./src/plugins/media/pm-plugins/plugin-key.ts\");\n/* harmony import */ var _mediaNodeUpdater__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(\"./src/plugins/media/nodeviews/mediaNodeUpdater.ts\");\n\n\n\n\n\n\n\n\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default()(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\n\n\n\n\n\n\n\nvar isMediaGroupSelectedFromProps = function isMediaGroupSelectedFromProps(props) {\n  return Object(_atlaskit_editor_core_utils_nodes__WEBPACK_IMPORTED_MODULE_17__[\"isNodeSelectedOrInRange\"])(props.anchorPos, props.headPos, props.getPos(), props.node.nodeSize);\n};\nvar hasSelectionChanged = function hasSelectionChanged(oldProps, newProps) {\n  if (isMediaGroupSelectedFromProps(oldProps) !== isMediaGroupSelectedFromProps(newProps)) {\n    return true;\n  }\n  if (isMediaGroupSelectedFromProps(newProps) === _atlaskit_editor_core_utils_nodes__WEBPACK_IMPORTED_MODULE_17__[\"SelectedState\"].selectedInside) {\n    return oldProps.anchorPos !== newProps.anchorPos;\n  }\n  return false;\n};\nvar MediaGroup = /*#__PURE__*/function (_React$Component) {\n  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default()(MediaGroup, _React$Component);\n  var _super = _createSuper(MediaGroup);\n  function MediaGroup(_props) {\n    var _this;\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this, MediaGroup);\n    _this = _super.call(this, _props);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default()(_this), \"mediaPluginState\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default()(_this), \"mediaNodes\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default()(_this), \"state\", {\n      viewMediaClientConfig: undefined\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default()(_this), \"updateNodeAttrs\", function (props) {\n      var view = props.view,\n        mediaProvider = props.mediaProvider,\n        contextIdentifierProvider = props.contextIdentifierProvider;\n      _this.mediaNodes.forEach(function (node) {\n        var mediaNodeUpdater = new _mediaNodeUpdater__WEBPACK_IMPORTED_MODULE_20__[\"MediaNodeUpdater\"]({\n          view: view,\n          mediaProvider: mediaProvider,\n          contextIdentifierProvider: contextIdentifierProvider,\n          node: node,\n          isMediaSingle: false\n        });\n        mediaNodeUpdater.updateFileAttrs(false);\n      });\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default()(_this), \"setMediaItems\", function (props) {\n      var node = props.node;\n      _this.mediaNodes = [];\n      node.forEach(function (item, childOffset) {\n        _this.mediaPluginState.mediaGroupNodes[item.attrs.id] = {\n          node: item,\n          getPos: function getPos() {\n            return props.getPos() + childOffset + 1;\n          }\n        };\n        _this.mediaNodes.push(item);\n      });\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default()(_this), \"getIdentifier\", function (item) {\n      if (item.attrs.type === 'external') {\n        return {\n          mediaItemType: 'external-image',\n          dataURI: item.attrs.url\n        };\n      }\n      return {\n        id: item.attrs.id,\n        mediaItemType: 'file',\n        collectionName: item.attrs.collection\n      };\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default()(_this), \"isNodeSelected\", function (nodePos) {\n      var selected = isMediaGroupSelectedFromProps(_this.props);\n      if (selected === _atlaskit_editor_core_utils_nodes__WEBPACK_IMPORTED_MODULE_17__[\"SelectedState\"].selectedInRange) {\n        return true;\n      }\n      if (selected === _atlaskit_editor_core_utils_nodes__WEBPACK_IMPORTED_MODULE_17__[\"SelectedState\"].selectedInside && _this.props.anchorPos === nodePos) {\n        return true;\n      }\n      return false;\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default()(_this), \"renderChildNodes\", function () {\n      var viewMediaClientConfig = _this.state.viewMediaClientConfig;\n      var _this$props = _this.props,\n        getPos = _this$props.getPos,\n        allowLazyLoading = _this$props.allowLazyLoading,\n        disabled = _this$props.disabled,\n        mediaOptions = _this$props.mediaOptions;\n      var items = _this.mediaNodes.map(function (item, idx) {\n        // We declared this to get a fresh position every time\n        var getNodePos = function getNodePos() {\n          return getPos() + idx + 1;\n        };\n        return {\n          identifier: _this.getIdentifier(item),\n          isLazy: allowLazyLoading,\n          selected: _this.isNodeSelected(getNodePos()),\n          onClick: function onClick() {\n            Object(_atlaskit_editor_core_utils__WEBPACK_IMPORTED_MODULE_16__[\"setNodeSelection\"])(_this.props.view, getNodePos());\n          },\n          actions: [{\n            handler: disabled ? function () {} : _this.mediaPluginState.handleMediaNodeRemoval.bind(null, undefined, getNodePos),\n            icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(_atlaskit_icon_glyph_editor_close__WEBPACK_IMPORTED_MODULE_10___default.a, {\n              label: \"delete\"\n            })\n          }]\n        };\n      });\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(_atlaskit_media_filmstrip__WEBPACK_IMPORTED_MODULE_11__[\"Filmstrip\"], {\n        items: items,\n        mediaClientConfig: viewMediaClientConfig,\n        featureFlags: mediaOptions.featureFlags\n      });\n    });\n    _this.mediaNodes = [];\n    _this.mediaPluginState = _pm_plugins_plugin_key__WEBPACK_IMPORTED_MODULE_19__[\"stateKey\"].getState(_props.view.state);\n    _this.setMediaItems(_props);\n    _this.state = {\n      viewMediaClientConfig: undefined\n    };\n    return _this;\n  }\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(MediaGroup, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n      this.updateMediaClientConfig();\n      this.mediaNodes.forEach( /*#__PURE__*/function () {\n        var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default.a.mark(function _callee(node) {\n          var _this2$props, view, mediaProvider, contextIdentifierProvider, mediaNodeUpdater, contextId, hasDifferentContextId;\n          return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default.a.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  if (!(node.attrs.type === 'external')) {\n                    _context.next = 2;\n                    break;\n                  }\n                  return _context.abrupt(\"return\");\n                case 2:\n                  _this2$props = _this2.props, view = _this2$props.view, mediaProvider = _this2$props.mediaProvider, contextIdentifierProvider = _this2$props.contextIdentifierProvider;\n                  mediaNodeUpdater = new _mediaNodeUpdater__WEBPACK_IMPORTED_MODULE_20__[\"MediaNodeUpdater\"]({\n                    view: view,\n                    mediaProvider: mediaProvider,\n                    contextIdentifierProvider: contextIdentifierProvider,\n                    node: node,\n                    isMediaSingle: false\n                  });\n                  contextId = mediaNodeUpdater.getNodeContextId();\n                  if (contextId) {\n                    _context.next = 8;\n                    break;\n                  }\n                  _context.next = 8;\n                  return mediaNodeUpdater.updateContextId();\n                case 8:\n                  _context.next = 10;\n                  return mediaNodeUpdater.hasDifferentContextId();\n                case 10:\n                  hasDifferentContextId = _context.sent;\n                  if (!hasDifferentContextId) {\n                    _context.next = 14;\n                    break;\n                  }\n                  _context.next = 14;\n                  return mediaNodeUpdater.copyNode();\n                case 14:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        }));\n        return function (_x) {\n          return _ref.apply(this, arguments);\n        };\n      }());\n    }\n  }, {\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps(props) {\n      this.updateMediaClientConfig();\n      this.setMediaItems(props);\n      if (props.isCopyPasteEnabled !== false) {\n        this.updateNodeAttrs(props);\n      }\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps) {\n      if (hasSelectionChanged(this.props, nextProps) || this.props.node !== nextProps.node || this.state.viewMediaClientConfig !== this.mediaPluginState.mediaClientConfig) {\n        return true;\n      }\n      return false;\n    }\n  }, {\n    key: \"updateMediaClientConfig\",\n    value: function updateMediaClientConfig() {\n      var viewMediaClientConfig = this.state.viewMediaClientConfig;\n      var mediaClientConfig = this.mediaPluginState.mediaClientConfig;\n      if (!viewMediaClientConfig && mediaClientConfig) {\n        this.setState({\n          viewMediaClientConfig: mediaClientConfig\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return this.renderChildNodes();\n    }\n  }]);\n  return MediaGroup;\n}(react__WEBPACK_IMPORTED_MODULE_12___default.a.Component);\n_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(MediaGroup, \"displayName\", 'MediaGroup');\n\nvar MediaGroupNodeView = /*#__PURE__*/function (_ReactNodeView) {\n  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default()(MediaGroupNodeView, _ReactNodeView);\n  var _super2 = _createSuper(MediaGroupNodeView);\n  function MediaGroupNodeView() {\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this, MediaGroupNodeView);\n    return _super2.apply(this, arguments);\n  }\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(MediaGroupNodeView, [{\n    key: \"render\",\n    value: function render(props, forwardRef) {\n      var _this3 = this;\n      var providerFactory = props.providerFactory,\n        mediaOptions = props.mediaOptions;\n      var getPos = this.getPos;\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(_atlaskit_editor_common__WEBPACK_IMPORTED_MODULE_9__[\"WithProviders\"], {\n        providers: ['mediaProvider', 'contextIdentifierProvider'],\n        providerFactory: providerFactory,\n        renderNode: function renderNode(_ref2) {\n          var mediaProvider = _ref2.mediaProvider,\n            contextIdentifierProvider = _ref2.contextIdentifierProvider;\n          var renderFn = function renderFn(_ref3) {\n            var editorDisabledPlugin = _ref3.editorDisabledPlugin;\n            if (!mediaProvider) {\n              return null;\n            }\n            return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(MediaGroup, {\n              node: _this3.node,\n              getPos: getPos,\n              view: _this3.view,\n              forwardRef: forwardRef,\n              disabled: (editorDisabledPlugin || {}).editorDisabled,\n              allowLazyLoading: mediaOptions.allowLazyLoading,\n              mediaProvider: mediaProvider,\n              contextIdentifierProvider: contextIdentifierProvider,\n              isCopyPasteEnabled: mediaOptions.isCopyPasteEnabled,\n              anchorPos: _this3.view.state.selection.$anchor.pos,\n              headPos: _this3.view.state.selection.$head.pos,\n              mediaOptions: mediaOptions\n            });\n          };\n          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(_atlaskit_editor_core_ui_WithPluginState__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n            editorView: _this3.view,\n            plugins: {\n              reactNodeViewState: _atlaskit_editor_core_plugins_base_pm_plugins_react_nodeview__WEBPACK_IMPORTED_MODULE_14__[\"stateKey\"],\n              editorDisabledPlugin: _atlaskit_editor_core_plugins_editor_disabled__WEBPACK_IMPORTED_MODULE_18__[\"pluginKey\"]\n            },\n            render: renderFn\n          });\n        }\n      });\n    }\n  }]);\n  return MediaGroupNodeView;\n}(_atlaskit_editor_core_nodeviews_ReactNodeView__WEBPACK_IMPORTED_MODULE_13__[\"default\"]);\nvar ReactMediaGroupNode = function ReactMediaGroupNode(portalProviderAPI, eventDispatcher, providerFactory) {\n  var mediaOptions = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  return function (node, view, getPos) {\n    return new MediaGroupNodeView(node, view, getPos, portalProviderAPI, eventDispatcher, {\n      providerFactory: providerFactory,\n      mediaOptions: mediaOptions\n    }).init();\n  };\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9tZWRpYS9ub2Rldmlld3MvbWVkaWFHcm91cC50c3guanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2lucy9tZWRpYS9ub2Rldmlld3MvbWVkaWFHcm91cC50c3g/NzMwMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBDb250ZXh0SWRlbnRpZmllclByb3ZpZGVyLFxuICBNZWRpYVByb3ZpZGVyLFxuICBQcm92aWRlckZhY3RvcnksXG4gIFdpdGhQcm92aWRlcnNcbn0gZnJvbSAnQGF0bGFza2l0L2VkaXRvci1jb21tb24nXG5pbXBvcnQgRWRpdG9yQ2xvc2VJY29uIGZyb20gJ0BhdGxhc2tpdC9pY29uL2dseXBoL2VkaXRvci9jbG9zZSdcbmltcG9ydCB7IElkZW50aWZpZXIgfSBmcm9tICdAYXRsYXNraXQvbWVkaWEtY2xpZW50J1xuaW1wb3J0IHsgTWVkaWFDbGllbnRDb25maWcgfSBmcm9tICdAYXRsYXNraXQvbWVkaWEtY29yZSdcbmltcG9ydCB7IEZpbG1zdHJpcCwgRmlsbXN0cmlwSXRlbSB9IGZyb20gJ0BhdGxhc2tpdC9tZWRpYS1maWxtc3RyaXAnXG5pbXBvcnQgeyBOb2RlIGFzIFBNTm9kZSB9IGZyb20gJ3Byb3NlbWlycm9yLW1vZGVsJ1xuaW1wb3J0IHsgRWRpdG9yVmlldywgTm9kZVZpZXcgfSBmcm9tICdwcm9zZW1pcnJvci12aWV3J1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgRXZlbnREaXNwYXRjaGVyIH0gZnJvbSAnQGF0bGFza2l0L2VkaXRvci1jb3JlL2V2ZW50LWRpc3BhdGNoZXInXG5pbXBvcnQge1xuICBGb3J3YXJkUmVmLFxuICBnZXRQb3NIYW5kbGVyLFxuICBnZXRQb3NIYW5kbGVyTm9kZVxufSBmcm9tICdAYXRsYXNraXQvZWRpdG9yLWNvcmUvbm9kZXZpZXdzLydcbmltcG9ydCBSZWFjdE5vZGVWaWV3IGZyb20gJ0BhdGxhc2tpdC9lZGl0b3ItY29yZS9ub2Rldmlld3MvUmVhY3ROb2RlVmlldydcbmltcG9ydCB7IHN0YXRlS2V5IGFzIHJlYWN0Tm9kZVZpZXdTdGF0ZUtleSB9IGZyb20gJ0BhdGxhc2tpdC9lZGl0b3ItY29yZS9wbHVnaW5zL2Jhc2UvcG0tcGx1Z2lucy9yZWFjdC1ub2RldmlldydcbmltcG9ydCB7IFBvcnRhbFByb3ZpZGVyQVBJIH0gZnJvbSAnQGF0bGFza2l0L2VkaXRvci1jb3JlL3VpL1BvcnRhbFByb3ZpZGVyJ1xuaW1wb3J0IFdpdGhQbHVnaW5TdGF0ZSBmcm9tICdAYXRsYXNraXQvZWRpdG9yLWNvcmUvdWkvV2l0aFBsdWdpblN0YXRlJ1xuaW1wb3J0IHsgc2V0Tm9kZVNlbGVjdGlvbiB9IGZyb20gJ0BhdGxhc2tpdC9lZGl0b3ItY29yZS91dGlscydcbmltcG9ydCB7XG4gIGlzTm9kZVNlbGVjdGVkT3JJblJhbmdlLFxuICBTZWxlY3RlZFN0YXRlXG59IGZyb20gJ0BhdGxhc2tpdC9lZGl0b3ItY29yZS91dGlscy9ub2RlcydcbmltcG9ydCB7XG4gIEVkaXRvckRpc2FibGVkUGx1Z2luU3RhdGUsXG4gIHBsdWdpbktleSBhcyBlZGl0b3JEaXNhYmxlZFBsdWdpbktleVxufSBmcm9tICdAYXRsYXNraXQvZWRpdG9yLWNvcmUvcGx1Z2lucy9lZGl0b3ItZGlzYWJsZWQnXG5pbXBvcnQgeyBzdGF0ZUtleSBhcyBtZWRpYVN0YXRlS2V5IH0gZnJvbSAnLi4vcG0tcGx1Z2lucy9wbHVnaW4ta2V5J1xuaW1wb3J0IHsgTWVkaWFQbHVnaW5TdGF0ZSB9IGZyb20gJy4uL3BtLXBsdWdpbnMvdHlwZXMnXG5pbXBvcnQgeyBNZWRpYU5vZGVVcGRhdGVyIH0gZnJvbSAnLi9tZWRpYU5vZGVVcGRhdGVyJ1xuaW1wb3J0IHsgTWVkaWFPcHRpb25zIH0gZnJvbSAnLi4vdHlwZXMnXG5cbmV4cG9ydCB0eXBlIE1lZGlhR3JvdXBQcm9wcyA9IHtcbiAgZm9yd2FyZFJlZj86IChyZWY6IEhUTUxFbGVtZW50KSA9PiB2b2lkXG4gIG5vZGU6IFBNTm9kZVxuICB2aWV3OiBFZGl0b3JWaWV3XG4gIGdldFBvczogKCkgPT4gbnVtYmVyXG4gIGRpc2FibGVkPzogYm9vbGVhblxuICBhbGxvd0xhenlMb2FkaW5nPzogYm9vbGVhblxuICBtZWRpYVByb3ZpZGVyOiBQcm9taXNlPE1lZGlhUHJvdmlkZXI+XG4gIGNvbnRleHRJZGVudGlmaWVyUHJvdmlkZXI/OiBQcm9taXNlPENvbnRleHRJZGVudGlmaWVyUHJvdmlkZXI+XG4gIGlzQ29weVBhc3RlRW5hYmxlZD86IGJvb2xlYW5cbiAgLy8gVGhlc2UgdHdvIG51bWJlcnMgaGF2ZSB0byBiZSBwYXNzZWQgc2VwYXJhdGVseS4gVGhleSBjYW4gdGVjaG5pY2FsbHkgYmUgZGVyaXZlZCBmcm9tIHRoZSB2aWV3LCBidXRcbiAgLy8gYmVjYXVzZSB0aGUgdmlldyBpcyAqcmVmZXJlbmNlKiB0aGVuIGBzaG91bGRDb21wb25lbnRVcGRhdGVgIGNhbid0IGlkZW50aWZ5IGNoYW5nZXMgZnJvbSBpbmNvbWluZyBwcm9wc1xuICBhbmNob3JQb3M6IG51bWJlciAvLyBUaGlzIHZhbHVlIGlzIHJlcXVpcmVkIHNvIHRoYXQgc2hvdWxkQ29tcG9uZW50VXBkYXRlIGNhbiBjYWxjdWxhdGUgY29ycmVjdGx5XG4gIGhlYWRQb3M6IG51bWJlciAvLyBUaGlzIHZhbHVlIGlzIHJlcXVpcmVkIHNvIHRoYXQgc2hvdWxkQ29tcG9uZW50VXBkYXRlIGNhbiBjYWxjdWxhdGUgY29ycmVjdGx5XG4gIG1lZGlhT3B0aW9uczogTWVkaWFPcHRpb25zXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWVkaWFHcm91cFN0YXRlIHtcbiAgdmlld01lZGlhQ2xpZW50Q29uZmlnPzogTWVkaWFDbGllbnRDb25maWdcbn1cblxuY29uc3QgaXNNZWRpYUdyb3VwU2VsZWN0ZWRGcm9tUHJvcHMgPSAocHJvcHM6IE1lZGlhR3JvdXBQcm9wcykgPT4ge1xuICByZXR1cm4gaXNOb2RlU2VsZWN0ZWRPckluUmFuZ2UoXG4gICAgcHJvcHMuYW5jaG9yUG9zLFxuICAgIHByb3BzLmhlYWRQb3MsXG4gICAgcHJvcHMuZ2V0UG9zKCksXG4gICAgcHJvcHMubm9kZS5ub2RlU2l6ZVxuICApXG59XG5cbmNvbnN0IGhhc1NlbGVjdGlvbkNoYW5nZWQgPSAoXG4gIG9sZFByb3BzOiBNZWRpYUdyb3VwUHJvcHMsXG4gIG5ld1Byb3BzOiBNZWRpYUdyb3VwUHJvcHNcbik6IGJvb2xlYW4gPT4ge1xuICBpZiAoXG4gICAgaXNNZWRpYUdyb3VwU2VsZWN0ZWRGcm9tUHJvcHMob2xkUHJvcHMpICE9PVxuICAgIGlzTWVkaWFHcm91cFNlbGVjdGVkRnJvbVByb3BzKG5ld1Byb3BzKVxuICApIHtcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG4gIGlmIChcbiAgICBpc01lZGlhR3JvdXBTZWxlY3RlZEZyb21Qcm9wcyhuZXdQcm9wcykgPT09IFNlbGVjdGVkU3RhdGUuc2VsZWN0ZWRJbnNpZGVcbiAgKSB7XG4gICAgcmV0dXJuIG9sZFByb3BzLmFuY2hvclBvcyAhPT0gbmV3UHJvcHMuYW5jaG9yUG9zXG4gIH1cbiAgcmV0dXJuIGZhbHNlXG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1lZGlhR3JvdXAgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8XG4gIE1lZGlhR3JvdXBQcm9wcyxcbiAgTWVkaWFHcm91cFN0YXRlXG4+IHtcbiAgc3RhdGljIGRpc3BsYXlOYW1lID0gJ01lZGlhR3JvdXAnXG5cbiAgcHJpdmF0ZSBtZWRpYVBsdWdpblN0YXRlOiBNZWRpYVBsdWdpblN0YXRlXG4gIHByaXZhdGUgbWVkaWFOb2RlczogUE1Ob2RlW11cblxuICBzdGF0ZTogTWVkaWFHcm91cFN0YXRlID0ge1xuICAgIHZpZXdNZWRpYUNsaWVudENvbmZpZzogdW5kZWZpbmVkXG4gIH1cblxuICBjb25zdHJ1Y3Rvcihwcm9wczogTWVkaWFHcm91cFByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG4gICAgdGhpcy5tZWRpYU5vZGVzID0gW11cbiAgICB0aGlzLm1lZGlhUGx1Z2luU3RhdGUgPSBtZWRpYVN0YXRlS2V5LmdldFN0YXRlKHByb3BzLnZpZXcuc3RhdGUpXG4gICAgdGhpcy5zZXRNZWRpYUl0ZW1zKHByb3BzKVxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICB2aWV3TWVkaWFDbGllbnRDb25maWc6IHVuZGVmaW5lZFxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRoaXMudXBkYXRlTWVkaWFDbGllbnRDb25maWcoKVxuXG4gICAgdGhpcy5tZWRpYU5vZGVzLmZvckVhY2goYXN5bmMgKG5vZGU6IFBNTm9kZSkgPT4ge1xuICAgICAgaWYgKG5vZGUuYXR0cnMudHlwZSA9PT0gJ2V4dGVybmFsJykge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgY29uc3QgeyB2aWV3LCBtZWRpYVByb3ZpZGVyLCBjb250ZXh0SWRlbnRpZmllclByb3ZpZGVyIH0gPSB0aGlzLnByb3BzXG4gICAgICBjb25zdCBtZWRpYU5vZGVVcGRhdGVyID0gbmV3IE1lZGlhTm9kZVVwZGF0ZXIoe1xuICAgICAgICB2aWV3LFxuICAgICAgICBtZWRpYVByb3ZpZGVyLFxuICAgICAgICBjb250ZXh0SWRlbnRpZmllclByb3ZpZGVyLFxuICAgICAgICBub2RlLFxuICAgICAgICBpc01lZGlhU2luZ2xlOiBmYWxzZVxuICAgICAgfSlcblxuICAgICAgY29uc3QgY29udGV4dElkID0gbWVkaWFOb2RlVXBkYXRlci5nZXROb2RlQ29udGV4dElkKClcbiAgICAgIGlmICghY29udGV4dElkKSB7XG4gICAgICAgIGF3YWl0IG1lZGlhTm9kZVVwZGF0ZXIudXBkYXRlQ29udGV4dElkKClcbiAgICAgIH1cblxuICAgICAgY29uc3QgaGFzRGlmZmVyZW50Q29udGV4dElkID0gYXdhaXQgbWVkaWFOb2RlVXBkYXRlci5oYXNEaWZmZXJlbnRDb250ZXh0SWQoKVxuXG4gICAgICBpZiAoaGFzRGlmZmVyZW50Q29udGV4dElkKSB7XG4gICAgICAgIGF3YWl0IG1lZGlhTm9kZVVwZGF0ZXIuY29weU5vZGUoKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZU5vZGVBdHRycyA9IChwcm9wczogTWVkaWFHcm91cFByb3BzKSA9PiB7XG4gICAgY29uc3QgeyB2aWV3LCBtZWRpYVByb3ZpZGVyLCBjb250ZXh0SWRlbnRpZmllclByb3ZpZGVyIH0gPSBwcm9wc1xuXG4gICAgdGhpcy5tZWRpYU5vZGVzLmZvckVhY2goKG5vZGU6IFBNTm9kZSkgPT4ge1xuICAgICAgY29uc3QgbWVkaWFOb2RlVXBkYXRlciA9IG5ldyBNZWRpYU5vZGVVcGRhdGVyKHtcbiAgICAgICAgdmlldyxcbiAgICAgICAgbWVkaWFQcm92aWRlcixcbiAgICAgICAgY29udGV4dElkZW50aWZpZXJQcm92aWRlcixcbiAgICAgICAgbm9kZSxcbiAgICAgICAgaXNNZWRpYVNpbmdsZTogZmFsc2VcbiAgICAgIH0pXG5cbiAgICAgIG1lZGlhTm9kZVVwZGF0ZXIudXBkYXRlRmlsZUF0dHJzKGZhbHNlKVxuICAgIH0pXG4gIH1cblxuICBVTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhwcm9wczogTWVkaWFHcm91cFByb3BzKSB7XG4gICAgdGhpcy51cGRhdGVNZWRpYUNsaWVudENvbmZpZygpXG4gICAgdGhpcy5zZXRNZWRpYUl0ZW1zKHByb3BzKVxuXG4gICAgaWYgKHByb3BzLmlzQ29weVBhc3RlRW5hYmxlZCAhPT0gZmFsc2UpIHtcbiAgICAgIHRoaXMudXBkYXRlTm9kZUF0dHJzKHByb3BzKVxuICAgIH1cbiAgfVxuXG4gIHNob3VsZENvbXBvbmVudFVwZGF0ZShuZXh0UHJvcHM6IE1lZGlhR3JvdXBQcm9wcykge1xuICAgIGlmIChcbiAgICAgIGhhc1NlbGVjdGlvbkNoYW5nZWQodGhpcy5wcm9wcywgbmV4dFByb3BzKSB8fFxuICAgICAgdGhpcy5wcm9wcy5ub2RlICE9PSBuZXh0UHJvcHMubm9kZSB8fFxuICAgICAgdGhpcy5zdGF0ZS52aWV3TWVkaWFDbGllbnRDb25maWcgIT09XG4gICAgICAgIHRoaXMubWVkaWFQbHVnaW5TdGF0ZS5tZWRpYUNsaWVudENvbmZpZ1xuICAgICkge1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIHVwZGF0ZU1lZGlhQ2xpZW50Q29uZmlnKCkge1xuICAgIGNvbnN0IHsgdmlld01lZGlhQ2xpZW50Q29uZmlnIH0gPSB0aGlzLnN0YXRlXG4gICAgY29uc3QgeyBtZWRpYUNsaWVudENvbmZpZyB9ID0gdGhpcy5tZWRpYVBsdWdpblN0YXRlXG4gICAgaWYgKCF2aWV3TWVkaWFDbGllbnRDb25maWcgJiYgbWVkaWFDbGllbnRDb25maWcpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICB2aWV3TWVkaWFDbGllbnRDb25maWc6IG1lZGlhQ2xpZW50Q29uZmlnXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIHNldE1lZGlhSXRlbXMgPSAocHJvcHM6IE1lZGlhR3JvdXBQcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgbm9kZSB9ID0gcHJvcHNcbiAgICB0aGlzLm1lZGlhTm9kZXMgPSBbXSBhcyBBcnJheTxQTU5vZGU+XG4gICAgbm9kZS5mb3JFYWNoKChpdGVtLCBjaGlsZE9mZnNldCkgPT4ge1xuICAgICAgdGhpcy5tZWRpYVBsdWdpblN0YXRlLm1lZGlhR3JvdXBOb2Rlc1tpdGVtLmF0dHJzLmlkXSA9IHtcbiAgICAgICAgbm9kZTogaXRlbSxcbiAgICAgICAgZ2V0UG9zOiAoKSA9PiBwcm9wcy5nZXRQb3MoKSArIGNoaWxkT2Zmc2V0ICsgMVxuICAgICAgfVxuICAgICAgdGhpcy5tZWRpYU5vZGVzLnB1c2goaXRlbSlcbiAgICB9KVxuICB9XG5cbiAgZ2V0SWRlbnRpZmllciA9IChpdGVtOiBQTU5vZGUpOiBJZGVudGlmaWVyID0+IHtcbiAgICBpZiAoaXRlbS5hdHRycy50eXBlID09PSAnZXh0ZXJuYWwnKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBtZWRpYUl0ZW1UeXBlOiAnZXh0ZXJuYWwtaW1hZ2UnLFxuICAgICAgICBkYXRhVVJJOiBpdGVtLmF0dHJzLnVybFxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IGl0ZW0uYXR0cnMuaWQsXG4gICAgICBtZWRpYUl0ZW1UeXBlOiAnZmlsZScsXG4gICAgICBjb2xsZWN0aW9uTmFtZTogaXRlbS5hdHRycy5jb2xsZWN0aW9uXG4gICAgfVxuICB9XG5cbiAgaXNOb2RlU2VsZWN0ZWQgPSAobm9kZVBvczogbnVtYmVyKTogYm9vbGVhbiA9PiB7XG4gICAgY29uc3Qgc2VsZWN0ZWQgPSBpc01lZGlhR3JvdXBTZWxlY3RlZEZyb21Qcm9wcyh0aGlzLnByb3BzKVxuICAgIGlmIChzZWxlY3RlZCA9PT0gU2VsZWN0ZWRTdGF0ZS5zZWxlY3RlZEluUmFuZ2UpIHtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICAgIGlmIChcbiAgICAgIHNlbGVjdGVkID09PSBTZWxlY3RlZFN0YXRlLnNlbGVjdGVkSW5zaWRlICYmXG4gICAgICB0aGlzLnByb3BzLmFuY2hvclBvcyA9PT0gbm9kZVBvc1xuICAgICkge1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICByZW5kZXJDaGlsZE5vZGVzID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgdmlld01lZGlhQ2xpZW50Q29uZmlnIH0gPSB0aGlzLnN0YXRlXG4gICAgY29uc3QgeyBnZXRQb3MsIGFsbG93TGF6eUxvYWRpbmcsIGRpc2FibGVkLCBtZWRpYU9wdGlvbnMgfSA9IHRoaXMucHJvcHNcbiAgICBjb25zdCBpdGVtczogRmlsbXN0cmlwSXRlbVtdID0gdGhpcy5tZWRpYU5vZGVzLm1hcCgoaXRlbSwgaWR4KSA9PiB7XG4gICAgICAvLyBXZSBkZWNsYXJlZCB0aGlzIHRvIGdldCBhIGZyZXNoIHBvc2l0aW9uIGV2ZXJ5IHRpbWVcbiAgICAgIGNvbnN0IGdldE5vZGVQb3MgPSAoKSA9PiB7XG4gICAgICAgIHJldHVybiBnZXRQb3MoKSArIGlkeCArIDFcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlkZW50aWZpZXI6IHRoaXMuZ2V0SWRlbnRpZmllcihpdGVtKSxcbiAgICAgICAgaXNMYXp5OiBhbGxvd0xhenlMb2FkaW5nLFxuICAgICAgICBzZWxlY3RlZDogdGhpcy5pc05vZGVTZWxlY3RlZChnZXROb2RlUG9zKCkpLFxuICAgICAgICBvbkNsaWNrOiAoKSA9PiB7XG4gICAgICAgICAgc2V0Tm9kZVNlbGVjdGlvbih0aGlzLnByb3BzLnZpZXcsIGdldE5vZGVQb3MoKSlcbiAgICAgICAgfSxcbiAgICAgICAgYWN0aW9uczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGhhbmRsZXI6IGRpc2FibGVkXG4gICAgICAgICAgICAgID8gKCkgPT4ge31cbiAgICAgICAgICAgICAgOiB0aGlzLm1lZGlhUGx1Z2luU3RhdGUuaGFuZGxlTWVkaWFOb2RlUmVtb3ZhbC5iaW5kKFxuICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgIGdldE5vZGVQb3NcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgaWNvbjogPEVkaXRvckNsb3NlSWNvbiBsYWJlbD1cImRlbGV0ZVwiIC8+XG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSlcblxuICAgIHJldHVybiAoXG4gICAgICA8RmlsbXN0cmlwXG4gICAgICAgIGl0ZW1zPXtpdGVtc31cbiAgICAgICAgbWVkaWFDbGllbnRDb25maWc9e3ZpZXdNZWRpYUNsaWVudENvbmZpZ31cbiAgICAgICAgZmVhdHVyZUZsYWdzPXttZWRpYU9wdGlvbnMuZmVhdHVyZUZsYWdzfVxuICAgICAgLz5cbiAgICApXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVuZGVyQ2hpbGROb2RlcygpXG4gIH1cbn1cblxuaW50ZXJmYWNlIE1lZGlhR3JvdXBOb2RlVmlld1Byb3BzIHtcbiAgYWxsb3dMYXp5TG9hZGluZz86IGJvb2xlYW5cbiAgaXNDb3B5UGFzdGVFbmFibGVkPzogYm9vbGVhblxuICBwcm92aWRlckZhY3Rvcnk6IFByb3ZpZGVyRmFjdG9yeVxuICBtZWRpYU9wdGlvbnM6IE1lZGlhT3B0aW9uc1xufVxuXG5jbGFzcyBNZWRpYUdyb3VwTm9kZVZpZXcgZXh0ZW5kcyBSZWFjdE5vZGVWaWV3PE1lZGlhR3JvdXBOb2RlVmlld1Byb3BzPiB7XG4gIHJlbmRlcihwcm9wczogTWVkaWFHcm91cE5vZGVWaWV3UHJvcHMsIGZvcndhcmRSZWY6IEZvcndhcmRSZWYpIHtcbiAgICBjb25zdCB7IHByb3ZpZGVyRmFjdG9yeSwgbWVkaWFPcHRpb25zIH0gPSBwcm9wc1xuICAgIGNvbnN0IGdldFBvcyA9IHRoaXMuZ2V0UG9zIGFzIGdldFBvc0hhbmRsZXJOb2RlXG4gICAgcmV0dXJuIChcbiAgICAgIDxXaXRoUHJvdmlkZXJzXG4gICAgICAgIHByb3ZpZGVycz17WydtZWRpYVByb3ZpZGVyJywgJ2NvbnRleHRJZGVudGlmaWVyUHJvdmlkZXInXX1cbiAgICAgICAgcHJvdmlkZXJGYWN0b3J5PXtwcm92aWRlckZhY3Rvcnl9XG4gICAgICAgIHJlbmRlck5vZGU9eyh7IG1lZGlhUHJvdmlkZXIsIGNvbnRleHRJZGVudGlmaWVyUHJvdmlkZXIgfSkgPT4ge1xuICAgICAgICAgIGNvbnN0IHJlbmRlckZuID0gKHtcbiAgICAgICAgICAgIGVkaXRvckRpc2FibGVkUGx1Z2luXG4gICAgICAgICAgfToge1xuICAgICAgICAgICAgZWRpdG9yRGlzYWJsZWRQbHVnaW46IEVkaXRvckRpc2FibGVkUGx1Z2luU3RhdGVcbiAgICAgICAgICB9KSA9PiB7XG4gICAgICAgICAgICBpZiAoIW1lZGlhUHJvdmlkZXIpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDxNZWRpYUdyb3VwXG4gICAgICAgICAgICAgICAgbm9kZT17dGhpcy5ub2RlfVxuICAgICAgICAgICAgICAgIGdldFBvcz17Z2V0UG9zfVxuICAgICAgICAgICAgICAgIHZpZXc9e3RoaXMudmlld31cbiAgICAgICAgICAgICAgICBmb3J3YXJkUmVmPXtmb3J3YXJkUmVmfVxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXsoZWRpdG9yRGlzYWJsZWRQbHVnaW4gfHwge30pLmVkaXRvckRpc2FibGVkfVxuICAgICAgICAgICAgICAgIGFsbG93TGF6eUxvYWRpbmc9e21lZGlhT3B0aW9ucy5hbGxvd0xhenlMb2FkaW5nfVxuICAgICAgICAgICAgICAgIG1lZGlhUHJvdmlkZXI9e21lZGlhUHJvdmlkZXJ9XG4gICAgICAgICAgICAgICAgY29udGV4dElkZW50aWZpZXJQcm92aWRlcj17Y29udGV4dElkZW50aWZpZXJQcm92aWRlcn1cbiAgICAgICAgICAgICAgICBpc0NvcHlQYXN0ZUVuYWJsZWQ9e21lZGlhT3B0aW9ucy5pc0NvcHlQYXN0ZUVuYWJsZWR9XG4gICAgICAgICAgICAgICAgYW5jaG9yUG9zPXt0aGlzLnZpZXcuc3RhdGUuc2VsZWN0aW9uLiRhbmNob3IucG9zfVxuICAgICAgICAgICAgICAgIGhlYWRQb3M9e3RoaXMudmlldy5zdGF0ZS5zZWxlY3Rpb24uJGhlYWQucG9zfVxuICAgICAgICAgICAgICAgIG1lZGlhT3B0aW9ucz17bWVkaWFPcHRpb25zfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPFdpdGhQbHVnaW5TdGF0ZVxuICAgICAgICAgICAgICBlZGl0b3JWaWV3PXt0aGlzLnZpZXd9XG4gICAgICAgICAgICAgIHBsdWdpbnM9e3tcbiAgICAgICAgICAgICAgICByZWFjdE5vZGVWaWV3U3RhdGU6IHJlYWN0Tm9kZVZpZXdTdGF0ZUtleSxcbiAgICAgICAgICAgICAgICBlZGl0b3JEaXNhYmxlZFBsdWdpbjogZWRpdG9yRGlzYWJsZWRQbHVnaW5LZXlcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgcmVuZGVyPXtyZW5kZXJGbn1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgKVxuICAgICAgICB9fVxuICAgICAgLz5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IFJlYWN0TWVkaWFHcm91cE5vZGUgPSAoXG4gIHBvcnRhbFByb3ZpZGVyQVBJOiBQb3J0YWxQcm92aWRlckFQSSxcbiAgZXZlbnREaXNwYXRjaGVyOiBFdmVudERpc3BhdGNoZXIsXG4gIHByb3ZpZGVyRmFjdG9yeTogUHJvdmlkZXJGYWN0b3J5LFxuICBtZWRpYU9wdGlvbnM6IE1lZGlhT3B0aW9ucyA9IHt9XG4pID0+IChub2RlOiBQTU5vZGUsIHZpZXc6IEVkaXRvclZpZXcsIGdldFBvczogZ2V0UG9zSGFuZGxlcik6IE5vZGVWaWV3ID0+IHtcbiAgcmV0dXJuIG5ldyBNZWRpYUdyb3VwTm9kZVZpZXcoXG4gICAgbm9kZSxcbiAgICB2aWV3LFxuICAgIGdldFBvcyxcbiAgICBwb3J0YWxQcm92aWRlckFQSSxcbiAgICBldmVudERpc3BhdGNoZXIsXG4gICAge1xuICAgICAgcHJvdmlkZXJGYWN0b3J5LFxuICAgICAgbWVkaWFPcHRpb25zXG4gICAgfVxuICApLmluaXQoKVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFNQTtBQUdBO0FBR0E7QUFPQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBSUE7QUFJQTtBQUVBO0FBd0JBO0FBQ0E7QUFNQTtBQUVBO0FBSUE7QUFJQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQWFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBSkE7QUFDQTtBQUFBO0FBMkNBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQW1DQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBT0E7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBbktBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBbUJBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBTUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBa0ZBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUF0TEE7QUFJQTtBQUpBO0FBZ01BO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUFBO0FBR0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUdBO0FBQ0E7QUFFQTtBQU9BO0FBQ0E7QUFDQTtBQUVBO0FBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/plugins/media/nodeviews/mediaGroup.tsx\n");

/***/ }),

/***/ "./src/plugins/media/nodeviews/mediaNodeUpdater.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MediaNodeUpdater\", function() { return MediaNodeUpdater; });\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var uuid_v4__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./node_modules/uuid/v4.js\");\n/* harmony import */ var uuid_v4__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(uuid_v4__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _atlaskit_editor_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./node_modules/@atlaskit/editor-common/dist/esm/index.js\");\n/* harmony import */ var _atlaskit_media_client__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./node_modules/@atlaskit/media-client/dist/esm/index.js\");\n/* harmony import */ var _atlaskit_editor_core_plugins_analytics__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/plugins/analytics/index.ts\");\n/* harmony import */ var _commands_helpers__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"./src/plugins/media/commands/helpers.ts\");\n\n\n\n\n\n\n\n\n\n\nvar MediaNodeUpdater = /*#__PURE__*/function () {\n  function MediaNodeUpdater(props) {\n    var _this = this;\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this, MediaNodeUpdater);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"props\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"updateContextId\", /*#__PURE__*/_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark(function _callee() {\n      var attrs, id, objectId;\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              attrs = _this.getAttrs();\n              if (!(!attrs || attrs.type !== 'file')) {\n                _context.next = 3;\n                break;\n              }\n              return _context.abrupt(\"return\");\n            case 3:\n              id = attrs.id;\n              _context.next = 6;\n              return _this.getObjectId();\n            case 6:\n              objectId = _context.sent;\n              Object(_commands_helpers__WEBPACK_IMPORTED_MODULE_9__[\"updateAllMediaNodesAttrs\"])(id, {\n                __contextId: objectId\n              }, _this.props.isMediaSingle)(_this.props.view.state, _this.props.view.dispatch);\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    })));\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"hasFileAttributesDefined\", function () {\n      var attrs = _this.getAttrs();\n      return attrs && attrs.type === 'file' && attrs.__fileName && attrs.__fileMimeType && attrs.__fileSize && attrs.__contextId;\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"updateFileAttrs\", /*#__PURE__*/_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark(function _callee2() {\n      var isMediaSingle,\n        attrs,\n        mediaProvider,\n        mediaClientConfig,\n        mediaClient,\n        options,\n        fileState,\n        contextId,\n        _fileState,\n        name,\n        mimeType,\n        size,\n        newAttrs,\n        attrsChanged,\n        _args2 = arguments;\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              isMediaSingle = _args2.length > 0 && _args2[0] !== undefined ? _args2[0] : true;\n              attrs = _this.getAttrs();\n              _context2.next = 4;\n              return _this.props.mediaProvider;\n            case 4:\n              mediaProvider = _context2.sent;\n              if (!(!mediaProvider || !mediaProvider.uploadParams || !attrs || attrs.type !== 'file' || _this.hasFileAttributesDefined())) {\n                _context2.next = 7;\n                break;\n              }\n              return _context2.abrupt(\"return\");\n            case 7:\n              mediaClientConfig = mediaProvider.viewMediaClientConfig;\n              mediaClient = Object(_atlaskit_media_client__WEBPACK_IMPORTED_MODULE_7__[\"getMediaClient\"])(mediaClientConfig);\n              options = {\n                collectionName: attrs.collection\n              };\n              _context2.prev = 10;\n              _context2.next = 13;\n              return mediaClient.file.getCurrentState(attrs.id, options);\n            case 13:\n              fileState = _context2.sent;\n              if (!(fileState.status === 'error')) {\n                _context2.next = 16;\n                break;\n              }\n              return _context2.abrupt(\"return\");\n            case 16:\n              _context2.next = 21;\n              break;\n            case 18:\n              _context2.prev = 18;\n              _context2.t0 = _context2[\"catch\"](10);\n              return _context2.abrupt(\"return\");\n            case 21:\n              _context2.t1 = _this.getNodeContextId();\n              if (_context2.t1) {\n                _context2.next = 26;\n                break;\n              }\n              _context2.next = 25;\n              return _this.getObjectId();\n            case 25:\n              _context2.t1 = _context2.sent;\n            case 26:\n              contextId = _context2.t1;\n              _fileState = fileState, name = _fileState.name, mimeType = _fileState.mimeType, size = _fileState.size;\n              newAttrs = {\n                __fileName: name,\n                __fileMimeType: mimeType,\n                __fileSize: size,\n                __contextId: contextId\n              };\n              attrsChanged = hasPrivateAttrsChanged(attrs, newAttrs);\n              if (attrsChanged) {\n                // TODO [MS-2258]: we should pass this.props.isMediaSingle and remove hardcoded \"true\"\n                Object(_commands_helpers__WEBPACK_IMPORTED_MODULE_9__[\"updateAllMediaNodesAttrs\"])(attrs.id, newAttrs, isMediaSingle)(_this.props.view.state, _this.props.view.dispatch);\n              }\n            case 31:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[10, 18]]);\n    })));\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"getAttrs\", function () {\n      var attrs = _this.props.node.attrs;\n      if (attrs) {\n        return attrs;\n      }\n      return undefined;\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"getObjectId\", /*#__PURE__*/_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark(function _callee3() {\n      var contextIdentifierProvider;\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return _this.props.contextIdentifierProvider;\n            case 2:\n              contextIdentifierProvider = _context3.sent;\n              return _context3.abrupt(\"return\", contextIdentifierProvider && contextIdentifierProvider.objectId);\n            case 4:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    })));\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"uploadExternalMedia\", /*#__PURE__*/function () {\n      var _ref4 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark(function _callee4(getPos) {\n        var node, mediaProvider, uploadMediaClientConfig, mediaClient, collection, uploader, uploadableFileUpfrontIds, dimensions;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                node = _this.props.node;\n                _context4.next = 3;\n                return _this.props.mediaProvider;\n              case 3:\n                mediaProvider = _context4.sent;\n                if (!(node && mediaProvider)) {\n                  _context4.next = 21;\n                  break;\n                }\n                uploadMediaClientConfig = mediaProvider.uploadMediaClientConfig;\n                if (!(!uploadMediaClientConfig || !node.attrs.url)) {\n                  _context4.next = 8;\n                  break;\n                }\n                return _context4.abrupt(\"return\");\n              case 8:\n                mediaClient = Object(_atlaskit_media_client__WEBPACK_IMPORTED_MODULE_7__[\"getMediaClient\"])(uploadMediaClientConfig);\n                collection = mediaProvider.uploadParams && mediaProvider.uploadParams.collection;\n                _context4.prev = 10;\n                _context4.next = 13;\n                return mediaClient.file.uploadExternal(node.attrs.url, collection);\n              case 13:\n                uploader = _context4.sent;\n                uploadableFileUpfrontIds = uploader.uploadableFileUpfrontIds, dimensions = uploader.dimensions;\n                Object(_commands_helpers__WEBPACK_IMPORTED_MODULE_9__[\"replaceExternalMedia\"])(getPos() + 1, {\n                  id: uploadableFileUpfrontIds.id,\n                  collection: collection,\n                  height: dimensions.height,\n                  width: dimensions.width,\n                  occurrenceKey: uploadableFileUpfrontIds.occurrenceKey\n                })(_this.props.view.state, _this.props.view.dispatch);\n                _context4.next = 21;\n                break;\n              case 18:\n                _context4.prev = 18;\n                _context4.t0 = _context4[\"catch\"](10);\n                //keep it as external media\n                if (_this.props.dispatchAnalyticsEvent) {\n                  _this.props.dispatchAnalyticsEvent({\n                    action: _atlaskit_editor_core_plugins_analytics__WEBPACK_IMPORTED_MODULE_8__[\"ACTION\"].UPLOAD_EXTERNAL_FAIL,\n                    actionSubject: _atlaskit_editor_core_plugins_analytics__WEBPACK_IMPORTED_MODULE_8__[\"ACTION_SUBJECT\"].EDITOR,\n                    eventType: _atlaskit_editor_core_plugins_analytics__WEBPACK_IMPORTED_MODULE_8__[\"EVENT_TYPE\"].OPERATIONAL\n                  });\n                }\n              case 21:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, null, [[10, 18]]);\n      }));\n      return function (_x) {\n        return _ref4.apply(this, arguments);\n      };\n    }());\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"getNodeContextId\", function () {\n      var attrs = _this.getAttrs();\n      if (!attrs || attrs.type !== 'file') {\n        return undefined;\n      }\n      return attrs.__contextId;\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"updateDimensions\", function (dimensions) {\n      Object(_commands_helpers__WEBPACK_IMPORTED_MODULE_9__[\"updateAllMediaNodesAttrs\"])(dimensions.id, {\n        height: dimensions.height,\n        width: dimensions.width\n      }, true)(_this.props.view.state, _this.props.view.dispatch);\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"hasDifferentContextId\", /*#__PURE__*/_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark(function _callee5() {\n      var nodeContextId, currentContextId;\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              nodeContextId = _this.getNodeContextId();\n              _context5.next = 3;\n              return _this.getObjectId();\n            case 3:\n              currentContextId = _context5.sent;\n              if (!(nodeContextId && currentContextId && nodeContextId !== currentContextId)) {\n                _context5.next = 6;\n                break;\n              }\n              return _context5.abrupt(\"return\", true);\n            case 6:\n              return _context5.abrupt(\"return\", false);\n            case 7:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    })));\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"isNodeFromDifferentCollection\", /*#__PURE__*/_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark(function _callee6() {\n      var mediaProvider, currentCollectionName, attrs, nodeCollection, __contextId, contextId;\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              _context6.next = 2;\n              return _this.props.mediaProvider;\n            case 2:\n              mediaProvider = _context6.sent;\n              if (!(!mediaProvider || !mediaProvider.uploadParams)) {\n                _context6.next = 5;\n                break;\n              }\n              return _context6.abrupt(\"return\", false);\n            case 5:\n              currentCollectionName = mediaProvider.uploadParams.collection;\n              attrs = _this.getAttrs();\n              if (!(!attrs || attrs.type !== 'file')) {\n                _context6.next = 9;\n                break;\n              }\n              return _context6.abrupt(\"return\", false);\n            case 9:\n              nodeCollection = attrs.collection, __contextId = attrs.__contextId;\n              _context6.t0 = __contextId;\n              if (_context6.t0) {\n                _context6.next = 15;\n                break;\n              }\n              _context6.next = 14;\n              return _this.getObjectId();\n            case 14:\n              _context6.t0 = _context6.sent;\n            case 15:\n              contextId = _context6.t0;\n              if (!(contextId && currentCollectionName !== nodeCollection)) {\n                _context6.next = 18;\n                break;\n              }\n              return _context6.abrupt(\"return\", true);\n            case 18:\n              return _context6.abrupt(\"return\", false);\n            case 19:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6);\n    })));\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"copyNodeFromBlobUrl\", /*#__PURE__*/function () {\n      var _ref7 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark(function _callee7(getPos) {\n        var attrs, url, mediaAttrs, mediaProvider, currentCollectionName, contextId, id, collection, height, width, mimeType, name, size, uploadMediaClientConfig, mediaClient, auth, source, destination, mediaFile;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                attrs = _this.getAttrs();\n                if (!(!attrs || attrs.type !== 'external')) {\n                  _context7.next = 3;\n                  break;\n                }\n                return _context7.abrupt(\"return\");\n              case 3:\n                url = attrs.url;\n                mediaAttrs = Object(_atlaskit_media_client__WEBPACK_IMPORTED_MODULE_7__[\"getAttrsFromUrl\"])(url);\n                if (mediaAttrs) {\n                  _context7.next = 7;\n                  break;\n                }\n                return _context7.abrupt(\"return\");\n              case 7:\n                _context7.next = 9;\n                return _this.props.mediaProvider;\n              case 9:\n                mediaProvider = _context7.sent;\n                if (!(!mediaProvider || !mediaProvider.uploadParams)) {\n                  _context7.next = 12;\n                  break;\n                }\n                return _context7.abrupt(\"return\");\n              case 12:\n                currentCollectionName = mediaProvider.uploadParams.collection;\n                contextId = mediaAttrs.contextId, id = mediaAttrs.id, collection = mediaAttrs.collection, height = mediaAttrs.height, width = mediaAttrs.width, mimeType = mediaAttrs.mimeType, name = mediaAttrs.name, size = mediaAttrs.size;\n                uploadMediaClientConfig = mediaProvider.uploadMediaClientConfig;\n                if (!(!uploadMediaClientConfig || !uploadMediaClientConfig.getAuthFromContext)) {\n                  _context7.next = 17;\n                  break;\n                }\n                return _context7.abrupt(\"return\");\n              case 17:\n                mediaClient = Object(_atlaskit_media_client__WEBPACK_IMPORTED_MODULE_7__[\"getMediaClient\"])(uploadMediaClientConfig);\n                _context7.next = 20;\n                return uploadMediaClientConfig.getAuthFromContext(contextId);\n              case 20:\n                auth = _context7.sent;\n                source = {\n                  id: id,\n                  collection: collection,\n                  authProvider: function authProvider() {\n                    return Promise.resolve(auth);\n                  }\n                };\n                destination = {\n                  collection: currentCollectionName,\n                  authProvider: uploadMediaClientConfig.authProvider,\n                  occurrenceKey: uuid_v4__WEBPACK_IMPORTED_MODULE_5___default()()\n                };\n                _context7.next = 25;\n                return mediaClient.file.copyFile(source, destination);\n              case 25:\n                mediaFile = _context7.sent;\n                Object(_commands_helpers__WEBPACK_IMPORTED_MODULE_9__[\"replaceExternalMedia\"])(getPos() + 1, {\n                  id: mediaFile.id,\n                  collection: currentCollectionName,\n                  height: height,\n                  width: width,\n                  __fileName: name,\n                  __fileMimeType: mimeType,\n                  __fileSize: size\n                })(_this.props.view.state, _this.props.view.dispatch);\n              case 27:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7);\n      }));\n      return function (_x2) {\n        return _ref7.apply(this, arguments);\n      };\n    }());\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"copyNode\", /*#__PURE__*/_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark(function _callee8() {\n      var mediaProvider, _this$props, isMediaSingle, view, attrs, nodeContextId, uploadMediaClientConfig, mediaClient, auth, objectId, id, collection, source, currentCollectionName, destination, mediaFile;\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap(function _callee8$(_context8) {\n        while (1) {\n          switch (_context8.prev = _context8.next) {\n            case 0:\n              _context8.next = 2;\n              return _this.props.mediaProvider;\n            case 2:\n              mediaProvider = _context8.sent;\n              _this$props = _this.props, isMediaSingle = _this$props.isMediaSingle, view = _this$props.view;\n              attrs = _this.getAttrs();\n              if (!(!mediaProvider || !mediaProvider.uploadParams || !attrs || attrs.type !== 'file')) {\n                _context8.next = 7;\n                break;\n              }\n              return _context8.abrupt(\"return\");\n            case 7:\n              nodeContextId = _this.getNodeContextId();\n              uploadMediaClientConfig = mediaProvider.uploadMediaClientConfig;\n              if (!(uploadMediaClientConfig && uploadMediaClientConfig.getAuthFromContext && nodeContextId)) {\n                _context8.next = 25;\n                break;\n              }\n              mediaClient = Object(_atlaskit_media_client__WEBPACK_IMPORTED_MODULE_7__[\"getMediaClient\"])(uploadMediaClientConfig);\n              _context8.next = 13;\n              return uploadMediaClientConfig.getAuthFromContext(nodeContextId);\n            case 13:\n              auth = _context8.sent;\n              _context8.next = 16;\n              return _this.getObjectId();\n            case 16:\n              objectId = _context8.sent;\n              id = attrs.id, collection = attrs.collection;\n              source = {\n                id: id,\n                collection: collection,\n                authProvider: function authProvider() {\n                  return Promise.resolve(auth);\n                }\n              };\n              currentCollectionName = mediaProvider.uploadParams.collection;\n              destination = {\n                collection: currentCollectionName,\n                authProvider: uploadMediaClientConfig.authProvider,\n                occurrenceKey: uuid_v4__WEBPACK_IMPORTED_MODULE_5___default()()\n              };\n              _context8.next = 23;\n              return mediaClient.file.copyFile(source, destination);\n            case 23:\n              mediaFile = _context8.sent;\n              Object(_commands_helpers__WEBPACK_IMPORTED_MODULE_9__[\"updateMediaNodeAttrs\"])(source.id, {\n                id: mediaFile.id,\n                collection: currentCollectionName,\n                __contextId: objectId\n              }, isMediaSingle)(view.state, view.dispatch);\n            case 25:\n            case \"end\":\n              return _context8.stop();\n          }\n        }\n      }, _callee8);\n    })));\n    this.props = props;\n  }\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(MediaNodeUpdater, [{\n    key: \"isMediaBlobUrl\",\n    value: function isMediaBlobUrl() {\n      var attrs = this.getAttrs();\n      return !!(attrs && attrs.type === 'external' && Object(_atlaskit_media_client__WEBPACK_IMPORTED_MODULE_7__[\"isMediaBlobUrl\"])(attrs.url));\n    }\n\n    // Updates the node with contextId if it doesn't have one already\n    // TODO [MS-2258]: remove updateContextId in order to only use updateFileAttrs\n  }, {\n    key: \"getRemoteDimensions\",\n    value: function () {\n      var _getRemoteDimensions = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark(function _callee9() {\n        var mediaProvider, mediaOptions, attrs, height, width, id, collection, viewMediaClientConfig, mediaClient, state;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                _context9.next = 2;\n                return this.props.mediaProvider;\n              case 2:\n                mediaProvider = _context9.sent;\n                mediaOptions = this.props.mediaOptions;\n                attrs = this.getAttrs();\n                if (!(!mediaProvider || !attrs)) {\n                  _context9.next = 7;\n                  break;\n                }\n                return _context9.abrupt(\"return\", false);\n              case 7:\n                height = attrs.height, width = attrs.width;\n                if (!(attrs.type === 'external' || !attrs.id)) {\n                  _context9.next = 10;\n                  break;\n                }\n                return _context9.abrupt(\"return\", false);\n              case 10:\n                id = attrs.id, collection = attrs.collection;\n                if (!(height && width)) {\n                  _context9.next = 13;\n                  break;\n                }\n                return _context9.abrupt(\"return\", false);\n              case 13:\n                if (!(mediaOptions && !mediaOptions.allowRemoteDimensionsFetch)) {\n                  _context9.next = 15;\n                  break;\n                }\n                return _context9.abrupt(\"return\", {\n                  id: id,\n                  height: _atlaskit_editor_common__WEBPACK_IMPORTED_MODULE_6__[\"DEFAULT_IMAGE_HEIGHT\"],\n                  width: _atlaskit_editor_common__WEBPACK_IMPORTED_MODULE_6__[\"DEFAULT_IMAGE_WIDTH\"]\n                });\n              case 15:\n                viewMediaClientConfig = mediaProvider.viewMediaClientConfig;\n                mediaClient = Object(_atlaskit_media_client__WEBPACK_IMPORTED_MODULE_7__[\"getMediaClient\"])(viewMediaClientConfig);\n                _context9.next = 19;\n                return mediaClient.getImageMetadata(id, {\n                  collection: collection\n                });\n              case 19:\n                state = _context9.sent;\n                if (!(!state || !state.original)) {\n                  _context9.next = 22;\n                  break;\n                }\n                return _context9.abrupt(\"return\", false);\n              case 22:\n                return _context9.abrupt(\"return\", {\n                  id: id,\n                  height: state.original.height || _atlaskit_editor_common__WEBPACK_IMPORTED_MODULE_6__[\"DEFAULT_IMAGE_HEIGHT\"],\n                  width: state.original.width || _atlaskit_editor_common__WEBPACK_IMPORTED_MODULE_6__[\"DEFAULT_IMAGE_WIDTH\"]\n                });\n              case 23:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9, this);\n      }));\n      function getRemoteDimensions() {\n        return _getRemoteDimensions.apply(this, arguments);\n      }\n      return getRemoteDimensions;\n    }()\n  }, {\n    key: \"handleExternalMedia\",\n    value: function () {\n      var _handleExternalMedia = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark(function _callee10(getPos) {\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap(function _callee10$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                if (!this.isMediaBlobUrl()) {\n                  _context10.next = 12;\n                  break;\n                }\n                _context10.prev = 1;\n                _context10.next = 4;\n                return this.copyNodeFromBlobUrl(getPos);\n              case 4:\n                _context10.next = 10;\n                break;\n              case 6:\n                _context10.prev = 6;\n                _context10.t0 = _context10[\"catch\"](1);\n                _context10.next = 10;\n                return this.uploadExternalMedia(getPos);\n              case 10:\n                _context10.next = 14;\n                break;\n              case 12:\n                _context10.next = 14;\n                return this.uploadExternalMedia(getPos);\n              case 14:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee10, this, [[1, 6]]);\n      }));\n      function handleExternalMedia(_x3) {\n        return _handleExternalMedia.apply(this, arguments);\n      }\n      return handleExternalMedia;\n    }() // Copies the pasted node into the current collection\n  }]);\n  return MediaNodeUpdater;\n}();\nvar hasPrivateAttrsChanged = function hasPrivateAttrsChanged(currentAttrs, newAttrs) {\n  return currentAttrs.__fileName !== newAttrs.__fileName || currentAttrs.__fileMimeType !== newAttrs.__fileMimeType || currentAttrs.__fileSize !== newAttrs.__fileSize || currentAttrs.__contextId !== newAttrs.__contextId;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9tZWRpYS9ub2Rldmlld3MvbWVkaWFOb2RlVXBkYXRlci50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9wbHVnaW5zL21lZGlhL25vZGV2aWV3cy9tZWRpYU5vZGVVcGRhdGVyLnRzP2EwMDEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHV1aWRWNCBmcm9tICd1dWlkL3Y0J1xuaW1wb3J0IHsgTWVkaWFBdHRyaWJ1dGVzLCBNZWRpYUFERkF0dHJzIH0gZnJvbSAnQGF0bGFza2l0L2FkZi1zY2hlbWEnXG5pbXBvcnQge1xuICBERUZBVUxUX0lNQUdFX0hFSUdIVCxcbiAgREVGQVVMVF9JTUFHRV9XSURUSCxcbiAgTWVkaWFQcm92aWRlclxufSBmcm9tICdAYXRsYXNraXQvZWRpdG9yLWNvbW1vbidcbmltcG9ydCB7XG4gIEZpbGVTdGF0ZSxcbiAgZ2V0TWVkaWFDbGllbnQsXG4gIGlzTWVkaWFCbG9iVXJsLFxuICBnZXRBdHRyc0Zyb21Vcmxcbn0gZnJvbSAnQGF0bGFza2l0L21lZGlhLWNsaWVudCdcbmltcG9ydCB7IE5vZGUgYXMgUE1Ob2RlIH0gZnJvbSAncHJvc2VtaXJyb3ItbW9kZWwnXG5pbXBvcnQgeyBFZGl0b3JWaWV3IH0gZnJvbSAncHJvc2VtaXJyb3ItdmlldydcbmltcG9ydCB7IENvbnRleHRJZGVudGlmaWVyUHJvdmlkZXIgfSBmcm9tICdAYXRsYXNraXQvZWRpdG9yLWNvbW1vbidcbmltcG9ydCB7XG4gIERpc3BhdGNoQW5hbHl0aWNzRXZlbnQsXG4gIEFDVElPTixcbiAgQUNUSU9OX1NVQkpFQ1QsXG4gIEVWRU5UX1RZUEVcbn0gZnJvbSAnQGF0bGFza2l0L2VkaXRvci1jb3JlL3BsdWdpbnMvYW5hbHl0aWNzJ1xuaW1wb3J0IHsgTWVkaWFPcHRpb25zIH0gZnJvbSAnLi4vdHlwZXMnXG5pbXBvcnQge1xuICByZXBsYWNlRXh0ZXJuYWxNZWRpYSxcbiAgdXBkYXRlQWxsTWVkaWFOb2Rlc0F0dHJzLFxuICB1cGRhdGVNZWRpYU5vZGVBdHRyc1xufSBmcm9tICcuLi9jb21tYW5kcy9oZWxwZXJzJ1xuaW1wb3J0IHsgUHJvc2VtaXJyb3JHZXRQb3NIYW5kbGVyIH0gZnJvbSAnQGF0bGFza2l0L2VkaXRvci1jb3JlL25vZGV2aWV3cydcblxuZXhwb3J0IHR5cGUgUmVtb3RlRGltZW5zaW9ucyA9IHsgaWQ6IHN0cmluZzsgaGVpZ2h0OiBudW1iZXI7IHdpZHRoOiBudW1iZXIgfVxuXG5leHBvcnQgaW50ZXJmYWNlIE1lZGlhTm9kZVVwZGF0ZXJQcm9wcyB7XG4gIHZpZXc6IEVkaXRvclZpZXdcbiAgbm9kZTogUE1Ob2RlIC8vIGFzc3VtZWQgdG8gYmUgbWVkaWEgdHlwZSBub2RlIChpZS4gY2hpbGQgb2YgTWVkaWFTaW5nbGUsIE1lZGlhR3JvdXApXG4gIG1lZGlhUHJvdmlkZXI/OiBQcm9taXNlPE1lZGlhUHJvdmlkZXI+XG4gIGNvbnRleHRJZGVudGlmaWVyUHJvdmlkZXI/OiBQcm9taXNlPENvbnRleHRJZGVudGlmaWVyUHJvdmlkZXI+XG4gIGlzTWVkaWFTaW5nbGU6IGJvb2xlYW5cbiAgbWVkaWFPcHRpb25zPzogTWVkaWFPcHRpb25zXG4gIGRpc3BhdGNoQW5hbHl0aWNzRXZlbnQ/OiBEaXNwYXRjaEFuYWx5dGljc0V2ZW50XG59XG5cbmV4cG9ydCBjbGFzcyBNZWRpYU5vZGVVcGRhdGVyIHtcbiAgcHJvcHM6IE1lZGlhTm9kZVVwZGF0ZXJQcm9wc1xuXG4gIGNvbnN0cnVjdG9yKHByb3BzOiBNZWRpYU5vZGVVcGRhdGVyUHJvcHMpIHtcbiAgICB0aGlzLnByb3BzID0gcHJvcHNcbiAgfVxuXG4gIGlzTWVkaWFCbG9iVXJsKCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGF0dHJzID0gdGhpcy5nZXRBdHRycygpXG5cbiAgICByZXR1cm4gISEoYXR0cnMgJiYgYXR0cnMudHlwZSA9PT0gJ2V4dGVybmFsJyAmJiBpc01lZGlhQmxvYlVybChhdHRycy51cmwpKVxuICB9XG5cbiAgLy8gVXBkYXRlcyB0aGUgbm9kZSB3aXRoIGNvbnRleHRJZCBpZiBpdCBkb2Vzbid0IGhhdmUgb25lIGFscmVhZHlcbiAgLy8gVE9ETyBbTVMtMjI1OF06IHJlbW92ZSB1cGRhdGVDb250ZXh0SWQgaW4gb3JkZXIgdG8gb25seSB1c2UgdXBkYXRlRmlsZUF0dHJzXG4gIHVwZGF0ZUNvbnRleHRJZCA9IGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBhdHRycyA9IHRoaXMuZ2V0QXR0cnMoKVxuICAgIGlmICghYXR0cnMgfHwgYXR0cnMudHlwZSAhPT0gJ2ZpbGUnKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBjb25zdCB7IGlkIH0gPSBhdHRyc1xuICAgIGNvbnN0IG9iamVjdElkID0gYXdhaXQgdGhpcy5nZXRPYmplY3RJZCgpXG5cbiAgICB1cGRhdGVBbGxNZWRpYU5vZGVzQXR0cnMoXG4gICAgICBpZCxcbiAgICAgIHtcbiAgICAgICAgX19jb250ZXh0SWQ6IG9iamVjdElkXG4gICAgICB9LFxuICAgICAgdGhpcy5wcm9wcy5pc01lZGlhU2luZ2xlXG4gICAgKSh0aGlzLnByb3BzLnZpZXcuc3RhdGUsIHRoaXMucHJvcHMudmlldy5kaXNwYXRjaClcbiAgfVxuXG4gIGhhc0ZpbGVBdHRyaWJ1dGVzRGVmaW5lZCA9ICgpID0+IHtcbiAgICBjb25zdCBhdHRycyA9IHRoaXMuZ2V0QXR0cnMoKVxuICAgIHJldHVybiAoXG4gICAgICBhdHRycyAmJlxuICAgICAgYXR0cnMudHlwZSA9PT0gJ2ZpbGUnICYmXG4gICAgICBhdHRycy5fX2ZpbGVOYW1lICYmXG4gICAgICBhdHRycy5fX2ZpbGVNaW1lVHlwZSAmJlxuICAgICAgYXR0cnMuX19maWxlU2l6ZSAmJlxuICAgICAgYXR0cnMuX19jb250ZXh0SWRcbiAgICApXG4gIH1cblxuICB1cGRhdGVGaWxlQXR0cnMgPSBhc3luYyAoaXNNZWRpYVNpbmdsZTogYm9vbGVhbiA9IHRydWUpID0+IHtcbiAgICBjb25zdCBhdHRycyA9IHRoaXMuZ2V0QXR0cnMoKVxuICAgIGNvbnN0IG1lZGlhUHJvdmlkZXIgPSBhd2FpdCB0aGlzLnByb3BzLm1lZGlhUHJvdmlkZXJcbiAgICBpZiAoXG4gICAgICAhbWVkaWFQcm92aWRlciB8fFxuICAgICAgIW1lZGlhUHJvdmlkZXIudXBsb2FkUGFyYW1zIHx8XG4gICAgICAhYXR0cnMgfHxcbiAgICAgIGF0dHJzLnR5cGUgIT09ICdmaWxlJyB8fFxuICAgICAgdGhpcy5oYXNGaWxlQXR0cmlidXRlc0RlZmluZWQoKVxuICAgICkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGNvbnN0IG1lZGlhQ2xpZW50Q29uZmlnID0gbWVkaWFQcm92aWRlci52aWV3TWVkaWFDbGllbnRDb25maWdcbiAgICBjb25zdCBtZWRpYUNsaWVudCA9IGdldE1lZGlhQ2xpZW50KG1lZGlhQ2xpZW50Q29uZmlnKVxuXG4gICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgIGNvbGxlY3Rpb25OYW1lOiBhdHRycy5jb2xsZWN0aW9uXG4gICAgfVxuXG4gICAgbGV0IGZpbGVTdGF0ZTogRmlsZVN0YXRlXG4gICAgdHJ5IHtcbiAgICAgIGZpbGVTdGF0ZSA9IGF3YWl0IG1lZGlhQ2xpZW50LmZpbGUuZ2V0Q3VycmVudFN0YXRlKGF0dHJzLmlkLCBvcHRpb25zKVxuICAgICAgaWYgKGZpbGVTdGF0ZS5zdGF0dXMgPT09ICdlcnJvcicpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBjb25zdCBjb250ZXh0SWQgPSB0aGlzLmdldE5vZGVDb250ZXh0SWQoKSB8fCAoYXdhaXQgdGhpcy5nZXRPYmplY3RJZCgpKVxuICAgIGNvbnN0IHsgbmFtZSwgbWltZVR5cGUsIHNpemUgfSA9IGZpbGVTdGF0ZVxuICAgIGNvbnN0IG5ld0F0dHJzID0ge1xuICAgICAgX19maWxlTmFtZTogbmFtZSxcbiAgICAgIF9fZmlsZU1pbWVUeXBlOiBtaW1lVHlwZSxcbiAgICAgIF9fZmlsZVNpemU6IHNpemUsXG4gICAgICBfX2NvbnRleHRJZDogY29udGV4dElkXG4gICAgfVxuICAgIGNvbnN0IGF0dHJzQ2hhbmdlZCA9IGhhc1ByaXZhdGVBdHRyc0NoYW5nZWQoYXR0cnMsIG5ld0F0dHJzKVxuXG4gICAgaWYgKGF0dHJzQ2hhbmdlZCkge1xuICAgICAgLy8gVE9ETyBbTVMtMjI1OF06IHdlIHNob3VsZCBwYXNzIHRoaXMucHJvcHMuaXNNZWRpYVNpbmdsZSBhbmQgcmVtb3ZlIGhhcmRjb2RlZCBcInRydWVcIlxuICAgICAgdXBkYXRlQWxsTWVkaWFOb2Rlc0F0dHJzKFxuICAgICAgICBhdHRycy5pZCxcbiAgICAgICAgbmV3QXR0cnMsXG4gICAgICAgIGlzTWVkaWFTaW5nbGVcbiAgICAgICkodGhpcy5wcm9wcy52aWV3LnN0YXRlLCB0aGlzLnByb3BzLnZpZXcuZGlzcGF0Y2gpXG4gICAgfVxuICB9XG5cbiAgZ2V0QXR0cnMgPSAoKTogTWVkaWFBREZBdHRycyB8IHVuZGVmaW5lZCA9PiB7XG4gICAgY29uc3QgeyBhdHRycyB9ID0gdGhpcy5wcm9wcy5ub2RlXG4gICAgaWYgKGF0dHJzKSB7XG4gICAgICByZXR1cm4gYXR0cnMgYXMgTWVkaWFBdHRyaWJ1dGVzXG4gICAgfVxuXG4gICAgcmV0dXJuIHVuZGVmaW5lZFxuICB9XG5cbiAgZ2V0T2JqZWN0SWQgPSBhc3luYyAoKTogUHJvbWlzZTxzdHJpbmcgfCB1bmRlZmluZWQ+ID0+IHtcbiAgICBjb25zdCBjb250ZXh0SWRlbnRpZmllclByb3ZpZGVyID0gYXdhaXQgdGhpcy5wcm9wcy5jb250ZXh0SWRlbnRpZmllclByb3ZpZGVyXG5cbiAgICByZXR1cm4gY29udGV4dElkZW50aWZpZXJQcm92aWRlciAmJiBjb250ZXh0SWRlbnRpZmllclByb3ZpZGVyLm9iamVjdElkXG4gIH1cblxuICB1cGxvYWRFeHRlcm5hbE1lZGlhID0gYXN5bmMgKGdldFBvczogUHJvc2VtaXJyb3JHZXRQb3NIYW5kbGVyKSA9PiB7XG4gICAgY29uc3QgeyBub2RlIH0gPSB0aGlzLnByb3BzXG4gICAgY29uc3QgbWVkaWFQcm92aWRlciA9IGF3YWl0IHRoaXMucHJvcHMubWVkaWFQcm92aWRlclxuXG4gICAgaWYgKG5vZGUgJiYgbWVkaWFQcm92aWRlcikge1xuICAgICAgY29uc3QgdXBsb2FkTWVkaWFDbGllbnRDb25maWcgPSBtZWRpYVByb3ZpZGVyLnVwbG9hZE1lZGlhQ2xpZW50Q29uZmlnXG4gICAgICBpZiAoIXVwbG9hZE1lZGlhQ2xpZW50Q29uZmlnIHx8ICFub2RlLmF0dHJzLnVybCkge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIGNvbnN0IG1lZGlhQ2xpZW50ID0gZ2V0TWVkaWFDbGllbnQodXBsb2FkTWVkaWFDbGllbnRDb25maWcpXG5cbiAgICAgIGNvbnN0IGNvbGxlY3Rpb24gPVxuICAgICAgICBtZWRpYVByb3ZpZGVyLnVwbG9hZFBhcmFtcyAmJiBtZWRpYVByb3ZpZGVyLnVwbG9hZFBhcmFtcy5jb2xsZWN0aW9uXG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHVwbG9hZGVyID0gYXdhaXQgbWVkaWFDbGllbnQuZmlsZS51cGxvYWRFeHRlcm5hbChcbiAgICAgICAgICBub2RlLmF0dHJzLnVybCxcbiAgICAgICAgICBjb2xsZWN0aW9uXG4gICAgICAgIClcblxuICAgICAgICBjb25zdCB7IHVwbG9hZGFibGVGaWxlVXBmcm9udElkcywgZGltZW5zaW9ucyB9ID0gdXBsb2FkZXJcbiAgICAgICAgcmVwbGFjZUV4dGVybmFsTWVkaWEoZ2V0UG9zKCkgKyAxLCB7XG4gICAgICAgICAgaWQ6IHVwbG9hZGFibGVGaWxlVXBmcm9udElkcy5pZCxcbiAgICAgICAgICBjb2xsZWN0aW9uLFxuICAgICAgICAgIGhlaWdodDogZGltZW5zaW9ucy5oZWlnaHQsXG4gICAgICAgICAgd2lkdGg6IGRpbWVuc2lvbnMud2lkdGgsXG4gICAgICAgICAgb2NjdXJyZW5jZUtleTogdXBsb2FkYWJsZUZpbGVVcGZyb250SWRzLm9jY3VycmVuY2VLZXlcbiAgICAgICAgfSkodGhpcy5wcm9wcy52aWV3LnN0YXRlLCB0aGlzLnByb3BzLnZpZXcuZGlzcGF0Y2gpXG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIC8va2VlcCBpdCBhcyBleHRlcm5hbCBtZWRpYVxuICAgICAgICBpZiAodGhpcy5wcm9wcy5kaXNwYXRjaEFuYWx5dGljc0V2ZW50KSB7XG4gICAgICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaEFuYWx5dGljc0V2ZW50KHtcbiAgICAgICAgICAgIGFjdGlvbjogQUNUSU9OLlVQTE9BRF9FWFRFUk5BTF9GQUlMLFxuICAgICAgICAgICAgYWN0aW9uU3ViamVjdDogQUNUSU9OX1NVQkpFQ1QuRURJVE9SLFxuICAgICAgICAgICAgZXZlbnRUeXBlOiBFVkVOVF9UWVBFLk9QRVJBVElPTkFMXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGdldE5vZGVDb250ZXh0SWQgPSAoKTogc3RyaW5nIHwgdW5kZWZpbmVkID0+IHtcbiAgICBjb25zdCBhdHRycyA9IHRoaXMuZ2V0QXR0cnMoKVxuICAgIGlmICghYXR0cnMgfHwgYXR0cnMudHlwZSAhPT0gJ2ZpbGUnKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfVxuXG4gICAgcmV0dXJuIGF0dHJzLl9fY29udGV4dElkXG4gIH1cblxuICB1cGRhdGVEaW1lbnNpb25zID0gKGRpbWVuc2lvbnM6IFJlbW90ZURpbWVuc2lvbnMpID0+IHtcbiAgICB1cGRhdGVBbGxNZWRpYU5vZGVzQXR0cnMoXG4gICAgICBkaW1lbnNpb25zLmlkLFxuICAgICAge1xuICAgICAgICBoZWlnaHQ6IGRpbWVuc2lvbnMuaGVpZ2h0LFxuICAgICAgICB3aWR0aDogZGltZW5zaW9ucy53aWR0aFxuICAgICAgfSxcbiAgICAgIHRydWVcbiAgICApKHRoaXMucHJvcHMudmlldy5zdGF0ZSwgdGhpcy5wcm9wcy52aWV3LmRpc3BhdGNoKVxuICB9XG5cbiAgYXN5bmMgZ2V0UmVtb3RlRGltZW5zaW9ucygpOiBQcm9taXNlPGZhbHNlIHwgUmVtb3RlRGltZW5zaW9ucz4ge1xuICAgIGNvbnN0IG1lZGlhUHJvdmlkZXIgPSBhd2FpdCB0aGlzLnByb3BzLm1lZGlhUHJvdmlkZXJcbiAgICBjb25zdCB7IG1lZGlhT3B0aW9ucyB9ID0gdGhpcy5wcm9wc1xuICAgIGNvbnN0IGF0dHJzID0gdGhpcy5nZXRBdHRycygpXG4gICAgaWYgKCFtZWRpYVByb3ZpZGVyIHx8ICFhdHRycykge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICAgIGNvbnN0IHsgaGVpZ2h0LCB3aWR0aCB9ID0gYXR0cnNcbiAgICBpZiAoYXR0cnMudHlwZSA9PT0gJ2V4dGVybmFsJyB8fCAhYXR0cnMuaWQpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgICBjb25zdCB7IGlkLCBjb2xsZWN0aW9uIH0gPSBhdHRyc1xuICAgIGlmIChoZWlnaHQgJiYgd2lkdGgpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIC8vIGNhbid0IGZldGNoIHJlbW90ZSBkaW1lbnNpb25zIG9uIG1vYmlsZSwgc28gd2UnbGwgZGVmYXVsdCB0aGVtXG4gICAgaWYgKG1lZGlhT3B0aW9ucyAmJiAhbWVkaWFPcHRpb25zLmFsbG93UmVtb3RlRGltZW5zaW9uc0ZldGNoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpZCxcbiAgICAgICAgaGVpZ2h0OiBERUZBVUxUX0lNQUdFX0hFSUdIVCxcbiAgICAgICAgd2lkdGg6IERFRkFVTFRfSU1BR0VfV0lEVEhcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCB2aWV3TWVkaWFDbGllbnRDb25maWcgPSBtZWRpYVByb3ZpZGVyLnZpZXdNZWRpYUNsaWVudENvbmZpZ1xuICAgIGNvbnN0IG1lZGlhQ2xpZW50ID0gZ2V0TWVkaWFDbGllbnQodmlld01lZGlhQ2xpZW50Q29uZmlnKVxuICAgIGNvbnN0IHN0YXRlID0gYXdhaXQgbWVkaWFDbGllbnQuZ2V0SW1hZ2VNZXRhZGF0YShpZCwge1xuICAgICAgY29sbGVjdGlvblxuICAgIH0pXG5cbiAgICBpZiAoIXN0YXRlIHx8ICFzdGF0ZS5vcmlnaW5hbCkge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGlkLFxuICAgICAgaGVpZ2h0OiBzdGF0ZS5vcmlnaW5hbC5oZWlnaHQgfHwgREVGQVVMVF9JTUFHRV9IRUlHSFQsXG4gICAgICB3aWR0aDogc3RhdGUub3JpZ2luYWwud2lkdGggfHwgREVGQVVMVF9JTUFHRV9XSURUSFxuICAgIH1cbiAgfVxuXG4gIGhhc0RpZmZlcmVudENvbnRleHRJZCA9IGFzeW5jICgpOiBQcm9taXNlPGJvb2xlYW4+ID0+IHtcbiAgICBjb25zdCBub2RlQ29udGV4dElkID0gdGhpcy5nZXROb2RlQ29udGV4dElkKClcbiAgICBjb25zdCBjdXJyZW50Q29udGV4dElkID0gYXdhaXQgdGhpcy5nZXRPYmplY3RJZCgpXG5cbiAgICBpZiAoXG4gICAgICBub2RlQ29udGV4dElkICYmXG4gICAgICBjdXJyZW50Q29udGV4dElkICYmXG4gICAgICBub2RlQ29udGV4dElkICE9PSBjdXJyZW50Q29udGV4dElkXG4gICAgKSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgaXNOb2RlRnJvbURpZmZlcmVudENvbGxlY3Rpb24gPSBhc3luYyAoKTogUHJvbWlzZTxib29sZWFuPiA9PiB7XG4gICAgY29uc3QgbWVkaWFQcm92aWRlciA9IGF3YWl0IHRoaXMucHJvcHMubWVkaWFQcm92aWRlclxuICAgIGlmICghbWVkaWFQcm92aWRlciB8fCAhbWVkaWFQcm92aWRlci51cGxvYWRQYXJhbXMpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIGNvbnN0IGN1cnJlbnRDb2xsZWN0aW9uTmFtZSA9IG1lZGlhUHJvdmlkZXIudXBsb2FkUGFyYW1zLmNvbGxlY3Rpb25cbiAgICBjb25zdCBhdHRycyA9IHRoaXMuZ2V0QXR0cnMoKVxuICAgIGlmICghYXR0cnMgfHwgYXR0cnMudHlwZSAhPT0gJ2ZpbGUnKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBjb25zdCB7IGNvbGxlY3Rpb246IG5vZGVDb2xsZWN0aW9uLCBfX2NvbnRleHRJZCB9ID0gYXR0cnNcbiAgICBjb25zdCBjb250ZXh0SWQgPSBfX2NvbnRleHRJZCB8fCAoYXdhaXQgdGhpcy5nZXRPYmplY3RJZCgpKVxuXG4gICAgaWYgKGNvbnRleHRJZCAmJiBjdXJyZW50Q29sbGVjdGlvbk5hbWUgIT09IG5vZGVDb2xsZWN0aW9uKSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgYXN5bmMgaGFuZGxlRXh0ZXJuYWxNZWRpYShnZXRQb3M6IFByb3NlbWlycm9yR2V0UG9zSGFuZGxlcikge1xuICAgIGlmICh0aGlzLmlzTWVkaWFCbG9iVXJsKCkpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IHRoaXMuY29weU5vZGVGcm9tQmxvYlVybChnZXRQb3MpXG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGF3YWl0IHRoaXMudXBsb2FkRXh0ZXJuYWxNZWRpYShnZXRQb3MpXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGF3YWl0IHRoaXMudXBsb2FkRXh0ZXJuYWxNZWRpYShnZXRQb3MpXG4gICAgfVxuICB9XG5cbiAgY29weU5vZGVGcm9tQmxvYlVybCA9IGFzeW5jIChnZXRQb3M6IFByb3NlbWlycm9yR2V0UG9zSGFuZGxlcikgPT4ge1xuICAgIGNvbnN0IGF0dHJzID0gdGhpcy5nZXRBdHRycygpXG5cbiAgICBpZiAoIWF0dHJzIHx8IGF0dHJzLnR5cGUgIT09ICdleHRlcm5hbCcpIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBjb25zdCB7IHVybCB9ID0gYXR0cnNcbiAgICBjb25zdCBtZWRpYUF0dHJzID0gZ2V0QXR0cnNGcm9tVXJsKHVybClcbiAgICBpZiAoIW1lZGlhQXR0cnMpIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBjb25zdCBtZWRpYVByb3ZpZGVyID0gYXdhaXQgdGhpcy5wcm9wcy5tZWRpYVByb3ZpZGVyXG4gICAgaWYgKCFtZWRpYVByb3ZpZGVyIHx8ICFtZWRpYVByb3ZpZGVyLnVwbG9hZFBhcmFtcykge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGNvbnN0IGN1cnJlbnRDb2xsZWN0aW9uTmFtZSA9IG1lZGlhUHJvdmlkZXIudXBsb2FkUGFyYW1zLmNvbGxlY3Rpb25cbiAgICBjb25zdCB7XG4gICAgICBjb250ZXh0SWQsXG4gICAgICBpZCxcbiAgICAgIGNvbGxlY3Rpb24sXG4gICAgICBoZWlnaHQsXG4gICAgICB3aWR0aCxcbiAgICAgIG1pbWVUeXBlLFxuICAgICAgbmFtZSxcbiAgICAgIHNpemVcbiAgICB9ID0gbWVkaWFBdHRyc1xuICAgIGNvbnN0IHVwbG9hZE1lZGlhQ2xpZW50Q29uZmlnID0gbWVkaWFQcm92aWRlci51cGxvYWRNZWRpYUNsaWVudENvbmZpZ1xuICAgIGlmIChcbiAgICAgICF1cGxvYWRNZWRpYUNsaWVudENvbmZpZyB8fFxuICAgICAgIXVwbG9hZE1lZGlhQ2xpZW50Q29uZmlnLmdldEF1dGhGcm9tQ29udGV4dFxuICAgICkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGNvbnN0IG1lZGlhQ2xpZW50ID0gZ2V0TWVkaWFDbGllbnQodXBsb2FkTWVkaWFDbGllbnRDb25maWcpXG4gICAgY29uc3QgYXV0aCA9IGF3YWl0IHVwbG9hZE1lZGlhQ2xpZW50Q29uZmlnLmdldEF1dGhGcm9tQ29udGV4dChjb250ZXh0SWQpXG4gICAgY29uc3Qgc291cmNlID0ge1xuICAgICAgaWQsXG4gICAgICBjb2xsZWN0aW9uLFxuICAgICAgYXV0aFByb3ZpZGVyOiAoKSA9PiBQcm9taXNlLnJlc29sdmUoYXV0aClcbiAgICB9XG4gICAgY29uc3QgZGVzdGluYXRpb24gPSB7XG4gICAgICBjb2xsZWN0aW9uOiBjdXJyZW50Q29sbGVjdGlvbk5hbWUsXG4gICAgICBhdXRoUHJvdmlkZXI6IHVwbG9hZE1lZGlhQ2xpZW50Q29uZmlnLmF1dGhQcm92aWRlcixcbiAgICAgIG9jY3VycmVuY2VLZXk6IHV1aWRWNCgpXG4gICAgfVxuICAgIGNvbnN0IG1lZGlhRmlsZSA9IGF3YWl0IG1lZGlhQ2xpZW50LmZpbGUuY29weUZpbGUoc291cmNlLCBkZXN0aW5hdGlvbilcblxuICAgIHJlcGxhY2VFeHRlcm5hbE1lZGlhKGdldFBvcygpICsgMSwge1xuICAgICAgaWQ6IG1lZGlhRmlsZS5pZCxcbiAgICAgIGNvbGxlY3Rpb246IGN1cnJlbnRDb2xsZWN0aW9uTmFtZSxcbiAgICAgIGhlaWdodCxcbiAgICAgIHdpZHRoLFxuICAgICAgX19maWxlTmFtZTogbmFtZSxcbiAgICAgIF9fZmlsZU1pbWVUeXBlOiBtaW1lVHlwZSxcbiAgICAgIF9fZmlsZVNpemU6IHNpemVcbiAgICB9KSh0aGlzLnByb3BzLnZpZXcuc3RhdGUsIHRoaXMucHJvcHMudmlldy5kaXNwYXRjaClcbiAgfVxuXG4gIC8vIENvcGllcyB0aGUgcGFzdGVkIG5vZGUgaW50byB0aGUgY3VycmVudCBjb2xsZWN0aW9uXG4gIGNvcHlOb2RlID0gYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IG1lZGlhUHJvdmlkZXIgPSBhd2FpdCB0aGlzLnByb3BzLm1lZGlhUHJvdmlkZXJcbiAgICBjb25zdCB7IGlzTWVkaWFTaW5nbGUsIHZpZXcgfSA9IHRoaXMucHJvcHNcbiAgICBjb25zdCBhdHRycyA9IHRoaXMuZ2V0QXR0cnMoKVxuICAgIGlmIChcbiAgICAgICFtZWRpYVByb3ZpZGVyIHx8XG4gICAgICAhbWVkaWFQcm92aWRlci51cGxvYWRQYXJhbXMgfHxcbiAgICAgICFhdHRycyB8fFxuICAgICAgYXR0cnMudHlwZSAhPT0gJ2ZpbGUnXG4gICAgKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBjb25zdCBub2RlQ29udGV4dElkID0gdGhpcy5nZXROb2RlQ29udGV4dElkKClcbiAgICBjb25zdCB1cGxvYWRNZWRpYUNsaWVudENvbmZpZyA9IG1lZGlhUHJvdmlkZXIudXBsb2FkTWVkaWFDbGllbnRDb25maWdcblxuICAgIGlmIChcbiAgICAgIHVwbG9hZE1lZGlhQ2xpZW50Q29uZmlnICYmXG4gICAgICB1cGxvYWRNZWRpYUNsaWVudENvbmZpZy5nZXRBdXRoRnJvbUNvbnRleHQgJiZcbiAgICAgIG5vZGVDb250ZXh0SWRcbiAgICApIHtcbiAgICAgIGNvbnN0IG1lZGlhQ2xpZW50ID0gZ2V0TWVkaWFDbGllbnQodXBsb2FkTWVkaWFDbGllbnRDb25maWcpXG4gICAgICBjb25zdCBhdXRoID0gYXdhaXQgdXBsb2FkTWVkaWFDbGllbnRDb25maWcuZ2V0QXV0aEZyb21Db250ZXh0KFxuICAgICAgICBub2RlQ29udGV4dElkXG4gICAgICApXG4gICAgICBjb25zdCBvYmplY3RJZCA9IGF3YWl0IHRoaXMuZ2V0T2JqZWN0SWQoKVxuICAgICAgY29uc3QgeyBpZCwgY29sbGVjdGlvbiB9ID0gYXR0cnNcbiAgICAgIGNvbnN0IHNvdXJjZSA9IHtcbiAgICAgICAgaWQsXG4gICAgICAgIGNvbGxlY3Rpb24sXG4gICAgICAgIGF1dGhQcm92aWRlcjogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKGF1dGgpXG4gICAgICB9XG4gICAgICBjb25zdCBjdXJyZW50Q29sbGVjdGlvbk5hbWUgPSBtZWRpYVByb3ZpZGVyLnVwbG9hZFBhcmFtcy5jb2xsZWN0aW9uXG4gICAgICBjb25zdCBkZXN0aW5hdGlvbiA9IHtcbiAgICAgICAgY29sbGVjdGlvbjogY3VycmVudENvbGxlY3Rpb25OYW1lLFxuICAgICAgICBhdXRoUHJvdmlkZXI6IHVwbG9hZE1lZGlhQ2xpZW50Q29uZmlnLmF1dGhQcm92aWRlcixcbiAgICAgICAgb2NjdXJyZW5jZUtleTogdXVpZFY0KClcbiAgICAgIH1cbiAgICAgIGNvbnN0IG1lZGlhRmlsZSA9IGF3YWl0IG1lZGlhQ2xpZW50LmZpbGUuY29weUZpbGUoc291cmNlLCBkZXN0aW5hdGlvbilcblxuICAgICAgdXBkYXRlTWVkaWFOb2RlQXR0cnMoXG4gICAgICAgIHNvdXJjZS5pZCxcbiAgICAgICAge1xuICAgICAgICAgIGlkOiBtZWRpYUZpbGUuaWQsXG4gICAgICAgICAgY29sbGVjdGlvbjogY3VycmVudENvbGxlY3Rpb25OYW1lLFxuICAgICAgICAgIF9fY29udGV4dElkOiBvYmplY3RJZFxuICAgICAgICB9LFxuICAgICAgICBpc01lZGlhU2luZ2xlXG4gICAgICApKHZpZXcuc3RhdGUsIHZpZXcuZGlzcGF0Y2gpXG4gICAgfVxuICB9XG59XG5cbmNvbnN0IGhhc1ByaXZhdGVBdHRyc0NoYW5nZWQgPSAoXG4gIGN1cnJlbnRBdHRyczogTWVkaWFBdHRyaWJ1dGVzLFxuICBuZXdBdHRyczogUGFydGlhbDxNZWRpYUF0dHJpYnV0ZXM+XG4pOiBCb29sZWFuID0+IHtcbiAgcmV0dXJuIChcbiAgICBjdXJyZW50QXR0cnMuX19maWxlTmFtZSAhPT0gbmV3QXR0cnMuX19maWxlTmFtZSB8fFxuICAgIGN1cnJlbnRBdHRycy5fX2ZpbGVNaW1lVHlwZSAhPT0gbmV3QXR0cnMuX19maWxlTWltZVR5cGUgfHxcbiAgICBjdXJyZW50QXR0cnMuX19maWxlU2l6ZSAhPT0gbmV3QXR0cnMuX19maWxlU2l6ZSB8fFxuICAgIGN1cnJlbnRBdHRycy5fX2NvbnRleHRJZCAhPT0gbmV3QXR0cnMuX19jb250ZXh0SWRcbiAgKVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBRUE7QUFLQTtBQVNBO0FBT0E7QUFtQkE7QUFHQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBWUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBSUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBR0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBUUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFNQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBSUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUlBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBT0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBS0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFNQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFHQTtBQUdBO0FBQ0E7QUFDQTtBQUdBO0FBQUE7QUE0Q0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUtBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBR0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFjQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUVBO0FBU0E7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFLQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBS0E7QUFDQTtBQUFBO0FBS0E7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBR0E7QUFGQTtBQUFBO0FBQUE7QUFHQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBNVdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQTRKQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBSUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFGQTtBQUFBO0FBSUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQXVDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQTREQTtBQUFBO0FBQUE7QUFzREE7QUFJQTtBQU1BIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/plugins/media/nodeviews/mediaNodeUpdater.ts\n");

/***/ }),

/***/ "./src/plugins/media/nodeviews/mediaNodeView/index.tsx":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ReactMediaNode\", function() { return ReactMediaNode; });\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/assertThisInitialized.js\");\n/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/get.js\");\n/* harmony import */ var _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/inherits.js\");\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\");\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/getPrototypeOf.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _atlaskit_editor_common__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./node_modules/@atlaskit/editor-common/dist/esm/index.js\");\n/* harmony import */ var prosemirror_state__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"./node_modules/prosemirror-state/dist/index.es.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _atlaskit_editor_core_nodeviews__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/nodeviews/index.ts\");\n/* harmony import */ var _atlaskit_editor_core_ui_WithPluginState__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/ui/WithPluginState/index.tsx\");\n/* harmony import */ var _atlaskit_editor_core_plugins_width__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/plugins/width/index.ts\");\n/* harmony import */ var _commands_helpers__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(\"./src/plugins/media/commands/helpers.ts\");\n/* harmony import */ var _pm_plugins_plugin_key__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(\"./src/plugins/media/pm-plugins/plugin-key.ts\");\n/* harmony import */ var _media__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(\"./src/plugins/media/nodeviews/mediaNodeView/media.tsx\");\n\n\n\n\n\n\n\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default()(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\n\n\n\n\nvar MediaNodeView = /*#__PURE__*/function (_SelectionBasedNodeVi) {\n  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default()(MediaNodeView, _SelectionBasedNodeVi);\n  var _super = _createSuper(MediaNodeView);\n  function MediaNodeView() {\n    var _this;\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, MediaNodeView);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(_this), \"renderMediaNodeWithState\", function (mediaProvider, contextIdentifierProvider, collabEditProvider) {\n      return function (_ref) {\n        var editorWidth = _ref.width;\n        var getPos = _this.getPos;\n        var mediaOptions = _this.reactComponentProps.mediaOptions;\n        var selection = _this.view.state.selection;\n        var isSelected = function isSelected() {\n          return _this.isNodeInsideSelection(selection.from, selection.to) || selection instanceof prosemirror_state__WEBPACK_IMPORTED_MODULE_9__[\"NodeSelection\"] && selection.from === getPos();\n        };\n        var attrs = _this.getAttrs();\n        var width = attrs.width,\n          height = attrs.height;\n        width = width || _atlaskit_editor_common__WEBPACK_IMPORTED_MODULE_8__[\"DEFAULT_IMAGE_WIDTH\"];\n        height = height || _atlaskit_editor_common__WEBPACK_IMPORTED_MODULE_8__[\"DEFAULT_IMAGE_HEIGHT\"];\n        var maxDimensions = {\n          width: \"\".concat(editorWidth.width, \"px\"),\n          height: \"\".concat(height / width * editorWidth.width, \"px\")\n        };\n        var originalDimensions = {\n          width: width,\n          height: height\n        };\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(_media__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n          view: _this.view,\n          node: _this.node,\n          getPos: getPos,\n          selected: isSelected(),\n          originalDimensions: originalDimensions,\n          maxDimensions: maxDimensions,\n          mediaProvider: mediaProvider,\n          contextIdentifierProvider: contextIdentifierProvider,\n          uploadComplete: _this.uploadComplete(),\n          mediaOptions: mediaOptions,\n          collabEditProvider: collabEditProvider\n        });\n      };\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(_this), \"renderMediaNodeWithProviders\", function (_ref2) {\n      var mediaProvider = _ref2.mediaProvider,\n        contextIdentifierProvider = _ref2.contextIdentifierProvider,\n        collabEditProvider = _ref2.collabEditProvider;\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(_atlaskit_editor_core_ui_WithPluginState__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n        editorView: _this.view,\n        plugins: {\n          width: _atlaskit_editor_core_plugins_width__WEBPACK_IMPORTED_MODULE_13__[\"pluginKey\"]\n        },\n        render: _this.renderMediaNodeWithState(mediaProvider, contextIdentifierProvider, collabEditProvider)\n      });\n    });\n    return _this;\n  }\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(MediaNodeView, [{\n    key: \"createDomRef\",\n    value: function createDomRef() {\n      var domRef = document.createElement('div');\n      if (_atlaskit_editor_common__WEBPACK_IMPORTED_MODULE_8__[\"browser\"].chrome && this.reactComponentProps.mediaOptions && this.reactComponentProps.mediaOptions.allowMediaSingleEditable) {\n        // workaround Chrome bug in https://product-fabric.atlassian.net/browse/ED-5379\n        // see also: https://github.com/ProseMirror/prosemirror/issues/884\n        domRef.contentEditable = 'true';\n      }\n      return domRef;\n    }\n  }, {\n    key: \"viewShouldUpdate\",\n    value: function viewShouldUpdate(nextNode) {\n      if (this.node.attrs !== nextNode.attrs) {\n        return true;\n      }\n      return _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_3___default()(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(MediaNodeView.prototype), \"viewShouldUpdate\", this).call(this, nextNode);\n    }\n  }, {\n    key: \"stopEvent\",\n    value: function stopEvent(event) {\n      // Don't trap right click events on media node\n      if (['mousedown', 'contextmenu'].indexOf(event.type) !== -1) {\n        var mouseEvent = event;\n        if (mouseEvent.button === 2) {\n          return true;\n        }\n      }\n      return false;\n    }\n  }, {\n    key: \"getAttrs\",\n    value: function getAttrs() {\n      var attrs = this.node.attrs;\n      return attrs;\n    }\n  }, {\n    key: \"uploadComplete\",\n    value: function uploadComplete() {\n      return Object(_commands_helpers__WEBPACK_IMPORTED_MODULE_14__[\"isMobileUploadCompleted\"])(_pm_plugins_plugin_key__WEBPACK_IMPORTED_MODULE_15__[\"stateKey\"].getState(this.view.state), this.node.attrs.id);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var providerFactory = this.reactComponentProps.providerFactory;\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(_atlaskit_editor_common__WEBPACK_IMPORTED_MODULE_8__[\"WithProviders\"], {\n        providers: ['mediaProvider', 'contextIdentifierProvider', 'collabEditProvider'],\n        providerFactory: providerFactory,\n        renderNode: this.renderMediaNodeWithProviders\n      });\n    }\n  }]);\n  return MediaNodeView;\n}(_atlaskit_editor_core_nodeviews__WEBPACK_IMPORTED_MODULE_11__[\"SelectionBasedNodeView\"]);\nvar ReactMediaNode = function ReactMediaNode(portalProviderAPI, eventDispatcher, providerFactory) {\n  var mediaOptions = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  return function (node, view, getPos) {\n    return new MediaNodeView(node, view, getPos, portalProviderAPI, eventDispatcher, {\n      eventDispatcher: eventDispatcher,\n      providerFactory: providerFactory,\n      mediaOptions: mediaOptions\n    }).init();\n  };\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9tZWRpYS9ub2Rldmlld3MvbWVkaWFOb2RlVmlldy9pbmRleC50c3guanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2lucy9tZWRpYS9ub2Rldmlld3MvbWVkaWFOb2RlVmlldy9pbmRleC50c3g/ZWVhOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNZWRpYUFERkF0dHJzIH0gZnJvbSAnQGF0bGFza2l0L2FkZi1zY2hlbWEnXG5pbXBvcnQge1xuICBERUZBVUxUX0lNQUdFX0hFSUdIVCxcbiAgREVGQVVMVF9JTUFHRV9XSURUSCxcbiAgYnJvd3NlcixcbiAgUHJvdmlkZXJGYWN0b3J5LFxuICBXaXRoUHJvdmlkZXJzLFxuICBQcm92aWRlcnMsXG4gIE1lZGlhUHJvdmlkZXIsXG4gIENvbnRleHRJZGVudGlmaWVyUHJvdmlkZXJcbn0gZnJvbSAnQGF0bGFza2l0L2VkaXRvci1jb21tb24nXG5pbXBvcnQgeyBOb2RlIGFzIFBNTm9kZSB9IGZyb20gJ3Byb3NlbWlycm9yLW1vZGVsJ1xuaW1wb3J0IHsgTm9kZVNlbGVjdGlvbiB9IGZyb20gJ3Byb3NlbWlycm9yLXN0YXRlJ1xuaW1wb3J0IHsgRWRpdG9yVmlldyB9IGZyb20gJ3Byb3NlbWlycm9yLXZpZXcnXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBFdmVudERpc3BhdGNoZXIgfSBmcm9tICdAYXRsYXNraXQvZWRpdG9yLWNvcmUvZXZlbnQtZGlzcGF0Y2hlcidcbmltcG9ydCB7XG4gIGdldFBvc0hhbmRsZXIsXG4gIGdldFBvc0hhbmRsZXJOb2RlLFxuICBTZWxlY3Rpb25CYXNlZE5vZGVWaWV3XG59IGZyb20gJ0BhdGxhc2tpdC9lZGl0b3ItY29yZS9ub2Rldmlld3MnXG5pbXBvcnQgeyBQb3J0YWxQcm92aWRlckFQSSB9IGZyb20gJ0BhdGxhc2tpdC9lZGl0b3ItY29yZS91aS9Qb3J0YWxQcm92aWRlcidcbmltcG9ydCBXaXRoUGx1Z2luU3RhdGUgZnJvbSAnQGF0bGFza2l0L2VkaXRvci1jb3JlL3VpL1dpdGhQbHVnaW5TdGF0ZSdcbmltcG9ydCB7XG4gIHBsdWdpbktleSBhcyB3aWR0aFBsdWdpbktleSxcbiAgV2lkdGhQbHVnaW5TdGF0ZVxufSBmcm9tICdAYXRsYXNraXQvZWRpdG9yLWNvcmUvcGx1Z2lucy93aWR0aCdcbmltcG9ydCB7IGlzTW9iaWxlVXBsb2FkQ29tcGxldGVkIH0gZnJvbSAnLi4vLi4vY29tbWFuZHMvaGVscGVycydcbmltcG9ydCB7IHN0YXRlS2V5IGFzIG1lZGlhU3RhdGVLZXkgfSBmcm9tICcuLi8uLi9wbS1wbHVnaW5zL3BsdWdpbi1rZXknXG5pbXBvcnQgeyBNZWRpYU9wdGlvbnMgfSBmcm9tICcuLi8uLi90eXBlcydcbmltcG9ydCB7IE1lZGlhTm9kZVZpZXdQcm9wcyB9IGZyb20gJy4uL3R5cGVzJ1xuaW1wb3J0IE1lZGlhTm9kZSBmcm9tICcuL21lZGlhJ1xuaW1wb3J0IENvbGxhYlByb3ZpZGVyIGZyb20gJ2xpYi9jb2xsYWIvcHJvdmlkZXInXG5cbmNsYXNzIE1lZGlhTm9kZVZpZXcgZXh0ZW5kcyBTZWxlY3Rpb25CYXNlZE5vZGVWaWV3PE1lZGlhTm9kZVZpZXdQcm9wcz4ge1xuICBjcmVhdGVEb21SZWYoKTogSFRNTEVsZW1lbnQge1xuICAgIGNvbnN0IGRvbVJlZiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgaWYgKFxuICAgICAgYnJvd3Nlci5jaHJvbWUgJiZcbiAgICAgIHRoaXMucmVhY3RDb21wb25lbnRQcm9wcy5tZWRpYU9wdGlvbnMgJiZcbiAgICAgIHRoaXMucmVhY3RDb21wb25lbnRQcm9wcy5tZWRpYU9wdGlvbnMuYWxsb3dNZWRpYVNpbmdsZUVkaXRhYmxlXG4gICAgKSB7XG4gICAgICAvLyB3b3JrYXJvdW5kIENocm9tZSBidWcgaW4gaHR0cHM6Ly9wcm9kdWN0LWZhYnJpYy5hdGxhc3NpYW4ubmV0L2Jyb3dzZS9FRC01Mzc5XG4gICAgICAvLyBzZWUgYWxzbzogaHR0cHM6Ly9naXRodWIuY29tL1Byb3NlTWlycm9yL3Byb3NlbWlycm9yL2lzc3Vlcy84ODRcbiAgICAgIGRvbVJlZi5jb250ZW50RWRpdGFibGUgPSAndHJ1ZSdcbiAgICB9XG4gICAgcmV0dXJuIGRvbVJlZlxuICB9XG5cbiAgdmlld1Nob3VsZFVwZGF0ZShuZXh0Tm9kZTogUE1Ob2RlKSB7XG4gICAgaWYgKHRoaXMubm9kZS5hdHRycyAhPT0gbmV4dE5vZGUuYXR0cnMpIHtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuXG4gICAgcmV0dXJuIHN1cGVyLnZpZXdTaG91bGRVcGRhdGUobmV4dE5vZGUpXG4gIH1cblxuICBzdG9wRXZlbnQoZXZlbnQ6IEV2ZW50KSB7XG4gICAgLy8gRG9uJ3QgdHJhcCByaWdodCBjbGljayBldmVudHMgb24gbWVkaWEgbm9kZVxuICAgIGlmIChbJ21vdXNlZG93bicsICdjb250ZXh0bWVudSddLmluZGV4T2YoZXZlbnQudHlwZSkgIT09IC0xKSB7XG4gICAgICBjb25zdCBtb3VzZUV2ZW50ID0gZXZlbnQgYXMgTW91c2VFdmVudFxuICAgICAgaWYgKG1vdXNlRXZlbnQuYnV0dG9uID09PSAyKSB7XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgZ2V0QXR0cnMoKTogTWVkaWFBREZBdHRycyB7XG4gICAgY29uc3QgeyBhdHRycyB9ID0gdGhpcy5ub2RlXG4gICAgcmV0dXJuIGF0dHJzIGFzIE1lZGlhQURGQXR0cnNcbiAgfVxuXG4gIHVwbG9hZENvbXBsZXRlKCkge1xuICAgIHJldHVybiBpc01vYmlsZVVwbG9hZENvbXBsZXRlZChcbiAgICAgIG1lZGlhU3RhdGVLZXkuZ2V0U3RhdGUodGhpcy52aWV3LnN0YXRlKSxcbiAgICAgIHRoaXMubm9kZS5hdHRycy5pZFxuICAgIClcbiAgfVxuXG4gIHJlbmRlck1lZGlhTm9kZVdpdGhTdGF0ZSA9IChcbiAgICBtZWRpYVByb3ZpZGVyPzogUHJvbWlzZTxNZWRpYVByb3ZpZGVyPixcbiAgICBjb250ZXh0SWRlbnRpZmllclByb3ZpZGVyPzogUHJvbWlzZTxDb250ZXh0SWRlbnRpZmllclByb3ZpZGVyPixcbiAgICBjb2xsYWJFZGl0UHJvdmlkZXI/OiBQcm9taXNlPENvbGxhYlByb3ZpZGVyPlxuICApID0+IHtcbiAgICByZXR1cm4gKHsgd2lkdGg6IGVkaXRvcldpZHRoIH06IHsgd2lkdGg6IFdpZHRoUGx1Z2luU3RhdGUgfSkgPT4ge1xuICAgICAgY29uc3QgZ2V0UG9zID0gdGhpcy5nZXRQb3MgYXMgZ2V0UG9zSGFuZGxlck5vZGVcbiAgICAgIGNvbnN0IHsgbWVkaWFPcHRpb25zIH0gPSB0aGlzLnJlYWN0Q29tcG9uZW50UHJvcHNcblxuICAgICAgY29uc3QgeyBzZWxlY3Rpb24gfSA9IHRoaXMudmlldy5zdGF0ZVxuICAgICAgY29uc3QgaXNTZWxlY3RlZCA9ICgpID0+XG4gICAgICAgIHRoaXMuaXNOb2RlSW5zaWRlU2VsZWN0aW9uKHNlbGVjdGlvbi5mcm9tLCBzZWxlY3Rpb24udG8pIHx8XG4gICAgICAgIChzZWxlY3Rpb24gaW5zdGFuY2VvZiBOb2RlU2VsZWN0aW9uICYmIHNlbGVjdGlvbi5mcm9tID09PSBnZXRQb3MoKSlcblxuICAgICAgY29uc3QgYXR0cnMgPSB0aGlzLmdldEF0dHJzKClcblxuICAgICAgbGV0IHsgd2lkdGgsIGhlaWdodCB9ID0gYXR0cnNcblxuICAgICAgd2lkdGggPSB3aWR0aCB8fCBERUZBVUxUX0lNQUdFX1dJRFRIXG4gICAgICBoZWlnaHQgPSBoZWlnaHQgfHwgREVGQVVMVF9JTUFHRV9IRUlHSFRcblxuICAgICAgY29uc3QgbWF4RGltZW5zaW9ucyA9IHtcbiAgICAgICAgd2lkdGg6IGAke2VkaXRvcldpZHRoLndpZHRofXB4YCxcbiAgICAgICAgaGVpZ2h0OiBgJHsoaGVpZ2h0IC8gd2lkdGgpICogZWRpdG9yV2lkdGgud2lkdGh9cHhgXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG9yaWdpbmFsRGltZW5zaW9ucyA9IHtcbiAgICAgICAgd2lkdGgsXG4gICAgICAgIGhlaWdodFxuICAgICAgfVxuXG4gICAgICByZXR1cm4gKFxuICAgICAgICA8TWVkaWFOb2RlXG4gICAgICAgICAgdmlldz17dGhpcy52aWV3fVxuICAgICAgICAgIG5vZGU9e3RoaXMubm9kZX1cbiAgICAgICAgICBnZXRQb3M9e2dldFBvc31cbiAgICAgICAgICBzZWxlY3RlZD17aXNTZWxlY3RlZCgpfVxuICAgICAgICAgIG9yaWdpbmFsRGltZW5zaW9ucz17b3JpZ2luYWxEaW1lbnNpb25zfVxuICAgICAgICAgIG1heERpbWVuc2lvbnM9e21heERpbWVuc2lvbnN9XG4gICAgICAgICAgbWVkaWFQcm92aWRlcj17bWVkaWFQcm92aWRlcn1cbiAgICAgICAgICBjb250ZXh0SWRlbnRpZmllclByb3ZpZGVyPXtjb250ZXh0SWRlbnRpZmllclByb3ZpZGVyfVxuICAgICAgICAgIHVwbG9hZENvbXBsZXRlPXt0aGlzLnVwbG9hZENvbXBsZXRlKCl9XG4gICAgICAgICAgbWVkaWFPcHRpb25zPXttZWRpYU9wdGlvbnN9XG4gICAgICAgICAgY29sbGFiRWRpdFByb3ZpZGVyPXtjb2xsYWJFZGl0UHJvdmlkZXJ9XG4gICAgICAgIC8+XG4gICAgICApXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyTWVkaWFOb2RlV2l0aFByb3ZpZGVycyA9ICh7XG4gICAgbWVkaWFQcm92aWRlcixcbiAgICBjb250ZXh0SWRlbnRpZmllclByb3ZpZGVyLFxuICAgIGNvbGxhYkVkaXRQcm92aWRlclxuICB9OiBQcm92aWRlcnMpID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgPFdpdGhQbHVnaW5TdGF0ZVxuICAgICAgICBlZGl0b3JWaWV3PXt0aGlzLnZpZXd9XG4gICAgICAgIHBsdWdpbnM9e3tcbiAgICAgICAgICB3aWR0aDogd2lkdGhQbHVnaW5LZXlcbiAgICAgICAgfX1cbiAgICAgICAgcmVuZGVyPXt0aGlzLnJlbmRlck1lZGlhTm9kZVdpdGhTdGF0ZShcbiAgICAgICAgICBtZWRpYVByb3ZpZGVyLFxuICAgICAgICAgIGNvbnRleHRJZGVudGlmaWVyUHJvdmlkZXIsXG4gICAgICAgICAgKGNvbGxhYkVkaXRQcm92aWRlciBhcyB1bmtub3duKSBhcyBQcm9taXNlPENvbGxhYlByb3ZpZGVyPlxuICAgICAgICApfVxuICAgICAgLz5cbiAgICApXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBwcm92aWRlckZhY3RvcnkgfSA9IHRoaXMucmVhY3RDb21wb25lbnRQcm9wc1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxXaXRoUHJvdmlkZXJzXG4gICAgICAgIHByb3ZpZGVycz17W1xuICAgICAgICAgICdtZWRpYVByb3ZpZGVyJyxcbiAgICAgICAgICAnY29udGV4dElkZW50aWZpZXJQcm92aWRlcicsXG4gICAgICAgICAgJ2NvbGxhYkVkaXRQcm92aWRlcidcbiAgICAgICAgXX1cbiAgICAgICAgcHJvdmlkZXJGYWN0b3J5PXtwcm92aWRlckZhY3Rvcnl9XG4gICAgICAgIHJlbmRlck5vZGU9e3RoaXMucmVuZGVyTWVkaWFOb2RlV2l0aFByb3ZpZGVyc31cbiAgICAgIC8+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBjb25zdCBSZWFjdE1lZGlhTm9kZSA9IChcbiAgcG9ydGFsUHJvdmlkZXJBUEk6IFBvcnRhbFByb3ZpZGVyQVBJLFxuICBldmVudERpc3BhdGNoZXI6IEV2ZW50RGlzcGF0Y2hlcixcbiAgcHJvdmlkZXJGYWN0b3J5OiBQcm92aWRlckZhY3RvcnksXG4gIG1lZGlhT3B0aW9uczogTWVkaWFPcHRpb25zID0ge31cbikgPT4gKG5vZGU6IFBNTm9kZSwgdmlldzogRWRpdG9yVmlldywgZ2V0UG9zOiBnZXRQb3NIYW5kbGVyKSA9PiB7XG4gIHJldHVybiBuZXcgTWVkaWFOb2RlVmlldyhcbiAgICBub2RlLFxuICAgIHZpZXcsXG4gICAgZ2V0UG9zLFxuICAgIHBvcnRhbFByb3ZpZGVyQVBJLFxuICAgIGV2ZW50RGlzcGF0Y2hlcixcbiAgICB7XG4gICAgICBldmVudERpc3BhdGNoZXIsXG4gICAgICBwcm92aWRlckZhY3RvcnksXG4gICAgICBtZWRpYU9wdGlvbnNcbiAgICB9XG4gICkuaW5pdCgpXG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQ0E7QUFXQTtBQUVBO0FBRUE7QUFNQTtBQUNBO0FBSUE7QUFDQTtBQUdBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQW1EQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUVBO0FBRUE7QUFFQTtBQUFBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQU1BO0FBRkE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBR0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBL0dBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFJQTtBQUFBO0FBQUE7QUFBQTtBQXdFQTtBQUVBO0FBRUE7QUFLQTtBQUNBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBR0E7QUFDQTtBQUVBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/plugins/media/nodeviews/mediaNodeView/index.tsx\n");

/***/ }),

/***/ "./src/plugins/media/nodeviews/mediaNodeView/media.tsx":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MEDIA_HEIGHT\", function() { return MEDIA_HEIGHT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FILE_WIDTH\", function() { return FILE_WIDTH; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MediaNode\", function() { return MediaNode; });\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/assertThisInitialized.js\");\n/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/inherits.js\");\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\");\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/getPrototypeOf.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _atlaskit_editor_common__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"./node_modules/@atlaskit/editor-common/dist/esm/index.js\");\n/* harmony import */ var _atlaskit_media_card__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"./node_modules/@atlaskit/media-card/dist/esm/index.js\");\n/* harmony import */ var _atlaskit_editor_tables_cell_selection__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"./node_modules/@atlaskit/editor-tables/dist/esm/cell-selection.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _atlaskit_editor_core_utils__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/utils/index.ts\");\n/* harmony import */ var _pm_plugins_plugin_key__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(\"./src/plugins/media/pm-plugins/plugin-key.ts\");\n/* harmony import */ var _styles__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(\"./src/plugins/media/nodeviews/styles.tsx\");\n/* harmony import */ var constants_strings__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(\"./src/constants/strings.ts\");\n/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(\"./node_modules/cozy-client/dist/index.js\");\n/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_17__);\n\n\n\n\n\n\n\n\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default()(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\n\n\n\n\n\n// This is being used by DropPlaceholder now\nvar MEDIA_HEIGHT = 125;\nvar FILE_WIDTH = 156;\nvar MediaNode = /*#__PURE__*/function (_Component) {\n  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default()(MediaNode, _Component);\n  var _super = _createSuper(MediaNode);\n  function MediaNode(_props) {\n    var _this;\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this, MediaNode);\n    _this = _super.call(this, _props);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default()(_this), \"mediaPluginState\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default()(_this), \"state\", {\n      imageUrl: '',\n      imageError: '',\n      imageLoading: true\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default()(_this), \"realtimeSubscription\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default()(_this), \"setViewMediaClientConfig\", /*#__PURE__*/_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default.a.mark(function _callee() {\n      var mediaProvider, viewMediaClientConfig;\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _this.props.mediaProvider;\n            case 2:\n              mediaProvider = _context.sent;\n              if (mediaProvider) {\n                viewMediaClientConfig = mediaProvider.viewMediaClientConfig;\n                _this.setState({\n                  viewMediaClientConfig: viewMediaClientConfig\n                });\n              }\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    })));\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default()(_this), \"selectMediaSingleFromCard\", function (_ref2) {\n      var event = _ref2.event;\n      _this.selectMediaSingle(event);\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default()(_this), \"selectMediaSingle\", function (event) {\n      // We need to call \"stopPropagation\" here in order to prevent the browser from navigating to\n      // another URL if the media node is wrapped in a link mark.\n      event.stopPropagation();\n      var propPos = _this.props.getPos();\n      var state = _this.props.view.state;\n      if (event.shiftKey) {\n        // don't select text if there is current selection in a table (as this would override selected cells)\n        if (state.selection instanceof _atlaskit_editor_tables_cell_selection__WEBPACK_IMPORTED_MODULE_11__[\"CellSelection\"]) {\n          return;\n        }\n        Object(_atlaskit_editor_core_utils__WEBPACK_IMPORTED_MODULE_13__[\"setTextSelection\"])(_this.props.view, state.selection.from < propPos ? state.selection.from : propPos - 1,\n        // + 3 needed for offset of the media inside mediaSingle and cursor to make whole mediaSingle selected\n        state.selection.to > propPos ? state.selection.to : propPos + 2);\n      } else {\n        Object(_atlaskit_editor_core_utils__WEBPACK_IMPORTED_MODULE_13__[\"setNodeSelection\"])(_this.props.view, propPos - 1);\n      }\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default()(_this), \"fetchCozyImage\", /*#__PURE__*/_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default.a.mark(function _callee2() {\n      var _this$state$collabEdi, serviceClient, noteId, _res$included, res, imageObject, url, to, copiedImage;\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default.a.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _this.setState({\n                imageError: ''\n              });\n              if (_this.state.collabEditProvider) {\n                _context2.next = 3;\n                break;\n              }\n              throw Error(constants_strings__WEBPACK_IMPORTED_MODULE_16__[\"Errors\"].MissingCollabEdit);\n            case 3:\n              _this$state$collabEdi = _this.state.collabEditProvider, serviceClient = _this$state$collabEdi.serviceClient, noteId = _this$state$collabEdi.config.noteId;\n              _context2.prev = 4;\n              _context2.next = 7;\n              return serviceClient.cozyClient.query(Object(cozy_client__WEBPACK_IMPORTED_MODULE_17__[\"Q\"])(constants_strings__WEBPACK_IMPORTED_MODULE_16__[\"CozyDoctypes\"].Files).getById(noteId));\n            case 7:\n              res = _context2.sent;\n              if (res) {\n                _context2.next = 10;\n                break;\n              }\n              throw Error(constants_strings__WEBPACK_IMPORTED_MODULE_16__[\"Errors\"].CouldNotGetNoteImages);\n            case 10:\n              imageObject = (_res$included = res.included) === null || _res$included === void 0 ? void 0 : _res$included.find(function (_ref4) {\n                var id = _ref4.id;\n                return id === _this.props.node.attrs.url;\n              });\n              if (imageObject) {\n                _context2.next = 28;\n                break;\n              }\n              _context2.prev = 12;\n              // If there is no imageObject, it could mean the image has been copied from another note\n              // We are going to try to copy the image from the original note to the current one\n              url = _this.props.node.attrs.url; // Find the original image id\n              to = noteId; // Get the current note id\n              // Copy the image from the original note to the current one\n              // We will get the new image file object in the response\n              _context2.next = 17;\n              return serviceClient.cozyClient.getStackClient().fetchJSON('POST', \"/notes/\".concat(url, \"/copy?To=\").concat(to));\n            case 17:\n              copiedImage = _context2.sent;\n              if (copiedImage) {\n                _context2.next = 20;\n                break;\n              }\n              throw Error('failed to POST /notes/:id/copy');\n            case 20:\n              // We update the node attrs with the new image url that we just fetched\n              // This will replace the bad id from the copied image with the new one\n              _this.mediaPluginState.updateMediaNodeAttrs(_this.props.getPos().toString(), // Position of the node in the Prosemirror document\n              _objectSpread(_objectSpread({}, _this.props.node.attrs), {}, {\n                url: copiedImage.data.id\n              }),\n              // We keep the same attrs except for the url\n              true // isMediaSingle\n              );\n\n              // We can then display the image from the new url that we just fetched\n              // Next render the MediaNode should not get through this flow since the imageObject is supposed to exist now\n              return _context2.abrupt(\"return\", _this.setState({\n                imageUrl: \"\".concat(serviceClient.stackClient.uri).concat(copiedImage.data.links.self),\n                // We can display the image from\n                imageLoading: false\n              }));\n            case 24:\n              _context2.prev = 24;\n              _context2.t0 = _context2[\"catch\"](12);\n              console.error(constants_strings__WEBPACK_IMPORTED_MODULE_16__[\"Errors\"].CouldNotCopyImage);\n              throw _context2.t0;\n            case 28:\n              !imageObject.attributes.willBeResized && _this.setState({\n                imageUrl: \"\".concat(serviceClient.stackClient.uri).concat(imageObject.links.self),\n                imageLoading: false\n              });\n              _context2.next = 35;\n              break;\n            case 31:\n              _context2.prev = 31;\n              _context2.t1 = _context2[\"catch\"](4);\n              _this.setState({\n                imageError: _context2.t1.message,\n                imageLoading: false\n              });\n              console.error(_context2.t1);\n            case 35:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[4, 31], [12, 24]]);\n    })));\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default()(_this), \"subscribeToImageUpdate\", function () {\n      var _this$state$collabEdi2;\n      return (_this$state$collabEdi2 = _this.state.collabEditProvider) === null || _this$state$collabEdi2 === void 0 ? void 0 : _this$state$collabEdi2.serviceClient.realtime.subscribe(constants_strings__WEBPACK_IMPORTED_MODULE_16__[\"RealTimeEvent\"].Updated, constants_strings__WEBPACK_IMPORTED_MODULE_16__[\"CozyDoctypes\"].NoteEvents, _this.state.collabEditProvider.config.noteId, function (_ref5) {\n        var image_id = _ref5.image_id;\n        _this.props.node.attrs.url.includes(image_id) && _this.setState({\n          imageLoading: true\n        }, _this.fetchCozyImage);\n      });\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default()(_this), \"handleNewNode\", function (props) {\n      var node = props.node;\n      _this.mediaPluginState.handleMediaNodeMount(node, function () {\n        return _this.props.getPos();\n      });\n    });\n    var view = _this.props.view;\n    _this.mediaPluginState = _pm_plugins_plugin_key__WEBPACK_IMPORTED_MODULE_14__[\"stateKey\"].getState(view.state);\n    return _this;\n  }\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(MediaNode, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      var hasNewViewMediaClientConfig = !this.state.viewMediaClientConfig && nextState.viewMediaClientConfig;\n      if (this.state.imageUrl !== nextState.imageUrl || this.state.imageError !== nextState.imageError || this.props.selected !== nextProps.selected || this.props.uploadComplete !== nextProps.uploadComplete || this.props.node.attrs.id !== nextProps.node.attrs.id || this.props.node.attrs.collection !== nextProps.node.attrs.collection || this.props.maxDimensions.height !== nextProps.maxDimensions.height || this.props.maxDimensions.width !== nextProps.maxDimensions.width || this.props.contextIdentifierProvider !== nextProps.contextIdentifierProvider || this.props.isLoading !== nextProps.isLoading || this.props.mediaProvider !== nextProps.mediaProvider || hasNewViewMediaClientConfig) {\n        return true;\n      }\n      return false;\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default.a.mark(function _callee3() {\n        var _this$props, contextIdentifierProvider, collabEditProvider;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default.a.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                this.handleNewNode(this.props);\n                _this$props = this.props, contextIdentifierProvider = _this$props.contextIdentifierProvider, collabEditProvider = _this$props.collabEditProvider;\n                _context3.t0 = this;\n                _context3.next = 5;\n                return contextIdentifierProvider;\n              case 5:\n                _context3.t1 = _context3.sent;\n                _context3.next = 8;\n                return collabEditProvider;\n              case 8:\n                _context3.t2 = _context3.sent;\n                _context3.t3 = {\n                  contextIdentifierProvider: _context3.t1,\n                  collabEditProvider: _context3.t2\n                };\n                _context3.t0.setState.call(_context3.t0, _context3.t3);\n                // Subscribe as soon as we have collabEditProvider\n                // This will allow realtime management of the image during the lifecycle of the component\n                this.realtimeSubscription = this.subscribeToImageUpdate();\n\n                // In any case we can try to fetch the image ASAP because it might be ready (page refresh/load)\n                _context3.next = 14;\n                return this.fetchCozyImage();\n              case 14:\n                _context3.next = 16;\n                return this.setViewMediaClientConfig();\n              case 16:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n      return componentDidMount;\n    }()\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var _this$realtimeSubscri;\n      var node = this.props.node;\n      (_this$realtimeSubscri = this.realtimeSubscription) === null || _this$realtimeSubscri === void 0 ? void 0 : _this$realtimeSubscri.unsubscribe();\n      this.mediaPluginState.handleMediaNodeUnmount(node);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (prevProps.node.attrs.id !== this.props.node.attrs.id) {\n        this.mediaPluginState.handleMediaNodeUnmount(prevProps.node);\n        this.handleNewNode(this.props);\n      }\n      this.mediaPluginState.updateElement();\n      this.setViewMediaClientConfig();\n    }\n\n    // We will display the node image only if the server has finished converting it\n\n    // Should create a type for CC WebSocket subscriptions\n    // Void is kinda correct for now\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n        node = _this$props2.node,\n        selected = _this$props2.selected,\n        uploadComplete = _this$props2.uploadComplete,\n        originalDimensions = _this$props2.originalDimensions,\n        isLoading = _this$props2.isLoading,\n        maxDimensions = _this$props2.maxDimensions,\n        mediaOptions = _this$props2.mediaOptions;\n      var _this$state = this.state,\n        viewMediaClientConfig = _this$state.viewMediaClientConfig,\n        contextIdentifierProvider = _this$state.contextIdentifierProvider;\n      var _node$attrs = node.attrs,\n        id = _node$attrs.id,\n        type = _node$attrs.type,\n        collection = _node$attrs.collection,\n        url = _node$attrs.url,\n        alt = _node$attrs.alt;\n      if (this.state.imageLoading || !this.state.imageUrl || this.state.imageError || isLoading || type !== 'external' && (!viewMediaClientConfig || typeof uploadComplete === 'boolean' && !uploadComplete)) {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(_styles__WEBPACK_IMPORTED_MODULE_15__[\"MediaCardWrapper\"], {\n          dimensions: originalDimensions\n        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(_atlaskit_media_card__WEBPACK_IMPORTED_MODULE_10__[\"CardLoading\"], null));\n      }\n      var contextId = contextIdentifierProvider && contextIdentifierProvider.objectId;\n      var identifier = type === 'external' ? {\n        dataURI: this.state.imageUrl,\n        name: url,\n        mediaItemType: 'external-image'\n      } : {\n        id: id,\n        mediaItemType: 'file',\n        collectionName: collection\n      };\n\n      // mediaClientConfig is not needed for \"external\" case. So we have to cheat here.\n      // there is a possibility mediaClientConfig will be part of a identifier,\n      // so this might be not an issue\n      var mediaClientConfig = viewMediaClientConfig || {\n        authProvider: function authProvider() {\n          return {};\n        }\n      };\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(_styles__WEBPACK_IMPORTED_MODULE_15__[\"MediaCardWrapper\"], {\n        dimensions: originalDimensions,\n        onContextMenu: this.selectMediaSingle\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(_atlaskit_media_card__WEBPACK_IMPORTED_MODULE_10__[\"Card\"], {\n        mediaClientConfig: mediaClientConfig,\n        resizeMode: \"stretchy-fit\",\n        dimensions: maxDimensions,\n        originalDimensions: originalDimensions,\n        identifier: identifier,\n        selectable: true,\n        selected: selected,\n        disableOverlay: true,\n        onClick: this.selectMediaSingleFromCard,\n        useInlinePlayer: mediaOptions && mediaOptions.allowLazyLoading,\n        isLazy: mediaOptions && mediaOptions.allowLazyLoading,\n        featureFlags: mediaOptions && mediaOptions.featureFlags,\n        contextId: contextId,\n        alt: alt\n      }));\n    }\n  }]);\n  return MediaNode;\n}(react__WEBPACK_IMPORTED_MODULE_12__[\"Component\"]);\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_atlaskit_editor_common__WEBPACK_IMPORTED_MODULE_9__[\"withImageLoader\"])(MediaNode));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9tZWRpYS9ub2Rldmlld3MvbWVkaWFOb2RlVmlldy9tZWRpYS50c3guanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2lucy9tZWRpYS9ub2Rldmlld3MvbWVkaWFOb2RlVmlldy9tZWRpYS50c3g/OTRjNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBDb250ZXh0SWRlbnRpZmllclByb3ZpZGVyLFxuICBJbWFnZUxvYWRlclByb3BzLFxuICBNZWRpYVByb3ZpZGVyLFxuICB3aXRoSW1hZ2VMb2FkZXJcbn0gZnJvbSAnQGF0bGFza2l0L2VkaXRvci1jb21tb24nXG5pbXBvcnQge1xuICBDYXJkLFxuICBDYXJkRGltZW5zaW9ucyxcbiAgQ2FyZEV2ZW50LFxuICBDYXJkTG9hZGluZyxcbiAgQ2FyZE9uQ2xpY2tDYWxsYmFjayxcbiAgTnVtZXJpY2FsQ2FyZERpbWVuc2lvbnNcbn0gZnJvbSAnQGF0bGFza2l0L21lZGlhLWNhcmQnXG5pbXBvcnQgeyBJZGVudGlmaWVyIH0gZnJvbSAnQGF0bGFza2l0L21lZGlhLWNsaWVudCdcbmltcG9ydCB7IE1lZGlhQ2xpZW50Q29uZmlnIH0gZnJvbSAnQGF0bGFza2l0L21lZGlhLWNvcmUnXG5pbXBvcnQgeyBOb2RlIGFzIFBNTm9kZSB9IGZyb20gJ3Byb3NlbWlycm9yLW1vZGVsJ1xuaW1wb3J0IHsgQ2VsbFNlbGVjdGlvbiB9IGZyb20gJ0BhdGxhc2tpdC9lZGl0b3ItdGFibGVzL2NlbGwtc2VsZWN0aW9uJ1xuaW1wb3J0IHsgRWRpdG9yVmlldyB9IGZyb20gJ3Byb3NlbWlycm9yLXZpZXcnXG5pbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnXG5pbXBvcnQge1xuICBQcm9zZW1pcnJvckdldFBvc0hhbmRsZXIsXG4gIFJlYWN0Tm9kZVByb3BzXG59IGZyb20gJ0BhdGxhc2tpdC9lZGl0b3ItY29yZS9ub2Rldmlld3MnXG5pbXBvcnQgeyBzZXROb2RlU2VsZWN0aW9uLCBzZXRUZXh0U2VsZWN0aW9uIH0gZnJvbSAnQGF0bGFza2l0L2VkaXRvci1jb3JlL3V0aWxzJ1xuaW1wb3J0IHsgc3RhdGVLZXkgYXMgbWVkaWFTdGF0ZUtleSB9IGZyb20gJy4uLy4uL3BtLXBsdWdpbnMvcGx1Z2luLWtleSdcbmltcG9ydCB7IE1lZGlhUGx1Z2luU3RhdGUgfSBmcm9tICcuLi8uLi9wbS1wbHVnaW5zL3R5cGVzJ1xuaW1wb3J0IHsgTWVkaWFDYXJkV3JhcHBlciB9IGZyb20gJy4uL3N0eWxlcydcbmltcG9ydCB7IE1lZGlhT3B0aW9ucyB9IGZyb20gJy4uLy4uL3R5cGVzJ1xuaW1wb3J0IHsgUmVhbFRpbWVFdmVudCwgQ296eURvY3R5cGVzLCBFcnJvcnMgfSBmcm9tICdjb25zdGFudHMvc3RyaW5ncydcbmltcG9ydCBDb2xsYWJQcm92aWRlciBmcm9tICdsaWIvY29sbGFiL3Byb3ZpZGVyJ1xuaW1wb3J0IHsgUSB9IGZyb20gJ2NvenktY2xpZW50J1xuXG4vLyBUaGlzIGlzIGJlaW5nIHVzZWQgYnkgRHJvcFBsYWNlaG9sZGVyIG5vd1xuZXhwb3J0IGNvbnN0IE1FRElBX0hFSUdIVCA9IDEyNVxuZXhwb3J0IGNvbnN0IEZJTEVfV0lEVEggPSAxNTZcblxuZXhwb3J0IGludGVyZmFjZSBNZWRpYU5vZGVQcm9wcyBleHRlbmRzIFJlYWN0Tm9kZVByb3BzLCBJbWFnZUxvYWRlclByb3BzIHtcbiAgdmlldzogRWRpdG9yVmlld1xuICBub2RlOiBQTU5vZGVcbiAgZ2V0UG9zOiBQcm9zZW1pcnJvckdldFBvc0hhbmRsZXJcbiAgY29udGV4dElkZW50aWZpZXJQcm92aWRlcj86IFByb21pc2U8Q29udGV4dElkZW50aWZpZXJQcm92aWRlcj5cbiAgY29sbGFiRWRpdFByb3ZpZGVyPzogUHJvbWlzZTxDb2xsYWJQcm92aWRlcj5cbiAgb3JpZ2luYWxEaW1lbnNpb25zOiBOdW1lcmljYWxDYXJkRGltZW5zaW9uc1xuICBtYXhEaW1lbnNpb25zOiBDYXJkRGltZW5zaW9uc1xuICBpc01lZGlhU2luZ2xlPzogYm9vbGVhblxuICBvbkNsaWNrPzogQ2FyZE9uQ2xpY2tDYWxsYmFja1xuICBtZWRpYVByb3ZpZGVyPzogUHJvbWlzZTxNZWRpYVByb3ZpZGVyPlxuICB1cGxvYWRDb21wbGV0ZT86IGJvb2xlYW5cbiAgaXNMb2FkaW5nPzogYm9vbGVhblxuICBtZWRpYU9wdGlvbnM/OiBNZWRpYU9wdGlvbnNcbn1cblxuaW50ZXJmYWNlIE1lZGlhTm9kZVN0YXRlIHtcbiAgdmlld01lZGlhQ2xpZW50Q29uZmlnPzogTWVkaWFDbGllbnRDb25maWdcbiAgY29udGV4dElkZW50aWZpZXJQcm92aWRlcj86IENvbnRleHRJZGVudGlmaWVyUHJvdmlkZXJcbiAgY29sbGFiRWRpdFByb3ZpZGVyPzogQ29sbGFiUHJvdmlkZXJcbiAgaW1hZ2VVcmw6IHN0cmluZ1xuICBpbWFnZUVycm9yOiBhbnlcbiAgaW1hZ2VMb2FkaW5nOiBib29sZWFuXG59XG5cbmV4cG9ydCBjbGFzcyBNZWRpYU5vZGUgZXh0ZW5kcyBDb21wb25lbnQ8TWVkaWFOb2RlUHJvcHMsIE1lZGlhTm9kZVN0YXRlPiB7XG4gIHByaXZhdGUgbWVkaWFQbHVnaW5TdGF0ZTogTWVkaWFQbHVnaW5TdGF0ZVxuXG4gIHN0YXRlOiBNZWRpYU5vZGVTdGF0ZSA9IHtcbiAgICBpbWFnZVVybDogJycsXG4gICAgaW1hZ2VFcnJvcjogJycsXG4gICAgaW1hZ2VMb2FkaW5nOiB0cnVlLFxuICB9XG5cbiAgcmVhbHRpbWVTdWJzY3JpcHRpb24/OiBhbnlcblxuICBjb25zdHJ1Y3Rvcihwcm9wczogTWVkaWFOb2RlUHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcbiAgICBjb25zdCB7IHZpZXcgfSA9IHRoaXMucHJvcHNcbiAgICB0aGlzLm1lZGlhUGx1Z2luU3RhdGUgPSBtZWRpYVN0YXRlS2V5LmdldFN0YXRlKHZpZXcuc3RhdGUpXG4gIH1cblxuICBzaG91bGRDb21wb25lbnRVcGRhdGUobmV4dFByb3BzOiBNZWRpYU5vZGVQcm9wcywgbmV4dFN0YXRlOiBNZWRpYU5vZGVTdGF0ZSkge1xuICAgIGNvbnN0IGhhc05ld1ZpZXdNZWRpYUNsaWVudENvbmZpZyA9XG4gICAgICAhdGhpcy5zdGF0ZS52aWV3TWVkaWFDbGllbnRDb25maWcgJiYgbmV4dFN0YXRlLnZpZXdNZWRpYUNsaWVudENvbmZpZ1xuICAgIGlmIChcbiAgICAgIHRoaXMuc3RhdGUuaW1hZ2VVcmwgIT09IG5leHRTdGF0ZS5pbWFnZVVybCB8fFxuICAgICAgdGhpcy5zdGF0ZS5pbWFnZUVycm9yICE9PSBuZXh0U3RhdGUuaW1hZ2VFcnJvciB8fFxuICAgICAgdGhpcy5wcm9wcy5zZWxlY3RlZCAhPT0gbmV4dFByb3BzLnNlbGVjdGVkIHx8XG4gICAgICB0aGlzLnByb3BzLnVwbG9hZENvbXBsZXRlICE9PSBuZXh0UHJvcHMudXBsb2FkQ29tcGxldGUgfHxcbiAgICAgIHRoaXMucHJvcHMubm9kZS5hdHRycy5pZCAhPT0gbmV4dFByb3BzLm5vZGUuYXR0cnMuaWQgfHxcbiAgICAgIHRoaXMucHJvcHMubm9kZS5hdHRycy5jb2xsZWN0aW9uICE9PSBuZXh0UHJvcHMubm9kZS5hdHRycy5jb2xsZWN0aW9uIHx8XG4gICAgICB0aGlzLnByb3BzLm1heERpbWVuc2lvbnMuaGVpZ2h0ICE9PSBuZXh0UHJvcHMubWF4RGltZW5zaW9ucy5oZWlnaHQgfHxcbiAgICAgIHRoaXMucHJvcHMubWF4RGltZW5zaW9ucy53aWR0aCAhPT0gbmV4dFByb3BzLm1heERpbWVuc2lvbnMud2lkdGggfHxcbiAgICAgIHRoaXMucHJvcHMuY29udGV4dElkZW50aWZpZXJQcm92aWRlciAhPT1cbiAgICAgICAgbmV4dFByb3BzLmNvbnRleHRJZGVudGlmaWVyUHJvdmlkZXIgfHxcbiAgICAgIHRoaXMucHJvcHMuaXNMb2FkaW5nICE9PSBuZXh0UHJvcHMuaXNMb2FkaW5nIHx8XG4gICAgICB0aGlzLnByb3BzLm1lZGlhUHJvdmlkZXIgIT09IG5leHRQcm9wcy5tZWRpYVByb3ZpZGVyIHx8XG4gICAgICBoYXNOZXdWaWV3TWVkaWFDbGllbnRDb25maWdcbiAgICApIHtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgYXN5bmMgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGhpcy5oYW5kbGVOZXdOb2RlKHRoaXMucHJvcHMpXG5cbiAgICBjb25zdCB7IGNvbnRleHRJZGVudGlmaWVyUHJvdmlkZXIsIGNvbGxhYkVkaXRQcm92aWRlciB9ID0gdGhpcy5wcm9wc1xuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBjb250ZXh0SWRlbnRpZmllclByb3ZpZGVyOiBhd2FpdCBjb250ZXh0SWRlbnRpZmllclByb3ZpZGVyLFxuICAgICAgY29sbGFiRWRpdFByb3ZpZGVyOiBhd2FpdCBjb2xsYWJFZGl0UHJvdmlkZXJcbiAgICB9KVxuXG4gICAgLy8gU3Vic2NyaWJlIGFzIHNvb24gYXMgd2UgaGF2ZSBjb2xsYWJFZGl0UHJvdmlkZXJcbiAgICAvLyBUaGlzIHdpbGwgYWxsb3cgcmVhbHRpbWUgbWFuYWdlbWVudCBvZiB0aGUgaW1hZ2UgZHVyaW5nIHRoZSBsaWZlY3ljbGUgb2YgdGhlIGNvbXBvbmVudFxuICAgIHRoaXMucmVhbHRpbWVTdWJzY3JpcHRpb24gPSB0aGlzLnN1YnNjcmliZVRvSW1hZ2VVcGRhdGUoKVxuXG4gICAgLy8gSW4gYW55IGNhc2Ugd2UgY2FuIHRyeSB0byBmZXRjaCB0aGUgaW1hZ2UgQVNBUCBiZWNhdXNlIGl0IG1pZ2h0IGJlIHJlYWR5IChwYWdlIHJlZnJlc2gvbG9hZClcbiAgICBhd2FpdCB0aGlzLmZldGNoQ296eUltYWdlKClcblxuICAgIGF3YWl0IHRoaXMuc2V0Vmlld01lZGlhQ2xpZW50Q29uZmlnKClcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGNvbnN0IHsgbm9kZSB9ID0gdGhpcy5wcm9wc1xuICAgIHRoaXMucmVhbHRpbWVTdWJzY3JpcHRpb24/LnVuc3Vic2NyaWJlKClcbiAgICB0aGlzLm1lZGlhUGx1Z2luU3RhdGUuaGFuZGxlTWVkaWFOb2RlVW5tb3VudChub2RlKVxuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wczogUmVhZG9ubHk8TWVkaWFOb2RlUHJvcHM+KSB7XG4gICAgaWYgKHByZXZQcm9wcy5ub2RlLmF0dHJzLmlkICE9PSB0aGlzLnByb3BzLm5vZGUuYXR0cnMuaWQpIHtcbiAgICAgIHRoaXMubWVkaWFQbHVnaW5TdGF0ZS5oYW5kbGVNZWRpYU5vZGVVbm1vdW50KHByZXZQcm9wcy5ub2RlKVxuICAgICAgdGhpcy5oYW5kbGVOZXdOb2RlKHRoaXMucHJvcHMpXG4gICAgfVxuICAgIHRoaXMubWVkaWFQbHVnaW5TdGF0ZS51cGRhdGVFbGVtZW50KClcbiAgICB0aGlzLnNldFZpZXdNZWRpYUNsaWVudENvbmZpZygpXG4gIH1cblxuICBwcml2YXRlIHNldFZpZXdNZWRpYUNsaWVudENvbmZpZyA9IGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBtZWRpYVByb3ZpZGVyID0gYXdhaXQgdGhpcy5wcm9wcy5tZWRpYVByb3ZpZGVyXG4gICAgaWYgKG1lZGlhUHJvdmlkZXIpIHtcbiAgICAgIGNvbnN0IHZpZXdNZWRpYUNsaWVudENvbmZpZyA9IG1lZGlhUHJvdmlkZXIudmlld01lZGlhQ2xpZW50Q29uZmlnXG5cbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICB2aWV3TWVkaWFDbGllbnRDb25maWdcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBzZWxlY3RNZWRpYVNpbmdsZUZyb21DYXJkID0gKHsgZXZlbnQgfTogQ2FyZEV2ZW50KSA9PiB7XG4gICAgdGhpcy5zZWxlY3RNZWRpYVNpbmdsZShldmVudClcbiAgfVxuXG4gIHByaXZhdGUgc2VsZWN0TWVkaWFTaW5nbGUgPSAoXG4gICAgZXZlbnQ6IFJlYWN0Lk1vdXNlRXZlbnQ8SFRNTEVsZW1lbnQsIE1vdXNlRXZlbnQ+XG4gICkgPT4ge1xuICAgIC8vIFdlIG5lZWQgdG8gY2FsbCBcInN0b3BQcm9wYWdhdGlvblwiIGhlcmUgaW4gb3JkZXIgdG8gcHJldmVudCB0aGUgYnJvd3NlciBmcm9tIG5hdmlnYXRpbmcgdG9cbiAgICAvLyBhbm90aGVyIFVSTCBpZiB0aGUgbWVkaWEgbm9kZSBpcyB3cmFwcGVkIGluIGEgbGluayBtYXJrLlxuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXG5cbiAgICBjb25zdCBwcm9wUG9zID0gdGhpcy5wcm9wcy5nZXRQb3MoKVxuICAgIGNvbnN0IHsgc3RhdGUgfSA9IHRoaXMucHJvcHMudmlld1xuXG4gICAgaWYgKGV2ZW50LnNoaWZ0S2V5KSB7XG4gICAgICAvLyBkb24ndCBzZWxlY3QgdGV4dCBpZiB0aGVyZSBpcyBjdXJyZW50IHNlbGVjdGlvbiBpbiBhIHRhYmxlIChhcyB0aGlzIHdvdWxkIG92ZXJyaWRlIHNlbGVjdGVkIGNlbGxzKVxuICAgICAgaWYgKHN0YXRlLnNlbGVjdGlvbiBpbnN0YW5jZW9mIENlbGxTZWxlY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIHNldFRleHRTZWxlY3Rpb24oXG4gICAgICAgIHRoaXMucHJvcHMudmlldyxcbiAgICAgICAgc3RhdGUuc2VsZWN0aW9uLmZyb20gPCBwcm9wUG9zID8gc3RhdGUuc2VsZWN0aW9uLmZyb20gOiBwcm9wUG9zIC0gMSxcbiAgICAgICAgLy8gKyAzIG5lZWRlZCBmb3Igb2Zmc2V0IG9mIHRoZSBtZWRpYSBpbnNpZGUgbWVkaWFTaW5nbGUgYW5kIGN1cnNvciB0byBtYWtlIHdob2xlIG1lZGlhU2luZ2xlIHNlbGVjdGVkXG4gICAgICAgIHN0YXRlLnNlbGVjdGlvbi50byA+IHByb3BQb3MgPyBzdGF0ZS5zZWxlY3Rpb24udG8gOiBwcm9wUG9zICsgMlxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICBzZXROb2RlU2VsZWN0aW9uKHRoaXMucHJvcHMudmlldywgcHJvcFBvcyAtIDEpXG4gICAgfVxuICB9XG5cbiAgLy8gV2Ugd2lsbCBkaXNwbGF5IHRoZSBub2RlIGltYWdlIG9ubHkgaWYgdGhlIHNlcnZlciBoYXMgZmluaXNoZWQgY29udmVydGluZyBpdFxuICBmZXRjaENvenlJbWFnZSA9IGFzeW5jICgpOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtpbWFnZUVycm9yOiAnJ30pXG5cbiAgICBpZiAoIXRoaXMuc3RhdGUuY29sbGFiRWRpdFByb3ZpZGVyKSB0aHJvdyBFcnJvcihFcnJvcnMuTWlzc2luZ0NvbGxhYkVkaXQpXG5cbiAgICBjb25zdCB7XG4gICAgICBzZXJ2aWNlQ2xpZW50LFxuICAgICAgY29uZmlnOiB7IG5vdGVJZCB9XG4gICAgfSA9IHRoaXMuc3RhdGUuY29sbGFiRWRpdFByb3ZpZGVyXG5cbiAgICB0cnkge1xuICAgICAgLy8gVHlwZSBjYXN0aW5nIHRoZSByZXNwb25zZSBpbmxpbmUgaXMgbm90IHRoZSBiZXN0IHNvbHV0aW9uXG4gICAgICAvLyBJdCBzdGlsbCBoYXMgdG8gYmUgaW1wcm92ZWQgdXBvbiBhc2FwXG4gICAgICAvLyBNYXliZSB0aGUgYmVzdCB3YXkgaGVyZSBpcyB0byBjcmVhdGUgYW4gaW50ZXJmYWNlIGZyb20gc2NyYXRjaFxuICAgICAgLy8gZm9yIHRoZSBjb2xsYWJFZGl0UHJvdmlkZXIgc3BlY2lmaWMgdG8gdGhlIENvenktTm90ZXMgYXBwbGljYXRpb25cbiAgICAgIGNvbnN0IHJlczoge1xuICAgICAgICBpbmNsdWRlZDoge1xuICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgIHdpbGxCZVJlc2l6ZWQ6IGJvb2xlYW5cbiAgICAgICAgICB9XG4gICAgICAgICAgaWQ6IHN0cmluZ1xuICAgICAgICAgIGxpbmtzOiB7IHNlbGY6IHN0cmluZyB9XG4gICAgICAgIH1bXVxuICAgICAgfSA9IGF3YWl0IHNlcnZpY2VDbGllbnQuY296eUNsaWVudC5xdWVyeShcbiAgICAgICAgUShDb3p5RG9jdHlwZXMuRmlsZXMpLmdldEJ5SWQobm90ZUlkKVxuICAgICAgKVxuXG4gICAgICBpZiAoIXJlcykgdGhyb3cgRXJyb3IoRXJyb3JzLkNvdWxkTm90R2V0Tm90ZUltYWdlcylcblxuICAgICAgY29uc3QgaW1hZ2VPYmplY3QgPSByZXMuaW5jbHVkZWQ/LmZpbmQoXG4gICAgICAgICh7IGlkIH0pID0+IGlkID09PSB0aGlzLnByb3BzLm5vZGUuYXR0cnMudXJsXG4gICAgICApXG5cbiAgICAgIGlmICghaW1hZ2VPYmplY3QpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgLy8gSWYgdGhlcmUgaXMgbm8gaW1hZ2VPYmplY3QsIGl0IGNvdWxkIG1lYW4gdGhlIGltYWdlIGhhcyBiZWVuIGNvcGllZCBmcm9tIGFub3RoZXIgbm90ZVxuICAgICAgICAvLyBXZSBhcmUgZ29pbmcgdG8gdHJ5IHRvIGNvcHkgdGhlIGltYWdlIGZyb20gdGhlIG9yaWdpbmFsIG5vdGUgdG8gdGhlIGN1cnJlbnQgb25lXG4gICAgICAgIGNvbnN0IHsgdXJsIH0gPSB0aGlzLnByb3BzLm5vZGUuYXR0cnMgLy8gRmluZCB0aGUgb3JpZ2luYWwgaW1hZ2UgaWRcbiAgICAgICAgY29uc3QgdG8gPSBub3RlSWQgLy8gR2V0IHRoZSBjdXJyZW50IG5vdGUgaWRcblxuICAgICAgICAvLyBDb3B5IHRoZSBpbWFnZSBmcm9tIHRoZSBvcmlnaW5hbCBub3RlIHRvIHRoZSBjdXJyZW50IG9uZVxuICAgICAgICAvLyBXZSB3aWxsIGdldCB0aGUgbmV3IGltYWdlIGZpbGUgb2JqZWN0IGluIHRoZSByZXNwb25zZVxuICAgICAgICBjb25zdCBjb3BpZWRJbWFnZSA9IGF3YWl0IHNlcnZpY2VDbGllbnQuY296eUNsaWVudC5nZXRTdGFja0NsaWVudCgpLmZldGNoSlNPTihcbiAgICAgICAgICAnUE9TVCcsXG4gICAgICAgICAgYC9ub3Rlcy8ke3VybH0vY29weT9Ubz0ke3RvfWBcbiAgICAgICAgKVxuXG4gICAgICAgIGlmICghY29waWVkSW1hZ2UpIHRocm93IEVycm9yKCdmYWlsZWQgdG8gUE9TVCAvbm90ZXMvOmlkL2NvcHknKVxuXG4gICAgICAgIC8vIFdlIHVwZGF0ZSB0aGUgbm9kZSBhdHRycyB3aXRoIHRoZSBuZXcgaW1hZ2UgdXJsIHRoYXQgd2UganVzdCBmZXRjaGVkXG4gICAgICAgIC8vIFRoaXMgd2lsbCByZXBsYWNlIHRoZSBiYWQgaWQgZnJvbSB0aGUgY29waWVkIGltYWdlIHdpdGggdGhlIG5ldyBvbmVcbiAgICAgICAgdGhpcy5tZWRpYVBsdWdpblN0YXRlLnVwZGF0ZU1lZGlhTm9kZUF0dHJzKFxuICAgICAgICAgIHRoaXMucHJvcHMuZ2V0UG9zKCkudG9TdHJpbmcoKSwgLy8gUG9zaXRpb24gb2YgdGhlIG5vZGUgaW4gdGhlIFByb3NlbWlycm9yIGRvY3VtZW50XG4gICAgICAgICAgey4uLnRoaXMucHJvcHMubm9kZS5hdHRycywgdXJsOiBjb3BpZWRJbWFnZS5kYXRhLmlkfSwgLy8gV2Uga2VlcCB0aGUgc2FtZSBhdHRycyBleGNlcHQgZm9yIHRoZSB1cmxcbiAgICAgICAgICB0cnVlIC8vIGlzTWVkaWFTaW5nbGVcbiAgICAgICAgKVxuXG4gICAgICAgIC8vIFdlIGNhbiB0aGVuIGRpc3BsYXkgdGhlIGltYWdlIGZyb20gdGhlIG5ldyB1cmwgdGhhdCB3ZSBqdXN0IGZldGNoZWRcbiAgICAgICAgLy8gTmV4dCByZW5kZXIgdGhlIE1lZGlhTm9kZSBzaG91bGQgbm90IGdldCB0aHJvdWdoIHRoaXMgZmxvdyBzaW5jZSB0aGUgaW1hZ2VPYmplY3QgaXMgc3VwcG9zZWQgdG8gZXhpc3Qgbm93XG4gICAgICAgIHJldHVybiB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBpbWFnZVVybDogYCR7c2VydmljZUNsaWVudC5zdGFja0NsaWVudC51cml9JHtjb3BpZWRJbWFnZS5kYXRhLmxpbmtzLnNlbGZ9YCwgLy8gV2UgY2FuIGRpc3BsYXkgdGhlIGltYWdlIGZyb21cbiAgICAgICAgICBpbWFnZUxvYWRpbmc6IGZhbHNlXG4gICAgICAgIH0pIFxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihFcnJvcnMuQ291bGROb3RDb3B5SW1hZ2UpXG4gICAgICAgIHRocm93IGVycm9yXG4gICAgICB9XG4gICAgfVxuXG4gICAgIWltYWdlT2JqZWN0LmF0dHJpYnV0ZXMud2lsbEJlUmVzaXplZCAmJlxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGltYWdlVXJsOiBgJHtzZXJ2aWNlQ2xpZW50LnN0YWNrQ2xpZW50LnVyaX0ke2ltYWdlT2JqZWN0LmxpbmtzLnNlbGZ9YCxcbiAgICAgICAgaW1hZ2VMb2FkaW5nOiBmYWxzZVxuICAgICAgfSlcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGltYWdlRXJyb3I6IChlcnJvciBhcyBFcnJvcikubWVzc2FnZSwgaW1hZ2VMb2FkaW5nOiBmYWxzZSB9KVxuICAgICAgY29uc29sZS5lcnJvcihlcnJvcilcbiAgICB9XG4gIH1cblxuICAvLyBTaG91bGQgY3JlYXRlIGEgdHlwZSBmb3IgQ0MgV2ViU29ja2V0IHN1YnNjcmlwdGlvbnNcbiAgLy8gVm9pZCBpcyBraW5kYSBjb3JyZWN0IGZvciBub3dcbiAgc3Vic2NyaWJlVG9JbWFnZVVwZGF0ZSA9ICgpOiB2b2lkID0+XG4gICAgdGhpcy5zdGF0ZS5jb2xsYWJFZGl0UHJvdmlkZXI/LnNlcnZpY2VDbGllbnQucmVhbHRpbWUuc3Vic2NyaWJlKFxuICAgICAgUmVhbFRpbWVFdmVudC5VcGRhdGVkLFxuICAgICAgQ296eURvY3R5cGVzLk5vdGVFdmVudHMsXG4gICAgICB0aGlzLnN0YXRlLmNvbGxhYkVkaXRQcm92aWRlci5jb25maWcubm90ZUlkLFxuICAgICAgKHsgaW1hZ2VfaWQgfTogeyBpbWFnZV9pZDogc3RyaW5nIH0pID0+e1xuICAgICAgICB0aGlzLnByb3BzLm5vZGUuYXR0cnMudXJsLmluY2x1ZGVzKGltYWdlX2lkKSAmJlxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgaW1hZ2VMb2FkaW5nOiB0cnVlIH0sIHRoaXMuZmV0Y2hDb3p5SW1hZ2UpfVxuICAgIClcblxuICByZW5kZXIoKSB7XG4gICAgY29uc3Qge1xuICAgICAgbm9kZSxcbiAgICAgIHNlbGVjdGVkLFxuICAgICAgdXBsb2FkQ29tcGxldGUsXG4gICAgICBvcmlnaW5hbERpbWVuc2lvbnMsXG4gICAgICBpc0xvYWRpbmcsXG4gICAgICBtYXhEaW1lbnNpb25zLFxuICAgICAgbWVkaWFPcHRpb25zXG4gICAgfSA9IHRoaXMucHJvcHNcblxuICAgIGNvbnN0IHsgdmlld01lZGlhQ2xpZW50Q29uZmlnLCBjb250ZXh0SWRlbnRpZmllclByb3ZpZGVyIH0gPSB0aGlzLnN0YXRlXG5cbiAgICBjb25zdCB7IGlkLCB0eXBlLCBjb2xsZWN0aW9uLCB1cmwsIGFsdCB9ID0gbm9kZS5hdHRyc1xuXG4gICAgaWYgKFxuICAgICAgdGhpcy5zdGF0ZS5pbWFnZUxvYWRpbmcgfHxcbiAgICAgICF0aGlzLnN0YXRlLmltYWdlVXJsIHx8XG4gICAgICB0aGlzLnN0YXRlLmltYWdlRXJyb3IgfHxcbiAgICAgIGlzTG9hZGluZyB8fFxuICAgICAgKHR5cGUgIT09ICdleHRlcm5hbCcgJiZcbiAgICAgICAgKCF2aWV3TWVkaWFDbGllbnRDb25maWcgfHxcbiAgICAgICAgICAodHlwZW9mIHVwbG9hZENvbXBsZXRlID09PSAnYm9vbGVhbicgJiYgIXVwbG9hZENvbXBsZXRlKSkpXG4gICAgKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8TWVkaWFDYXJkV3JhcHBlciBkaW1lbnNpb25zPXtvcmlnaW5hbERpbWVuc2lvbnN9PlxuICAgICAgICAgIDxDYXJkTG9hZGluZyAvPlxuICAgICAgICA8L01lZGlhQ2FyZFdyYXBwZXI+XG4gICAgICApXG4gICAgfVxuXG4gICAgY29uc3QgY29udGV4dElkID1cbiAgICAgIGNvbnRleHRJZGVudGlmaWVyUHJvdmlkZXIgJiYgY29udGV4dElkZW50aWZpZXJQcm92aWRlci5vYmplY3RJZFxuICAgIGNvbnN0IGlkZW50aWZpZXI6IElkZW50aWZpZXIgPVxuICAgICAgdHlwZSA9PT0gJ2V4dGVybmFsJ1xuICAgICAgICA/IHtcbiAgICAgICAgICAgIGRhdGFVUkk6IHRoaXMuc3RhdGUuaW1hZ2VVcmwsXG4gICAgICAgICAgICBuYW1lOiB1cmwsXG4gICAgICAgICAgICBtZWRpYUl0ZW1UeXBlOiAnZXh0ZXJuYWwtaW1hZ2UnXG4gICAgICAgICAgfVxuICAgICAgICA6IHtcbiAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgbWVkaWFJdGVtVHlwZTogJ2ZpbGUnLFxuICAgICAgICAgICAgY29sbGVjdGlvbk5hbWU6IGNvbGxlY3Rpb24hXG4gICAgICAgICAgfVxuXG4gICAgLy8gbWVkaWFDbGllbnRDb25maWcgaXMgbm90IG5lZWRlZCBmb3IgXCJleHRlcm5hbFwiIGNhc2UuIFNvIHdlIGhhdmUgdG8gY2hlYXQgaGVyZS5cbiAgICAvLyB0aGVyZSBpcyBhIHBvc3NpYmlsaXR5IG1lZGlhQ2xpZW50Q29uZmlnIHdpbGwgYmUgcGFydCBvZiBhIGlkZW50aWZpZXIsXG4gICAgLy8gc28gdGhpcyBtaWdodCBiZSBub3QgYW4gaXNzdWVcbiAgICBjb25zdCBtZWRpYUNsaWVudENvbmZpZzogTWVkaWFDbGllbnRDb25maWcgPSB2aWV3TWVkaWFDbGllbnRDb25maWcgfHwge1xuICAgICAgYXV0aFByb3ZpZGVyOiAoKSA9PiAoe30gYXMgYW55KVxuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8TWVkaWFDYXJkV3JhcHBlclxuICAgICAgICBkaW1lbnNpb25zPXtvcmlnaW5hbERpbWVuc2lvbnN9XG4gICAgICAgIG9uQ29udGV4dE1lbnU9e3RoaXMuc2VsZWN0TWVkaWFTaW5nbGV9XG4gICAgICA+XG4gICAgICAgIDxDYXJkXG4gICAgICAgICAgbWVkaWFDbGllbnRDb25maWc9e21lZGlhQ2xpZW50Q29uZmlnfVxuICAgICAgICAgIHJlc2l6ZU1vZGU9XCJzdHJldGNoeS1maXRcIlxuICAgICAgICAgIGRpbWVuc2lvbnM9e21heERpbWVuc2lvbnN9XG4gICAgICAgICAgb3JpZ2luYWxEaW1lbnNpb25zPXtvcmlnaW5hbERpbWVuc2lvbnN9XG4gICAgICAgICAgaWRlbnRpZmllcj17aWRlbnRpZmllcn1cbiAgICAgICAgICBzZWxlY3RhYmxlPXt0cnVlfVxuICAgICAgICAgIHNlbGVjdGVkPXtzZWxlY3RlZH1cbiAgICAgICAgICBkaXNhYmxlT3ZlcmxheT17dHJ1ZX1cbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLnNlbGVjdE1lZGlhU2luZ2xlRnJvbUNhcmR9XG4gICAgICAgICAgdXNlSW5saW5lUGxheWVyPXttZWRpYU9wdGlvbnMgJiYgbWVkaWFPcHRpb25zLmFsbG93TGF6eUxvYWRpbmd9XG4gICAgICAgICAgaXNMYXp5PXttZWRpYU9wdGlvbnMgJiYgbWVkaWFPcHRpb25zLmFsbG93TGF6eUxvYWRpbmd9XG4gICAgICAgICAgZmVhdHVyZUZsYWdzPXttZWRpYU9wdGlvbnMgJiYgbWVkaWFPcHRpb25zLmZlYXR1cmVGbGFnc31cbiAgICAgICAgICBjb250ZXh0SWQ9e2NvbnRleHRJZH1cbiAgICAgICAgICBhbHQ9e2FsdH1cbiAgICAgICAgLz5cbiAgICAgIDwvTWVkaWFDYXJkV3JhcHBlcj5cbiAgICApXG4gIH1cblxuICBwcml2YXRlIGhhbmRsZU5ld05vZGUgPSAocHJvcHM6IE1lZGlhTm9kZVByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBub2RlIH0gPSBwcm9wc1xuXG4gICAgdGhpcy5tZWRpYVBsdWdpblN0YXRlLmhhbmRsZU1lZGlhTm9kZU1vdW50KG5vZGUsICgpID0+IHRoaXMucHJvcHMuZ2V0UG9zKCkpXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgd2l0aEltYWdlTG9hZGVyPE1lZGlhTm9kZVByb3BzPihNZWRpYU5vZGUpXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQU1BO0FBV0E7QUFFQTtBQUtBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTJCQTtBQUFBO0FBQUE7QUFXQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFSQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFvRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBS0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBSUE7QUFBQTtBQUFBO0FBa0JBO0FBVkE7QUFRQTtBQUlBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBSUE7QUFIQTtBQUFBO0FBS0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFLQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUlBO0FBQUE7QUFLQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQWlGQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBdlJBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFFQTtBQWVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBREE7QUFDQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBMkNBO0FBQ0E7QUFnRkE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQVlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQVNBO0FBQ0E7QUFBQTtBQUlBO0FBRUE7QUFFQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUlBO0FBQUE7QUFBQTtBQUFBO0FBU0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/plugins/media/nodeviews/mediaNodeView/media.tsx\n");

/***/ }),

/***/ "./src/plugins/media/nodeviews/mediaSingle.tsx":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return MediaSingleNode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ReactMediaSingleNode\", function() { return ReactMediaSingleNode; });\n/* harmony import */ var _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/get.js\");\n/* harmony import */ var _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/extends.js\");\n/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/assertThisInitialized.js\");\n/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/inherits.js\");\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\");\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/getPrototypeOf.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"./node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _atlaskit_editor_common__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"./node_modules/@atlaskit/editor-common/dist/esm/index.js\");\n/* harmony import */ var _atlaskit_editor_core_utils_nodes__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/utils/nodes.ts\");\n/* harmony import */ var _atlaskit_editor_core_nodeviews___WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/nodeviews/index.ts\");\n/* harmony import */ var _atlaskit_editor_core_ui_WithPluginState__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/ui/WithPluginState/index.tsx\");\n/* harmony import */ var _atlaskit_editor_core_plugins_width__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/plugins/width/index.ts\");\n/* harmony import */ var _atlaskit_editor_core_utils__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/utils/index.ts\");\n/* harmony import */ var _ui_ResizableMediaSingle__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(\"./src/plugins/media/ui/ResizableMediaSingle/index.tsx\");\n/* harmony import */ var _atlaskit_editor_core_plugins_grid__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/plugins/grid/index.tsx\");\n/* harmony import */ var _pm_plugins_main__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(\"./src/plugins/media/pm-plugins/main.ts\");\n/* harmony import */ var _mediaNodeUpdater__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(\"./src/plugins/media/nodeviews/mediaNodeUpdater.ts\");\n/* harmony import */ var prosemirror_utils__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(\"./node_modules/prosemirror-utils/dist/index.js\");\n/* harmony import */ var prosemirror_utils__WEBPACK_IMPORTED_MODULE_22___default = /*#__PURE__*/__webpack_require__.n(prosemirror_utils__WEBPACK_IMPORTED_MODULE_22__);\n/* harmony import */ var _atlaskit_editor_tables_cell_selection__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(\"./node_modules/@atlaskit/editor-tables/dist/esm/cell-selection.js\");\n/* harmony import */ var _styles__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(\"./src/plugins/media/nodeviews/styles.tsx\");\n/* harmony import */ var _atlaskit_editor_core_utils_rich_media_utils__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/utils/rich-media-utils.ts\");\n/* harmony import */ var lib_patches_firefox_drag__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(\"./src/lib/patches/firefox-drag.ts\");\n/* harmony import */ var constants_media__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(\"./src/constants/media.ts\");\n\n\n\n\n\n\n\n\n\n\n\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_8___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_8___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_7___default()(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar MediaSingleNode = /*#__PURE__*/function (_Component) {\n  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default()(MediaSingleNode, _Component);\n  var _super = _createSuper(MediaSingleNode);\n  function MediaSingleNode() {\n    var _this;\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3___default()(this, MediaSingleNode);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), \"state\", {\n      width: undefined,\n      height: undefined,\n      viewMediaClientConfig: undefined,\n      isCopying: false\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), \"createMediaNodeUpdater\", function (props) {\n      var node = _this.props.node.firstChild;\n      return new _mediaNodeUpdater__WEBPACK_IMPORTED_MODULE_21__[\"MediaNodeUpdater\"](_objectSpread(_objectSpread({}, props), {}, {\n        isMediaSingle: true,\n        node: node ? node : _this.props.node,\n        dispatchAnalyticsEvent: _this.props.dispatchAnalyticsEvent\n      }));\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), \"setViewMediaClientConfig\", /*#__PURE__*/function () {\n      var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_10___default.a.mark(function _callee(props) {\n        var mediaProvider, viewMediaClientConfig;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_10___default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return props.mediaProvider;\n              case 2:\n                mediaProvider = _context.sent;\n                if (mediaProvider) {\n                  viewMediaClientConfig = mediaProvider.viewMediaClientConfig;\n                  _this.setState({\n                    viewMediaClientConfig: viewMediaClientConfig\n                  });\n                }\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), \"updateMediaNodeAttributes\", /*#__PURE__*/function () {\n      var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_10___default.a.mark(function _callee2(props) {\n        var mediaNodeUpdater, addPendingTask, node, updatedDimensions, updatingNode, contextId, hasDifferentContextId, copyNode;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_10___default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                mediaNodeUpdater = _this.createMediaNodeUpdater(props);\n                addPendingTask = _this.props.mediaPluginState.addPendingTask; // we want the first child of MediaSingle (type \"media\")\n                node = _this.props.node.firstChild;\n                if (node) {\n                  _context2.next = 5;\n                  break;\n                }\n                return _context2.abrupt(\"return\");\n              case 5:\n                _context2.next = 7;\n                return mediaNodeUpdater.getRemoteDimensions();\n              case 7:\n                updatedDimensions = _context2.sent;\n                if (updatedDimensions) {\n                  mediaNodeUpdater.updateDimensions(updatedDimensions);\n                }\n                if (!(node.attrs.type === 'external' && node.attrs.__external)) {\n                  _context2.next = 15;\n                  break;\n                }\n                updatingNode = mediaNodeUpdater.handleExternalMedia(_this.props.getPos);\n                addPendingTask(updatingNode);\n                _context2.next = 14;\n                return updatingNode;\n              case 14:\n                return _context2.abrupt(\"return\");\n              case 15:\n                contextId = mediaNodeUpdater.getNodeContextId();\n                if (contextId) {\n                  _context2.next = 19;\n                  break;\n                }\n                _context2.next = 19;\n                return mediaNodeUpdater.updateContextId();\n              case 19:\n                _context2.next = 21;\n                return mediaNodeUpdater.hasDifferentContextId();\n              case 21:\n                hasDifferentContextId = _context2.sent;\n                if (!hasDifferentContextId) {\n                  _context2.next = 34;\n                  break;\n                }\n                _this.setState({\n                  isCopying: true\n                });\n                _context2.prev = 24;\n                copyNode = mediaNodeUpdater.copyNode();\n                addPendingTask(copyNode);\n                _context2.next = 29;\n                return copyNode;\n              case 29:\n                _context2.next = 34;\n                break;\n              case 31:\n                _context2.prev = 31;\n                _context2.t0 = _context2[\"catch\"](24);\n                // if copyNode fails, let's set isCopying false so we can show the eventual error\n                _this.setState({\n                  isCopying: false\n                });\n              case 34:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, null, [[24, 31]]);\n      }));\n      return function (_x2) {\n        return _ref2.apply(this, arguments);\n      };\n    }());\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), \"selectMediaSingle\", function (_ref3) {\n      var event = _ref3.event;\n      // We need to call \"stopPropagation\" here in order to prevent the browser from navigating to\n      // another URL if the media node is wrapped in a link mark.\n      event.stopPropagation();\n      var propPos = _this.props.getPos();\n      var state = _this.props.view.state;\n      if (event.shiftKey) {\n        // don't select text if there is current selection in a table (as this would override selected cells)\n        if (state.selection instanceof _atlaskit_editor_tables_cell_selection__WEBPACK_IMPORTED_MODULE_23__[\"CellSelection\"]) {\n          return;\n        }\n        Object(_atlaskit_editor_core_utils__WEBPACK_IMPORTED_MODULE_17__[\"setTextSelection\"])(_this.props.view, state.selection.from < propPos ? state.selection.from : propPos,\n        // + 3 needed for offset of the media inside mediaSingle and cursor to make whole mediaSingle selected\n        state.selection.to > propPos ? state.selection.to : propPos + 3);\n      } else {\n        Object(_atlaskit_editor_core_utils__WEBPACK_IMPORTED_MODULE_17__[\"setNodeSelection\"])(_this.props.view, propPos);\n      }\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), \"updateSize\", function (width, layout) {\n      var _this$props$view = _this.props.view,\n        state = _this$props$view.state,\n        dispatch = _this$props$view.dispatch;\n      var pos = _this.props.getPos();\n      if (typeof pos === 'undefined') {\n        return;\n      }\n      var tr = state.tr.setNodeMarkup(pos, undefined, _objectSpread(_objectSpread({}, _this.props.node.attrs), {}, {\n        layout: layout,\n        width: width\n      }));\n      tr.setMeta('scrollIntoView', false);\n      return dispatch(tr);\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), \"forwardInnerRef\", function (elem) {\n      _this.props.forwardRef(elem);\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), \"getLineLength\", function (view, pos) {\n      if (Object(_atlaskit_editor_core_utils_rich_media_utils__WEBPACK_IMPORTED_MODULE_25__[\"isRichMediaInsideOfBlockNode\"])(view, pos)) {\n        var $pos = view.state.doc.resolve(pos);\n        var domNode = view.nodeDOM($pos.pos);\n        if ($pos.nodeAfter && _atlaskit_editor_core_utils_rich_media_utils__WEBPACK_IMPORTED_MODULE_25__[\"floatingLayouts\"].indexOf($pos.nodeAfter.attrs.layout) > -1 && domNode && domNode.parentElement) {\n          return domNode.parentElement.offsetWidth;\n        }\n        if (domNode instanceof HTMLElement) {\n          return domNode.offsetWidth;\n        }\n      }\n      return null;\n    });\n    return _this;\n  }\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default()(MediaSingleNode, [{\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps(nextProps) {\n      if (nextProps.mediaProvider !== this.props.mediaProvider) {\n        this.setViewMediaClientConfig(nextProps);\n      }\n\n      // Forced updates not required on mobile\n      if (nextProps.isCopyPasteEnabled === false) {\n        return;\n      }\n\n      // We need to call this method on any prop change since attrs can get removed with collab editing\n      // the method internally checks if we already have all attrs\n      this.createMediaNodeUpdater(nextProps).updateFileAttrs();\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_10___default.a.mark(function _callee3() {\n        var contextIdentifierProvider;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_10___default.a.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                contextIdentifierProvider = this.props.contextIdentifierProvider;\n                _context3.next = 3;\n                return Promise.all([this.setViewMediaClientConfig(this.props), this.updateMediaNodeAttributes(this.props)]);\n              case 3:\n                _context3.t0 = this;\n                _context3.next = 6;\n                return contextIdentifierProvider;\n              case 6:\n                _context3.t1 = _context3.sent;\n                _context3.t2 = {\n                  contextIdentifierProvider: _context3.t1\n                };\n                _context3.t0.setState.call(_context3.t0, _context3.t2);\n                //  If we're not in a Firefox context, this will not throw but return undefined\n                // This patch is necessary or images can disappear when dropping them on paragraphs\n                Object(lib_patches_firefox_drag__WEBPACK_IMPORTED_MODULE_26__[\"initFirefoxDrag\"])(Object(lib_patches_firefox_drag__WEBPACK_IMPORTED_MODULE_26__[\"firefoxElement\"])());\n              case 10:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n      return componentDidMount;\n    }()\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      // Good memory management requires that we opt for removing the Firefox listeners when unmounting\n      Object(lib_patches_firefox_drag__WEBPACK_IMPORTED_MODULE_26__[\"removeFirefoxDrag\"])(Object(lib_patches_firefox_drag__WEBPACK_IMPORTED_MODULE_26__[\"firefoxElement\"])());\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n        selected = _this$props.selected,\n        getPos = _this$props.getPos,\n        node = _this$props.node,\n        mediaOptions = _this$props.mediaOptions,\n        fullWidthMode = _this$props.fullWidthMode,\n        state = _this$props.view.state,\n        view = _this$props.view;\n      var _node$attrs = node.attrs,\n        layout = _node$attrs.layout,\n        mediaSingleWidth = _node$attrs.width;\n      var childNode = node.firstChild;\n      var attrs = childNode.attrs;\n      var width = attrs.width,\n        height = attrs.height;\n      if (!width || !height) {\n        width = constants_media__WEBPACK_IMPORTED_MODULE_27__[\"DEFAULT_IMAGE_WIDTH\"];\n        height = constants_media__WEBPACK_IMPORTED_MODULE_27__[\"DEFAULT_IMAGE_HEIGHT\"];\n      }\n      var mediaSingleProps = {\n        layout: layout,\n        width: width,\n        height: height,\n        containerWidth: this.props.width,\n        lineLength: this.props.lineLength || constants_media__WEBPACK_IMPORTED_MODULE_27__[\"DEFAULT_LINE_LENGTH\"],\n        pctWidth: mediaSingleWidth || constants_media__WEBPACK_IMPORTED_MODULE_27__[\"DEFAULT_PCT_WIDTH\"],\n        fullWidthMode: fullWidthMode\n      };\n      var MediaChild = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_styles__WEBPACK_IMPORTED_MODULE_24__[\"FigureWrapper\"], {\n        innerRef: this.forwardInnerRef\n      });\n      var canResize = !!this.props.mediaOptions.allowResizing;\n      if (!this.props.mediaOptions.allowResizingInTables) {\n        // If resizing not allowed in tables, check parents for tables\n        var pos = getPos();\n        if (pos) {\n          var $pos = state.doc.resolve(pos);\n          var table = state.schema.nodes.table;\n          var disabledNode = !!Object(prosemirror_utils__WEBPACK_IMPORTED_MODULE_22__[\"findParentNodeOfTypeClosestToPos\"])($pos, [table]);\n          canResize = canResize && !disabledNode;\n        }\n      }\n      var lineLength = this.getLineLength(view, getPos()) || mediaSingleProps.lineLength;\n      return canResize ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_ui_ResizableMediaSingle__WEBPACK_IMPORTED_MODULE_18__[\"default\"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1___default()({}, mediaSingleProps, {\n        lineLength: lineLength,\n        view: this.props.view,\n        getPos: getPos,\n        updateSize: this.updateSize,\n        displayGrid: Object(_atlaskit_editor_core_plugins_grid__WEBPACK_IMPORTED_MODULE_19__[\"createDisplayGrid\"])(this.props.eventDispatcher),\n        gridSize: 12,\n        viewMediaClientConfig: this.state.viewMediaClientConfig,\n        allowBreakoutSnapPoints: mediaOptions && mediaOptions.allowBreakoutSnapPoints,\n        selected: selected(),\n        dispatchAnalyticsEvent: this.props.dispatchAnalyticsEvent\n      }), MediaChild) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_atlaskit_editor_common__WEBPACK_IMPORTED_MODULE_12__[\"MediaSingle\"], mediaSingleProps, MediaChild);\n    }\n  }]);\n  return MediaSingleNode;\n}(react__WEBPACK_IMPORTED_MODULE_11__[\"Component\"]);\n_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(MediaSingleNode, \"defaultProps\", {\n  mediaOptions: {}\n});\n_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(MediaSingleNode, \"displayName\", 'MediaSingleNode');\n\nvar MediaSingleNodeView = /*#__PURE__*/function (_ReactNodeView) {\n  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default()(MediaSingleNodeView, _ReactNodeView);\n  var _super2 = _createSuper(MediaSingleNodeView);\n  function MediaSingleNodeView() {\n    var _this2;\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3___default()(this, MediaSingleNodeView);\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n    _this2 = _super2.call.apply(_super2, [this].concat(args));\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this2), \"lastOffsetLeft\", 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this2), \"forceViewUpdate\", false);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this2), \"selectionType\", null);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this2), \"checkAndUpdateSelectionType\", function () {\n      var getPos = _this2.getPos;\n      var selection = _this2.view.state.selection;\n      var isNodeSelected = Object(_atlaskit_editor_core_utils_nodes__WEBPACK_IMPORTED_MODULE_13__[\"isNodeSelectedOrInRange\"])(selection.$anchor.pos, selection.$head.pos, getPos(), _this2.node.nodeSize);\n      _this2.selectionType = isNodeSelected;\n      return isNodeSelected;\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this2), \"isNodeSelected\", function () {\n      _this2.checkAndUpdateSelectionType();\n      return _this2.selectionType !== null;\n    });\n    return _this2;\n  }\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default()(MediaSingleNodeView, [{\n    key: \"createDomRef\",\n    value: function createDomRef() {\n      var domRef = document.createElement('div');\n      if (_atlaskit_editor_common__WEBPACK_IMPORTED_MODULE_12__[\"browser\"].chrome && this.reactComponentProps.mediaOptions && this.reactComponentProps.mediaOptions.allowMediaSingleEditable) {\n        // workaround Chrome bug in https://product-fabric.atlassian.net/browse/ED-5379\n        // see also: https://github.com/ProseMirror/prosemirror/issues/884\n        domRef.contentEditable = 'true';\n      }\n      return domRef;\n    }\n  }, {\n    key: \"getContentDOM\",\n    value: function getContentDOM() {\n      var dom = document.createElement('div');\n      return {\n        dom: dom\n      };\n    }\n  }, {\n    key: \"viewShouldUpdate\",\n    value: function viewShouldUpdate(nextNode) {\n      if (this.forceViewUpdate) {\n        this.forceViewUpdate = false;\n        return true;\n      }\n      if (this.node.attrs !== nextNode.attrs) {\n        return true;\n      }\n      if (this.selectionType !== this.checkAndUpdateSelectionType()) {\n        return true;\n      }\n      return _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_0___default()(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_8___default()(MediaSingleNodeView.prototype), \"viewShouldUpdate\", this).call(this, nextNode);\n    }\n  }, {\n    key: \"getNodeMediaId\",\n    value: function getNodeMediaId(node) {\n      if (node.firstChild) {\n        return node.firstChild.attrs.id;\n      }\n      return undefined;\n    }\n  }, {\n    key: \"update\",\n    value: function update(node, decorations, isValidUpdate) {\n      var _this3 = this;\n      if (!isValidUpdate) {\n        isValidUpdate = function isValidUpdate(currentNode, newNode) {\n          return _this3.getNodeMediaId(currentNode) === _this3.getNodeMediaId(newNode);\n        };\n      }\n      return _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_0___default()(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_8___default()(MediaSingleNodeView.prototype), \"update\", this).call(this, node, decorations, isValidUpdate);\n    }\n  }, {\n    key: \"render\",\n    value: function render(props, forwardRef) {\n      var _this4 = this;\n      var _this$reactComponentP = this.reactComponentProps,\n        eventDispatcher = _this$reactComponentP.eventDispatcher,\n        fullWidthMode = _this$reactComponentP.fullWidthMode,\n        providerFactory = _this$reactComponentP.providerFactory,\n        mediaOptions = _this$reactComponentP.mediaOptions,\n        dispatchAnalyticsEvent = _this$reactComponentP.dispatchAnalyticsEvent;\n\n      // getPos is a boolean for marks, since this is a node we know it must be a function\n      var getPos = this.getPos;\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_atlaskit_editor_common__WEBPACK_IMPORTED_MODULE_12__[\"WithProviders\"], {\n        providers: ['mediaProvider', 'contextIdentifierProvider'],\n        providerFactory: providerFactory,\n        renderNode: function renderNode(_ref4) {\n          var mediaProvider = _ref4.mediaProvider,\n            contextIdentifierProvider = _ref4.contextIdentifierProvider;\n          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_atlaskit_editor_core_ui_WithPluginState__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n            editorView: _this4.view,\n            plugins: {\n              width: _atlaskit_editor_core_plugins_width__WEBPACK_IMPORTED_MODULE_16__[\"pluginKey\"],\n              mediaPluginState: _pm_plugins_main__WEBPACK_IMPORTED_MODULE_20__[\"stateKey\"]\n            },\n            render: function render(_ref5) {\n              var width = _ref5.width,\n                mediaPluginState = _ref5.mediaPluginState;\n              return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(MediaSingleNode, {\n                width: width.width,\n                lineLength: width.lineLength,\n                node: _this4.node,\n                getPos: getPos,\n                mediaProvider: mediaProvider,\n                contextIdentifierProvider: contextIdentifierProvider,\n                mediaOptions: mediaOptions,\n                view: _this4.view,\n                fullWidthMode: fullWidthMode,\n                selected: _this4.isNodeSelected,\n                eventDispatcher: eventDispatcher,\n                mediaPluginState: mediaPluginState,\n                dispatchAnalyticsEvent: dispatchAnalyticsEvent,\n                forwardRef: forwardRef\n              });\n            }\n          });\n        }\n      });\n    }\n  }, {\n    key: \"ignoreMutation\",\n    value: function ignoreMutation() {\n      // DOM has changed; recalculate if we need to re-render\n      if (this.dom) {\n        var offsetLeft = this.dom.offsetLeft;\n        if (offsetLeft !== this.lastOffsetLeft) {\n          this.lastOffsetLeft = offsetLeft;\n          this.forceViewUpdate = true;\n          this.update(this.node, [], function () {\n            return true;\n          });\n        }\n      }\n      return true;\n    }\n  }]);\n  return MediaSingleNodeView;\n}(_atlaskit_editor_core_nodeviews___WEBPACK_IMPORTED_MODULE_14__[\"ReactNodeView\"]);\nvar ReactMediaSingleNode = function ReactMediaSingleNode(portalProviderAPI, eventDispatcher, providerFactory, dispatchAnalyticsEvent) {\n  var mediaOptions = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n  return function (node, view, getPos) {\n    return new MediaSingleNodeView(node, view, getPos, portalProviderAPI, eventDispatcher, {\n      eventDispatcher: eventDispatcher,\n      fullWidthMode: mediaOptions.fullWidthEnabled,\n      providerFactory: providerFactory,\n      mediaOptions: mediaOptions,\n      dispatchAnalyticsEvent: dispatchAnalyticsEvent,\n      isCopyPasteEnabled: mediaOptions.isCopyPasteEnabled\n    }).init();\n  };\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9tZWRpYS9ub2Rldmlld3MvbWVkaWFTaW5nbGUudHN4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbnMvbWVkaWEvbm9kZXZpZXdzL21lZGlhU2luZ2xlLnRzeD85ZGI4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgTm9kZSBhcyBQTU5vZGUgfSBmcm9tICdwcm9zZW1pcnJvci1tb2RlbCdcbmltcG9ydCB7IEVkaXRvclZpZXcsIERlY29yYXRpb24gfSBmcm9tICdwcm9zZW1pcnJvci12aWV3J1xuaW1wb3J0IHtcbiAgUmljaE1lZGlhTGF5b3V0IGFzIE1lZGlhU2luZ2xlTGF5b3V0LFxuICBNZWRpYUFERkF0dHJzXG59IGZyb20gJ0BhdGxhc2tpdC9hZGYtc2NoZW1hJ1xuaW1wb3J0IHtcbiAgTWVkaWFTaW5nbGUsXG4gIFdpdGhQcm92aWRlcnMsXG4gIGJyb3dzZXIsXG4gIFByb3ZpZGVyRmFjdG9yeSxcbiAgQ29udGV4dElkZW50aWZpZXJQcm92aWRlclxufSBmcm9tICdAYXRsYXNraXQvZWRpdG9yLWNvbW1vbidcbmltcG9ydCB7IENhcmRFdmVudCB9IGZyb20gJ0BhdGxhc2tpdC9tZWRpYS1jYXJkJ1xuaW1wb3J0IHsgaXNOb2RlU2VsZWN0ZWRPckluUmFuZ2UgfSBmcm9tICdAYXRsYXNraXQvZWRpdG9yLWNvcmUvdXRpbHMvbm9kZXMnXG5pbXBvcnQgeyBNZWRpYUNsaWVudENvbmZpZyB9IGZyb20gJ0BhdGxhc2tpdC9tZWRpYS1jb3JlJ1xuXG5pbXBvcnQge1xuICBnZXRQb3NIYW5kbGVyLFxuICBnZXRQb3NIYW5kbGVyTm9kZSxcbiAgRm9yd2FyZFJlZixcbiAgUmVhY3ROb2RlVmlld1xufSBmcm9tICdAYXRsYXNraXQvZWRpdG9yLWNvcmUvbm9kZXZpZXdzLydcbmltcG9ydCBXaXRoUGx1Z2luU3RhdGUgZnJvbSAnQGF0bGFza2l0L2VkaXRvci1jb3JlL3VpL1dpdGhQbHVnaW5TdGF0ZSdcbmltcG9ydCB7IHBsdWdpbktleSBhcyB3aWR0aFBsdWdpbktleSB9IGZyb20gJ0BhdGxhc2tpdC9lZGl0b3ItY29yZS9wbHVnaW5zL3dpZHRoJ1xuaW1wb3J0IHsgc2V0Tm9kZVNlbGVjdGlvbiwgc2V0VGV4dFNlbGVjdGlvbiB9IGZyb20gJ0BhdGxhc2tpdC9lZGl0b3ItY29yZS91dGlscydcbmltcG9ydCBSZXNpemFibGVNZWRpYVNpbmdsZSBmcm9tICcuLi91aS9SZXNpemFibGVNZWRpYVNpbmdsZSdcbmltcG9ydCB7IGNyZWF0ZURpc3BsYXlHcmlkIH0gZnJvbSAnQGF0bGFza2l0L2VkaXRvci1jb3JlL3BsdWdpbnMvZ3JpZCdcbmltcG9ydCB7IEV2ZW50RGlzcGF0Y2hlciB9IGZyb20gJ0BhdGxhc2tpdC9lZGl0b3ItY29yZS9ldmVudC1kaXNwYXRjaGVyJ1xuaW1wb3J0IHsgUG9ydGFsUHJvdmlkZXJBUEkgfSBmcm9tICdAYXRsYXNraXQvZWRpdG9yLWNvcmUvdWkvUG9ydGFsUHJvdmlkZXInXG5pbXBvcnQgeyBNZWRpYU9wdGlvbnMgfSBmcm9tICcuLi90eXBlcydcbmltcG9ydCB7IHN0YXRlS2V5IGFzIG1lZGlhUGx1Z2luS2V5IH0gZnJvbSAnLi4vcG0tcGx1Z2lucy9tYWluJ1xuaW1wb3J0IHsgTWVkaWFTaW5nbGVOb2RlUHJvcHMsIE1lZGlhU2luZ2xlTm9kZVZpZXdQcm9wcyB9IGZyb20gJy4vdHlwZXMnXG5pbXBvcnQgeyBNZWRpYU5vZGVVcGRhdGVyIH0gZnJvbSAnLi9tZWRpYU5vZGVVcGRhdGVyJ1xuaW1wb3J0IHsgRGlzcGF0Y2hBbmFseXRpY3NFdmVudCB9IGZyb20gJ0BhdGxhc2tpdC9lZGl0b3ItY29yZS9wbHVnaW5zL2FuYWx5dGljcydcbmltcG9ydCB7IGZpbmRQYXJlbnROb2RlT2ZUeXBlQ2xvc2VzdFRvUG9zIH0gZnJvbSAncHJvc2VtaXJyb3ItdXRpbHMnXG5pbXBvcnQgeyBDZWxsU2VsZWN0aW9uIH0gZnJvbSAnQGF0bGFza2l0L2VkaXRvci10YWJsZXMvY2VsbC1zZWxlY3Rpb24nXG5pbXBvcnQgeyBGaWd1cmVXcmFwcGVyIH0gZnJvbSAnLi9zdHlsZXMnXG5pbXBvcnQge1xuICBmbG9hdGluZ0xheW91dHMsXG4gIGlzUmljaE1lZGlhSW5zaWRlT2ZCbG9ja05vZGVcbn0gZnJvbSAnQGF0bGFza2l0L2VkaXRvci1jb3JlL3V0aWxzL3JpY2gtbWVkaWEtdXRpbHMnXG5pbXBvcnQge1xuICBmaXJlZm94RWxlbWVudCxcbiAgaW5pdEZpcmVmb3hEcmFnLFxuICByZW1vdmVGaXJlZm94RHJhZ1xufSBmcm9tICdsaWIvcGF0Y2hlcy9maXJlZm94LWRyYWcnXG5pbXBvcnQge1xuICBERUZBVUxUX0lNQUdFX0hFSUdIVCxcbiAgREVGQVVMVF9JTUFHRV9XSURUSCxcbiAgREVGQVVMVF9MSU5FX0xFTkdUSCxcbiAgREVGQVVMVF9QQ1RfV0lEVEhcbn0gZnJvbSAnY29uc3RhbnRzL21lZGlhJ1xuXG5leHBvcnQgaW50ZXJmYWNlIE1lZGlhU2luZ2xlTm9kZVN0YXRlIHtcbiAgd2lkdGg/OiBudW1iZXJcbiAgaGVpZ2h0PzogbnVtYmVyXG4gIHZpZXdNZWRpYUNsaWVudENvbmZpZz86IE1lZGlhQ2xpZW50Q29uZmlnXG4gIGNvbnRleHRJZGVudGlmaWVyUHJvdmlkZXI/OiBDb250ZXh0SWRlbnRpZmllclByb3ZpZGVyXG4gIGlzQ29weWluZzogYm9vbGVhblxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNZWRpYVNpbmdsZU5vZGUgZXh0ZW5kcyBDb21wb25lbnQ8XG4gIE1lZGlhU2luZ2xlTm9kZVByb3BzLFxuICBNZWRpYVNpbmdsZU5vZGVTdGF0ZVxuPiB7XG4gIHN0YXRpYyBkZWZhdWx0UHJvcHM6IFBhcnRpYWw8TWVkaWFTaW5nbGVOb2RlUHJvcHM+ID0ge1xuICAgIG1lZGlhT3B0aW9uczoge31cbiAgfVxuICBzdGF0aWMgZGlzcGxheU5hbWUgPSAnTWVkaWFTaW5nbGVOb2RlJ1xuXG4gIHN0YXRlOiBNZWRpYVNpbmdsZU5vZGVTdGF0ZSA9IHtcbiAgICB3aWR0aDogdW5kZWZpbmVkLFxuICAgIGhlaWdodDogdW5kZWZpbmVkLFxuICAgIHZpZXdNZWRpYUNsaWVudENvbmZpZzogdW5kZWZpbmVkLFxuICAgIGlzQ29weWluZzogZmFsc2VcbiAgfVxuXG4gIGNyZWF0ZU1lZGlhTm9kZVVwZGF0ZXIgPSAocHJvcHM6IE1lZGlhU2luZ2xlTm9kZVByb3BzKTogTWVkaWFOb2RlVXBkYXRlciA9PiB7XG4gICAgY29uc3Qgbm9kZSA9IHRoaXMucHJvcHMubm9kZS5maXJzdENoaWxkXG5cbiAgICByZXR1cm4gbmV3IE1lZGlhTm9kZVVwZGF0ZXIoe1xuICAgICAgLi4ucHJvcHMsXG4gICAgICBpc01lZGlhU2luZ2xlOiB0cnVlLFxuICAgICAgbm9kZTogbm9kZSA/IChub2RlIGFzIFBNTm9kZSkgOiB0aGlzLnByb3BzLm5vZGUsXG4gICAgICBkaXNwYXRjaEFuYWx5dGljc0V2ZW50OiB0aGlzLnByb3BzLmRpc3BhdGNoQW5hbHl0aWNzRXZlbnRcbiAgICB9KVxuICB9XG5cbiAgVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzOiBNZWRpYVNpbmdsZU5vZGVQcm9wcykge1xuICAgIGlmIChuZXh0UHJvcHMubWVkaWFQcm92aWRlciAhPT0gdGhpcy5wcm9wcy5tZWRpYVByb3ZpZGVyKSB7XG4gICAgICB0aGlzLnNldFZpZXdNZWRpYUNsaWVudENvbmZpZyhuZXh0UHJvcHMpXG4gICAgfVxuXG4gICAgLy8gRm9yY2VkIHVwZGF0ZXMgbm90IHJlcXVpcmVkIG9uIG1vYmlsZVxuICAgIGlmIChuZXh0UHJvcHMuaXNDb3B5UGFzdGVFbmFibGVkID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgLy8gV2UgbmVlZCB0byBjYWxsIHRoaXMgbWV0aG9kIG9uIGFueSBwcm9wIGNoYW5nZSBzaW5jZSBhdHRycyBjYW4gZ2V0IHJlbW92ZWQgd2l0aCBjb2xsYWIgZWRpdGluZ1xuICAgIC8vIHRoZSBtZXRob2QgaW50ZXJuYWxseSBjaGVja3MgaWYgd2UgYWxyZWFkeSBoYXZlIGFsbCBhdHRyc1xuICAgIHRoaXMuY3JlYXRlTWVkaWFOb2RlVXBkYXRlcihuZXh0UHJvcHMpLnVwZGF0ZUZpbGVBdHRycygpXG4gIH1cblxuICBzZXRWaWV3TWVkaWFDbGllbnRDb25maWcgPSBhc3luYyAocHJvcHM6IE1lZGlhU2luZ2xlTm9kZVByb3BzKSA9PiB7XG4gICAgY29uc3QgbWVkaWFQcm92aWRlciA9IGF3YWl0IHByb3BzLm1lZGlhUHJvdmlkZXJcbiAgICBpZiAobWVkaWFQcm92aWRlcikge1xuICAgICAgY29uc3Qgdmlld01lZGlhQ2xpZW50Q29uZmlnID0gbWVkaWFQcm92aWRlci52aWV3TWVkaWFDbGllbnRDb25maWdcblxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHZpZXdNZWRpYUNsaWVudENvbmZpZ1xuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICB1cGRhdGVNZWRpYU5vZGVBdHRyaWJ1dGVzID0gYXN5bmMgKHByb3BzOiBNZWRpYVNpbmdsZU5vZGVQcm9wcykgPT4ge1xuICAgIGNvbnN0IG1lZGlhTm9kZVVwZGF0ZXIgPSB0aGlzLmNyZWF0ZU1lZGlhTm9kZVVwZGF0ZXIocHJvcHMpXG4gICAgY29uc3QgeyBhZGRQZW5kaW5nVGFzayB9ID0gdGhpcy5wcm9wcy5tZWRpYVBsdWdpblN0YXRlXG5cbiAgICAvLyB3ZSB3YW50IHRoZSBmaXJzdCBjaGlsZCBvZiBNZWRpYVNpbmdsZSAodHlwZSBcIm1lZGlhXCIpXG4gICAgY29uc3Qgbm9kZSA9IHRoaXMucHJvcHMubm9kZS5maXJzdENoaWxkXG4gICAgaWYgKCFub2RlKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBjb25zdCB1cGRhdGVkRGltZW5zaW9ucyA9IGF3YWl0IG1lZGlhTm9kZVVwZGF0ZXIuZ2V0UmVtb3RlRGltZW5zaW9ucygpXG4gICAgaWYgKHVwZGF0ZWREaW1lbnNpb25zKSB7XG4gICAgICBtZWRpYU5vZGVVcGRhdGVyLnVwZGF0ZURpbWVuc2lvbnModXBkYXRlZERpbWVuc2lvbnMpXG4gICAgfVxuXG4gICAgaWYgKG5vZGUuYXR0cnMudHlwZSA9PT0gJ2V4dGVybmFsJyAmJiBub2RlLmF0dHJzLl9fZXh0ZXJuYWwpIHtcbiAgICAgIGNvbnN0IHVwZGF0aW5nTm9kZSA9IG1lZGlhTm9kZVVwZGF0ZXIuaGFuZGxlRXh0ZXJuYWxNZWRpYShcbiAgICAgICAgdGhpcy5wcm9wcy5nZXRQb3NcbiAgICAgIClcbiAgICAgIGFkZFBlbmRpbmdUYXNrKHVwZGF0aW5nTm9kZSlcbiAgICAgIGF3YWl0IHVwZGF0aW5nTm9kZVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgY29uc3QgY29udGV4dElkID0gbWVkaWFOb2RlVXBkYXRlci5nZXROb2RlQ29udGV4dElkKClcbiAgICBpZiAoIWNvbnRleHRJZCkge1xuICAgICAgYXdhaXQgbWVkaWFOb2RlVXBkYXRlci51cGRhdGVDb250ZXh0SWQoKVxuICAgIH1cblxuICAgIGNvbnN0IGhhc0RpZmZlcmVudENvbnRleHRJZCA9IGF3YWl0IG1lZGlhTm9kZVVwZGF0ZXIuaGFzRGlmZmVyZW50Q29udGV4dElkKClcblxuICAgIGlmIChoYXNEaWZmZXJlbnRDb250ZXh0SWQpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc0NvcHlpbmc6IHRydWUgfSlcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGNvcHlOb2RlID0gbWVkaWFOb2RlVXBkYXRlci5jb3B5Tm9kZSgpXG4gICAgICAgIGFkZFBlbmRpbmdUYXNrKGNvcHlOb2RlKVxuICAgICAgICBhd2FpdCBjb3B5Tm9kZVxuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBpZiBjb3B5Tm9kZSBmYWlscywgbGV0J3Mgc2V0IGlzQ29weWluZyBmYWxzZSBzbyB3ZSBjYW4gc2hvdyB0aGUgZXZlbnR1YWwgZXJyb3JcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzQ29weWluZzogZmFsc2UgfSlcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBhc3luYyBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBjb25zdCB7IGNvbnRleHRJZGVudGlmaWVyUHJvdmlkZXIgfSA9IHRoaXMucHJvcHNcblxuICAgIGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgIHRoaXMuc2V0Vmlld01lZGlhQ2xpZW50Q29uZmlnKHRoaXMucHJvcHMpLFxuICAgICAgdGhpcy51cGRhdGVNZWRpYU5vZGVBdHRyaWJ1dGVzKHRoaXMucHJvcHMpXG4gICAgXSlcblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgY29udGV4dElkZW50aWZpZXJQcm92aWRlcjogYXdhaXQgY29udGV4dElkZW50aWZpZXJQcm92aWRlclxuICAgIH0pXG5cbiAgICAvLyDinZcgSWYgd2UncmUgbm90IGluIGEgRmlyZWZveCBjb250ZXh0LCB0aGlzIHdpbGwgbm90IHRocm93IGJ1dCByZXR1cm4gdW5kZWZpbmVkXG4gICAgLy8gVGhpcyBwYXRjaCBpcyBuZWNlc3Nhcnkgb3IgaW1hZ2VzIGNhbiBkaXNhcHBlYXIgd2hlbiBkcm9wcGluZyB0aGVtIG9uIHBhcmFncmFwaHNcbiAgICBpbml0RmlyZWZveERyYWcoZmlyZWZveEVsZW1lbnQoKSlcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIC8vIEdvb2QgbWVtb3J5IG1hbmFnZW1lbnQgcmVxdWlyZXMgdGhhdCB3ZSBvcHQgZm9yIHJlbW92aW5nIHRoZSBGaXJlZm94IGxpc3RlbmVycyB3aGVuIHVubW91bnRpbmdcbiAgICByZW1vdmVGaXJlZm94RHJhZyhmaXJlZm94RWxlbWVudCgpKVxuICB9XG5cbiAgc2VsZWN0TWVkaWFTaW5nbGUgPSAoeyBldmVudCB9OiBDYXJkRXZlbnQpID0+IHtcbiAgICAvLyBXZSBuZWVkIHRvIGNhbGwgXCJzdG9wUHJvcGFnYXRpb25cIiBoZXJlIGluIG9yZGVyIHRvIHByZXZlbnQgdGhlIGJyb3dzZXIgZnJvbSBuYXZpZ2F0aW5nIHRvXG4gICAgLy8gYW5vdGhlciBVUkwgaWYgdGhlIG1lZGlhIG5vZGUgaXMgd3JhcHBlZCBpbiBhIGxpbmsgbWFyay5cbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKVxuXG4gICAgY29uc3QgcHJvcFBvcyA9IHRoaXMucHJvcHMuZ2V0UG9zKClcbiAgICBjb25zdCB7IHN0YXRlIH0gPSB0aGlzLnByb3BzLnZpZXdcblxuICAgIGlmIChldmVudC5zaGlmdEtleSkge1xuICAgICAgLy8gZG9uJ3Qgc2VsZWN0IHRleHQgaWYgdGhlcmUgaXMgY3VycmVudCBzZWxlY3Rpb24gaW4gYSB0YWJsZSAoYXMgdGhpcyB3b3VsZCBvdmVycmlkZSBzZWxlY3RlZCBjZWxscylcbiAgICAgIGlmIChzdGF0ZS5zZWxlY3Rpb24gaW5zdGFuY2VvZiBDZWxsU2VsZWN0aW9uKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICBzZXRUZXh0U2VsZWN0aW9uKFxuICAgICAgICB0aGlzLnByb3BzLnZpZXcsXG4gICAgICAgIHN0YXRlLnNlbGVjdGlvbi5mcm9tIDwgcHJvcFBvcyA/IHN0YXRlLnNlbGVjdGlvbi5mcm9tIDogcHJvcFBvcyxcbiAgICAgICAgLy8gKyAzIG5lZWRlZCBmb3Igb2Zmc2V0IG9mIHRoZSBtZWRpYSBpbnNpZGUgbWVkaWFTaW5nbGUgYW5kIGN1cnNvciB0byBtYWtlIHdob2xlIG1lZGlhU2luZ2xlIHNlbGVjdGVkXG4gICAgICAgIHN0YXRlLnNlbGVjdGlvbi50byA+IHByb3BQb3MgPyBzdGF0ZS5zZWxlY3Rpb24udG8gOiBwcm9wUG9zICsgM1xuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICBzZXROb2RlU2VsZWN0aW9uKHRoaXMucHJvcHMudmlldywgcHJvcFBvcylcbiAgICB9XG4gIH1cblxuICB1cGRhdGVTaXplID0gKHdpZHRoOiBudW1iZXIgfCBudWxsLCBsYXlvdXQ6IE1lZGlhU2luZ2xlTGF5b3V0KSA9PiB7XG4gICAgY29uc3QgeyBzdGF0ZSwgZGlzcGF0Y2ggfSA9IHRoaXMucHJvcHMudmlld1xuICAgIGNvbnN0IHBvcyA9IHRoaXMucHJvcHMuZ2V0UG9zKClcbiAgICBpZiAodHlwZW9mIHBvcyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBjb25zdCB0ciA9IHN0YXRlLnRyLnNldE5vZGVNYXJrdXAocG9zLCB1bmRlZmluZWQsIHtcbiAgICAgIC4uLnRoaXMucHJvcHMubm9kZS5hdHRycyxcbiAgICAgIGxheW91dCxcbiAgICAgIHdpZHRoXG4gICAgfSlcbiAgICB0ci5zZXRNZXRhKCdzY3JvbGxJbnRvVmlldycsIGZhbHNlKVxuICAgIHJldHVybiBkaXNwYXRjaCh0cilcbiAgfVxuXG4gIGZvcndhcmRJbm5lclJlZiA9IChlbGVtOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgIHRoaXMucHJvcHMuZm9yd2FyZFJlZihlbGVtKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIHNlbGVjdGVkLFxuICAgICAgZ2V0UG9zLFxuICAgICAgbm9kZSxcbiAgICAgIG1lZGlhT3B0aW9ucyxcbiAgICAgIGZ1bGxXaWR0aE1vZGUsXG4gICAgICB2aWV3OiB7IHN0YXRlIH0sXG4gICAgICB2aWV3XG4gICAgfSA9IHRoaXMucHJvcHNcblxuICAgIGNvbnN0IHsgbGF5b3V0LCB3aWR0aDogbWVkaWFTaW5nbGVXaWR0aCB9ID0gbm9kZS5hdHRyc1xuICAgIGNvbnN0IGNoaWxkTm9kZSA9IG5vZGUuZmlyc3RDaGlsZCFcbiAgICBjb25zdCBhdHRycyA9IGNoaWxkTm9kZS5hdHRycyBhcyBNZWRpYUFERkF0dHJzXG4gICAgbGV0IHsgd2lkdGgsIGhlaWdodCB9ID0gYXR0cnNcblxuICAgIGlmICghd2lkdGggfHwgIWhlaWdodCkge1xuICAgICAgd2lkdGggPSBERUZBVUxUX0lNQUdFX1dJRFRIXG4gICAgICBoZWlnaHQgPSBERUZBVUxUX0lNQUdFX0hFSUdIVFxuICAgIH1cblxuICAgIGNvbnN0IG1lZGlhU2luZ2xlUHJvcHMgPSB7XG4gICAgICBsYXlvdXQsXG4gICAgICB3aWR0aCxcbiAgICAgIGhlaWdodCxcbiAgICAgIGNvbnRhaW5lcldpZHRoOiB0aGlzLnByb3BzLndpZHRoLFxuICAgICAgbGluZUxlbmd0aDogdGhpcy5wcm9wcy5saW5lTGVuZ3RoIHx8IERFRkFVTFRfTElORV9MRU5HVEgsXG4gICAgICBwY3RXaWR0aDogbWVkaWFTaW5nbGVXaWR0aCB8fCBERUZBVUxUX1BDVF9XSURUSCxcbiAgICAgIGZ1bGxXaWR0aE1vZGVcbiAgICB9XG5cbiAgICBjb25zdCBNZWRpYUNoaWxkID0gPEZpZ3VyZVdyYXBwZXIgaW5uZXJSZWY9e3RoaXMuZm9yd2FyZElubmVyUmVmfSAvPlxuXG4gICAgbGV0IGNhblJlc2l6ZSA9ICEhdGhpcy5wcm9wcy5tZWRpYU9wdGlvbnMuYWxsb3dSZXNpemluZ1xuXG4gICAgaWYgKCF0aGlzLnByb3BzLm1lZGlhT3B0aW9ucy5hbGxvd1Jlc2l6aW5nSW5UYWJsZXMpIHtcbiAgICAgIC8vIElmIHJlc2l6aW5nIG5vdCBhbGxvd2VkIGluIHRhYmxlcywgY2hlY2sgcGFyZW50cyBmb3IgdGFibGVzXG4gICAgICBjb25zdCBwb3MgPSBnZXRQb3MoKVxuICAgICAgaWYgKHBvcykge1xuICAgICAgICBjb25zdCAkcG9zID0gc3RhdGUuZG9jLnJlc29sdmUocG9zKVxuICAgICAgICBjb25zdCB7IHRhYmxlIH0gPSBzdGF0ZS5zY2hlbWEubm9kZXNcbiAgICAgICAgY29uc3QgZGlzYWJsZWROb2RlID0gISFmaW5kUGFyZW50Tm9kZU9mVHlwZUNsb3Nlc3RUb1BvcygkcG9zLCBbdGFibGVdKVxuICAgICAgICBjYW5SZXNpemUgPSBjYW5SZXNpemUgJiYgIWRpc2FibGVkTm9kZVxuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGxpbmVMZW5ndGggPVxuICAgICAgdGhpcy5nZXRMaW5lTGVuZ3RoKHZpZXcsIGdldFBvcygpKSB8fCBtZWRpYVNpbmdsZVByb3BzLmxpbmVMZW5ndGhcblxuICAgIHJldHVybiBjYW5SZXNpemUgPyAoXG4gICAgICA8UmVzaXphYmxlTWVkaWFTaW5nbGVcbiAgICAgICAgey4uLm1lZGlhU2luZ2xlUHJvcHN9XG4gICAgICAgIGxpbmVMZW5ndGg9e2xpbmVMZW5ndGh9XG4gICAgICAgIHZpZXc9e3RoaXMucHJvcHMudmlld31cbiAgICAgICAgZ2V0UG9zPXtnZXRQb3N9XG4gICAgICAgIHVwZGF0ZVNpemU9e3RoaXMudXBkYXRlU2l6ZX1cbiAgICAgICAgZGlzcGxheUdyaWQ9e2NyZWF0ZURpc3BsYXlHcmlkKHRoaXMucHJvcHMuZXZlbnREaXNwYXRjaGVyKX1cbiAgICAgICAgZ3JpZFNpemU9ezEyfVxuICAgICAgICB2aWV3TWVkaWFDbGllbnRDb25maWc9e3RoaXMuc3RhdGUudmlld01lZGlhQ2xpZW50Q29uZmlnfVxuICAgICAgICBhbGxvd0JyZWFrb3V0U25hcFBvaW50cz17XG4gICAgICAgICAgbWVkaWFPcHRpb25zICYmIG1lZGlhT3B0aW9ucy5hbGxvd0JyZWFrb3V0U25hcFBvaW50c1xuICAgICAgICB9XG4gICAgICAgIHNlbGVjdGVkPXtzZWxlY3RlZCgpfVxuICAgICAgICBkaXNwYXRjaEFuYWx5dGljc0V2ZW50PXt0aGlzLnByb3BzLmRpc3BhdGNoQW5hbHl0aWNzRXZlbnR9XG4gICAgICA+XG4gICAgICAgIHtNZWRpYUNoaWxkfVxuICAgICAgPC9SZXNpemFibGVNZWRpYVNpbmdsZT5cbiAgICApIDogKFxuICAgICAgPE1lZGlhU2luZ2xlIHsuLi5tZWRpYVNpbmdsZVByb3BzfT57TWVkaWFDaGlsZH08L01lZGlhU2luZ2xlPlxuICAgIClcbiAgfVxuXG4gIHByaXZhdGUgZ2V0TGluZUxlbmd0aCA9ICh2aWV3OiBFZGl0b3JWaWV3LCBwb3M6IG51bWJlcik6IG51bWJlciB8IG51bGwgPT4ge1xuICAgIGlmIChpc1JpY2hNZWRpYUluc2lkZU9mQmxvY2tOb2RlKHZpZXcsIHBvcykpIHtcbiAgICAgIGNvbnN0ICRwb3MgPSB2aWV3LnN0YXRlLmRvYy5yZXNvbHZlKHBvcylcbiAgICAgIGNvbnN0IGRvbU5vZGUgPSB2aWV3Lm5vZGVET00oJHBvcy5wb3MpXG5cbiAgICAgIGlmIChcbiAgICAgICAgJHBvcy5ub2RlQWZ0ZXIgJiZcbiAgICAgICAgZmxvYXRpbmdMYXlvdXRzLmluZGV4T2YoJHBvcy5ub2RlQWZ0ZXIuYXR0cnMubGF5b3V0KSA+IC0xICYmXG4gICAgICAgIGRvbU5vZGUgJiZcbiAgICAgICAgZG9tTm9kZS5wYXJlbnRFbGVtZW50XG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIGRvbU5vZGUucGFyZW50RWxlbWVudC5vZmZzZXRXaWR0aFxuICAgICAgfVxuXG4gICAgICBpZiAoZG9tTm9kZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICAgIHJldHVybiBkb21Ob2RlLm9mZnNldFdpZHRoXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGxcbiAgfVxufVxuXG5jbGFzcyBNZWRpYVNpbmdsZU5vZGVWaWV3IGV4dGVuZHMgUmVhY3ROb2RlVmlldzxNZWRpYVNpbmdsZU5vZGVWaWV3UHJvcHM+IHtcbiAgbGFzdE9mZnNldExlZnQgPSAwXG4gIGZvcmNlVmlld1VwZGF0ZSA9IGZhbHNlXG4gIHNlbGVjdGlvblR5cGU6IG51bWJlciB8IG51bGwgPSBudWxsXG5cbiAgY3JlYXRlRG9tUmVmKCk6IEhUTUxFbGVtZW50IHtcbiAgICBjb25zdCBkb21SZWYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgIGlmIChcbiAgICAgIGJyb3dzZXIuY2hyb21lICYmXG4gICAgICB0aGlzLnJlYWN0Q29tcG9uZW50UHJvcHMubWVkaWFPcHRpb25zICYmXG4gICAgICB0aGlzLnJlYWN0Q29tcG9uZW50UHJvcHMubWVkaWFPcHRpb25zLmFsbG93TWVkaWFTaW5nbGVFZGl0YWJsZVxuICAgICkge1xuICAgICAgLy8gd29ya2Fyb3VuZCBDaHJvbWUgYnVnIGluIGh0dHBzOi8vcHJvZHVjdC1mYWJyaWMuYXRsYXNzaWFuLm5ldC9icm93c2UvRUQtNTM3OVxuICAgICAgLy8gc2VlIGFsc286IGh0dHBzOi8vZ2l0aHViLmNvbS9Qcm9zZU1pcnJvci9wcm9zZW1pcnJvci9pc3N1ZXMvODg0XG4gICAgICBkb21SZWYuY29udGVudEVkaXRhYmxlID0gJ3RydWUnXG4gICAgfVxuICAgIHJldHVybiBkb21SZWZcbiAgfVxuXG4gIGdldENvbnRlbnRET00oKSB7XG4gICAgY29uc3QgZG9tID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICByZXR1cm4geyBkb20gfVxuICB9XG5cbiAgdmlld1Nob3VsZFVwZGF0ZShuZXh0Tm9kZTogUE1Ob2RlKSB7XG4gICAgaWYgKHRoaXMuZm9yY2VWaWV3VXBkYXRlKSB7XG4gICAgICB0aGlzLmZvcmNlVmlld1VwZGF0ZSA9IGZhbHNlXG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cblxuICAgIGlmICh0aGlzLm5vZGUuYXR0cnMgIT09IG5leHROb2RlLmF0dHJzKSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cblxuICAgIGlmICh0aGlzLnNlbGVjdGlvblR5cGUgIT09IHRoaXMuY2hlY2tBbmRVcGRhdGVTZWxlY3Rpb25UeXBlKCkpIHtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICAgIHJldHVybiBzdXBlci52aWV3U2hvdWxkVXBkYXRlKG5leHROb2RlKVxuICB9XG5cbiAgY2hlY2tBbmRVcGRhdGVTZWxlY3Rpb25UeXBlID0gKCkgPT4ge1xuICAgIGNvbnN0IGdldFBvcyA9IHRoaXMuZ2V0UG9zIGFzIGdldFBvc0hhbmRsZXJOb2RlXG4gICAgY29uc3QgeyBzZWxlY3Rpb24gfSA9IHRoaXMudmlldy5zdGF0ZVxuICAgIGNvbnN0IGlzTm9kZVNlbGVjdGVkID0gaXNOb2RlU2VsZWN0ZWRPckluUmFuZ2UoXG4gICAgICBzZWxlY3Rpb24uJGFuY2hvci5wb3MsXG4gICAgICBzZWxlY3Rpb24uJGhlYWQucG9zLFxuICAgICAgZ2V0UG9zKCksXG4gICAgICB0aGlzLm5vZGUubm9kZVNpemVcbiAgICApXG5cbiAgICB0aGlzLnNlbGVjdGlvblR5cGUgPSBpc05vZGVTZWxlY3RlZFxuXG4gICAgcmV0dXJuIGlzTm9kZVNlbGVjdGVkXG4gIH1cblxuICBpc05vZGVTZWxlY3RlZCA9ICgpID0+IHtcbiAgICB0aGlzLmNoZWNrQW5kVXBkYXRlU2VsZWN0aW9uVHlwZSgpXG4gICAgcmV0dXJuIHRoaXMuc2VsZWN0aW9uVHlwZSAhPT0gbnVsbFxuICB9XG5cbiAgZ2V0Tm9kZU1lZGlhSWQobm9kZTogUE1Ob2RlKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgICBpZiAobm9kZS5maXJzdENoaWxkKSB7XG4gICAgICByZXR1cm4gbm9kZS5maXJzdENoaWxkLmF0dHJzLmlkXG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWRcbiAgfVxuXG4gIHVwZGF0ZShcbiAgICBub2RlOiBQTU5vZGUsXG4gICAgZGVjb3JhdGlvbnM6IERlY29yYXRpb25bXSxcbiAgICBpc1ZhbGlkVXBkYXRlPzogKGN1cnJlbnROb2RlOiBQTU5vZGUsIG5ld05vZGU6IFBNTm9kZSkgPT4gYm9vbGVhblxuICApIHtcbiAgICBpZiAoIWlzVmFsaWRVcGRhdGUpIHtcbiAgICAgIGlzVmFsaWRVcGRhdGUgPSAoY3VycmVudE5vZGUsIG5ld05vZGUpID0+XG4gICAgICAgIHRoaXMuZ2V0Tm9kZU1lZGlhSWQoY3VycmVudE5vZGUpID09PSB0aGlzLmdldE5vZGVNZWRpYUlkKG5ld05vZGUpXG4gICAgfVxuICAgIHJldHVybiBzdXBlci51cGRhdGUobm9kZSwgZGVjb3JhdGlvbnMsIGlzVmFsaWRVcGRhdGUpXG4gIH1cblxuICByZW5kZXIocHJvcHM6IE1lZGlhU2luZ2xlTm9kZVZpZXdQcm9wcywgZm9yd2FyZFJlZj86IEZvcndhcmRSZWYpIHtcbiAgICBjb25zdCB7XG4gICAgICBldmVudERpc3BhdGNoZXIsXG4gICAgICBmdWxsV2lkdGhNb2RlLFxuICAgICAgcHJvdmlkZXJGYWN0b3J5LFxuICAgICAgbWVkaWFPcHRpb25zLFxuICAgICAgZGlzcGF0Y2hBbmFseXRpY3NFdmVudFxuICAgIH0gPSB0aGlzLnJlYWN0Q29tcG9uZW50UHJvcHNcblxuICAgIC8vIGdldFBvcyBpcyBhIGJvb2xlYW4gZm9yIG1hcmtzLCBzaW5jZSB0aGlzIGlzIGEgbm9kZSB3ZSBrbm93IGl0IG11c3QgYmUgYSBmdW5jdGlvblxuICAgIGNvbnN0IGdldFBvcyA9IHRoaXMuZ2V0UG9zIGFzIGdldFBvc0hhbmRsZXJOb2RlXG5cbiAgICByZXR1cm4gKFxuICAgICAgPFdpdGhQcm92aWRlcnNcbiAgICAgICAgcHJvdmlkZXJzPXtbJ21lZGlhUHJvdmlkZXInLCAnY29udGV4dElkZW50aWZpZXJQcm92aWRlciddfVxuICAgICAgICBwcm92aWRlckZhY3Rvcnk9e3Byb3ZpZGVyRmFjdG9yeX1cbiAgICAgICAgcmVuZGVyTm9kZT17KHsgbWVkaWFQcm92aWRlciwgY29udGV4dElkZW50aWZpZXJQcm92aWRlciB9KSA9PiB7XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxXaXRoUGx1Z2luU3RhdGVcbiAgICAgICAgICAgICAgZWRpdG9yVmlldz17dGhpcy52aWV3fVxuICAgICAgICAgICAgICBwbHVnaW5zPXt7XG4gICAgICAgICAgICAgICAgd2lkdGg6IHdpZHRoUGx1Z2luS2V5LFxuICAgICAgICAgICAgICAgIG1lZGlhUGx1Z2luU3RhdGU6IG1lZGlhUGx1Z2luS2V5XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIHJlbmRlcj17KHsgd2lkdGgsIG1lZGlhUGx1Z2luU3RhdGUgfSkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICA8TWVkaWFTaW5nbGVOb2RlXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoPXt3aWR0aC53aWR0aH1cbiAgICAgICAgICAgICAgICAgICAgbGluZUxlbmd0aD17d2lkdGgubGluZUxlbmd0aH1cbiAgICAgICAgICAgICAgICAgICAgbm9kZT17dGhpcy5ub2RlfVxuICAgICAgICAgICAgICAgICAgICBnZXRQb3M9e2dldFBvc31cbiAgICAgICAgICAgICAgICAgICAgbWVkaWFQcm92aWRlcj17bWVkaWFQcm92aWRlcn1cbiAgICAgICAgICAgICAgICAgICAgY29udGV4dElkZW50aWZpZXJQcm92aWRlcj17Y29udGV4dElkZW50aWZpZXJQcm92aWRlcn1cbiAgICAgICAgICAgICAgICAgICAgbWVkaWFPcHRpb25zPXttZWRpYU9wdGlvbnN9XG4gICAgICAgICAgICAgICAgICAgIHZpZXc9e3RoaXMudmlld31cbiAgICAgICAgICAgICAgICAgICAgZnVsbFdpZHRoTW9kZT17ZnVsbFdpZHRoTW9kZX1cbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWQ9e3RoaXMuaXNOb2RlU2VsZWN0ZWR9XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50RGlzcGF0Y2hlcj17ZXZlbnREaXNwYXRjaGVyfVxuICAgICAgICAgICAgICAgICAgICBtZWRpYVBsdWdpblN0YXRlPXttZWRpYVBsdWdpblN0YXRlfVxuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaEFuYWx5dGljc0V2ZW50PXtkaXNwYXRjaEFuYWx5dGljc0V2ZW50fVxuICAgICAgICAgICAgICAgICAgICBmb3J3YXJkUmVmPXtmb3J3YXJkUmVmfVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIClcbiAgICAgICAgfX1cbiAgICAgIC8+XG4gICAgKVxuICB9XG5cbiAgaWdub3JlTXV0YXRpb24oKSB7XG4gICAgLy8gRE9NIGhhcyBjaGFuZ2VkOyByZWNhbGN1bGF0ZSBpZiB3ZSBuZWVkIHRvIHJlLXJlbmRlclxuICAgIGlmICh0aGlzLmRvbSkge1xuICAgICAgY29uc3Qgb2Zmc2V0TGVmdCA9IHRoaXMuZG9tLm9mZnNldExlZnRcblxuICAgICAgaWYgKG9mZnNldExlZnQgIT09IHRoaXMubGFzdE9mZnNldExlZnQpIHtcbiAgICAgICAgdGhpcy5sYXN0T2Zmc2V0TGVmdCA9IG9mZnNldExlZnRcbiAgICAgICAgdGhpcy5mb3JjZVZpZXdVcGRhdGUgPSB0cnVlXG5cbiAgICAgICAgdGhpcy51cGRhdGUodGhpcy5ub2RlLCBbXSwgKCkgPT4gdHJ1ZSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG59XG5cbmV4cG9ydCBjb25zdCBSZWFjdE1lZGlhU2luZ2xlTm9kZSA9IChcbiAgcG9ydGFsUHJvdmlkZXJBUEk6IFBvcnRhbFByb3ZpZGVyQVBJLFxuICBldmVudERpc3BhdGNoZXI6IEV2ZW50RGlzcGF0Y2hlcixcbiAgcHJvdmlkZXJGYWN0b3J5OiBQcm92aWRlckZhY3RvcnksXG4gIGRpc3BhdGNoQW5hbHl0aWNzRXZlbnQ/OiBEaXNwYXRjaEFuYWx5dGljc0V2ZW50LFxuICBtZWRpYU9wdGlvbnM6IE1lZGlhT3B0aW9ucyA9IHt9XG4pID0+IChub2RlOiBQTU5vZGUsIHZpZXc6IEVkaXRvclZpZXcsIGdldFBvczogZ2V0UG9zSGFuZGxlcikgPT4ge1xuICByZXR1cm4gbmV3IE1lZGlhU2luZ2xlTm9kZVZpZXcoXG4gICAgbm9kZSxcbiAgICB2aWV3LFxuICAgIGdldFBvcyxcbiAgICBwb3J0YWxQcm92aWRlckFQSSxcbiAgICBldmVudERpc3BhdGNoZXIsXG4gICAge1xuICAgICAgZXZlbnREaXNwYXRjaGVyLFxuICAgICAgZnVsbFdpZHRoTW9kZTogbWVkaWFPcHRpb25zLmZ1bGxXaWR0aEVuYWJsZWQsXG4gICAgICBwcm92aWRlckZhY3RvcnksXG4gICAgICBtZWRpYU9wdGlvbnMsXG4gICAgICBkaXNwYXRjaEFuYWx5dGljc0V2ZW50LFxuICAgICAgaXNDb3B5UGFzdGVFbmFibGVkOiBtZWRpYU9wdGlvbnMuaXNDb3B5UGFzdGVFbmFibGVkXG4gICAgfVxuICApLmluaXQoKVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFPQTtBQVFBO0FBR0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFLQTtBQUtBO0FBVUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFpQkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUdBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUlBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBR0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBSUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUF3QkE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUEyRUE7QUFDQTtBQUNBO0FBRUE7QUFNQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQW5PQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBeURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFLQTtBQUFBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQStDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFBQTtBQU9BO0FBQUE7QUFBQTtBQUFBO0FBek9BO0FBS0E7QUFDQTtBQUFBO0FBQ0E7QUFQQTtBQWtRQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQXNDQTtBQUNBO0FBQ0E7QUFPQTtBQUVBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFwREE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUF1QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQU1BO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFBQTtBQUdBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFJQTtBQUNBO0FBRUE7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/plugins/media/nodeviews/mediaSingle.tsx\n");

/***/ }),

/***/ "./src/plugins/media/nodeviews/styles.tsx":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FigureWrapper\", function() { return FigureWrapper; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MediaCardWrapper\", function() { return MediaCardWrapper; });\n/* harmony import */ var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js\");\n/* harmony import */ var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/styled-components/dist/styled-components.browser.esm.js\");\n\nvar _templateObject, _templateObject2, _templateObject3;\n\n\nvar FigureWrapper = styled_components__WEBPACK_IMPORTED_MODULE_2__[\"default\"].figure(_templateObject || (_templateObject = _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0___default()([\"\\n  margin: 0;\\n\"])));\nFigureWrapper.displayName = 'FigureWrapper';\nvar AbsoluteDiv = styled_components__WEBPACK_IMPORTED_MODULE_2__[\"default\"].div(_templateObject2 || (_templateObject2 = _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0___default()([\"\\n  position: absolute;\\n  width: 100%;\\n  height: 100%;\\n\"])));\nvar ForcedDimensions = styled_components__WEBPACK_IMPORTED_MODULE_2__[\"default\"].div(_templateObject3 || (_templateObject3 = _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0___default()([\"\\n  width: 100%;\\n  position: relative;\\n  padding-bottom: \", \"%;\\n\"])), function (props) {\n  return props.dimensions.height / props.dimensions.width * 100;\n});\nvar MediaCardWrapper = function MediaCardWrapper(_ref) {\n  var dimensions = _ref.dimensions,\n    children = _ref.children,\n    onContextMenu = _ref.onContextMenu;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ForcedDimensions, {\n    dimensions: dimensions,\n    onContextMenuCapture: onContextMenu\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(AbsoluteDiv, null, children));\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9tZWRpYS9ub2Rldmlld3Mvc3R5bGVzLnRzeC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9wbHVnaW5zL21lZGlhL25vZGV2aWV3cy9zdHlsZXMudHN4P2Q5ODkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHN0eWxlZCBmcm9tICdzdHlsZWQtY29tcG9uZW50cydcbmltcG9ydCB7IE51bWVyaWNhbENhcmREaW1lbnNpb25zIH0gZnJvbSAnQGF0bGFza2l0L21lZGlhLWNhcmQnXG5cbmV4cG9ydCBjb25zdCBGaWd1cmVXcmFwcGVyID0gc3R5bGVkLmZpZ3VyZWBcbiAgbWFyZ2luOiAwO1xuYFxuXG5GaWd1cmVXcmFwcGVyLmRpc3BsYXlOYW1lID0gJ0ZpZ3VyZVdyYXBwZXInXG5cbmNvbnN0IEFic29sdXRlRGl2ID0gc3R5bGVkLmRpdmBcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xuYFxuXG50eXBlIEZvcmNlZERpbWVuc2lvbnNQcm9wcyA9IHtcbiAgZGltZW5zaW9uczogTnVtZXJpY2FsQ2FyZERpbWVuc2lvbnNcbn1cblxuY29uc3QgRm9yY2VkRGltZW5zaW9ucyA9IHN0eWxlZC5kaXY8Rm9yY2VkRGltZW5zaW9uc1Byb3BzPmBcbiAgd2lkdGg6IDEwMCU7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgcGFkZGluZy1ib3R0b206ICR7cHJvcHMgPT5cbiAgICAocHJvcHMuZGltZW5zaW9ucy5oZWlnaHQgLyBwcm9wcy5kaW1lbnNpb25zLndpZHRoKSAqIDEwMH0lO1xuYFxuXG50eXBlIE1lZGlhQ2FyZFdyYXBwZXJQcm9wcyA9IHtcbiAgZGltZW5zaW9uczogTnVtZXJpY2FsQ2FyZERpbWVuc2lvbnNcbiAgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZVxuICBvbkNvbnRleHRNZW51PzogKGV2ZW50OiBSZWFjdC5Nb3VzZUV2ZW50PEhUTUxFbGVtZW50LCBNb3VzZUV2ZW50PikgPT4gdm9pZFxufVxuXG5leHBvcnQgY29uc3QgTWVkaWFDYXJkV3JhcHBlciA9ICh7XG4gIGRpbWVuc2lvbnMsXG4gIGNoaWxkcmVuLFxuICBvbkNvbnRleHRNZW51XG59OiBNZWRpYUNhcmRXcmFwcGVyUHJvcHMpID0+IHtcbiAgcmV0dXJuIChcbiAgICA8Rm9yY2VkRGltZW5zaW9uc1xuICAgICAgZGltZW5zaW9ucz17ZGltZW5zaW9uc31cbiAgICAgIG9uQ29udGV4dE1lbnVDYXB0dXJlPXtvbkNvbnRleHRNZW51fVxuICAgID5cbiAgICAgIDxBYnNvbHV0ZURpdj57Y2hpbGRyZW59PC9BYnNvbHV0ZURpdj5cbiAgICA8L0ZvcmNlZERpbWVuc2lvbnM+XG4gIClcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFHQTtBQUlBO0FBRUE7QUFVQTtBQUdBO0FBQ0E7QUFTQTtBQUlBO0FBRkE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUFBO0FBS0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/plugins/media/nodeviews/styles.tsx\n");

/***/ }),

/***/ "./src/plugins/media/picker-facade.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return PickerFacade; });\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _atlaskit_media_picker__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./node_modules/@atlaskit/media-picker/dist/esm/index.js\");\n\n\n\n\n\n\nvar PickerFacade = /*#__PURE__*/function () {\n  function PickerFacade(pickerType, config, pickerConfig) {\n    var _this = this;\n    var mediaPickerFactoryClass = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : _atlaskit_media_picker__WEBPACK_IMPORTED_MODULE_5__[\"MediaPicker\"];\n    var analyticsName = arguments.length > 4 ? arguments[4] : undefined;\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this, PickerFacade);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"picker\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"onDragListeners\", []);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"errorReporter\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"pickerType\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"onStartListeners\", []);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"eventListeners\", {});\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"analyticsName\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"erroredFiles\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"handleUploadPreviewUpdate\", function (event) {\n      var file = event.file,\n        preview = event.preview;\n\n      //check if upload-error was called before upload-preview-update\n      var isErroredFile = _this.erroredFiles.has(file.id);\n      var _ref = Object(_atlaskit_media_picker__WEBPACK_IMPORTED_MODULE_5__[\"isImagePreview\"])(preview) ? preview : {\n          dimensions: undefined,\n          scaleFactor: undefined\n        },\n        dimensions = _ref.dimensions,\n        scaleFactor = _ref.scaleFactor;\n      var state = {\n        id: file.id,\n        fileName: file.name,\n        fileSize: file.size,\n        fileMimeType: file.type,\n        dimensions: dimensions,\n        scaleFactor: scaleFactor,\n        status: isErroredFile ? 'error' : undefined\n      };\n      _this.eventListeners[file.id] = [];\n      _this.onStartListeners.forEach(function (cb) {\n        return cb(state, function (evt) {\n          return _this.subscribeStateChanged(file, evt);\n        }, _this.analyticsName || _this.pickerType);\n      });\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"subscribeStateChanged\", function (file, onStateChanged) {\n      var subscribers = _this.eventListeners[file.id];\n      if (!subscribers) {\n        return;\n      }\n      subscribers.push(onStateChanged);\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"handleUploadError\", function (_ref2) {\n      var error = _ref2.error,\n        fileId = _ref2.fileId;\n      var listeners = _this.eventListeners[fileId];\n      _this.erroredFiles.add(fileId);\n      if (!listeners) {\n        return;\n      }\n      listeners.forEach(function (cb) {\n        return cb({\n          id: fileId,\n          status: 'error',\n          error: error && {\n            description: error.description,\n            name: error.name\n          }\n        });\n      });\n\n      // remove listeners\n      delete _this.eventListeners[fileId];\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"handleMobileUploadEnd\", function (event) {\n      var file = event.file;\n      var listeners = _this.eventListeners[file.id];\n      if (!listeners) {\n        return;\n      }\n      listeners.forEach(function (cb) {\n        return cb({\n          id: file.id,\n          status: 'mobile-upload-end',\n          fileMimeType: file.type,\n          collection: file.collectionName,\n          publicId: file.publicId\n        });\n      });\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"handleReady\", function (event) {\n      var file = event.file;\n      var listeners = _this.eventListeners[file.id];\n      if (!listeners) {\n        return;\n      }\n      listeners.forEach(function (cb) {\n        return cb({\n          id: file.id,\n          status: 'ready'\n        });\n      });\n\n      // remove listeners\n      delete _this.eventListeners[file.id];\n    });\n    this.pickerType = pickerType;\n    this.errorReporter = config.errorReporter;\n    this.analyticsName = analyticsName;\n    this.erroredFiles = new Set();\n  }\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(PickerFacade, [{\n    key: \"init\",\n    value: function () {\n      var _init = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark(function _callee() {\n        var picker;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!(this.pickerType === 'customMediaPicker')) {\n                  _context.next = 4;\n                  break;\n                }\n                picker = this.picker = this.pickerConfig;\n                _context.next = 8;\n                break;\n              case 4:\n                if (!(this.pickerType === 'popup')) {\n                  _context.next = 8;\n                  break;\n                }\n                _context.next = 7;\n                return this.mediaPickerFactoryClass(this.config.mediaClientConfig, this.pickerConfig);\n              case 7:\n                picker = this.picker = _context.sent;\n              case 8:\n                if (picker) {\n                  _context.next = 10;\n                  break;\n                }\n                return _context.abrupt(\"return\", this);\n              case 10:\n                picker.on('upload-preview-update', this.handleUploadPreviewUpdate);\n                picker.on('upload-end', this.handleReady);\n                picker.on('upload-error', this.handleUploadError);\n                picker.on('mobile-upload-end', this.handleMobileUploadEnd);\n                return _context.abrupt(\"return\", this);\n              case 15:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n      function init() {\n        return _init.apply(this, arguments);\n      }\n      return init;\n    }()\n  }, {\n    key: \"type\",\n    get: function get() {\n      return this.pickerType;\n    }\n  }, {\n    key: \"mediaPicker\",\n    get: function get() {\n      return this.picker;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var picker = this.picker;\n      if (!picker) {\n        return;\n      }\n      picker.removeAllListeners('upload-preview-update');\n      picker.removeAllListeners('upload-end');\n      picker.removeAllListeners('upload-error');\n      this.onStartListeners = [];\n      this.onDragListeners = [];\n      try {\n        if (this.pickerType === 'popup') {\n          ;\n          picker.teardown();\n        }\n      } catch (ex) {\n        this.errorReporter.captureException(ex);\n      }\n    }\n  }, {\n    key: \"setUploadParams\",\n    value: function setUploadParams(params) {\n      if (this.picker) {\n        this.picker.setUploadParams(params);\n      }\n    }\n  }, {\n    key: \"onClose\",\n    value: function onClose(cb) {\n      var picker = this.picker;\n      if (this.pickerType === 'popup') {\n        var popupPicker = picker;\n        popupPicker.on('closed', cb);\n        return function () {\n          return popupPicker.off('closed', cb);\n        };\n      }\n      return function () {};\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      if (this.pickerType === 'popup') {\n        try {\n          ;\n          this.picker.show();\n        } catch (ex) {\n          this.errorReporter.captureException(ex);\n        }\n      }\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      if (this.pickerType === 'popup') {\n        ;\n        this.picker.hide();\n      }\n    }\n  }, {\n    key: \"onNewMedia\",\n    value: function onNewMedia(cb) {\n      this.onStartListeners.push(cb);\n    }\n  }, {\n    key: \"onDrag\",\n    value: function onDrag(cb) {\n      this.onDragListeners.push(cb);\n    }\n  }]);\n  return PickerFacade;\n}();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9tZWRpYS9waWNrZXItZmFjYWRlLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbnMvbWVkaWEvcGlja2VyLWZhY2FkZS50cz8yODQwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE1lZGlhUGlja2VyLCBpc0ltYWdlUHJldmlldyB9IGZyb20gJ0BhdGxhc2tpdC9tZWRpYS1waWNrZXInXG5pbXBvcnQge1xuICBQb3B1cCxcbiAgUG9wdXBDb25maWcsXG4gIE1lZGlhRmlsZSxcbiAgVXBsb2FkUHJldmlld1VwZGF0ZUV2ZW50UGF5bG9hZCxcbiAgVXBsb2FkUGFyYW1zLFxuICBVcGxvYWRFcnJvckV2ZW50UGF5bG9hZCxcbiAgVXBsb2FkRW5kRXZlbnRQYXlsb2FkXG59IGZyb20gJ0BhdGxhc2tpdC9tZWRpYS1waWNrZXIvdHlwZXMnXG5pbXBvcnQgeyBNZWRpYUNsaWVudENvbmZpZyB9IGZyb20gJ0BhdGxhc2tpdC9tZWRpYS1jb3JlJ1xuaW1wb3J0IHsgRXJyb3JSZXBvcnRpbmdIYW5kbGVyIH0gZnJvbSAnQGF0bGFza2l0L2VkaXRvci1jb21tb24nXG5pbXBvcnQgeyBNZWRpYUZlYXR1cmVGbGFncyB9IGZyb20gJ0BhdGxhc2tpdC9tZWRpYS1jb21tb24vbWVkaWFGZWF0dXJlRmxhZ3MnXG5cbmltcG9ydCB7XG4gIE1lZGlhU3RhdGUsXG4gIEN1c3RvbU1lZGlhUGlja2VyLFxuICBNb2JpbGVVcGxvYWRFbmRFdmVudFBheWxvYWRcbn0gZnJvbSAnLi90eXBlcydcblxuZXhwb3J0IHR5cGUgUGlja2VyVHlwZSA9XG4gIHwgJ3BvcHVwJ1xuICB8ICdjbGlwYm9hcmQnXG4gIHwgJ2Ryb3B6b25lJ1xuICB8ICdjdXN0b21NZWRpYVBpY2tlcidcbmV4cG9ydCB0eXBlIEV4dGVuZGVkQ29tcG9uZW50Q29uZmlncyA9IHtcbiAgcG9wdXA6IFBvcHVwQ29uZmlnXG4gIGN1c3RvbU1lZGlhUGlja2VyOiBDdXN0b21NZWRpYVBpY2tlclxuICBkcm9wem9uZTogbnVsbFxuICBjbGlwYm9hcmQ6IG51bGxcbn1cblxuZXhwb3J0IHR5cGUgUGlja2VyRmFjYWRlQ29uZmlnID0ge1xuICBtZWRpYUNsaWVudENvbmZpZzogTWVkaWFDbGllbnRDb25maWdcbiAgZXJyb3JSZXBvcnRlcjogRXJyb3JSZXBvcnRpbmdIYW5kbGVyXG4gIGZlYXR1cmVGbGFncz86IE1lZGlhRmVhdHVyZUZsYWdzXG59XG5cbmV4cG9ydCB0eXBlIE1lZGlhU3RhdGVFdmVudCA9IE1lZGlhU3RhdGVcbmV4cG9ydCB0eXBlIE1lZGlhU3RhdGVFdmVudExpc3RlbmVyID0gKGV2dDogTWVkaWFTdGF0ZUV2ZW50KSA9PiB2b2lkXG5cbmV4cG9ydCB0eXBlIE1lZGlhU3RhdGVFdmVudFN1YnNjcmliZXIgPSAoXG4gIGxpc3RlbmVyOiBNZWRpYVN0YXRlRXZlbnRMaXN0ZW5lclxuKSA9PiB2b2lkXG5leHBvcnQgdHlwZSBOZXdNZWRpYUV2ZW50ID0gKFxuICBzdGF0ZTogTWVkaWFTdGF0ZSxcbiAgb25TdGF0ZUNoYW5nZWQ6IE1lZGlhU3RhdGVFdmVudFN1YnNjcmliZXIsXG4gIHBpY2tlclR5cGU/OiBzdHJpbmdcbikgPT4gdm9pZFxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQaWNrZXJGYWNhZGUge1xuICBwcml2YXRlIHBpY2tlcj86IFBvcHVwIHwgQ3VzdG9tTWVkaWFQaWNrZXJcbiAgcHJpdmF0ZSBvbkRyYWdMaXN0ZW5lcnM6IEFycmF5PEZ1bmN0aW9uPiA9IFtdXG4gIHByaXZhdGUgZXJyb3JSZXBvcnRlcjogRXJyb3JSZXBvcnRpbmdIYW5kbGVyXG4gIHByaXZhdGUgcGlja2VyVHlwZTogUGlja2VyVHlwZVxuICBwcml2YXRlIG9uU3RhcnRMaXN0ZW5lcnM6IEFycmF5PE5ld01lZGlhRXZlbnQ+ID0gW11cbiAgcHJpdmF0ZSBldmVudExpc3RlbmVyczogUmVjb3JkPFxuICAgIHN0cmluZyxcbiAgICBBcnJheTxNZWRpYVN0YXRlRXZlbnRMaXN0ZW5lcj4gfCB1bmRlZmluZWRcbiAgPiA9IHt9XG4gIHByaXZhdGUgYW5hbHl0aWNzTmFtZTogc3RyaW5nIHwgdW5kZWZpbmVkXG4gIGVycm9yZWRGaWxlczogU2V0PHN0cmluZz5cbiAgY29uc3RydWN0b3IoXG4gICAgcGlja2VyVHlwZTogUGlja2VyVHlwZSxcbiAgICByZWFkb25seSBjb25maWc6IFBpY2tlckZhY2FkZUNvbmZpZyxcbiAgICByZWFkb25seSBwaWNrZXJDb25maWc/OiBFeHRlbmRlZENvbXBvbmVudENvbmZpZ3NbUGlja2VyVHlwZV0sXG4gICAgcmVhZG9ubHkgbWVkaWFQaWNrZXJGYWN0b3J5Q2xhc3MgPSBNZWRpYVBpY2tlcixcbiAgICBhbmFseXRpY3NOYW1lPzogc3RyaW5nXG4gICkge1xuICAgIHRoaXMucGlja2VyVHlwZSA9IHBpY2tlclR5cGVcbiAgICB0aGlzLmVycm9yUmVwb3J0ZXIgPSBjb25maWcuZXJyb3JSZXBvcnRlclxuICAgIHRoaXMuYW5hbHl0aWNzTmFtZSA9IGFuYWx5dGljc05hbWVcbiAgICB0aGlzLmVycm9yZWRGaWxlcyA9IG5ldyBTZXQoKVxuICB9XG5cbiAgYXN5bmMgaW5pdCgpOiBQcm9taXNlPFBpY2tlckZhY2FkZT4ge1xuICAgIGxldCBwaWNrZXJcblxuICAgIGlmICh0aGlzLnBpY2tlclR5cGUgPT09ICdjdXN0b21NZWRpYVBpY2tlcicpIHtcbiAgICAgIHBpY2tlciA9IHRoaXMucGlja2VyID0gdGhpcy5waWNrZXJDb25maWcgYXMgQ3VzdG9tTWVkaWFQaWNrZXJcbiAgICB9IGVsc2UgaWYgKHRoaXMucGlja2VyVHlwZSA9PT0gJ3BvcHVwJykge1xuICAgICAgcGlja2VyID0gdGhpcy5waWNrZXIgPSBhd2FpdCB0aGlzLm1lZGlhUGlja2VyRmFjdG9yeUNsYXNzKFxuICAgICAgICB0aGlzLmNvbmZpZy5tZWRpYUNsaWVudENvbmZpZyxcbiAgICAgICAgdGhpcy5waWNrZXJDb25maWcgYXMgUG9wdXBDb25maWdcbiAgICAgIClcbiAgICB9XG5cbiAgICBpZiAoIXBpY2tlcikge1xuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICBwaWNrZXIub24oJ3VwbG9hZC1wcmV2aWV3LXVwZGF0ZScsIHRoaXMuaGFuZGxlVXBsb2FkUHJldmlld1VwZGF0ZSlcbiAgICBwaWNrZXIub24oJ3VwbG9hZC1lbmQnLCB0aGlzLmhhbmRsZVJlYWR5KVxuICAgIHBpY2tlci5vbigndXBsb2FkLWVycm9yJywgdGhpcy5oYW5kbGVVcGxvYWRFcnJvcilcbiAgICA7KHBpY2tlciBhcyBDdXN0b21NZWRpYVBpY2tlcikub24oXG4gICAgICAnbW9iaWxlLXVwbG9hZC1lbmQnLFxuICAgICAgdGhpcy5oYW5kbGVNb2JpbGVVcGxvYWRFbmRcbiAgICApXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgZ2V0IHR5cGUoKSB7XG4gICAgcmV0dXJuIHRoaXMucGlja2VyVHlwZVxuICB9XG5cbiAgZ2V0IG1lZGlhUGlja2VyKCkge1xuICAgIHJldHVybiB0aGlzLnBpY2tlclxuICB9XG5cbiAgZGVzdHJveSgpIHtcbiAgICBjb25zdCB7IHBpY2tlciB9ID0gdGhpc1xuXG4gICAgaWYgKCFwaWNrZXIpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHBpY2tlci5yZW1vdmVBbGxMaXN0ZW5lcnMoJ3VwbG9hZC1wcmV2aWV3LXVwZGF0ZScpXG4gICAgcGlja2VyLnJlbW92ZUFsbExpc3RlbmVycygndXBsb2FkLWVuZCcpXG4gICAgcGlja2VyLnJlbW92ZUFsbExpc3RlbmVycygndXBsb2FkLWVycm9yJylcblxuICAgIHRoaXMub25TdGFydExpc3RlbmVycyA9IFtdXG4gICAgdGhpcy5vbkRyYWdMaXN0ZW5lcnMgPSBbXVxuXG4gICAgdHJ5IHtcbiAgICAgIGlmICh0aGlzLnBpY2tlclR5cGUgPT09ICdwb3B1cCcpIHtcbiAgICAgICAgOyhwaWNrZXIgYXMgUG9wdXApLnRlYXJkb3duKClcbiAgICAgIH1cbiAgICB9IGNhdGNoIChleCkge1xuICAgICAgdGhpcy5lcnJvclJlcG9ydGVyLmNhcHR1cmVFeGNlcHRpb24oZXgpXG4gICAgfVxuICB9XG5cbiAgc2V0VXBsb2FkUGFyYW1zKHBhcmFtczogVXBsb2FkUGFyYW1zKTogdm9pZCB7XG4gICAgaWYgKHRoaXMucGlja2VyKSB7XG4gICAgICB0aGlzLnBpY2tlci5zZXRVcGxvYWRQYXJhbXMocGFyYW1zKVxuICAgIH1cbiAgfVxuXG4gIG9uQ2xvc2UoY2I6ICgpID0+IHZvaWQpOiAoKSA9PiB2b2lkIHtcbiAgICBjb25zdCB7IHBpY2tlciB9ID0gdGhpc1xuICAgIGlmICh0aGlzLnBpY2tlclR5cGUgPT09ICdwb3B1cCcpIHtcbiAgICAgIGNvbnN0IHBvcHVwUGlja2VyID0gcGlja2VyIGFzIFBvcHVwXG4gICAgICBwb3B1cFBpY2tlci5vbignY2xvc2VkJywgY2IpXG5cbiAgICAgIHJldHVybiAoKSA9PiBwb3B1cFBpY2tlci5vZmYoJ2Nsb3NlZCcsIGNiKVxuICAgIH1cblxuICAgIHJldHVybiAoKSA9PiB7fVxuICB9XG5cbiAgc2hvdygpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5waWNrZXJUeXBlID09PSAncG9wdXAnKSB7XG4gICAgICB0cnkge1xuICAgICAgICA7KHRoaXMucGlja2VyIGFzIFBvcHVwKS5zaG93KClcbiAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgIHRoaXMuZXJyb3JSZXBvcnRlci5jYXB0dXJlRXhjZXB0aW9uKGV4KVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGhpZGUoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMucGlja2VyVHlwZSA9PT0gJ3BvcHVwJykge1xuICAgICAgOyh0aGlzLnBpY2tlciBhcyBQb3B1cCkuaGlkZSgpXG4gICAgfVxuICB9XG5cbiAgb25OZXdNZWRpYShjYjogTmV3TWVkaWFFdmVudCkge1xuICAgIHRoaXMub25TdGFydExpc3RlbmVycy5wdXNoKGNiKVxuICB9XG5cbiAgb25EcmFnKGNiOiAoc3RhdGU6ICdlbnRlcicgfCAnbGVhdmUnKSA9PiBhbnkpIHtcbiAgICB0aGlzLm9uRHJhZ0xpc3RlbmVycy5wdXNoKGNiKVxuICB9XG5cbiAgcHVibGljIGhhbmRsZVVwbG9hZFByZXZpZXdVcGRhdGUgPSAoXG4gICAgZXZlbnQ6IFVwbG9hZFByZXZpZXdVcGRhdGVFdmVudFBheWxvYWRcbiAgKSA9PiB7XG4gICAgY29uc3QgeyBmaWxlLCBwcmV2aWV3IH0gPSBldmVudFxuXG4gICAgLy9jaGVjayBpZiB1cGxvYWQtZXJyb3Igd2FzIGNhbGxlZCBiZWZvcmUgdXBsb2FkLXByZXZpZXctdXBkYXRlXG4gICAgY29uc3QgaXNFcnJvcmVkRmlsZSA9IHRoaXMuZXJyb3JlZEZpbGVzLmhhcyhmaWxlLmlkKVxuXG4gICAgY29uc3QgeyBkaW1lbnNpb25zLCBzY2FsZUZhY3RvciB9ID0gaXNJbWFnZVByZXZpZXcocHJldmlldylcbiAgICAgID8gcHJldmlld1xuICAgICAgOiB7IGRpbWVuc2lvbnM6IHVuZGVmaW5lZCwgc2NhbGVGYWN0b3I6IHVuZGVmaW5lZCB9XG5cbiAgICBjb25zdCBzdGF0ZTogTWVkaWFTdGF0ZSA9IHtcbiAgICAgIGlkOiBmaWxlLmlkLFxuICAgICAgZmlsZU5hbWU6IGZpbGUubmFtZSxcbiAgICAgIGZpbGVTaXplOiBmaWxlLnNpemUsXG4gICAgICBmaWxlTWltZVR5cGU6IGZpbGUudHlwZSxcbiAgICAgIGRpbWVuc2lvbnMsXG4gICAgICBzY2FsZUZhY3RvcixcbiAgICAgIHN0YXR1czogaXNFcnJvcmVkRmlsZSA/ICdlcnJvcicgOiB1bmRlZmluZWRcbiAgICB9XG5cbiAgICB0aGlzLmV2ZW50TGlzdGVuZXJzW2ZpbGUuaWRdID0gW11cbiAgICB0aGlzLm9uU3RhcnRMaXN0ZW5lcnMuZm9yRWFjaChjYiA9PlxuICAgICAgY2IoXG4gICAgICAgIHN0YXRlLFxuICAgICAgICBldnQgPT4gdGhpcy5zdWJzY3JpYmVTdGF0ZUNoYW5nZWQoZmlsZSwgZXZ0KSxcbiAgICAgICAgdGhpcy5hbmFseXRpY3NOYW1lIHx8IHRoaXMucGlja2VyVHlwZVxuICAgICAgKVxuICAgIClcbiAgfVxuXG4gIHByaXZhdGUgc3Vic2NyaWJlU3RhdGVDaGFuZ2VkID0gKFxuICAgIGZpbGU6IE1lZGlhRmlsZSxcbiAgICBvblN0YXRlQ2hhbmdlZDogTWVkaWFTdGF0ZUV2ZW50TGlzdGVuZXJcbiAgKSA9PiB7XG4gICAgY29uc3Qgc3Vic2NyaWJlcnMgPSB0aGlzLmV2ZW50TGlzdGVuZXJzW2ZpbGUuaWRdXG4gICAgaWYgKCFzdWJzY3JpYmVycykge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgc3Vic2NyaWJlcnMucHVzaChvblN0YXRlQ2hhbmdlZClcbiAgfVxuXG4gIHB1YmxpYyBoYW5kbGVVcGxvYWRFcnJvciA9ICh7IGVycm9yLCBmaWxlSWQgfTogVXBsb2FkRXJyb3JFdmVudFBheWxvYWQpID0+IHtcbiAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLmV2ZW50TGlzdGVuZXJzW2ZpbGVJZF1cbiAgICB0aGlzLmVycm9yZWRGaWxlcy5hZGQoZmlsZUlkKVxuXG4gICAgaWYgKCFsaXN0ZW5lcnMpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGxpc3RlbmVycy5mb3JFYWNoKGNiID0+XG4gICAgICBjYih7XG4gICAgICAgIGlkOiBmaWxlSWQsXG4gICAgICAgIHN0YXR1czogJ2Vycm9yJyxcbiAgICAgICAgZXJyb3I6IGVycm9yICYmIHsgZGVzY3JpcHRpb246IGVycm9yLmRlc2NyaXB0aW9uLCBuYW1lOiBlcnJvci5uYW1lIH1cbiAgICAgIH0pXG4gICAgKVxuXG4gICAgLy8gcmVtb3ZlIGxpc3RlbmVyc1xuICAgIGRlbGV0ZSB0aGlzLmV2ZW50TGlzdGVuZXJzW2ZpbGVJZF1cbiAgfVxuXG4gIHB1YmxpYyBoYW5kbGVNb2JpbGVVcGxvYWRFbmQgPSAoZXZlbnQ6IE1vYmlsZVVwbG9hZEVuZEV2ZW50UGF5bG9hZCkgPT4ge1xuICAgIGNvbnN0IHsgZmlsZSB9ID0gZXZlbnRcblxuICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuZXZlbnRMaXN0ZW5lcnNbZmlsZS5pZF1cbiAgICBpZiAoIWxpc3RlbmVycykge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgbGlzdGVuZXJzLmZvckVhY2goY2IgPT5cbiAgICAgIGNiKHtcbiAgICAgICAgaWQ6IGZpbGUuaWQsXG4gICAgICAgIHN0YXR1czogJ21vYmlsZS11cGxvYWQtZW5kJyxcbiAgICAgICAgZmlsZU1pbWVUeXBlOiBmaWxlLnR5cGUsXG4gICAgICAgIGNvbGxlY3Rpb246IGZpbGUuY29sbGVjdGlvbk5hbWUsXG4gICAgICAgIHB1YmxpY0lkOiBmaWxlLnB1YmxpY0lkXG4gICAgICB9KVxuICAgIClcbiAgfVxuXG4gIHB1YmxpYyBoYW5kbGVSZWFkeSA9IChldmVudDogVXBsb2FkRW5kRXZlbnRQYXlsb2FkKSA9PiB7XG4gICAgY29uc3QgeyBmaWxlIH0gPSBldmVudFxuXG4gICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5ldmVudExpc3RlbmVyc1tmaWxlLmlkXVxuICAgIGlmICghbGlzdGVuZXJzKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBsaXN0ZW5lcnMuZm9yRWFjaChjYiA9PlxuICAgICAgY2Ioe1xuICAgICAgICBpZDogZmlsZS5pZCxcbiAgICAgICAgc3RhdHVzOiAncmVhZHknXG4gICAgICB9KVxuICAgIClcblxuICAgIC8vIHJlbW92ZSBsaXN0ZW5lcnNcbiAgICBkZWxldGUgdGhpcy5ldmVudExpc3RlbmVyc1tmaWxlLmlkXVxuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUE7QUE4REE7QUFNQTtBQUFBO0FBRkE7QUFDQTtBQUFBO0FBQUE7QUFmQTtBQUFBO0FBQUE7QUFHQTtBQUlBO0FBQUE7QUFBQTtBQXVIQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUFBO0FBQUE7QUFGQTtBQUFBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBR0E7QUFBQTtBQUVBO0FBRUE7QUFBQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQTlNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUlBO0FBSEE7QUFBQTtBQUFBO0FBTUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/plugins/media/picker-facade.ts\n");

/***/ }),

/***/ "./src/plugins/media/pm-plugins/alt-text/commands.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"closeMediaAltTextMenu\", function() { return closeMediaAltTextMenu; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"openMediaAltTextMenu\", function() { return openMediaAltTextMenu; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"updateAltText\", function() { return updateAltText; });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./src/plugins/media/pm-plugins/alt-text/index.ts\");\n/* harmony import */ var _utils_media_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./src/plugins/media/utils/media-common.ts\");\n/* harmony import */ var _atlaskit_editor_core_plugins_analytics__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/plugins/analytics/index.ts\");\n\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n\n\n\nvar createCommandWithAnalytics = function createCommandWithAnalytics(actionType, action, transform) {\n  return Object(_atlaskit_editor_core_plugins_analytics__WEBPACK_IMPORTED_MODULE_3__[\"withAnalytics\"])({\n    action: actionType,\n    actionSubject: _atlaskit_editor_core_plugins_analytics__WEBPACK_IMPORTED_MODULE_3__[\"ACTION_SUBJECT\"].MEDIA,\n    actionSubjectId: _atlaskit_editor_core_plugins_analytics__WEBPACK_IMPORTED_MODULE_3__[\"ACTION_SUBJECT_ID\"].ALT_TEXT,\n    eventType: _atlaskit_editor_core_plugins_analytics__WEBPACK_IMPORTED_MODULE_3__[\"EVENT_TYPE\"].TRACK\n  })(Object(___WEBPACK_IMPORTED_MODULE_1__[\"createCommand\"])(action, transform));\n};\nvar closeMediaAltTextMenu = Object(___WEBPACK_IMPORTED_MODULE_1__[\"createCommand\"])(function (state) {\n  if (Object(_utils_media_common__WEBPACK_IMPORTED_MODULE_2__[\"isSelectionMediaSingleNode\"])(state)) {\n    return {\n      type: 'closeMediaAltTextMenu'\n    };\n  }\n  return false;\n});\nvar openMediaAltTextMenu = createCommandWithAnalytics(_atlaskit_editor_core_plugins_analytics__WEBPACK_IMPORTED_MODULE_3__[\"ACTION\"].OPENED, function (state) {\n  if (Object(_utils_media_common__WEBPACK_IMPORTED_MODULE_2__[\"isSelectionMediaSingleNode\"])(state)) {\n    return {\n      type: 'openMediaAltTextMenu'\n    };\n  }\n  return false;\n}, function (tr) {\n  return tr.setMeta('scrollIntoView', false);\n});\nvar updateAltText = function updateAltText(newAltText) {\n  return Object(___WEBPACK_IMPORTED_MODULE_1__[\"createCommand\"])(function (state) {\n    return Object(_utils_media_common__WEBPACK_IMPORTED_MODULE_2__[\"isSelectionMediaSingleNode\"])(state) ? {\n      type: 'updateAltText'\n    } : false;\n  }, function (tr, state) {\n    var mediaNode = Object(_utils_media_common__WEBPACK_IMPORTED_MODULE_2__[\"getMediaNodeFromSelection\"])(state);\n    var pos = tr.selection.from + 1;\n    if (mediaNode) {\n      tr.setMeta('scrollIntoView', false);\n      tr.setNodeMarkup(pos, undefined, _objectSpread(_objectSpread({}, mediaNode.attrs), {}, {\n        alt: newAltText\n      }));\n    }\n    return tr;\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9tZWRpYS9wbS1wbHVnaW5zL2FsdC10ZXh0L2NvbW1hbmRzLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbnMvbWVkaWEvcG0tcGx1Z2lucy9hbHQtdGV4dC9jb21tYW5kcy50cz8xZGZhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNvbW1hbmQgfSBmcm9tICcuJ1xuaW1wb3J0IHtcbiAgaXNTZWxlY3Rpb25NZWRpYVNpbmdsZU5vZGUsXG4gIGdldE1lZGlhTm9kZUZyb21TZWxlY3Rpb25cbn0gZnJvbSAnLi4vLi4vdXRpbHMvbWVkaWEtY29tbW9uJ1xuaW1wb3J0IHtcbiAgQUNUSU9OX1NVQkpFQ1QsXG4gIEVWRU5UX1RZUEUsXG4gIHdpdGhBbmFseXRpY3MsXG4gIEFDVElPTl9TVUJKRUNUX0lELFxuICBBQ1RJT05cbn0gZnJvbSAnQGF0bGFza2l0L2VkaXRvci1jb3JlL3BsdWdpbnMvYW5hbHl0aWNzJ1xuaW1wb3J0IHsgRWRpdG9yU3RhdGUsIFRyYW5zYWN0aW9uIH0gZnJvbSAncHJvc2VtaXJyb3Itc3RhdGUnXG5cbmltcG9ydCB7IE1lZGlhQWx0VGV4dEFjdGlvblR5cGUgfSBmcm9tICdAYXRsYXNraXQvZWRpdG9yLWNvcmUvcGx1Z2lucy9hbmFseXRpY3MvdHlwZXMvbWVkaWEtZXZlbnRzJ1xuaW1wb3J0IHtcbiAgT3Blbk1lZGlhQWx0VGV4dE1lbnUsXG4gIENsb3NlTWVkaWFBbHRUZXh0TWVudSxcbiAgVXBkYXRlQWx0VGV4dFxufSBmcm9tICcuL2FjdGlvbnMnXG5cbmNvbnN0IGNyZWF0ZUNvbW1hbmRXaXRoQW5hbHl0aWNzID0gKFxuICBhY3Rpb25UeXBlOiBNZWRpYUFsdFRleHRBY3Rpb25UeXBlLFxuICBhY3Rpb246IChcbiAgICBzdGF0ZTogUmVhZG9ubHk8RWRpdG9yU3RhdGU8YW55Pj5cbiAgKSA9PiBmYWxzZSB8IE9wZW5NZWRpYUFsdFRleHRNZW51IHwgQ2xvc2VNZWRpYUFsdFRleHRNZW51IHwgVXBkYXRlQWx0VGV4dCxcbiAgdHJhbnNmb3JtPzogKHRyOiBUcmFuc2FjdGlvbiwgc3RhdGU6IEVkaXRvclN0YXRlKSA9PiBUcmFuc2FjdGlvblxuKSA9PiB7XG4gIHJldHVybiB3aXRoQW5hbHl0aWNzKHtcbiAgICBhY3Rpb246IGFjdGlvblR5cGUsXG4gICAgYWN0aW9uU3ViamVjdDogQUNUSU9OX1NVQkpFQ1QuTUVESUEsXG4gICAgYWN0aW9uU3ViamVjdElkOiBBQ1RJT05fU1VCSkVDVF9JRC5BTFRfVEVYVCxcbiAgICBldmVudFR5cGU6IEVWRU5UX1RZUEUuVFJBQ0tcbiAgfSkoY3JlYXRlQ29tbWFuZChhY3Rpb24sIHRyYW5zZm9ybSkpXG59XG5cbmV4cG9ydCBjb25zdCBjbG9zZU1lZGlhQWx0VGV4dE1lbnUgPSBjcmVhdGVDb21tYW5kKHN0YXRlID0+IHtcbiAgaWYgKGlzU2VsZWN0aW9uTWVkaWFTaW5nbGVOb2RlKHN0YXRlKSkge1xuICAgIHJldHVybiB7IHR5cGU6ICdjbG9zZU1lZGlhQWx0VGV4dE1lbnUnIH1cbiAgfVxuICByZXR1cm4gZmFsc2Vcbn0pXG5cbmV4cG9ydCBjb25zdCBvcGVuTWVkaWFBbHRUZXh0TWVudSA9IGNyZWF0ZUNvbW1hbmRXaXRoQW5hbHl0aWNzKFxuICBBQ1RJT04uT1BFTkVELFxuICBzdGF0ZSA9PiB7XG4gICAgaWYgKGlzU2VsZWN0aW9uTWVkaWFTaW5nbGVOb2RlKHN0YXRlKSkge1xuICAgICAgcmV0dXJuIHsgdHlwZTogJ29wZW5NZWRpYUFsdFRleHRNZW51JyB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZVxuICB9LFxuICAodHI6IFRyYW5zYWN0aW9uKSA9PiB0ci5zZXRNZXRhKCdzY3JvbGxJbnRvVmlldycsIGZhbHNlKVxuKVxuXG5leHBvcnQgY29uc3QgdXBkYXRlQWx0VGV4dCA9IChuZXdBbHRUZXh0OiBzdHJpbmcgfCBudWxsKSA9PlxuICBjcmVhdGVDb21tYW5kKFxuICAgIHN0YXRlID0+XG4gICAgICBpc1NlbGVjdGlvbk1lZGlhU2luZ2xlTm9kZShzdGF0ZSkgPyB7IHR5cGU6ICd1cGRhdGVBbHRUZXh0JyB9IDogZmFsc2UsXG4gICAgKHRyLCBzdGF0ZSkgPT4ge1xuICAgICAgY29uc3QgbWVkaWFOb2RlID0gZ2V0TWVkaWFOb2RlRnJvbVNlbGVjdGlvbihzdGF0ZSlcbiAgICAgIGNvbnN0IHBvcyA9IHRyLnNlbGVjdGlvbi5mcm9tICsgMVxuICAgICAgaWYgKG1lZGlhTm9kZSkge1xuICAgICAgICB0ci5zZXRNZXRhKCdzY3JvbGxJbnRvVmlldycsIGZhbHNlKVxuICAgICAgICB0ci5zZXROb2RlTWFya3VwKHBvcywgdW5kZWZpbmVkLCB7XG4gICAgICAgICAgLi4ubWVkaWFOb2RlLmF0dHJzLFxuICAgICAgICAgIGFsdDogbmV3QWx0VGV4dFxuICAgICAgICB9KVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHJcbiAgICB9XG4gIClcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUlBO0FBZ0JBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUVBO0FBRUE7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/plugins/media/pm-plugins/alt-text/commands.ts\n");

/***/ }),

/***/ "./src/plugins/media/pm-plugins/alt-text/index.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"pluginKey\", function() { return pluginKey; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createPlugin\", function() { return createPlugin; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createCommand\", function() { return createCommand; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getPluginState\", function() { return getPluginState; });\n/* harmony import */ var prosemirror_state__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/prosemirror-state/dist/index.es.js\");\n/* harmony import */ var _atlaskit_editor_core_utils_plugin_state_factory__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/utils/plugin-state-factory.ts\");\n/* harmony import */ var _reducer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./src/plugins/media/pm-plugins/alt-text/reducer.ts\");\n/* harmony import */ var _atlaskit_editor_core_plugins_history_pm_history_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/plugins/history/pm-history-types.ts\");\n\n\n\n\nvar pluginKey = new prosemirror_state__WEBPACK_IMPORTED_MODULE_0__[\"PluginKey\"]('mediaAltTextPlugin');\nvar _pluginFactory = Object(_atlaskit_editor_core_utils_plugin_state_factory__WEBPACK_IMPORTED_MODULE_1__[\"pluginFactory\"])(pluginKey, _reducer__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n    onSelectionChanged: function onSelectionChanged(tr, newState) {\n      // dont close alt text for undo/redo transactions (if it comes from prosemirror-history)\n      if (tr.getMeta(_atlaskit_editor_core_plugins_history_pm_history_types__WEBPACK_IMPORTED_MODULE_3__[\"pmHistoryPluginKey\"])) {\n        return newState;\n      }\n      return {\n        isAltTextEditorOpen: false\n      };\n    }\n  }),\n  createPluginState = _pluginFactory.createPluginState,\n  createCommand = _pluginFactory.createCommand,\n  getPluginState = _pluginFactory.getPluginState;\nvar createPlugin = function createPlugin(_ref) {\n  var dispatch = _ref.dispatch,\n    providerFactory = _ref.providerFactory;\n  return new prosemirror_state__WEBPACK_IMPORTED_MODULE_0__[\"Plugin\"]({\n    state: createPluginState(dispatch, {\n      isAltTextEditorOpen: false\n    }),\n    key: pluginKey,\n    view: function view() {\n      return {\n        update: function update(view, prev) {\n          var pluginState = getPluginState(view.state);\n          var oldPluginState = getPluginState(prev);\n          if (pluginState && oldPluginState && oldPluginState.isAltTextEditorOpen && !pluginState.isAltTextEditorOpen && !view.hasFocus()) {\n            view.focus();\n          }\n        }\n      };\n    }\n  });\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9tZWRpYS9wbS1wbHVnaW5zL2FsdC10ZXh0L2luZGV4LnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbnMvbWVkaWEvcG0tcGx1Z2lucy9hbHQtdGV4dC9pbmRleC50cz9lODI5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBsdWdpbiwgUGx1Z2luS2V5IH0gZnJvbSAncHJvc2VtaXJyb3Itc3RhdGUnXG5pbXBvcnQgeyBQTVBsdWdpbkZhY3RvcnlQYXJhbXMgfSBmcm9tICdAYXRsYXNraXQvZWRpdG9yLWNvcmUvdHlwZXMnXG5pbXBvcnQgeyBwbHVnaW5GYWN0b3J5IH0gZnJvbSAnQGF0bGFza2l0L2VkaXRvci1jb3JlL3V0aWxzL3BsdWdpbi1zdGF0ZS1mYWN0b3J5J1xuaW1wb3J0IHJlZHVjZXIgZnJvbSAnLi9yZWR1Y2VyJ1xuaW1wb3J0IHsgcG1IaXN0b3J5UGx1Z2luS2V5IH0gZnJvbSAnQGF0bGFza2l0L2VkaXRvci1jb3JlL3BsdWdpbnMvaGlzdG9yeS9wbS1oaXN0b3J5LXR5cGVzJ1xuXG5leHBvcnQgY29uc3QgcGx1Z2luS2V5ID0gbmV3IFBsdWdpbktleSgnbWVkaWFBbHRUZXh0UGx1Z2luJylcblxuY29uc3QgeyBjcmVhdGVQbHVnaW5TdGF0ZSwgY3JlYXRlQ29tbWFuZCwgZ2V0UGx1Z2luU3RhdGUgfSA9IHBsdWdpbkZhY3RvcnkoXG4gIHBsdWdpbktleSxcbiAgcmVkdWNlcixcbiAge1xuICAgIG9uU2VsZWN0aW9uQ2hhbmdlZDogKHRyLCBuZXdTdGF0ZSkgPT4ge1xuICAgICAgLy8gZG9udCBjbG9zZSBhbHQgdGV4dCBmb3IgdW5kby9yZWRvIHRyYW5zYWN0aW9ucyAoaWYgaXQgY29tZXMgZnJvbSBwcm9zZW1pcnJvci1oaXN0b3J5KVxuICAgICAgaWYgKHRyLmdldE1ldGEocG1IaXN0b3J5UGx1Z2luS2V5KSkge1xuICAgICAgICByZXR1cm4gbmV3U3RhdGVcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlzQWx0VGV4dEVkaXRvck9wZW46IGZhbHNlXG4gICAgICB9XG4gICAgfVxuICB9XG4pXG5cbmV4cG9ydCBjb25zdCBjcmVhdGVQbHVnaW4gPSAoe1xuICBkaXNwYXRjaCxcbiAgcHJvdmlkZXJGYWN0b3J5XG59OiBQTVBsdWdpbkZhY3RvcnlQYXJhbXMpID0+IHtcbiAgcmV0dXJuIG5ldyBQbHVnaW4oe1xuICAgIHN0YXRlOiBjcmVhdGVQbHVnaW5TdGF0ZShkaXNwYXRjaCwgeyBpc0FsdFRleHRFZGl0b3JPcGVuOiBmYWxzZSB9KSxcbiAgICBrZXk6IHBsdWdpbktleSxcbiAgICB2aWV3OiAoKSA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB1cGRhdGU6ICh2aWV3LCBwcmV2KSA9PiB7XG4gICAgICAgICAgY29uc3QgcGx1Z2luU3RhdGUgPSBnZXRQbHVnaW5TdGF0ZSh2aWV3LnN0YXRlKVxuICAgICAgICAgIGNvbnN0IG9sZFBsdWdpblN0YXRlID0gZ2V0UGx1Z2luU3RhdGUocHJldilcblxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHBsdWdpblN0YXRlICYmXG4gICAgICAgICAgICBvbGRQbHVnaW5TdGF0ZSAmJlxuICAgICAgICAgICAgb2xkUGx1Z2luU3RhdGUuaXNBbHRUZXh0RWRpdG9yT3BlbiAmJlxuICAgICAgICAgICAgIXBsdWdpblN0YXRlLmlzQWx0VGV4dEVkaXRvck9wZW4gJiZcbiAgICAgICAgICAgICF2aWV3Lmhhc0ZvY3VzKClcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHZpZXcuZm9jdXMoKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSlcbn1cblxuZXhwb3J0IHsgY3JlYXRlQ29tbWFuZCwgZ2V0UGx1Z2luU3RhdGUgfVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWJBO0FBQUE7QUFBQTtBQWdCQTtBQUdBO0FBREE7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/plugins/media/pm-plugins/alt-text/index.ts\n");

/***/ }),

/***/ "./src/plugins/media/pm-plugins/alt-text/keymap.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return keymapPlugin; });\n/* harmony import */ var prosemirror_keymap__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/prosemirror-keymap/dist/index.es.js\");\n/* harmony import */ var _atlaskit_editor_core_keymaps__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/keymaps/index.tsx\");\n/* harmony import */ var _commands__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./src/plugins/media/pm-plugins/alt-text/commands.ts\");\n\n\n\nfunction keymapPlugin(schema) {\n  var list = {};\n  _atlaskit_editor_core_keymaps__WEBPACK_IMPORTED_MODULE_1__[\"bindKeymapWithCommand\"](_atlaskit_editor_core_keymaps__WEBPACK_IMPORTED_MODULE_1__[\"addAltText\"].common, _commands__WEBPACK_IMPORTED_MODULE_2__[\"openMediaAltTextMenu\"], list);\n  _atlaskit_editor_core_keymaps__WEBPACK_IMPORTED_MODULE_1__[\"bindKeymapWithCommand\"](_atlaskit_editor_core_keymaps__WEBPACK_IMPORTED_MODULE_1__[\"escape\"].common, _commands__WEBPACK_IMPORTED_MODULE_2__[\"closeMediaAltTextMenu\"], list);\n  return Object(prosemirror_keymap__WEBPACK_IMPORTED_MODULE_0__[\"keymap\"])(list);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9tZWRpYS9wbS1wbHVnaW5zL2FsdC10ZXh0L2tleW1hcC50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9wbHVnaW5zL21lZGlhL3BtLXBsdWdpbnMvYWx0LXRleHQva2V5bWFwLnRzP2IzNjkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsga2V5bWFwIH0gZnJvbSAncHJvc2VtaXJyb3Ita2V5bWFwJ1xuaW1wb3J0IHsgU2NoZW1hIH0gZnJvbSAncHJvc2VtaXJyb3ItbW9kZWwnXG5pbXBvcnQgeyBQbHVnaW4gfSBmcm9tICdwcm9zZW1pcnJvci1zdGF0ZSdcbmltcG9ydCAqIGFzIGtleW1hcHMgZnJvbSAnQGF0bGFza2l0L2VkaXRvci1jb3JlL2tleW1hcHMnXG5pbXBvcnQgeyBvcGVuTWVkaWFBbHRUZXh0TWVudSwgY2xvc2VNZWRpYUFsdFRleHRNZW51IH0gZnJvbSAnLi9jb21tYW5kcydcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ga2V5bWFwUGx1Z2luKHNjaGVtYTogU2NoZW1hKTogUGx1Z2luIHtcbiAgY29uc3QgbGlzdCA9IHt9XG5cbiAga2V5bWFwcy5iaW5kS2V5bWFwV2l0aENvbW1hbmQoXG4gICAga2V5bWFwcy5hZGRBbHRUZXh0LmNvbW1vbiEsXG4gICAgb3Blbk1lZGlhQWx0VGV4dE1lbnUsXG4gICAgbGlzdFxuICApXG5cbiAga2V5bWFwcy5iaW5kS2V5bWFwV2l0aENvbW1hbmQoXG4gICAga2V5bWFwcy5lc2NhcGUuY29tbW9uISxcbiAgICBjbG9zZU1lZGlhQWx0VGV4dE1lbnUsXG4gICAgbGlzdFxuICApXG5cbiAgcmV0dXJuIGtleW1hcChsaXN0KVxufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBTUE7QUFNQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/plugins/media/pm-plugins/alt-text/keymap.ts\n");

/***/ }),

/***/ "./src/plugins/media/pm-plugins/alt-text/messages.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"messages\", function() { return messages; });\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/react-intl/lib/index.es.js\");\n\nvar messages = Object(react_intl__WEBPACK_IMPORTED_MODULE_0__[\"defineMessages\"])({\n  altText: {\n    id: 'fabric.editor.addAltText',\n    defaultMessage: 'Alt text',\n    description: 'Add an alt text for this image'\n  },\n  editAltText: {\n    id: 'fabric.editor.editAltText',\n    defaultMessage: 'Edit alt text',\n    description: 'Edit an alt text for this image'\n  },\n  back: {\n    id: 'fabric.editor.closeAltTextEdit',\n    defaultMessage: 'Back',\n    description: 'Back to toolbar'\n  },\n  clear: {\n    id: 'fabric.editor.clearAltTextEdit',\n    defaultMessage: 'Clear alt text',\n    description: 'Clear alt text'\n  },\n  placeholder: {\n    id: 'fabric.editor.placeholderAltText',\n    defaultMessage: 'Describe this image with alt text',\n    description: 'Describe this image with alt text'\n  },\n  supportText: {\n    id: 'fabric.editor.supportAltText',\n    defaultMessage: 'Alt text is useful for people using screen readers because of visual limitations.',\n    description: 'Alt text is useful for people using screen readers because of visual limitations.'\n  },\n  validationMessage: {\n    id: 'fabric.editor.alttext.validation',\n    defaultMessage: 'Please remove any special characters in alt text.',\n    description: 'Please remove any special characters in alt text. '\n  }\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9tZWRpYS9wbS1wbHVnaW5zL2FsdC10ZXh0L21lc3NhZ2VzLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbnMvbWVkaWEvcG0tcGx1Z2lucy9hbHQtdGV4dC9tZXNzYWdlcy50cz8xMTA5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGRlZmluZU1lc3NhZ2VzIH0gZnJvbSAncmVhY3QtaW50bCdcblxuZXhwb3J0IGNvbnN0IG1lc3NhZ2VzID0gZGVmaW5lTWVzc2FnZXMoe1xuICBhbHRUZXh0OiB7XG4gICAgaWQ6ICdmYWJyaWMuZWRpdG9yLmFkZEFsdFRleHQnLFxuICAgIGRlZmF1bHRNZXNzYWdlOiAnQWx0IHRleHQnLFxuICAgIGRlc2NyaXB0aW9uOiAnQWRkIGFuIGFsdCB0ZXh0IGZvciB0aGlzIGltYWdlJ1xuICB9LFxuICBlZGl0QWx0VGV4dDoge1xuICAgIGlkOiAnZmFicmljLmVkaXRvci5lZGl0QWx0VGV4dCcsXG4gICAgZGVmYXVsdE1lc3NhZ2U6ICdFZGl0IGFsdCB0ZXh0JyxcbiAgICBkZXNjcmlwdGlvbjogJ0VkaXQgYW4gYWx0IHRleHQgZm9yIHRoaXMgaW1hZ2UnXG4gIH0sXG4gIGJhY2s6IHtcbiAgICBpZDogJ2ZhYnJpYy5lZGl0b3IuY2xvc2VBbHRUZXh0RWRpdCcsXG4gICAgZGVmYXVsdE1lc3NhZ2U6ICdCYWNrJyxcbiAgICBkZXNjcmlwdGlvbjogJ0JhY2sgdG8gdG9vbGJhcidcbiAgfSxcbiAgY2xlYXI6IHtcbiAgICBpZDogJ2ZhYnJpYy5lZGl0b3IuY2xlYXJBbHRUZXh0RWRpdCcsXG4gICAgZGVmYXVsdE1lc3NhZ2U6ICdDbGVhciBhbHQgdGV4dCcsXG4gICAgZGVzY3JpcHRpb246ICdDbGVhciBhbHQgdGV4dCdcbiAgfSxcbiAgcGxhY2Vob2xkZXI6IHtcbiAgICBpZDogJ2ZhYnJpYy5lZGl0b3IucGxhY2Vob2xkZXJBbHRUZXh0JyxcbiAgICBkZWZhdWx0TWVzc2FnZTogJ0Rlc2NyaWJlIHRoaXMgaW1hZ2Ugd2l0aCBhbHQgdGV4dCcsXG4gICAgZGVzY3JpcHRpb246ICdEZXNjcmliZSB0aGlzIGltYWdlIHdpdGggYWx0IHRleHQnXG4gIH0sXG4gIHN1cHBvcnRUZXh0OiB7XG4gICAgaWQ6ICdmYWJyaWMuZWRpdG9yLnN1cHBvcnRBbHRUZXh0JyxcbiAgICBkZWZhdWx0TWVzc2FnZTpcbiAgICAgICdBbHQgdGV4dCBpcyB1c2VmdWwgZm9yIHBlb3BsZSB1c2luZyBzY3JlZW4gcmVhZGVycyBiZWNhdXNlIG9mIHZpc3VhbCBsaW1pdGF0aW9ucy4nLFxuICAgIGRlc2NyaXB0aW9uOlxuICAgICAgJ0FsdCB0ZXh0IGlzIHVzZWZ1bCBmb3IgcGVvcGxlIHVzaW5nIHNjcmVlbiByZWFkZXJzIGJlY2F1c2Ugb2YgdmlzdWFsIGxpbWl0YXRpb25zLidcbiAgfSxcbiAgdmFsaWRhdGlvbk1lc3NhZ2U6IHtcbiAgICBpZDogJ2ZhYnJpYy5lZGl0b3IuYWx0dGV4dC52YWxpZGF0aW9uJyxcbiAgICBkZWZhdWx0TWVzc2FnZTogJ1BsZWFzZSByZW1vdmUgYW55IHNwZWNpYWwgY2hhcmFjdGVycyBpbiBhbHQgdGV4dC4nLFxuICAgIGRlc2NyaXB0aW9uOiAnUGxlYXNlIHJlbW92ZSBhbnkgc3BlY2lhbCBjaGFyYWN0ZXJzIGluIGFsdCB0ZXh0LiAnXG4gIH1cbn0pXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/plugins/media/pm-plugins/alt-text/messages.ts\n");

/***/ }),

/***/ "./src/plugins/media/pm-plugins/alt-text/reducer.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (state, action) {\n  switch (action.type) {\n    case 'updateAltText':\n      {\n        return _objectSpread({}, state);\n      }\n    case 'openMediaAltTextMenu':\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          isAltTextEditorOpen: true\n        });\n      }\n    case 'closeMediaAltTextMenu':\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          isAltTextEditorOpen: false\n        });\n      }\n    default:\n      return state;\n  }\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9tZWRpYS9wbS1wbHVnaW5zL2FsdC10ZXh0L3JlZHVjZXIudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2lucy9tZWRpYS9wbS1wbHVnaW5zL2FsdC10ZXh0L3JlZHVjZXIudHM/NzQ4MCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNZWRpYUFsdFRleHRTdGF0ZSB9IGZyb20gJy4vdHlwZXMnXG5pbXBvcnQgeyBNZWRpYUFsdFRleHRBY3Rpb24gfSBmcm9tICcuL2FjdGlvbnMnXG5cbmV4cG9ydCBkZWZhdWx0IChcbiAgc3RhdGU6IE1lZGlhQWx0VGV4dFN0YXRlLFxuICBhY3Rpb246IE1lZGlhQWx0VGV4dEFjdGlvblxuKTogTWVkaWFBbHRUZXh0U3RhdGUgPT4ge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSAndXBkYXRlQWx0VGV4dCc6IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN0YXRlXG4gICAgICB9XG4gICAgfVxuICAgIGNhc2UgJ29wZW5NZWRpYUFsdFRleHRNZW51Jzoge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIGlzQWx0VGV4dEVkaXRvck9wZW46IHRydWVcbiAgICAgIH1cbiAgICB9XG4gICAgY2FzZSAnY2xvc2VNZWRpYUFsdFRleHRNZW51Jzoge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIGlzQWx0VGV4dEVkaXRvck9wZW46IGZhbHNlXG4gICAgICB9XG4gICAgfVxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gc3RhdGVcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFHQTtBQUlBO0FBQ0E7QUFBQTtBQUNBO0FBR0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/plugins/media/pm-plugins/alt-text/reducer.ts\n");

/***/ }),

/***/ "./src/plugins/media/pm-plugins/alt-text/style.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ClassNames\", function() { return ClassNames; });\nvar prefix = 'pm-alt-text';\nvar ClassNames = {\n  FLOATING_TOOLBAR_COMPONENT: \"\".concat(prefix, \"-alt-text-floating-toolbar\")\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9tZWRpYS9wbS1wbHVnaW5zL2FsdC10ZXh0L3N0eWxlLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbnMvbWVkaWEvcG0tcGx1Z2lucy9hbHQtdGV4dC9zdHlsZS50cz9lNmRiIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHByZWZpeCA9ICdwbS1hbHQtdGV4dCdcblxuZXhwb3J0IGNvbnN0IENsYXNzTmFtZXMgPSB7XG4gIEZMT0FUSU5HX1RPT0xCQVJfQ09NUE9ORU5UOiBgJHtwcmVmaXh9LWFsdC10ZXh0LWZsb2F0aW5nLXRvb2xiYXJgXG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/plugins/media/pm-plugins/alt-text/style.ts\n");

/***/ }),

/***/ "./src/plugins/media/pm-plugins/alt-text/ui/AltTextEdit.tsx":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CONTAINER_WIDTH_IN_PX\", function() { return CONTAINER_WIDTH_IN_PX; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MAX_ALT_TEXT_LENGTH\", function() { return MAX_ALT_TEXT_LENGTH; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AltTextEditComponent\", function() { return AltTextEditComponent; });\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/assertThisInitialized.js\");\n/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/inherits.js\");\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\");\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/getPrototypeOf.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js\");\n/* harmony import */ var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"./node_modules/styled-components/dist/styled-components.browser.esm.js\");\n/* harmony import */ var _atlaskit_theme_colors__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"./node_modules/@atlaskit/theme/dist/esm/colors.js\");\n/* harmony import */ var _atlaskit_icon_glyph_chevron_left_large__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"./node_modules/@atlaskit/icon/glyph/chevron-left-large.js\");\n/* harmony import */ var _atlaskit_icon_glyph_chevron_left_large__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_atlaskit_icon_glyph_chevron_left_large__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _atlaskit_icon_glyph_cross_circle__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"./node_modules/@atlaskit/icon/glyph/cross-circle.js\");\n/* harmony import */ var _atlaskit_icon_glyph_cross_circle__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_atlaskit_icon_glyph_cross_circle__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _messages__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"./src/plugins/media/pm-plugins/alt-text/messages.ts\");\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(\"./node_modules/react-intl/lib/index.es.js\");\n/* harmony import */ var _atlaskit_editor_core_plugins_floating_toolbar_ui_Button__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/plugins/floating-toolbar/ui/Button.tsx\");\n/* harmony import */ var _atlaskit_editor_core_ui_PanelTextInput__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/ui/PanelTextInput/index.tsx\");\n/* harmony import */ var _atlaskit_editor_core_keymaps__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/keymaps/index.tsx\");\n/* harmony import */ var _commands__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(\"./src/plugins/media/pm-plugins/alt-text/commands.ts\");\n/* harmony import */ var _atlaskit_analytics_next__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(\"./node_modules/@atlaskit/analytics-next/dist/esm/index.js\");\n/* harmony import */ var _atlaskit_editor_core_plugins_analytics__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/plugins/analytics/index.ts\");\n/* harmony import */ var _atlaskit_editor_core_ui_LinkSearch_ToolbarComponents__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/ui/LinkSearch/ToolbarComponents.tsx\");\n/* harmony import */ var _atlaskit_editor_common__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(\"./node_modules/@atlaskit/editor-common/dist/esm/index.js\");\n\n\n\n\n\n\n\n\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5, _templateObject6;\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar CONTAINER_WIDTH_IN_PX = _atlaskit_editor_core_ui_LinkSearch_ToolbarComponents__WEBPACK_IMPORTED_MODULE_21__[\"RECENT_SEARCH_WIDTH_IN_PX\"];\nvar MAX_ALT_TEXT_LENGTH = 510; // double tweet length\n\nvar SupportText = styled_components__WEBPACK_IMPORTED_MODULE_9__[\"default\"].p(_templateObject || (_templateObject = _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_7___default()([\"\\n  color: \", \";\\n  font-size: 12px;\\n  padding: 12px 40px;\\n  line-height: 20px;\\n  border-top: 1px solid \", \";\\n  margin: 0;\\n\"])), _atlaskit_theme_colors__WEBPACK_IMPORTED_MODULE_10__[\"N100\"], _atlaskit_theme_colors__WEBPACK_IMPORTED_MODULE_10__[\"N30\"]);\nvar Container = styled_components__WEBPACK_IMPORTED_MODULE_9__[\"default\"].div(_templateObject2 || (_templateObject2 = _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_7___default()([\"\\n  width: \", \"px;\\n  display: flex;\\n  flex-direction: column;\\n  overflow: auto;\\n  line-height: 2;\\n\"])), CONTAINER_WIDTH_IN_PX);\nvar InputWrapper = styled_components__WEBPACK_IMPORTED_MODULE_9__[\"default\"].section(_templateObject3 || (_templateObject3 = _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_7___default()([\"\\n  display: flex;\\n  line-height: 0;\\n  padding: 5px 0;\\n  align-items: center;\\n\"])));\nvar ValidationWrapper = styled_components__WEBPACK_IMPORTED_MODULE_9__[\"default\"].section(_templateObject4 || (_templateObject4 = _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_7___default()([\"\\n  display: flex;\\n  line-height: 0;\\n  padding: 12px 24px 12px 0;\\n  margin: 0 12px 0 40px;\\n  border-top: 1px solid \", \";\\n  align-items: start;\\n  display: flex;\\n  flex-direction: column;\\n\"])), _atlaskit_theme_colors__WEBPACK_IMPORTED_MODULE_10__[\"R400\"]);\nvar ButtonWrapper = styled_components__WEBPACK_IMPORTED_MODULE_9__[\"default\"].div(_templateObject5 || (_templateObject5 = _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_7___default()([\"\\n  display: flex;\\n  padding: 4px 8px;\\n\"])));\nvar ClearText = styled_components__WEBPACK_IMPORTED_MODULE_9__[\"default\"].span(_templateObject6 || (_templateObject6 = _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_7___default()([\"\\n  color: \", \";\\n\"])), _atlaskit_theme_colors__WEBPACK_IMPORTED_MODULE_10__[\"N80\"]);\nvar AltTextEditComponent = /*#__PURE__*/function (_React$Component) {\n  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default()(AltTextEditComponent, _React$Component);\n  var _super = _createSuper(AltTextEditComponent);\n  function AltTextEditComponent(props) {\n    var _this;\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, AltTextEditComponent);\n    _this = _super.call(this, props);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(_this), \"fireCustomAnalytics\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(_this), \"state\", {\n      showClearTextButton: Boolean(_this.props.value),\n      validationErrors: _this.props.value ? _this.getValidationErrors(_this.props.value) : [],\n      lastValue: _this.props.value\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(_this), \"prevValue\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(_this), \"closeMediaAltTextMenu\", function () {\n      var view = _this.props.view;\n      Object(_commands__WEBPACK_IMPORTED_MODULE_18__[\"closeMediaAltTextMenu\"])(view.state, view.dispatch);\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(_this), \"dispatchCancelEvent\", function (event) {\n      var view = _this.props.view;\n\n      // We need to pass down the ESCAPE keymap\n      // because when we focus on the Toolbar, Prosemirror blur,\n      // making all keyboard shortcuts not working\n      view.someProp('handleKeyDown', function (fn) {\n        return fn(view, event);\n      });\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(_this), \"updateAltText\", function (newAltText) {\n      var view = _this.props.view;\n      var newValue = newAltText.length === 0 ? null : newAltText;\n      Object(_commands__WEBPACK_IMPORTED_MODULE_18__[\"updateAltText\"])(newValue)(view.state, view.dispatch);\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(_this), \"handleOnChange\", function (newAltText) {\n      var validationErrors = _this.getValidationErrors(newAltText);\n      _this.setState({\n        showClearTextButton: Boolean(newAltText),\n        validationErrors: validationErrors,\n        lastValue: newAltText\n      }, function () {\n        if (!validationErrors || !validationErrors.length) {\n          _this.updateAltText(newAltText);\n        }\n      });\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(_this), \"handleOnBlur\", function () {\n      // Handling the trimming onBlur() because PanelTextInput doesn't sync\n      // defaultValue properly during unmount\n      var value = _this.props.value;\n      var newValue = (_this.state.lastValue || value || '').trim();\n      _this.handleOnChange(newValue);\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(_this), \"handleClearText\", function () {\n      _this.handleOnChange('');\n    });\n    var createAnalyticsEvent = props.createAnalyticsEvent;\n    _this.fireCustomAnalytics = Object(_atlaskit_editor_core_plugins_analytics__WEBPACK_IMPORTED_MODULE_20__[\"fireAnalyticsEvent\"])(createAnalyticsEvent);\n    return _this;\n  }\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(AltTextEditComponent, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.prevValue = this.props.value;\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.fireAnalytics(_atlaskit_editor_core_plugins_analytics__WEBPACK_IMPORTED_MODULE_20__[\"ACTION\"].CLOSED);\n      if (!this.prevValue && this.props.value) {\n        this.fireAnalytics(_atlaskit_editor_core_plugins_analytics__WEBPACK_IMPORTED_MODULE_20__[\"ACTION\"].ADDED);\n      }\n      if (this.prevValue && !this.props.value) {\n        this.fireAnalytics(_atlaskit_editor_core_plugins_analytics__WEBPACK_IMPORTED_MODULE_20__[\"ACTION\"].CLEARED);\n      }\n      if (this.prevValue && this.prevValue !== this.props.value) {\n        this.fireAnalytics(_atlaskit_editor_core_plugins_analytics__WEBPACK_IMPORTED_MODULE_20__[\"ACTION\"].EDITED);\n      }\n    }\n  }, {\n    key: \"getValidationErrors\",\n    value: function getValidationErrors(value) {\n      var altTextValidator = this.props.altTextValidator;\n      if (value && typeof altTextValidator === 'function') {\n        return altTextValidator(value) || [];\n      }\n      return [];\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var formatMessage = this.props.intl.formatMessage;\n      var showClearTextButton = this.state.showClearTextButton;\n      var backButtonMessage = formatMessage(_messages__WEBPACK_IMPORTED_MODULE_13__[\"messages\"].back);\n      var backButtonMessageComponent = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_atlaskit_editor_core_keymaps__WEBPACK_IMPORTED_MODULE_17__[\"ToolTipContent\"], {\n        description: backButtonMessage,\n        keymap: _atlaskit_editor_core_keymaps__WEBPACK_IMPORTED_MODULE_17__[\"escape\"],\n        shortcutOverride: \"Esc\"\n      });\n      var errorsList = (this.state.validationErrors || []).map(function (error, index) {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_atlaskit_editor_common__WEBPACK_IMPORTED_MODULE_22__[\"ErrorMessage\"], {\n          key: index\n        }, error);\n      });\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(Container, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(InputWrapper, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(ButtonWrapper, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_atlaskit_editor_core_plugins_floating_toolbar_ui_Button__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n        title: formatMessage(_messages__WEBPACK_IMPORTED_MODULE_13__[\"messages\"].back),\n        icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_atlaskit_icon_glyph_chevron_left_large__WEBPACK_IMPORTED_MODULE_11___default.a, {\n          label: formatMessage(_messages__WEBPACK_IMPORTED_MODULE_13__[\"messages\"].back)\n        }),\n        tooltipContent: backButtonMessageComponent,\n        onClick: this.closeMediaAltTextMenu\n      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_atlaskit_editor_core_ui_PanelTextInput__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n        testId: \"alt-text-input\",\n        placeholder: formatMessage(_messages__WEBPACK_IMPORTED_MODULE_13__[\"messages\"].placeholder),\n        defaultValue: this.state.lastValue,\n        onCancel: this.dispatchCancelEvent,\n        onChange: this.handleOnChange,\n        onBlur: this.handleOnBlur,\n        onSubmit: this.closeMediaAltTextMenu,\n        maxLength: MAX_ALT_TEXT_LENGTH,\n        autoFocus: true\n      }), showClearTextButton && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(ButtonWrapper, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_atlaskit_editor_core_plugins_floating_toolbar_ui_Button__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n        testId: \"alt-text-clear-button\",\n        title: formatMessage(_messages__WEBPACK_IMPORTED_MODULE_13__[\"messages\"].clear),\n        icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(ClearText, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_atlaskit_icon_glyph_cross_circle__WEBPACK_IMPORTED_MODULE_12___default.a, {\n          label: formatMessage(_messages__WEBPACK_IMPORTED_MODULE_13__[\"messages\"].clear)\n        })),\n        tooltipContent: formatMessage(_messages__WEBPACK_IMPORTED_MODULE_13__[\"messages\"].clear),\n        onClick: this.handleClearText\n      }))), !!errorsList.length && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(ValidationWrapper, null, errorsList), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(SupportText, null, formatMessage(_messages__WEBPACK_IMPORTED_MODULE_13__[\"messages\"].supportText)));\n    }\n  }, {\n    key: \"fireAnalytics\",\n    value: function fireAnalytics(actionType) {\n      var createAnalyticsEvent = this.props.createAnalyticsEvent;\n      if (createAnalyticsEvent && this.fireCustomAnalytics) {\n        this.fireCustomAnalytics({\n          payload: {\n            action: actionType,\n            actionSubject: _atlaskit_editor_core_plugins_analytics__WEBPACK_IMPORTED_MODULE_20__[\"ACTION_SUBJECT\"].MEDIA,\n            actionSubjectId: _atlaskit_editor_core_plugins_analytics__WEBPACK_IMPORTED_MODULE_20__[\"ACTION_SUBJECT_ID\"].ALT_TEXT,\n            eventType: _atlaskit_editor_core_plugins_analytics__WEBPACK_IMPORTED_MODULE_20__[\"EVENT_TYPE\"].TRACK\n          }\n        });\n      }\n    }\n  }]);\n  return AltTextEditComponent;\n}(react__WEBPACK_IMPORTED_MODULE_8___default.a.Component);\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_atlaskit_analytics_next__WEBPACK_IMPORTED_MODULE_19__[\"withAnalyticsEvents\"])()(Object(react_intl__WEBPACK_IMPORTED_MODULE_14__[\"injectIntl\"])(AltTextEditComponent)));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9tZWRpYS9wbS1wbHVnaW5zL2FsdC10ZXh0L3VpL0FsdFRleHRFZGl0LnRzeC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9wbHVnaW5zL21lZGlhL3BtLXBsdWdpbnMvYWx0LXRleHQvdWkvQWx0VGV4dEVkaXQudHN4PzJjYWEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgS2V5Ym9hcmRFdmVudCB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgRWRpdG9yVmlldyB9IGZyb20gJ3Byb3NlbWlycm9yLXZpZXcnXG5pbXBvcnQgc3R5bGVkIGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJ1xuaW1wb3J0IHsgTjEwMCwgTjMwLCBSNDAwLCBOODAgfSBmcm9tICdAYXRsYXNraXQvdGhlbWUvY29sb3JzJ1xuaW1wb3J0IENoZXZyb25MZWZ0TGFyZ2VJY29uIGZyb20gJ0BhdGxhc2tpdC9pY29uL2dseXBoL2NoZXZyb24tbGVmdC1sYXJnZSdcbmltcG9ydCBDcm9zc0NpcmNsZUljb24gZnJvbSAnQGF0bGFza2l0L2ljb24vZ2x5cGgvY3Jvc3MtY2lyY2xlJ1xuaW1wb3J0IHsgbWVzc2FnZXMgfSBmcm9tICcuLi9tZXNzYWdlcydcbmltcG9ydCB7IGluamVjdEludGwsIEluamVjdGVkSW50bFByb3BzIH0gZnJvbSAncmVhY3QtaW50bCdcbmltcG9ydCBCdXR0b24gZnJvbSAnQGF0bGFza2l0L2VkaXRvci1jb3JlL3BsdWdpbnMvZmxvYXRpbmctdG9vbGJhci91aS9CdXR0b24nXG5pbXBvcnQgUGFuZWxUZXh0SW5wdXQgZnJvbSAnQGF0bGFza2l0L2VkaXRvci1jb3JlL3VpL1BhbmVsVGV4dElucHV0J1xuaW1wb3J0ICogYXMga2V5bWFwcyBmcm9tICdAYXRsYXNraXQvZWRpdG9yLWNvcmUva2V5bWFwcydcbmltcG9ydCB7IFRvb2xUaXBDb250ZW50IH0gZnJvbSAnQGF0bGFza2l0L2VkaXRvci1jb3JlL2tleW1hcHMnXG5pbXBvcnQgeyBjbG9zZU1lZGlhQWx0VGV4dE1lbnUsIHVwZGF0ZUFsdFRleHQgfSBmcm9tICcuLi9jb21tYW5kcydcbmltcG9ydCB7XG4gIHdpdGhBbmFseXRpY3NFdmVudHMsXG4gIFdpdGhBbmFseXRpY3NFdmVudHNQcm9wc1xufSBmcm9tICdAYXRsYXNraXQvYW5hbHl0aWNzLW5leHQnXG5pbXBvcnQge1xuICBBQ1RJT05fU1VCSkVDVCxcbiAgQUNUSU9OX1NVQkpFQ1RfSUQsXG4gIEVWRU5UX1RZUEUsXG4gIGZpcmVBbmFseXRpY3NFdmVudCxcbiAgQUNUSU9OLFxuICBNZWRpYUFsdFRleHRBY3Rpb25UeXBlLFxuICBGaXJlQW5hbHl0aWNzQ2FsbGJhY2tcbn0gZnJvbSAnQGF0bGFza2l0L2VkaXRvci1jb3JlL3BsdWdpbnMvYW5hbHl0aWNzJ1xuaW1wb3J0IHsgUkVDRU5UX1NFQVJDSF9XSURUSF9JTl9QWCB9IGZyb20gJ0BhdGxhc2tpdC9lZGl0b3ItY29yZS91aS9MaW5rU2VhcmNoL1Rvb2xiYXJDb21wb25lbnRzJ1xuXG5pbXBvcnQgeyBFcnJvck1lc3NhZ2UgfSBmcm9tICdAYXRsYXNraXQvZWRpdG9yLWNvbW1vbidcblxuZXhwb3J0IGNvbnN0IENPTlRBSU5FUl9XSURUSF9JTl9QWCA9IFJFQ0VOVF9TRUFSQ0hfV0lEVEhfSU5fUFhcbmV4cG9ydCBjb25zdCBNQVhfQUxUX1RFWFRfTEVOR1RIID0gNTEwIC8vIGRvdWJsZSB0d2VldCBsZW5ndGhcblxuY29uc3QgU3VwcG9ydFRleHQgPSBzdHlsZWQucGBcbiAgY29sb3I6ICR7TjEwMH07XG4gIGZvbnQtc2l6ZTogMTJweDtcbiAgcGFkZGluZzogMTJweCA0MHB4O1xuICBsaW5lLWhlaWdodDogMjBweDtcbiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICR7TjMwfTtcbiAgbWFyZ2luOiAwO1xuYFxuXG5jb25zdCBDb250YWluZXIgPSBzdHlsZWQuZGl2YFxuICB3aWR0aDogJHtDT05UQUlORVJfV0lEVEhfSU5fUFh9cHg7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIG92ZXJmbG93OiBhdXRvO1xuICBsaW5lLWhlaWdodDogMjtcbmBcblxuY29uc3QgSW5wdXRXcmFwcGVyID0gc3R5bGVkLnNlY3Rpb25gXG4gIGRpc3BsYXk6IGZsZXg7XG4gIGxpbmUtaGVpZ2h0OiAwO1xuICBwYWRkaW5nOiA1cHggMDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbmBcblxuY29uc3QgVmFsaWRhdGlvbldyYXBwZXIgPSBzdHlsZWQuc2VjdGlvbmBcbiAgZGlzcGxheTogZmxleDtcbiAgbGluZS1oZWlnaHQ6IDA7XG4gIHBhZGRpbmc6IDEycHggMjRweCAxMnB4IDA7XG4gIG1hcmdpbjogMCAxMnB4IDAgNDBweDtcbiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICR7UjQwMH07XG4gIGFsaWduLWl0ZW1zOiBzdGFydDtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbmBcblxuY29uc3QgQnV0dG9uV3JhcHBlciA9IHN0eWxlZC5kaXZgXG4gIGRpc3BsYXk6IGZsZXg7XG4gIHBhZGRpbmc6IDRweCA4cHg7XG5gXG5cbmNvbnN0IENsZWFyVGV4dCA9IHN0eWxlZC5zcGFuYFxuICBjb2xvcjogJHtOODB9O1xuYFxuXG50eXBlIFByb3BzID0ge1xuICB2aWV3OiBFZGl0b3JWaWV3XG4gIHZhbHVlPzogc3RyaW5nXG4gIGFsdFRleHRWYWxpZGF0b3I/OiAodmFsdWU6IHN0cmluZykgPT4gc3RyaW5nW11cbn0gJiBJbmplY3RlZEludGxQcm9wcyAmXG4gIFdpdGhBbmFseXRpY3NFdmVudHNQcm9wc1xuXG5leHBvcnQgdHlwZSBBbHRUZXh0RWRpdENvbXBvbmVudFN0YXRlID0ge1xuICBzaG93Q2xlYXJUZXh0QnV0dG9uOiBib29sZWFuXG4gIHZhbGlkYXRpb25FcnJvcnM6IHN0cmluZ1tdIHwgdW5kZWZpbmVkXG4gIGxhc3RWYWx1ZTogc3RyaW5nIHwgdW5kZWZpbmVkXG59XG5cbmV4cG9ydCBjbGFzcyBBbHRUZXh0RWRpdENvbXBvbmVudCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxcbiAgUHJvcHMsXG4gIEFsdFRleHRFZGl0Q29tcG9uZW50U3RhdGVcbj4ge1xuICBwcml2YXRlIGZpcmVDdXN0b21BbmFseXRpY3M/OiBGaXJlQW5hbHl0aWNzQ2FsbGJhY2tcbiAgc3RhdGUgPSB7XG4gICAgc2hvd0NsZWFyVGV4dEJ1dHRvbjogQm9vbGVhbih0aGlzLnByb3BzLnZhbHVlKSxcbiAgICB2YWxpZGF0aW9uRXJyb3JzOiB0aGlzLnByb3BzLnZhbHVlXG4gICAgICA/IHRoaXMuZ2V0VmFsaWRhdGlvbkVycm9ycyh0aGlzLnByb3BzLnZhbHVlKVxuICAgICAgOiBbXSxcbiAgICBsYXN0VmFsdWU6IHRoaXMucHJvcHMudmFsdWVcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKHByb3BzOiBQcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgY29uc3QgeyBjcmVhdGVBbmFseXRpY3NFdmVudCB9ID0gcHJvcHNcbiAgICB0aGlzLmZpcmVDdXN0b21BbmFseXRpY3MgPSBmaXJlQW5hbHl0aWNzRXZlbnQoY3JlYXRlQW5hbHl0aWNzRXZlbnQpXG4gIH1cblxuICBwcmV2VmFsdWU6IHN0cmluZyB8IHVuZGVmaW5lZFxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRoaXMucHJldlZhbHVlID0gdGhpcy5wcm9wcy52YWx1ZVxuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgdGhpcy5maXJlQW5hbHl0aWNzKEFDVElPTi5DTE9TRUQpXG4gICAgaWYgKCF0aGlzLnByZXZWYWx1ZSAmJiB0aGlzLnByb3BzLnZhbHVlKSB7XG4gICAgICB0aGlzLmZpcmVBbmFseXRpY3MoQUNUSU9OLkFEREVEKVxuICAgIH1cbiAgICBpZiAodGhpcy5wcmV2VmFsdWUgJiYgIXRoaXMucHJvcHMudmFsdWUpIHtcbiAgICAgIHRoaXMuZmlyZUFuYWx5dGljcyhBQ1RJT04uQ0xFQVJFRClcbiAgICB9XG4gICAgaWYgKHRoaXMucHJldlZhbHVlICYmIHRoaXMucHJldlZhbHVlICE9PSB0aGlzLnByb3BzLnZhbHVlKSB7XG4gICAgICB0aGlzLmZpcmVBbmFseXRpY3MoQUNUSU9OLkVESVRFRClcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGdldFZhbGlkYXRpb25FcnJvcnModmFsdWU6IHN0cmluZyk6IHN0cmluZ1tdIHtcbiAgICBjb25zdCB7IGFsdFRleHRWYWxpZGF0b3IgfSA9IHRoaXMucHJvcHNcbiAgICBpZiAodmFsdWUgJiYgdHlwZW9mIGFsdFRleHRWYWxpZGF0b3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiBhbHRUZXh0VmFsaWRhdG9yKHZhbHVlKSB8fCBbXVxuICAgIH1cbiAgICByZXR1cm4gW11cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7XG4gICAgICBpbnRsOiB7IGZvcm1hdE1lc3NhZ2UgfVxuICAgIH0gPSB0aGlzLnByb3BzXG4gICAgY29uc3QgeyBzaG93Q2xlYXJUZXh0QnV0dG9uIH0gPSB0aGlzLnN0YXRlXG5cbiAgICBjb25zdCBiYWNrQnV0dG9uTWVzc2FnZSA9IGZvcm1hdE1lc3NhZ2UobWVzc2FnZXMuYmFjaylcbiAgICBjb25zdCBiYWNrQnV0dG9uTWVzc2FnZUNvbXBvbmVudCA9IChcbiAgICAgIDxUb29sVGlwQ29udGVudFxuICAgICAgICBkZXNjcmlwdGlvbj17YmFja0J1dHRvbk1lc3NhZ2V9XG4gICAgICAgIGtleW1hcD17a2V5bWFwcy5lc2NhcGV9XG4gICAgICAgIHNob3J0Y3V0T3ZlcnJpZGU9XCJFc2NcIlxuICAgICAgLz5cbiAgICApXG5cbiAgICBjb25zdCBlcnJvcnNMaXN0ID0gKHRoaXMuc3RhdGUudmFsaWRhdGlvbkVycm9ycyB8fCBbXSkubWFwKGZ1bmN0aW9uKFxuICAgICAgZXJyb3IsXG4gICAgICBpbmRleFxuICAgICkge1xuICAgICAgcmV0dXJuIDxFcnJvck1lc3NhZ2Uga2V5PXtpbmRleH0+e2Vycm9yfTwvRXJyb3JNZXNzYWdlPlxuICAgIH0pXG5cbiAgICByZXR1cm4gKFxuICAgICAgPENvbnRhaW5lcj5cbiAgICAgICAgPElucHV0V3JhcHBlcj5cbiAgICAgICAgICA8QnV0dG9uV3JhcHBlcj5cbiAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgdGl0bGU9e2Zvcm1hdE1lc3NhZ2UobWVzc2FnZXMuYmFjayl9XG4gICAgICAgICAgICAgIGljb249e1xuICAgICAgICAgICAgICAgIDxDaGV2cm9uTGVmdExhcmdlSWNvbiBsYWJlbD17Zm9ybWF0TWVzc2FnZShtZXNzYWdlcy5iYWNrKX0gLz5cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB0b29sdGlwQ29udGVudD17YmFja0J1dHRvbk1lc3NhZ2VDb21wb25lbnR9XG4gICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuY2xvc2VNZWRpYUFsdFRleHRNZW51fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L0J1dHRvbldyYXBwZXI+XG4gICAgICAgICAgPFBhbmVsVGV4dElucHV0XG4gICAgICAgICAgICB0ZXN0SWQ9XCJhbHQtdGV4dC1pbnB1dFwiXG4gICAgICAgICAgICBwbGFjZWhvbGRlcj17Zm9ybWF0TWVzc2FnZShtZXNzYWdlcy5wbGFjZWhvbGRlcil9XG4gICAgICAgICAgICBkZWZhdWx0VmFsdWU9e3RoaXMuc3RhdGUubGFzdFZhbHVlfVxuICAgICAgICAgICAgb25DYW5jZWw9e3RoaXMuZGlzcGF0Y2hDYW5jZWxFdmVudH1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmhhbmRsZU9uQ2hhbmdlfVxuICAgICAgICAgICAgb25CbHVyPXt0aGlzLmhhbmRsZU9uQmx1cn1cbiAgICAgICAgICAgIG9uU3VibWl0PXt0aGlzLmNsb3NlTWVkaWFBbHRUZXh0TWVudX1cbiAgICAgICAgICAgIG1heExlbmd0aD17TUFYX0FMVF9URVhUX0xFTkdUSH1cbiAgICAgICAgICAgIGF1dG9Gb2N1c1xuICAgICAgICAgIC8+XG4gICAgICAgICAge3Nob3dDbGVhclRleHRCdXR0b24gJiYgKFxuICAgICAgICAgICAgPEJ1dHRvbldyYXBwZXI+XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICB0ZXN0SWQ9XCJhbHQtdGV4dC1jbGVhci1idXR0b25cIlxuICAgICAgICAgICAgICAgIHRpdGxlPXtmb3JtYXRNZXNzYWdlKG1lc3NhZ2VzLmNsZWFyKX1cbiAgICAgICAgICAgICAgICBpY29uPXtcbiAgICAgICAgICAgICAgICAgIDxDbGVhclRleHQ+XG4gICAgICAgICAgICAgICAgICAgIDxDcm9zc0NpcmNsZUljb24gbGFiZWw9e2Zvcm1hdE1lc3NhZ2UobWVzc2FnZXMuY2xlYXIpfSAvPlxuICAgICAgICAgICAgICAgICAgPC9DbGVhclRleHQ+XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRvb2x0aXBDb250ZW50PXtmb3JtYXRNZXNzYWdlKG1lc3NhZ2VzLmNsZWFyKX1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmhhbmRsZUNsZWFyVGV4dH1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvQnV0dG9uV3JhcHBlcj5cbiAgICAgICAgICApfVxuICAgICAgICA8L0lucHV0V3JhcHBlcj5cbiAgICAgICAgeyEhZXJyb3JzTGlzdC5sZW5ndGggJiYgKFxuICAgICAgICAgIDxWYWxpZGF0aW9uV3JhcHBlcj57ZXJyb3JzTGlzdH08L1ZhbGlkYXRpb25XcmFwcGVyPlxuICAgICAgICApfVxuICAgICAgICA8U3VwcG9ydFRleHQ+e2Zvcm1hdE1lc3NhZ2UobWVzc2FnZXMuc3VwcG9ydFRleHQpfTwvU3VwcG9ydFRleHQ+XG4gICAgICA8L0NvbnRhaW5lcj5cbiAgICApXG4gIH1cblxuICBwcml2YXRlIGNsb3NlTWVkaWFBbHRUZXh0TWVudSA9ICgpID0+IHtcbiAgICBjb25zdCB7IHZpZXcgfSA9IHRoaXMucHJvcHNcbiAgICBjbG9zZU1lZGlhQWx0VGV4dE1lbnUodmlldy5zdGF0ZSwgdmlldy5kaXNwYXRjaClcbiAgfVxuXG4gIHByaXZhdGUgZmlyZUFuYWx5dGljcyhhY3Rpb25UeXBlOiBNZWRpYUFsdFRleHRBY3Rpb25UeXBlKSB7XG4gICAgY29uc3QgeyBjcmVhdGVBbmFseXRpY3NFdmVudCB9ID0gdGhpcy5wcm9wc1xuICAgIGlmIChjcmVhdGVBbmFseXRpY3NFdmVudCAmJiB0aGlzLmZpcmVDdXN0b21BbmFseXRpY3MpIHtcbiAgICAgIHRoaXMuZmlyZUN1c3RvbUFuYWx5dGljcyh7XG4gICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICBhY3Rpb246IGFjdGlvblR5cGUsXG4gICAgICAgICAgYWN0aW9uU3ViamVjdDogQUNUSU9OX1NVQkpFQ1QuTUVESUEsXG4gICAgICAgICAgYWN0aW9uU3ViamVjdElkOiBBQ1RJT05fU1VCSkVDVF9JRC5BTFRfVEVYVCxcbiAgICAgICAgICBldmVudFR5cGU6IEVWRU5UX1RZUEUuVFJBQ0tcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGRpc3BhdGNoQ2FuY2VsRXZlbnQgPSAoZXZlbnQ6IEtleWJvYXJkRXZlbnQpID0+IHtcbiAgICBjb25zdCB7IHZpZXcgfSA9IHRoaXMucHJvcHNcblxuICAgIC8vIFdlIG5lZWQgdG8gcGFzcyBkb3duIHRoZSBFU0NBUEUga2V5bWFwXG4gICAgLy8gYmVjYXVzZSB3aGVuIHdlIGZvY3VzIG9uIHRoZSBUb29sYmFyLCBQcm9zZW1pcnJvciBibHVyLFxuICAgIC8vIG1ha2luZyBhbGwga2V5Ym9hcmQgc2hvcnRjdXRzIG5vdCB3b3JraW5nXG4gICAgdmlldy5zb21lUHJvcCgnaGFuZGxlS2V5RG93bicsIChmbjogYW55KSA9PiBmbih2aWV3LCBldmVudCkpXG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZUFsdFRleHQgPSAobmV3QWx0VGV4dDogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgeyB2aWV3IH0gPSB0aGlzLnByb3BzXG4gICAgY29uc3QgbmV3VmFsdWUgPSBuZXdBbHRUZXh0Lmxlbmd0aCA9PT0gMCA/IG51bGwgOiBuZXdBbHRUZXh0XG4gICAgdXBkYXRlQWx0VGV4dChuZXdWYWx1ZSkodmlldy5zdGF0ZSwgdmlldy5kaXNwYXRjaClcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlT25DaGFuZ2UgPSAobmV3QWx0VGV4dDogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgdmFsaWRhdGlvbkVycm9ycyA9IHRoaXMuZ2V0VmFsaWRhdGlvbkVycm9ycyhuZXdBbHRUZXh0KVxuXG4gICAgdGhpcy5zZXRTdGF0ZShcbiAgICAgIHtcbiAgICAgICAgc2hvd0NsZWFyVGV4dEJ1dHRvbjogQm9vbGVhbihuZXdBbHRUZXh0KSxcbiAgICAgICAgdmFsaWRhdGlvbkVycm9ycyxcbiAgICAgICAgbGFzdFZhbHVlOiBuZXdBbHRUZXh0XG4gICAgICB9LFxuICAgICAgKCkgPT4ge1xuICAgICAgICBpZiAoIXZhbGlkYXRpb25FcnJvcnMgfHwgIXZhbGlkYXRpb25FcnJvcnMubGVuZ3RoKSB7XG4gICAgICAgICAgdGhpcy51cGRhdGVBbHRUZXh0KG5ld0FsdFRleHQpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApXG4gIH1cblxuICBwcml2YXRlIGhhbmRsZU9uQmx1ciA9ICgpID0+IHtcbiAgICAvLyBIYW5kbGluZyB0aGUgdHJpbW1pbmcgb25CbHVyKCkgYmVjYXVzZSBQYW5lbFRleHRJbnB1dCBkb2Vzbid0IHN5bmNcbiAgICAvLyBkZWZhdWx0VmFsdWUgcHJvcGVybHkgZHVyaW5nIHVubW91bnRcbiAgICBjb25zdCB7IHZhbHVlIH0gPSB0aGlzLnByb3BzXG4gICAgY29uc3QgbmV3VmFsdWUgPSAodGhpcy5zdGF0ZS5sYXN0VmFsdWUgfHwgdmFsdWUgfHwgJycpLnRyaW0oKVxuICAgIHRoaXMuaGFuZGxlT25DaGFuZ2UobmV3VmFsdWUpXG4gIH1cblxuICBwcml2YXRlIGhhbmRsZUNsZWFyVGV4dCA9ICgpID0+IHtcbiAgICB0aGlzLmhhbmRsZU9uQ2hhbmdlKCcnKVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IHdpdGhBbmFseXRpY3NFdmVudHMoKShpbmplY3RJbnRsKEFsdFRleHRFZGl0Q29tcG9uZW50KSlcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFTQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFTQTtBQVFBO0FBT0E7QUFXQTtBQUtBO0FBaUJBO0FBQUE7QUFBQTtBQWFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQVJBO0FBQ0E7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQTJHQTtBQUNBO0FBQ0E7QUFBQTtBQWlCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFsS0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFLQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBR0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFJQTtBQUlBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFLQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBS0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQVdBO0FBQUE7QUFBQTtBQUFBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBK0NBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/plugins/media/pm-plugins/alt-text/ui/AltTextEdit.tsx\n");

/***/ }),

/***/ "./src/plugins/media/pm-plugins/keymap-media-single.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return keymapPlugin; });\n/* harmony import */ var prosemirror_keymap__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/prosemirror-keymap/dist/index.es.js\");\n/* harmony import */ var _atlaskit_editor_core_keymaps__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/keymaps/index.tsx\");\n/* harmony import */ var _atlaskit_editor_core_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/utils/index.ts\");\n/* harmony import */ var prosemirror_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./node_modules/prosemirror-utils/dist/index.js\");\n/* harmony import */ var prosemirror_utils__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(prosemirror_utils__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var prosemirror_commands__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./node_modules/prosemirror-commands/dist/index.es.js\");\n/* harmony import */ var _atlaskit_editor_core_utils_prosemirror_position__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/utils/prosemirror/position.ts\");\n\n\n\n\n\n\n\n/**\n * Check if is an empty selection at the start of the node\n */\nfunction isEmptySelectionAtStart(selection) {\n  if (!selection.empty) {\n    return false;\n  }\n  var $from = selection.$from;\n  return $from.parentOffset <= 0;\n}\n\n/**\n * Check if the current selection is inside a node type\n */\nfunction isSelectionInsideOf(selection, nodeType) {\n  var $from = selection.$from;\n  var parent = $from.parent;\n  return parent.type === nodeType;\n}\n\n/**\n * Return the sibling of the current selection\n */\nfunction getSibling(selection, sibling) {\n  var $from = selection.$from;\n  var index = $from.index($from.depth - 1);\n  var grandParent = $from.node($from.depth - 1); // Get GrandParent\n\n  return grandParent ? grandParent.maybeChild(index + sibling) : null;\n}\n\n/**\n * Check if respective sibling (negative number previous, positive number next)\n * is from the specified node\n */\nfunction isSiblingOfType(selection, node, sibling) {\n  var maybeSiblingNode = getSibling(selection, sibling);\n  return !!maybeSiblingNode && maybeSiblingNode.type === node;\n}\n/**\n * When there's any empty block before another paragraph with wrap-right\n * mediaSingle. Pressing backspace at the start of the paragraph will select\n * the media but visually it makes more sense to remove the empty paragraph.\n *\n * Structure of the document: doc(block(), mediaSingle(media()), paragraph('{<>}hello!'))\n * But, visually it looks like the following:\n *\n *    [empty block] <- Remove this block\n * or [paragraph block] <- Move text inside this paragraph\n * or [any other block] <- Move paragraph node after this node\n * [Cursor] x x x x x x x x  +---------------+\n * x x x x x x x x x x       |  mediaSingle  |\n * x x x x x.                +---------------+\n */\nfunction handleSelectionAfterWrapRight(isEmptyNode) {\n  function isEmptyWithoutThrow(node) {\n    var isEmpty = false;\n    try {\n      // We dont have isEmptyNode definition for table for example.\n      // In this case it will throw we need to catch it\n      isEmpty = isEmptyNode(node);\n    } catch (e) {\n      // Nothing to see here...\n    }\n    return isEmpty;\n  }\n  return function (state, dispatch) {\n    var $from = state.selection.$from;\n    var paragraph = state.schema.nodes.paragraph;\n    var previousMediaSingleSibling = -2;\n    var maybeSibling = getSibling(state.selection, previousMediaSingleSibling);\n    if (!maybeSibling) {\n      // the last is the image so should let the default behaviour delete the image\n      return false;\n    }\n    var mediaSingle = getSibling(state.selection, -1); // Sibling is a media single already checked in main code\n    var mediaSinglePos = $from.pos - mediaSingle.nodeSize;\n\n    // Should find the position\n    // Should move the current paragraph to the last line\n    var maybeAnyBlockPos = mediaSinglePos - maybeSibling.nodeSize;\n    var tr = state.tr;\n    if (isEmptyWithoutThrow(maybeSibling)) {\n      // Should remove the empty sibling\n      tr = tr.replace(maybeAnyBlockPos - 1, maybeAnyBlockPos + maybeSibling.nodeSize);\n    } else {\n      // We move the current node, to the new position\n      // 1. Remove current node, only if I am not removing the last node.\n      if (!Object(_atlaskit_editor_core_utils__WEBPACK_IMPORTED_MODULE_2__[\"isSelectionInsideLastNodeInDocument\"])(state.selection)) {\n        tr.replace($from.pos - 1, $from.pos + $from.parent.nodeSize - 1); // Remove node\n      } else {\n        // Remove node content, if is the last node, let a empty paragraph\n        tr.replace($from.pos, $from.pos + $from.parent.nodeSize - 1);\n      }\n\n      // 2. Add it in the new position\n      // If the sibling is a paragraph lets copy the text inside the paragraph\n      // Like a normal backspace from paragraph to paragraph\n      if (maybeSibling.type === paragraph) {\n        var insideParagraphPos = maybeAnyBlockPos + maybeSibling.nodeSize - 2;\n        Object(prosemirror_utils__WEBPACK_IMPORTED_MODULE_3__[\"safeInsert\"])($from.parent.content, insideParagraphPos)(tr);\n      } else {\n        // If is any other kind of block just add the paragraph after it\n        var endOfBlockPos = maybeAnyBlockPos + maybeSibling.nodeSize - 1;\n        Object(prosemirror_utils__WEBPACK_IMPORTED_MODULE_3__[\"safeInsert\"])($from.parent.copy($from.parent.content), endOfBlockPos)(tr);\n      }\n    }\n    if (dispatch) {\n      dispatch(tr);\n    }\n    return true;\n  };\n}\nvar maybeRemoveMediaSingleNode = function maybeRemoveMediaSingleNode(schema) {\n  var isEmptyNodeInSchema = Object(_atlaskit_editor_core_utils__WEBPACK_IMPORTED_MODULE_2__[\"isEmptyNode\"])(schema);\n  return function (state, dispatch) {\n    var selection = state.selection,\n      schema = state.schema;\n    var $from = selection.$from;\n    if (!isEmptySelectionAtStart(state.selection)) {\n      return false;\n    }\n    if (!isSelectionInsideOf(state.selection, schema.nodes.paragraph)) {\n      return false;\n    }\n    var previousSibling = -1;\n    if (!isSiblingOfType(state.selection, schema.nodes.mediaSingle, previousSibling)) {\n      // no media single\n      return false;\n    }\n    var mediaSingle = getSibling(state.selection, previousSibling);\n    if (mediaSingle.attrs.layout === 'wrap-right') {\n      return handleSelectionAfterWrapRight(isEmptyNodeInSchema)(state, dispatch);\n    }\n    if (dispatch) {\n      // Select media single, and remove paragraph if it's empty.\n      Object(prosemirror_commands__WEBPACK_IMPORTED_MODULE_4__[\"selectNodeBackward\"])(state, function (tr) {\n        if (isEmptyNodeInSchema($from.parent) && !Object(_atlaskit_editor_core_utils_prosemirror_position__WEBPACK_IMPORTED_MODULE_5__[\"atTheEndOfDoc\"])(state)) {\n          tr.replace($from.pos - 1, $from.pos + $from.parent.nodeSize - 1); // Remove node\n        }\n\n        dispatch(tr);\n      });\n    }\n    return true;\n  };\n};\nfunction keymapPlugin(schema) {\n  var list = {};\n  var removeMediaSingleCommand = maybeRemoveMediaSingleNode(schema);\n  _atlaskit_editor_core_keymaps__WEBPACK_IMPORTED_MODULE_1__[\"bindKeymapWithCommand\"](_atlaskit_editor_core_keymaps__WEBPACK_IMPORTED_MODULE_1__[\"backspace\"].common, removeMediaSingleCommand, list);\n  return Object(prosemirror_keymap__WEBPACK_IMPORTED_MODULE_0__[\"keymap\"])(list);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9tZWRpYS9wbS1wbHVnaW5zL2tleW1hcC1tZWRpYS1zaW5nbGUudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2lucy9tZWRpYS9wbS1wbHVnaW5zL2tleW1hcC1tZWRpYS1zaW5nbGUudHM/MDViZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBrZXltYXAgfSBmcm9tICdwcm9zZW1pcnJvci1rZXltYXAnXG5pbXBvcnQgeyBTY2hlbWEsIE5vZGVUeXBlLCBOb2RlIH0gZnJvbSAncHJvc2VtaXJyb3ItbW9kZWwnXG5pbXBvcnQgeyBQbHVnaW4sIEVkaXRvclN0YXRlLCBTZWxlY3Rpb24gfSBmcm9tICdwcm9zZW1pcnJvci1zdGF0ZSdcbmltcG9ydCAqIGFzIGtleW1hcHMgZnJvbSAnQGF0bGFza2l0L2VkaXRvci1jb3JlL2tleW1hcHMnXG5pbXBvcnQge1xuICBpc0VtcHR5Tm9kZSxcbiAgaXNTZWxlY3Rpb25JbnNpZGVMYXN0Tm9kZUluRG9jdW1lbnRcbn0gZnJvbSAnQGF0bGFza2l0L2VkaXRvci1jb3JlL3V0aWxzJ1xuaW1wb3J0IHsgQ29tbWFuZCwgQ29tbWFuZERpc3BhdGNoIH0gZnJvbSAnQGF0bGFza2l0L2VkaXRvci1jb3JlL3R5cGVzJ1xuaW1wb3J0IHsgc2FmZUluc2VydCB9IGZyb20gJ3Byb3NlbWlycm9yLXV0aWxzJ1xuaW1wb3J0IHsgc2VsZWN0Tm9kZUJhY2t3YXJkIH0gZnJvbSAncHJvc2VtaXJyb3ItY29tbWFuZHMnXG5pbXBvcnQgeyBhdFRoZUVuZE9mRG9jIH0gZnJvbSAnQGF0bGFza2l0L2VkaXRvci1jb3JlL3V0aWxzL3Byb3NlbWlycm9yL3Bvc2l0aW9uJ1xuXG4vKipcbiAqIENoZWNrIGlmIGlzIGFuIGVtcHR5IHNlbGVjdGlvbiBhdCB0aGUgc3RhcnQgb2YgdGhlIG5vZGVcbiAqL1xuZnVuY3Rpb24gaXNFbXB0eVNlbGVjdGlvbkF0U3RhcnQoc2VsZWN0aW9uOiBTZWxlY3Rpb24pIHtcbiAgaWYgKCFzZWxlY3Rpb24uZW1wdHkpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIGNvbnN0IHsgJGZyb20gfSA9IHNlbGVjdGlvblxuXG4gIHJldHVybiAkZnJvbS5wYXJlbnRPZmZzZXQgPD0gMFxufVxuXG4vKipcbiAqIENoZWNrIGlmIHRoZSBjdXJyZW50IHNlbGVjdGlvbiBpcyBpbnNpZGUgYSBub2RlIHR5cGVcbiAqL1xuZnVuY3Rpb24gaXNTZWxlY3Rpb25JbnNpZGVPZihcbiAgc2VsZWN0aW9uOiBTZWxlY3Rpb24sXG4gIG5vZGVUeXBlOiBOb2RlVHlwZVxuKTogYm9vbGVhbiB7XG4gIGNvbnN0IHsgJGZyb20gfSA9IHNlbGVjdGlvblxuXG4gIGNvbnN0IHBhcmVudCA9ICRmcm9tLnBhcmVudFxuXG4gIHJldHVybiBwYXJlbnQudHlwZSA9PT0gbm9kZVR5cGVcbn1cblxuLyoqXG4gKiBSZXR1cm4gdGhlIHNpYmxpbmcgb2YgdGhlIGN1cnJlbnQgc2VsZWN0aW9uXG4gKi9cbmZ1bmN0aW9uIGdldFNpYmxpbmcoXG4gIHNlbGVjdGlvbjogU2VsZWN0aW9uLFxuICBzaWJsaW5nOiBudW1iZXJcbik6IE5vZGUgfCBudWxsIHwgdW5kZWZpbmVkIHtcbiAgY29uc3QgeyAkZnJvbSB9ID0gc2VsZWN0aW9uXG4gIGNvbnN0IGluZGV4ID0gJGZyb20uaW5kZXgoJGZyb20uZGVwdGggLSAxKVxuICBjb25zdCBncmFuZFBhcmVudCA9ICRmcm9tLm5vZGUoJGZyb20uZGVwdGggLSAxKSAvLyBHZXQgR3JhbmRQYXJlbnRcblxuICByZXR1cm4gZ3JhbmRQYXJlbnQgPyBncmFuZFBhcmVudC5tYXliZUNoaWxkKGluZGV4ICsgc2libGluZykgOiBudWxsXG59XG5cbi8qKlxuICogQ2hlY2sgaWYgcmVzcGVjdGl2ZSBzaWJsaW5nIChuZWdhdGl2ZSBudW1iZXIgcHJldmlvdXMsIHBvc2l0aXZlIG51bWJlciBuZXh0KVxuICogaXMgZnJvbSB0aGUgc3BlY2lmaWVkIG5vZGVcbiAqL1xuZnVuY3Rpb24gaXNTaWJsaW5nT2ZUeXBlKFxuICBzZWxlY3Rpb246IFNlbGVjdGlvbixcbiAgbm9kZTogTm9kZVR5cGUsXG4gIHNpYmxpbmc6IG51bWJlclxuKTogYm9vbGVhbiB7XG4gIGNvbnN0IG1heWJlU2libGluZ05vZGUgPSBnZXRTaWJsaW5nKHNlbGVjdGlvbiwgc2libGluZylcblxuICByZXR1cm4gISFtYXliZVNpYmxpbmdOb2RlICYmIG1heWJlU2libGluZ05vZGUudHlwZSA9PT0gbm9kZVxufVxuLyoqXG4gKiBXaGVuIHRoZXJlJ3MgYW55IGVtcHR5IGJsb2NrIGJlZm9yZSBhbm90aGVyIHBhcmFncmFwaCB3aXRoIHdyYXAtcmlnaHRcbiAqIG1lZGlhU2luZ2xlLiBQcmVzc2luZyBiYWNrc3BhY2UgYXQgdGhlIHN0YXJ0IG9mIHRoZSBwYXJhZ3JhcGggd2lsbCBzZWxlY3RcbiAqIHRoZSBtZWRpYSBidXQgdmlzdWFsbHkgaXQgbWFrZXMgbW9yZSBzZW5zZSB0byByZW1vdmUgdGhlIGVtcHR5IHBhcmFncmFwaC5cbiAqXG4gKiBTdHJ1Y3R1cmUgb2YgdGhlIGRvY3VtZW50OiBkb2MoYmxvY2soKSwgbWVkaWFTaW5nbGUobWVkaWEoKSksIHBhcmFncmFwaCgnezw+fWhlbGxvIScpKVxuICogQnV0LCB2aXN1YWxseSBpdCBsb29rcyBsaWtlIHRoZSBmb2xsb3dpbmc6XG4gKlxuICogICAgW2VtcHR5IGJsb2NrXSA8LSBSZW1vdmUgdGhpcyBibG9ja1xuICogb3IgW3BhcmFncmFwaCBibG9ja10gPC0gTW92ZSB0ZXh0IGluc2lkZSB0aGlzIHBhcmFncmFwaFxuICogb3IgW2FueSBvdGhlciBibG9ja10gPC0gTW92ZSBwYXJhZ3JhcGggbm9kZSBhZnRlciB0aGlzIG5vZGVcbiAqIFtDdXJzb3JdIHggeCB4IHggeCB4IHggeCAgKy0tLS0tLS0tLS0tLS0tLStcbiAqIHggeCB4IHggeCB4IHggeCB4IHggICAgICAgfCAgbWVkaWFTaW5nbGUgIHxcbiAqIHggeCB4IHggeC4gICAgICAgICAgICAgICAgKy0tLS0tLS0tLS0tLS0tLStcbiAqL1xuZnVuY3Rpb24gaGFuZGxlU2VsZWN0aW9uQWZ0ZXJXcmFwUmlnaHQoaXNFbXB0eU5vZGU6IChub2RlOiBOb2RlKSA9PiBib29sZWFuKSB7XG4gIGZ1bmN0aW9uIGlzRW1wdHlXaXRob3V0VGhyb3cobm9kZTogTm9kZSk6IGJvb2xlYW4ge1xuICAgIGxldCBpc0VtcHR5ID0gZmFsc2VcbiAgICB0cnkge1xuICAgICAgLy8gV2UgZG9udCBoYXZlIGlzRW1wdHlOb2RlIGRlZmluaXRpb24gZm9yIHRhYmxlIGZvciBleGFtcGxlLlxuICAgICAgLy8gSW4gdGhpcyBjYXNlIGl0IHdpbGwgdGhyb3cgd2UgbmVlZCB0byBjYXRjaCBpdFxuICAgICAgaXNFbXB0eSA9IGlzRW1wdHlOb2RlKG5vZGUpXG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gTm90aGluZyB0byBzZWUgaGVyZS4uLlxuICAgIH1cbiAgICByZXR1cm4gaXNFbXB0eVxuICB9XG4gIHJldHVybiAoc3RhdGU6IEVkaXRvclN0YXRlLCBkaXNwYXRjaD86IENvbW1hbmREaXNwYXRjaCkgPT4ge1xuICAgIGNvbnN0IHsgJGZyb20gfSA9IHN0YXRlLnNlbGVjdGlvblxuICAgIGNvbnN0IHsgcGFyYWdyYXBoIH0gPSBzdGF0ZS5zY2hlbWEubm9kZXNcblxuICAgIGNvbnN0IHByZXZpb3VzTWVkaWFTaW5nbGVTaWJsaW5nID0gLTJcbiAgICBjb25zdCBtYXliZVNpYmxpbmcgPSBnZXRTaWJsaW5nKHN0YXRlLnNlbGVjdGlvbiwgcHJldmlvdXNNZWRpYVNpbmdsZVNpYmxpbmcpXG5cbiAgICBpZiAoIW1heWJlU2libGluZykge1xuICAgICAgLy8gdGhlIGxhc3QgaXMgdGhlIGltYWdlIHNvIHNob3VsZCBsZXQgdGhlIGRlZmF1bHQgYmVoYXZpb3VyIGRlbGV0ZSB0aGUgaW1hZ2VcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIGNvbnN0IG1lZGlhU2luZ2xlID0gZ2V0U2libGluZyhzdGF0ZS5zZWxlY3Rpb24sIC0xKSEgLy8gU2libGluZyBpcyBhIG1lZGlhIHNpbmdsZSBhbHJlYWR5IGNoZWNrZWQgaW4gbWFpbiBjb2RlXG4gICAgY29uc3QgbWVkaWFTaW5nbGVQb3MgPSAkZnJvbS5wb3MgLSBtZWRpYVNpbmdsZS5ub2RlU2l6ZVxuXG4gICAgLy8gU2hvdWxkIGZpbmQgdGhlIHBvc2l0aW9uXG4gICAgLy8gU2hvdWxkIG1vdmUgdGhlIGN1cnJlbnQgcGFyYWdyYXBoIHRvIHRoZSBsYXN0IGxpbmVcbiAgICBjb25zdCBtYXliZUFueUJsb2NrUG9zID0gbWVkaWFTaW5nbGVQb3MgLSBtYXliZVNpYmxpbmcubm9kZVNpemVcbiAgICBsZXQgdHIgPSBzdGF0ZS50clxuXG4gICAgaWYgKGlzRW1wdHlXaXRob3V0VGhyb3cobWF5YmVTaWJsaW5nKSkge1xuICAgICAgLy8gU2hvdWxkIHJlbW92ZSB0aGUgZW1wdHkgc2libGluZ1xuICAgICAgdHIgPSB0ci5yZXBsYWNlKFxuICAgICAgICBtYXliZUFueUJsb2NrUG9zIC0gMSxcbiAgICAgICAgbWF5YmVBbnlCbG9ja1BvcyArIG1heWJlU2libGluZy5ub2RlU2l6ZVxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBXZSBtb3ZlIHRoZSBjdXJyZW50IG5vZGUsIHRvIHRoZSBuZXcgcG9zaXRpb25cbiAgICAgIC8vIDEuIFJlbW92ZSBjdXJyZW50IG5vZGUsIG9ubHkgaWYgSSBhbSBub3QgcmVtb3ZpbmcgdGhlIGxhc3Qgbm9kZS5cbiAgICAgIGlmICghaXNTZWxlY3Rpb25JbnNpZGVMYXN0Tm9kZUluRG9jdW1lbnQoc3RhdGUuc2VsZWN0aW9uKSkge1xuICAgICAgICB0ci5yZXBsYWNlKCRmcm9tLnBvcyAtIDEsICRmcm9tLnBvcyArICRmcm9tLnBhcmVudC5ub2RlU2l6ZSAtIDEpIC8vIFJlbW92ZSBub2RlXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBSZW1vdmUgbm9kZSBjb250ZW50LCBpZiBpcyB0aGUgbGFzdCBub2RlLCBsZXQgYSBlbXB0eSBwYXJhZ3JhcGhcbiAgICAgICAgdHIucmVwbGFjZSgkZnJvbS5wb3MsICRmcm9tLnBvcyArICRmcm9tLnBhcmVudC5ub2RlU2l6ZSAtIDEpXG4gICAgICB9XG5cbiAgICAgIC8vIDIuIEFkZCBpdCBpbiB0aGUgbmV3IHBvc2l0aW9uXG4gICAgICAvLyBJZiB0aGUgc2libGluZyBpcyBhIHBhcmFncmFwaCBsZXRzIGNvcHkgdGhlIHRleHQgaW5zaWRlIHRoZSBwYXJhZ3JhcGhcbiAgICAgIC8vIExpa2UgYSBub3JtYWwgYmFja3NwYWNlIGZyb20gcGFyYWdyYXBoIHRvIHBhcmFncmFwaFxuICAgICAgaWYgKG1heWJlU2libGluZy50eXBlID09PSBwYXJhZ3JhcGgpIHtcbiAgICAgICAgY29uc3QgaW5zaWRlUGFyYWdyYXBoUG9zID0gbWF5YmVBbnlCbG9ja1BvcyArIG1heWJlU2libGluZy5ub2RlU2l6ZSAtIDJcbiAgICAgICAgc2FmZUluc2VydCgkZnJvbS5wYXJlbnQuY29udGVudCwgaW5zaWRlUGFyYWdyYXBoUG9zKSh0cilcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIElmIGlzIGFueSBvdGhlciBraW5kIG9mIGJsb2NrIGp1c3QgYWRkIHRoZSBwYXJhZ3JhcGggYWZ0ZXIgaXRcbiAgICAgICAgY29uc3QgZW5kT2ZCbG9ja1BvcyA9IG1heWJlQW55QmxvY2tQb3MgKyBtYXliZVNpYmxpbmcubm9kZVNpemUgLSAxXG4gICAgICAgIHNhZmVJbnNlcnQoJGZyb20ucGFyZW50IS5jb3B5KCRmcm9tLnBhcmVudC5jb250ZW50KSwgZW5kT2ZCbG9ja1BvcykodHIpXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGRpc3BhdGNoKSB7XG4gICAgICBkaXNwYXRjaCh0cilcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG59XG5cbmNvbnN0IG1heWJlUmVtb3ZlTWVkaWFTaW5nbGVOb2RlID0gKHNjaGVtYTogU2NoZW1hKTogQ29tbWFuZCA9PiB7XG4gIGNvbnN0IGlzRW1wdHlOb2RlSW5TY2hlbWEgPSBpc0VtcHR5Tm9kZShzY2hlbWEpXG4gIHJldHVybiAoc3RhdGUsIGRpc3BhdGNoKSA9PiB7XG4gICAgY29uc3QgeyBzZWxlY3Rpb24sIHNjaGVtYSB9ID0gc3RhdGVcbiAgICBjb25zdCB7ICRmcm9tIH0gPSBzZWxlY3Rpb25cblxuICAgIGlmICghaXNFbXB0eVNlbGVjdGlvbkF0U3RhcnQoc3RhdGUuc2VsZWN0aW9uKSkge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgaWYgKCFpc1NlbGVjdGlvbkluc2lkZU9mKHN0YXRlLnNlbGVjdGlvbiwgc2NoZW1hLm5vZGVzLnBhcmFncmFwaCkpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIGNvbnN0IHByZXZpb3VzU2libGluZyA9IC0xXG4gICAgaWYgKFxuICAgICAgIWlzU2libGluZ09mVHlwZShcbiAgICAgICAgc3RhdGUuc2VsZWN0aW9uLFxuICAgICAgICBzY2hlbWEubm9kZXMubWVkaWFTaW5nbGUsXG4gICAgICAgIHByZXZpb3VzU2libGluZ1xuICAgICAgKVxuICAgICkge1xuICAgICAgLy8gbm8gbWVkaWEgc2luZ2xlXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBjb25zdCBtZWRpYVNpbmdsZSA9IGdldFNpYmxpbmcoc3RhdGUuc2VsZWN0aW9uLCBwcmV2aW91c1NpYmxpbmcpIVxuXG4gICAgaWYgKG1lZGlhU2luZ2xlLmF0dHJzLmxheW91dCA9PT0gJ3dyYXAtcmlnaHQnKSB7XG4gICAgICByZXR1cm4gaGFuZGxlU2VsZWN0aW9uQWZ0ZXJXcmFwUmlnaHQoaXNFbXB0eU5vZGVJblNjaGVtYSkoc3RhdGUsIGRpc3BhdGNoKVxuICAgIH1cblxuICAgIGlmIChkaXNwYXRjaCkge1xuICAgICAgLy8gU2VsZWN0IG1lZGlhIHNpbmdsZSwgYW5kIHJlbW92ZSBwYXJhZ3JhcGggaWYgaXQncyBlbXB0eS5cbiAgICAgIHNlbGVjdE5vZGVCYWNrd2FyZChzdGF0ZSwgdHIgPT4ge1xuICAgICAgICBpZiAoaXNFbXB0eU5vZGVJblNjaGVtYSgkZnJvbS5wYXJlbnQpICYmICFhdFRoZUVuZE9mRG9jKHN0YXRlKSkge1xuICAgICAgICAgIHRyLnJlcGxhY2UoJGZyb20ucG9zIC0gMSwgJGZyb20ucG9zICsgJGZyb20ucGFyZW50Lm5vZGVTaXplIC0gMSkgLy8gUmVtb3ZlIG5vZGVcbiAgICAgICAgfVxuICAgICAgICBkaXNwYXRjaCh0cilcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWVcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBrZXltYXBQbHVnaW4oc2NoZW1hOiBTY2hlbWEpOiBQbHVnaW4ge1xuICBjb25zdCBsaXN0ID0ge31cbiAgY29uc3QgcmVtb3ZlTWVkaWFTaW5nbGVDb21tYW5kID0gbWF5YmVSZW1vdmVNZWRpYVNpbmdsZU5vZGUoc2NoZW1hKVxuXG4gIGtleW1hcHMuYmluZEtleW1hcFdpdGhDb21tYW5kKFxuICAgIGtleW1hcHMuYmFja3NwYWNlLmNvbW1vbiEsXG4gICAgcmVtb3ZlTWVkaWFTaW5nbGVDb21tYW5kLFxuICAgIGxpc3RcbiAgKVxuXG4gIHJldHVybiBrZXltYXAobGlzdClcbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQU1BO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/plugins/media/pm-plugins/keymap-media-single.ts\n");

/***/ }),

/***/ "./src/plugins/media/pm-plugins/keymap.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"keymapPlugin\", function() { return keymapPlugin; });\n/* harmony import */ var prosemirror_keymap__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/prosemirror-keymap/dist/index.es.js\");\n/* harmony import */ var _atlaskit_editor_core_keymaps__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/keymaps/index.tsx\");\n/* harmony import */ var _pm_plugins_plugin_key__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./src/plugins/media/pm-plugins/plugin-key.ts\");\n\n\n\nfunction keymapPlugin() {\n  var list = {};\n  _atlaskit_editor_core_keymaps__WEBPACK_IMPORTED_MODULE_1__[\"bindKeymapWithCommand\"](_atlaskit_editor_core_keymaps__WEBPACK_IMPORTED_MODULE_1__[\"undo\"].common, ignoreLinksInSteps, list);\n  _atlaskit_editor_core_keymaps__WEBPACK_IMPORTED_MODULE_1__[\"bindKeymapWithCommand\"](_atlaskit_editor_core_keymaps__WEBPACK_IMPORTED_MODULE_1__[\"enter\"].common, splitMediaGroup, list);\n  _atlaskit_editor_core_keymaps__WEBPACK_IMPORTED_MODULE_1__[\"bindKeymapWithCommand\"](_atlaskit_editor_core_keymaps__WEBPACK_IMPORTED_MODULE_1__[\"insertNewLine\"].common, splitMediaGroup, list);\n  return Object(prosemirror_keymap__WEBPACK_IMPORTED_MODULE_0__[\"keymap\"])(list);\n}\nvar ignoreLinksInSteps = function ignoreLinksInSteps(state) {\n  var mediaPluginState = _pm_plugins_plugin_key__WEBPACK_IMPORTED_MODULE_2__[\"stateKey\"].getState(state);\n  mediaPluginState.ignoreLinks = true;\n  return false;\n};\nvar splitMediaGroup = function splitMediaGroup(state) {\n  var mediaPluginState = _pm_plugins_plugin_key__WEBPACK_IMPORTED_MODULE_2__[\"stateKey\"].getState(state);\n  return mediaPluginState.splitMediaGroup();\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (keymapPlugin);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9tZWRpYS9wbS1wbHVnaW5zL2tleW1hcC50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9wbHVnaW5zL21lZGlhL3BtLXBsdWdpbnMva2V5bWFwLnRzP2VmMTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsga2V5bWFwIH0gZnJvbSAncHJvc2VtaXJyb3Ita2V5bWFwJ1xuaW1wb3J0IHsgUGx1Z2luIH0gZnJvbSAncHJvc2VtaXJyb3Itc3RhdGUnXG5cbmltcG9ydCAqIGFzIGtleW1hcHMgZnJvbSAnQGF0bGFza2l0L2VkaXRvci1jb3JlL2tleW1hcHMnXG5pbXBvcnQgeyBzdGF0ZUtleSB9IGZyb20gJy4uL3BtLXBsdWdpbnMvcGx1Z2luLWtleSdcbmltcG9ydCB7IENvbW1hbmQgfSBmcm9tICdAYXRsYXNraXQvZWRpdG9yLWNvcmUvdHlwZXMnXG5pbXBvcnQgeyBNZWRpYVBsdWdpblN0YXRlIH0gZnJvbSAnLi90eXBlcydcblxuZXhwb3J0IGZ1bmN0aW9uIGtleW1hcFBsdWdpbigpOiBQbHVnaW4ge1xuICBjb25zdCBsaXN0ID0ge31cblxuICBrZXltYXBzLmJpbmRLZXltYXBXaXRoQ29tbWFuZChrZXltYXBzLnVuZG8uY29tbW9uISwgaWdub3JlTGlua3NJblN0ZXBzLCBsaXN0KVxuICBrZXltYXBzLmJpbmRLZXltYXBXaXRoQ29tbWFuZChrZXltYXBzLmVudGVyLmNvbW1vbiEsIHNwbGl0TWVkaWFHcm91cCwgbGlzdClcbiAga2V5bWFwcy5iaW5kS2V5bWFwV2l0aENvbW1hbmQoXG4gICAga2V5bWFwcy5pbnNlcnROZXdMaW5lLmNvbW1vbiEsXG4gICAgc3BsaXRNZWRpYUdyb3VwLFxuICAgIGxpc3RcbiAgKVxuXG4gIHJldHVybiBrZXltYXAobGlzdClcbn1cblxuY29uc3QgaWdub3JlTGlua3NJblN0ZXBzOiBDb21tYW5kID0gc3RhdGUgPT4ge1xuICBjb25zdCBtZWRpYVBsdWdpblN0YXRlID0gc3RhdGVLZXkuZ2V0U3RhdGUoc3RhdGUpIGFzIE1lZGlhUGx1Z2luU3RhdGVcbiAgbWVkaWFQbHVnaW5TdGF0ZS5pZ25vcmVMaW5rcyA9IHRydWVcbiAgcmV0dXJuIGZhbHNlXG59XG5cbmNvbnN0IHNwbGl0TWVkaWFHcm91cDogQ29tbWFuZCA9IHN0YXRlID0+IHtcbiAgY29uc3QgbWVkaWFQbHVnaW5TdGF0ZSA9IHN0YXRlS2V5LmdldFN0YXRlKHN0YXRlKSBhcyBNZWRpYVBsdWdpblN0YXRlXG4gIHJldHVybiBtZWRpYVBsdWdpblN0YXRlLnNwbGl0TWVkaWFHcm91cCgpXG59XG5cbmV4cG9ydCBkZWZhdWx0IGtleW1hcFBsdWdpblxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBSUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/plugins/media/pm-plugins/keymap.ts\n");

/***/ }),

/***/ "./src/plugins/media/pm-plugins/linking/actions.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MediaLinkingActionsTypes\", function() { return MediaLinkingActionsTypes; });\nvar MediaLinkingActionsTypes;\n(function (MediaLinkingActionsTypes) {\n  MediaLinkingActionsTypes[\"showToolbar\"] = \"MEDIA_SHOW_TOOLBAR\";\n  MediaLinkingActionsTypes[\"hideToolbar\"] = \"MEDIA_HIDE_TOOLBAR\";\n  MediaLinkingActionsTypes[\"setUrl\"] = \"MEDIA_SET_LINK_TO\";\n  MediaLinkingActionsTypes[\"unlink\"] = \"MEDIA_LINKING_UNLINK\";\n})(MediaLinkingActionsTypes || (MediaLinkingActionsTypes = {}));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9tZWRpYS9wbS1wbHVnaW5zL2xpbmtpbmcvYWN0aW9ucy50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9wbHVnaW5zL21lZGlhL3BtLXBsdWdpbnMvbGlua2luZy9hY3Rpb25zLnRzP2IwNTYiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGVudW0gTWVkaWFMaW5raW5nQWN0aW9uc1R5cGVzIHtcbiAgc2hvd1Rvb2xiYXIgPSAnTUVESUFfU0hPV19UT09MQkFSJyxcbiAgaGlkZVRvb2xiYXIgPSAnTUVESUFfSElERV9UT09MQkFSJyxcbiAgc2V0VXJsID0gJ01FRElBX1NFVF9MSU5LX1RPJyxcbiAgdW5saW5rID0gJ01FRElBX0xJTktJTkdfVU5MSU5LJ1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFZpc2libGVBY3Rpb24ge1xuICB0eXBlOiBNZWRpYUxpbmtpbmdBY3Rpb25zVHlwZXMuc2hvd1Rvb2xiYXJcbn1cblxuZXhwb3J0IGludGVyZmFjZSBIaWRlQWN0aW9uIHtcbiAgdHlwZTogTWVkaWFMaW5raW5nQWN0aW9uc1R5cGVzLmhpZGVUb29sYmFyXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2V0TGlua1RvTWVkaWEge1xuICB0eXBlOiBNZWRpYUxpbmtpbmdBY3Rpb25zVHlwZXMuc2V0VXJsXG4gIHBheWxvYWQ6IHN0cmluZ1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVubGluayB7XG4gIHR5cGU6IE1lZGlhTGlua2luZ0FjdGlvbnNUeXBlcy51bmxpbmtcbn1cblxuZXhwb3J0IHR5cGUgTWVkaWFMaW5raW5nQWN0aW9ucyA9XG4gIHwgVmlzaWJsZUFjdGlvblxuICB8IFNldExpbmtUb01lZGlhXG4gIHwgSGlkZUFjdGlvblxuICB8IFVubGlua1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFLQTtBQUxBO0FBQUE7QUFBQTtBQUFBO0FBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/plugins/media/pm-plugins/linking/actions.ts\n");

/***/ }),

/***/ "./src/plugins/media/pm-plugins/linking/index.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"mediaLinkingPluginKey\", function() { return mediaLinkingPluginKey; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createMediaLinkingCommand\", function() { return createMediaLinkingCommand; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getMediaLinkingState\", function() { return getMediaLinkingState; });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _atlaskit_editor_core_utils_plugin_state_factory__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/utils/plugin-state-factory.ts\");\n/* harmony import */ var prosemirror_state__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/prosemirror-state/dist/index.es.js\");\n/* harmony import */ var _reducer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./src/plugins/media/pm-plugins/linking/reducer.ts\");\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./src/plugins/media/pm-plugins/linking/types.ts\");\n/* empty/unused harmony star reexport */\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n\n\n\nvar mediaLinkingPluginKey = new prosemirror_state__WEBPACK_IMPORTED_MODULE_2__[\"PluginKey\"]('mediaLinking');\nvar initialState = {\n  visible: false,\n  editable: false,\n  mediaPos: null,\n  link: ''\n};\nfunction mapping(tr, pluginState) {\n  if (pluginState && pluginState.mediaPos !== null) {\n    return _objectSpread(_objectSpread({}, pluginState), {}, {\n      mediaPos: tr.mapping.map(pluginState.mediaPos)\n    });\n  }\n  return pluginState;\n}\nfunction onSelectionChanged(tr) {\n  var isNodeSelection = tr.selection instanceof prosemirror_state__WEBPACK_IMPORTED_MODULE_2__[\"NodeSelection\"];\n  if (!isNodeSelection) {\n    return initialState;\n  }\n  var mediaPos = tr.selection.$from.pos + 1;\n  var node = tr.doc.nodeAt(mediaPos);\n  if (!node || node.type.name !== 'media') {\n    return initialState;\n  }\n  var mark = node.marks.find(function (mark) {\n    return mark.type.name === 'link';\n  });\n  if (mark) {\n    return _objectSpread(_objectSpread({}, initialState), {}, {\n      mediaPos: mediaPos,\n      editable: true,\n      link: mark.attrs.href\n    });\n  }\n  return _objectSpread(_objectSpread({}, initialState), {}, {\n    mediaPos: mediaPos\n  });\n}\nvar mediaLinkingPluginFactory = Object(_atlaskit_editor_core_utils_plugin_state_factory__WEBPACK_IMPORTED_MODULE_1__[\"pluginFactory\"])(mediaLinkingPluginKey, _reducer__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n  mapping: mapping,\n  onSelectionChanged: onSelectionChanged\n});\nvar createMediaLinkingCommand = mediaLinkingPluginFactory.createCommand,\n  getMediaLinkingState = mediaLinkingPluginFactory.getPluginState;\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (dispatch) {\n  return new prosemirror_state__WEBPACK_IMPORTED_MODULE_2__[\"Plugin\"]({\n    key: mediaLinkingPluginKey,\n    state: mediaLinkingPluginFactory.createPluginState(dispatch, initialState)\n  });\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9tZWRpYS9wbS1wbHVnaW5zL2xpbmtpbmcvaW5kZXgudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2lucy9tZWRpYS9wbS1wbHVnaW5zL2xpbmtpbmcvaW5kZXgudHM/N2M4YSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwbHVnaW5GYWN0b3J5IH0gZnJvbSAnQGF0bGFza2l0L2VkaXRvci1jb3JlL3V0aWxzL3BsdWdpbi1zdGF0ZS1mYWN0b3J5J1xuaW1wb3J0IHtcbiAgUGx1Z2luS2V5LFxuICBUcmFuc2FjdGlvbixcbiAgUGx1Z2luLFxuICBOb2RlU2VsZWN0aW9uXG59IGZyb20gJ3Byb3NlbWlycm9yLXN0YXRlJ1xuaW1wb3J0IHsgRGlzcGF0Y2ggfSBmcm9tICdAYXRsYXNraXQvZWRpdG9yLWNvcmUvZXZlbnQtZGlzcGF0Y2hlcidcbmltcG9ydCB7IE1lZGlhTGlua2luZ0FjdGlvbnMgfSBmcm9tICcuL2FjdGlvbnMnXG5pbXBvcnQgeyBNZWRpYUxpbmtpbmdTdGF0ZSwgSW5pdGlhbFN0YXRlIH0gZnJvbSAnLi90eXBlcydcbmltcG9ydCByZWR1Y2VyIGZyb20gJy4vcmVkdWNlcidcbmltcG9ydCB7IExpbmtBdHRyaWJ1dGVzIH0gZnJvbSAnQGF0bGFza2l0L2FkZi1zY2hlbWEnXG5cbmV4cG9ydCBjb25zdCBtZWRpYUxpbmtpbmdQbHVnaW5LZXkgPSBuZXcgUGx1Z2luS2V5KCdtZWRpYUxpbmtpbmcnKVxuXG5jb25zdCBpbml0aWFsU3RhdGU6IEluaXRpYWxTdGF0ZSA9IHtcbiAgdmlzaWJsZTogZmFsc2UsXG4gIGVkaXRhYmxlOiBmYWxzZSxcbiAgbWVkaWFQb3M6IG51bGwsXG4gIGxpbms6ICcnXG59XG5cbmZ1bmN0aW9uIG1hcHBpbmcoXG4gIHRyOiBUcmFuc2FjdGlvbixcbiAgcGx1Z2luU3RhdGU6IE1lZGlhTGlua2luZ1N0YXRlXG4pOiBNZWRpYUxpbmtpbmdTdGF0ZSB7XG4gIGlmIChwbHVnaW5TdGF0ZSAmJiBwbHVnaW5TdGF0ZS5tZWRpYVBvcyAhPT0gbnVsbCkge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5wbHVnaW5TdGF0ZSxcbiAgICAgIG1lZGlhUG9zOiB0ci5tYXBwaW5nLm1hcChwbHVnaW5TdGF0ZS5tZWRpYVBvcylcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHBsdWdpblN0YXRlXG59XG5cbmZ1bmN0aW9uIG9uU2VsZWN0aW9uQ2hhbmdlZCh0cjogVHJhbnNhY3Rpb24pOiBNZWRpYUxpbmtpbmdTdGF0ZSB7XG4gIGNvbnN0IGlzTm9kZVNlbGVjdGlvbiA9IHRyLnNlbGVjdGlvbiBpbnN0YW5jZW9mIE5vZGVTZWxlY3Rpb25cbiAgaWYgKCFpc05vZGVTZWxlY3Rpb24pIHtcbiAgICByZXR1cm4gaW5pdGlhbFN0YXRlXG4gIH1cblxuICBjb25zdCBtZWRpYVBvcyA9IHRyLnNlbGVjdGlvbi4kZnJvbS5wb3MgKyAxXG5cbiAgY29uc3Qgbm9kZSA9IHRyLmRvYy5ub2RlQXQobWVkaWFQb3MpXG4gIGlmICghbm9kZSB8fCBub2RlLnR5cGUubmFtZSAhPT0gJ21lZGlhJykge1xuICAgIHJldHVybiBpbml0aWFsU3RhdGVcbiAgfVxuXG4gIGNvbnN0IG1hcmsgPSBub2RlLm1hcmtzLmZpbmQobWFyayA9PiBtYXJrLnR5cGUubmFtZSA9PT0gJ2xpbmsnKVxuICBpZiAobWFyaykge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5pbml0aWFsU3RhdGUsXG4gICAgICBtZWRpYVBvcyxcbiAgICAgIGVkaXRhYmxlOiB0cnVlLFxuICAgICAgbGluazogKG1hcmsuYXR0cnMgYXMgTGlua0F0dHJpYnV0ZXMpLmhyZWZcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIC4uLmluaXRpYWxTdGF0ZSxcbiAgICBtZWRpYVBvc1xuICB9XG59XG5cbmNvbnN0IG1lZGlhTGlua2luZ1BsdWdpbkZhY3RvcnkgPSBwbHVnaW5GYWN0b3J5PFxuICBNZWRpYUxpbmtpbmdTdGF0ZSxcbiAgTWVkaWFMaW5raW5nQWN0aW9ucyxcbiAgSW5pdGlhbFN0YXRlXG4+KG1lZGlhTGlua2luZ1BsdWdpbktleSwgcmVkdWNlciwge1xuICBtYXBwaW5nLFxuICBvblNlbGVjdGlvbkNoYW5nZWRcbn0pXG5cbmV4cG9ydCBjb25zdCB7XG4gIGNyZWF0ZUNvbW1hbmQ6IGNyZWF0ZU1lZGlhTGlua2luZ0NvbW1hbmQsXG4gIGdldFBsdWdpblN0YXRlOiBnZXRNZWRpYUxpbmtpbmdTdGF0ZVxufSA9IG1lZGlhTGlua2luZ1BsdWdpbkZhY3RvcnlcblxuZXhwb3J0ICogZnJvbSAnLi90eXBlcydcblxuZXhwb3J0IGRlZmF1bHQgKGRpc3BhdGNoOiBEaXNwYXRjaCkgPT5cbiAgbmV3IFBsdWdpbih7XG4gICAga2V5OiBtZWRpYUxpbmtpbmdQbHVnaW5LZXksXG4gICAgc3RhdGU6IG1lZGlhTGlua2luZ1BsdWdpbkZhY3RvcnkuY3JlYXRlUGx1Z2luU3RhdGUoZGlzcGF0Y2gsIGluaXRpYWxTdGF0ZSlcbiAgfSlcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFTQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFJQTtBQUNBO0FBRUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFFQTtBQUVBO0FBQUE7QUFFQTtBQUVBO0FBS0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/plugins/media/pm-plugins/linking/index.ts\n");

/***/ }),

/***/ "./src/plugins/media/pm-plugins/linking/keymap.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return keymapPlugin; });\n/* harmony import */ var prosemirror_keymap__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/prosemirror-keymap/dist/index.es.js\");\n/* harmony import */ var _atlaskit_editor_core_keymaps__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/keymaps/index.tsx\");\n/* harmony import */ var _commands_linking__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./src/plugins/media/commands/linking.ts\");\n\n\n\nfunction keymapPlugin(schema) {\n  var list = {};\n  _atlaskit_editor_core_keymaps__WEBPACK_IMPORTED_MODULE_1__[\"bindKeymapWithCommand\"](_atlaskit_editor_core_keymaps__WEBPACK_IMPORTED_MODULE_1__[\"addLink\"].common, _commands_linking__WEBPACK_IMPORTED_MODULE_2__[\"showLinkingToolbarWithMediaTypeCheck\"], list);\n  return Object(prosemirror_keymap__WEBPACK_IMPORTED_MODULE_0__[\"keymap\"])(list);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9tZWRpYS9wbS1wbHVnaW5zL2xpbmtpbmcva2V5bWFwLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbnMvbWVkaWEvcG0tcGx1Z2lucy9saW5raW5nL2tleW1hcC50cz82NjgxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGtleW1hcCB9IGZyb20gJ3Byb3NlbWlycm9yLWtleW1hcCdcbmltcG9ydCB7IFNjaGVtYSB9IGZyb20gJ3Byb3NlbWlycm9yLW1vZGVsJ1xuaW1wb3J0IHsgUGx1Z2luIH0gZnJvbSAncHJvc2VtaXJyb3Itc3RhdGUnXG5pbXBvcnQgKiBhcyBrZXltYXBzIGZyb20gJ0BhdGxhc2tpdC9lZGl0b3ItY29yZS9rZXltYXBzJ1xuaW1wb3J0IHsgc2hvd0xpbmtpbmdUb29sYmFyV2l0aE1lZGlhVHlwZUNoZWNrIH0gZnJvbSAnLi4vLi4vY29tbWFuZHMvbGlua2luZydcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ga2V5bWFwUGx1Z2luKHNjaGVtYTogU2NoZW1hKTogUGx1Z2luIHtcbiAgY29uc3QgbGlzdCA9IHt9XG5cbiAga2V5bWFwcy5iaW5kS2V5bWFwV2l0aENvbW1hbmQoXG4gICAga2V5bWFwcy5hZGRMaW5rLmNvbW1vbiEsXG4gICAgc2hvd0xpbmtpbmdUb29sYmFyV2l0aE1lZGlhVHlwZUNoZWNrLFxuICAgIGxpc3RcbiAgKVxuXG4gIHJldHVybiBrZXltYXAobGlzdClcbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQU1BO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/plugins/media/pm-plugins/linking/keymap.ts\n");

/***/ }),

/***/ "./src/plugins/media/pm-plugins/linking/reducer.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _actions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./src/plugins/media/pm-plugins/linking/actions.ts\");\n\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (state, action) {\n  switch (action.type) {\n    case _actions__WEBPACK_IMPORTED_MODULE_1__[\"MediaLinkingActionsTypes\"].showToolbar:\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          visible: true\n        });\n      }\n    case _actions__WEBPACK_IMPORTED_MODULE_1__[\"MediaLinkingActionsTypes\"].setUrl:\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          editable: true,\n          link: action.payload\n        });\n      }\n    case _actions__WEBPACK_IMPORTED_MODULE_1__[\"MediaLinkingActionsTypes\"].hideToolbar:\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          visible: false\n        });\n      }\n    case _actions__WEBPACK_IMPORTED_MODULE_1__[\"MediaLinkingActionsTypes\"].unlink:\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          link: '',\n          visible: false,\n          editable: false\n        });\n      }\n  }\n  return state;\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9tZWRpYS9wbS1wbHVnaW5zL2xpbmtpbmcvcmVkdWNlci50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9wbHVnaW5zL21lZGlhL3BtLXBsdWdpbnMvbGlua2luZy9yZWR1Y2VyLnRzPzRjMGIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTWVkaWFMaW5raW5nU3RhdGUgfSBmcm9tICcuL3R5cGVzJ1xuaW1wb3J0IHsgTWVkaWFMaW5raW5nQWN0aW9uc1R5cGVzLCBNZWRpYUxpbmtpbmdBY3Rpb25zIH0gZnJvbSAnLi9hY3Rpb25zJ1xuXG5leHBvcnQgZGVmYXVsdCAoc3RhdGU6IE1lZGlhTGlua2luZ1N0YXRlLCBhY3Rpb246IE1lZGlhTGlua2luZ0FjdGlvbnMpID0+IHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgTWVkaWFMaW5raW5nQWN0aW9uc1R5cGVzLnNob3dUb29sYmFyOiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgdmlzaWJsZTogdHJ1ZVxuICAgICAgfVxuICAgIH1cbiAgICBjYXNlIE1lZGlhTGlua2luZ0FjdGlvbnNUeXBlcy5zZXRVcmw6IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICBlZGl0YWJsZTogdHJ1ZSxcbiAgICAgICAgbGluazogYWN0aW9uLnBheWxvYWRcbiAgICAgIH1cbiAgICB9XG4gICAgY2FzZSBNZWRpYUxpbmtpbmdBY3Rpb25zVHlwZXMuaGlkZVRvb2xiYXI6IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICB2aXNpYmxlOiBmYWxzZVxuICAgICAgfVxuICAgIH1cbiAgICBjYXNlIE1lZGlhTGlua2luZ0FjdGlvbnNUeXBlcy51bmxpbms6IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICBsaW5rOiAnJyxcbiAgICAgICAgdmlzaWJsZTogZmFsc2UsXG4gICAgICAgIGVkaXRhYmxlOiBmYWxzZVxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gc3RhdGVcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/plugins/media/pm-plugins/linking/reducer.ts\n");

/***/ }),

/***/ "./src/plugins/media/pm-plugins/linking/types.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9tZWRpYS9wbS1wbHVnaW5zL2xpbmtpbmcvdHlwZXMudHMuanMiLCJzb3VyY2VzIjpbXSwibWFwcGluZ3MiOiI7OyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/plugins/media/pm-plugins/linking/types.ts\n");

/***/ }),

/***/ "./src/plugins/media/pm-plugins/main.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MediaPluginStateImplementation\", function() { return MediaPluginStateImplementation; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getMediaPluginState\", function() { return getMediaPluginState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createPlugin\", function() { return createPlugin; });\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./node_modules/react-dom/index.js\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var prosemirror_state__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./node_modules/prosemirror-state/dist/index.es.js\");\n/* harmony import */ var prosemirror_transform__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./node_modules/prosemirror-transform/dist/index.es.js\");\n/* harmony import */ var prosemirror_view__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"./node_modules/prosemirror-view/dist/index.es.js\");\n/* harmony import */ var _atlaskit_editor_common__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"./node_modules/@atlaskit/editor-common/dist/esm/index.js\");\n/* harmony import */ var assert__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"./node_modules/assert/assert.js\");\n/* harmony import */ var assert__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(assert__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var prosemirror_utils__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"./node_modules/prosemirror-utils/dist/index.js\");\n/* harmony import */ var prosemirror_utils__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(prosemirror_utils__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _utils_media_single__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"./src/plugins/media/utils/media-single.ts\");\n/* harmony import */ var _ui_Media_DropPlaceholder__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(\"./src/plugins/media/ui/Media/DropPlaceholder.tsx\");\n/* harmony import */ var _utils_media_files__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(\"./src/plugins/media/utils/media-files.ts\");\n/* harmony import */ var _utils_media_common__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(\"./src/plugins/media/utils/media-common.ts\");\n/* harmony import */ var _commands_helpers__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(\"./src/plugins/media/commands/helpers.ts\");\n/* harmony import */ var _plugin_key__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(\"./src/plugins/media/pm-plugins/plugin-key.ts\");\n/* harmony import */ var _picker_facade__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(\"./src/plugins/media/picker-facade.ts\");\n/* harmony import */ var _atlaskit_editor_core_plugins_analytics_types__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/plugins/analytics/types/index.ts\");\n/* harmony import */ var _utils_is_image__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(\"./src/plugins/media/utils/is-image.ts\");\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(\"./src/plugins/media/pm-plugins/types.ts\");\n/* empty/unused harmony star reexport *//* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"stateKey\", function() { return _plugin_key__WEBPACK_IMPORTED_MODULE_18__[\"stateKey\"]; });\n\n\n\n\n\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar createDropPlaceholder = function createDropPlaceholder(allowDropLine) {\n  var dropPlaceholder = document.createElement('div');\n  if (allowDropLine) {\n    react_dom__WEBPACK_IMPORTED_MODULE_6___default.a.render( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_ui_Media_DropPlaceholder__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n      type: 'single'\n    }), dropPlaceholder);\n  } else {\n    react_dom__WEBPACK_IMPORTED_MODULE_6___default.a.render( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_ui_Media_DropPlaceholder__WEBPACK_IMPORTED_MODULE_14__[\"default\"]), dropPlaceholder);\n  }\n  return dropPlaceholder;\n};\nvar MEDIA_RESOLVED_STATES = ['ready', 'error', 'cancelled'];\nvar MediaPluginStateImplementation = /*#__PURE__*/function () {\n  // @ts-ignore: private is OK\n\n  function MediaPluginStateImplementation(_state, options, reactContext, mediaOptions, _dispatch) {\n    var _this = this;\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this, MediaPluginStateImplementation);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"allowsUploads\", false);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"mediaClientConfig\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"uploadMediaClientConfig\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"ignoreLinks\", false);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"waitForMediaUpload\", true);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"allUploadsFinished\", true);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"showDropzone\", false);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"element\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"layout\", 'center');\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"mediaNodes\", []);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"mediaGroupNodes\", {});\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"mobileUploadComplete\", {});\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"options\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"mediaProvider\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"pendingTask\", Promise.resolve(null));\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"view\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"destroyed\", false);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"contextIdentifierProvider\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"errorReporter\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"popupPicker\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"customPicker\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"removeOnCloseListener\", function () {});\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"openMediaPickerBrowser\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"onPopupToogleCallback\", function () {});\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"reactContext\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"pickers\", []);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"pickerPromises\", []);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"editingMediaSinglePos\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"showEditingDialog\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"mediaOptions\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"dispatch\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"onContextIdentifierProvider\", /*#__PURE__*/function () {\n      var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark(function _callee(_name, provider) {\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!provider) {\n                  _context.next = 4;\n                  break;\n                }\n                _context.next = 3;\n                return provider;\n              case 3:\n                _this.contextIdentifierProvider = _context.sent;\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n      return function (_x, _x2) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"setMediaProvider\", /*#__PURE__*/function () {\n      var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark(function _callee2(mediaProvider) {\n        var viewMediaClientConfig, wrappedError, view, allowsUploads;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (mediaProvider) {\n                  _context2.next = 5;\n                  break;\n                }\n                _this.destroyPickers();\n                _this.allowsUploads = false;\n                if (!_this.destroyed) {\n                  _this.view.dispatch(_this.view.state.tr.setMeta(_plugin_key__WEBPACK_IMPORTED_MODULE_18__[\"stateKey\"], {\n                    allowsUploads: _this.allowsUploads\n                  }));\n                }\n                return _context2.abrupt(\"return\");\n              case 5:\n                _context2.prev = 5;\n                _context2.next = 8;\n                return mediaProvider;\n              case 8:\n                _this.mediaProvider = _context2.sent;\n                // TODO [MS-2038]: remove once context api is removed\n                // We want to re assign the view and upload configs if they are missing for backwards compatibility\n                // as currently integrators can pass context || mediaClientConfig\n                if (!_this.mediaProvider.viewMediaClientConfig) {\n                  viewMediaClientConfig = _this.mediaProvider.viewMediaClientConfig;\n                  if (viewMediaClientConfig) {\n                    ;\n                    _this.mediaProvider.viewMediaClientConfig = viewMediaClientConfig;\n                  }\n                }\n                assert__WEBPACK_IMPORTED_MODULE_11___default()(_this.mediaProvider.viewMediaClientConfig, \"MediaProvider promise did not resolve to a valid instance of MediaProvider - \".concat(_this.mediaProvider));\n                _context2.next = 21;\n                break;\n              case 13:\n                _context2.prev = 13;\n                _context2.t0 = _context2[\"catch\"](5);\n                wrappedError = new Error(\"Media functionality disabled due to rejected provider: \".concat(_context2.t0.message));\n                _this.errorReporter.captureException(wrappedError);\n                _this.destroyPickers();\n                _this.allowsUploads = false;\n                if (!_this.destroyed) {\n                  _this.view.dispatch(_this.view.state.tr.setMeta(_plugin_key__WEBPACK_IMPORTED_MODULE_18__[\"stateKey\"], {\n                    allowsUploads: _this.allowsUploads\n                  }));\n                }\n                return _context2.abrupt(\"return\");\n              case 21:\n                _this.mediaClientConfig = _this.mediaProvider.viewMediaClientConfig;\n                _this.allowsUploads = !!_this.mediaProvider.uploadMediaClientConfig;\n                view = _this.view, allowsUploads = _this.allowsUploads; // make sure editable DOM node is mounted\n                if (!_this.destroyed && view.dom.parentNode) {\n                  // make PM plugin aware of the state change to update UI during 'apply' hook\n                  view.dispatch(view.state.tr.setMeta(_plugin_key__WEBPACK_IMPORTED_MODULE_18__[\"stateKey\"], {\n                    allowsUploads: allowsUploads\n                  }));\n                }\n                if (!_this.allowsUploads) {\n                  _context2.next = 35;\n                  break;\n                }\n                _this.uploadMediaClientConfig = _this.mediaProvider.uploadMediaClientConfig;\n                if (!(_this.mediaProvider.uploadParams && _this.uploadMediaClientConfig)) {\n                  _context2.next = 32;\n                  break;\n                }\n                _context2.next = 30;\n                return _this.initPickers(_this.mediaProvider.uploadParams, _picker_facade__WEBPACK_IMPORTED_MODULE_19__[\"default\"], _this.reactContext);\n              case 30:\n                _context2.next = 33;\n                break;\n              case 32:\n                _this.destroyPickers();\n              case 33:\n                _context2.next = 36;\n                break;\n              case 35:\n                _this.destroyPickers();\n              case 36:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, null, [[5, 13]]);\n      }));\n      return function (_x3) {\n        return _ref2.apply(this, arguments);\n      };\n    }());\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"getMediaOptions\", function () {\n      return _this.options;\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"hasUserAuthProvider\", function () {\n      return !!_this.uploadMediaClientConfig && !!_this.uploadMediaClientConfig.userAuthProvider;\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"insertFile\", function (mediaState, onMediaStateChanged, pickerType) {\n      var mediaStateWithContext = _objectSpread(_objectSpread({}, mediaState), {}, {\n        contextId: _this.contextIdentifierProvider ? _this.contextIdentifierProvider.objectId : undefined\n      });\n      var collection = _this.collectionFromProvider();\n      if (collection === undefined) {\n        return;\n      }\n      if (_this.mediaOptions && _this.mediaOptions.allowMarkingUploadsAsIncomplete) {\n        _this.mobileUploadComplete[mediaStateWithContext.id] = false;\n      }\n      // We need to dispatch the change to event dispatcher only for successful files\n      if (mediaState.status !== 'error') {\n        _this.updateAndDispatch({\n          allUploadsFinished: false\n        });\n      }\n      if (Object(_utils_media_single__WEBPACK_IMPORTED_MODULE_13__[\"isMediaSingle\"])(_this.view.state.schema, mediaStateWithContext.fileMimeType)) {\n        Object(_utils_media_single__WEBPACK_IMPORTED_MODULE_13__[\"insertMediaSingleNode\"])(_this.view, mediaStateWithContext, _this.getInputMethod(pickerType), collection, _this.mediaOptions && _this.mediaOptions.alignLeftOnInsert);\n      } else {\n        Object(_utils_media_files__WEBPACK_IMPORTED_MODULE_15__[\"insertMediaGroupNode\"])(_this.view, [mediaStateWithContext], collection, _this.getInputMethod(pickerType));\n      }\n\n      // do events when media state changes\n      onMediaStateChanged(_this.handleMediaState);\n\n      // handle waiting for upload complete\n      var isEndState = function isEndState(state) {\n        return state.status && MEDIA_RESOLVED_STATES.indexOf(state.status) !== -1;\n      };\n      if (!isEndState(mediaStateWithContext)) {\n        // Chain the previous promise with a new one for this media item\n        _this.addPendingTask(new Promise(function (resolve) {\n          onMediaStateChanged(function (newState) {\n            // When media item reaches its final state, remove listener and resolve\n            if (isEndState(newState)) {\n              resolve(newState);\n            }\n          });\n        }));\n        _this.pendingTask.then(function () {\n          _this.updateAndDispatch({\n            allUploadsFinished: true\n          });\n        });\n      }\n\n      // refocus the view\n      var view = _this.view;\n      if (!view.hasFocus()) {\n        view.focus();\n      }\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"addPendingTask\", function (promise) {\n      var currentPendingTask = _this.pendingTask;\n      var pendingPromise = function pendingPromise() {\n        return currentPendingTask;\n      };\n      _this.pendingTask = promise.then(pendingPromise, pendingPromise);\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"splitMediaGroup\", function () {\n      return Object(_utils_media_common__WEBPACK_IMPORTED_MODULE_16__[\"splitMediaGroup\"])(_this.view);\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"onPopupPickerClose\", function () {\n      _this.onPopupToogleCallback(false);\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"shouldUseMediaPickerPopup\", function () {\n      if (!_this.mediaOptions || _this.mediaOptions && _this.mediaOptions.useMediaPickerPopup === undefined) {\n        return _this.hasUserAuthProvider();\n      }\n      return !!_this.mediaOptions.useMediaPickerPopup;\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"showMediaPicker\", function () {\n      if (_this.openMediaPickerBrowser && !_this.shouldUseMediaPickerPopup()) {\n        return _this.openMediaPickerBrowser();\n      }\n      if (!_this.popupPicker) {\n        return;\n      }\n      _this.popupPicker.show();\n      _this.onPopupToogleCallback(true);\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"setBrowseFn\", function (browseFn) {\n      _this.openMediaPickerBrowser = browseFn;\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"onPopupToggle\", function (onPopupToogleCallback) {\n      _this.onPopupToogleCallback = onPopupToogleCallback;\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"waitForPendingTasks\", function (timeout, lastTask) {\n      if (lastTask && _this.pendingTask === lastTask) {\n        return lastTask;\n      }\n      var chainedPromise = _this.pendingTask.then(function () {\n        return (\n          // Call ourselves to make sure that no new pending tasks have been\n          // added before the current promise has resolved.\n          _this.waitForPendingTasks(undefined, _this.pendingTask)\n        );\n      });\n      if (!timeout) {\n        return chainedPromise;\n      }\n      var rejectTimeout;\n      var timeoutPromise = new Promise(function (_resolve, reject) {\n        rejectTimeout = window.setTimeout(function () {\n          return reject(new Error(\"Media operations did not finish in \".concat(timeout, \" ms\")));\n        }, timeout);\n      });\n      return Promise.race([timeoutPromise, chainedPromise.then(function (value) {\n        clearTimeout(rejectTimeout);\n        return value;\n      })]);\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"handleMediaNodeRemoval\", function (node, getPos) {\n      var getNode = node;\n      if (!getNode) {\n        getNode = _this.view.state.doc.nodeAt(getPos());\n      }\n      Object(_utils_media_common__WEBPACK_IMPORTED_MODULE_16__[\"removeMediaNode\"])(_this.view, getNode, getPos);\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"handleMediaNodeMount\", function (node, getPos) {\n      _this.mediaNodes.unshift({\n        node: node,\n        getPos: getPos\n      });\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"handleMediaNodeUnmount\", function (oldNode) {\n      _this.mediaNodes = _this.mediaNodes.filter(function (_ref3) {\n        var node = _ref3.node;\n        return oldNode !== node;\n      });\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"findMediaNode\", function (id) {\n      return _commands_helpers__WEBPACK_IMPORTED_MODULE_17__[\"findMediaSingleNode\"](_this, id);\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"destroyAllPickers\", function (pickers) {\n      pickers.forEach(function (picker) {\n        return picker.destroy();\n      });\n      _this.pickers.splice(0, _this.pickers.length);\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"destroyPickers\", function () {\n      var pickers = _this.pickers,\n        pickerPromises = _this.pickerPromises;\n\n      // If pickerPromises and pickers are the same length\n      // All pickers have resolved and we safely destroy them\n      // Otherwise wait for them to resolve then destroy.\n      if (pickerPromises.length === pickers.length) {\n        _this.destroyAllPickers(_this.pickers);\n      } else {\n        Promise.all(pickerPromises).then(function (resolvedPickers) {\n          return _this.destroyAllPickers(resolvedPickers);\n        });\n      }\n      _this.popupPicker = undefined;\n      _this.customPicker = undefined;\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"getInputMethod\", function (pickerType) {\n      switch (pickerType) {\n        case 'popup':\n          return _atlaskit_editor_core_plugins_analytics_types__WEBPACK_IMPORTED_MODULE_20__[\"INPUT_METHOD\"].PICKER_CLOUD;\n        case 'clipboard':\n          return _atlaskit_editor_core_plugins_analytics_types__WEBPACK_IMPORTED_MODULE_20__[\"INPUT_METHOD\"].CLIPBOARD;\n        case 'dropzone':\n          return _atlaskit_editor_core_plugins_analytics_types__WEBPACK_IMPORTED_MODULE_20__[\"INPUT_METHOD\"].DRAG_AND_DROP;\n      }\n      return;\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"updateMediaNodeAttrs\", function (id, attrs, isMediaSingle) {\n      var view = _this.view;\n      if (!view) {\n        return;\n      }\n      return Object(_commands_helpers__WEBPACK_IMPORTED_MODULE_17__[\"updateMediaNodeAttrs\"])(id, attrs, isMediaSingle)(view.state, view.dispatch);\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"handleMediaState\", function (state) {\n      switch (state.status) {\n        case 'error':\n          var uploadErrorHandler = _this.options.uploadErrorHandler;\n          if (uploadErrorHandler) {\n            uploadErrorHandler(state);\n          }\n          break;\n        case 'mobile-upload-end':\n          var attrs = {\n            id: state.publicId || state.id\n          };\n          if (typeof state.collection === 'string') {\n            attrs.collection = state.collection;\n          }\n          _this.updateMediaNodeAttrs(state.id, attrs, Object(_utils_media_single__WEBPACK_IMPORTED_MODULE_13__[\"isMediaSingle\"])(_this.view.state.schema, state.fileMimeType));\n\n          // mark mobile upload as complete\n          _this.mobileUploadComplete[attrs.id] = true;\n          delete _this.mediaGroupNodes[state.id];\n          break;\n      }\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"isMobileUploadCompleted\", function (mediaId) {\n      return _commands_helpers__WEBPACK_IMPORTED_MODULE_17__[\"isMobileUploadCompleted\"](_this, mediaId);\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"removeNodeById\", function (state) {\n      var id = state.id;\n      var mediaNodeWithPos = _commands_helpers__WEBPACK_IMPORTED_MODULE_17__[\"findMediaNode\"](_this, id, Object(_utils_is_image__WEBPACK_IMPORTED_MODULE_21__[\"isImage\"])(state.fileMimeType));\n      if (mediaNodeWithPos) {\n        Object(_utils_media_common__WEBPACK_IMPORTED_MODULE_16__[\"removeMediaNode\"])(_this.view, mediaNodeWithPos.node, mediaNodeWithPos.getPos);\n      }\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"removeSelectedMediaContainer\", function () {\n      var view = _this.view;\n      var selectedNode = _this.selectedMediaContainerNode();\n      if (!selectedNode) {\n        return false;\n      }\n      var from = view.state.selection.from;\n      Object(_utils_media_common__WEBPACK_IMPORTED_MODULE_16__[\"removeMediaNode\"])(view, selectedNode.firstChild, function () {\n        return from + 1;\n      });\n      return true;\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"selectedMediaContainerNode\", function () {\n      var _this$view$state = _this.view.state,\n        selection = _this$view$state.selection,\n        schema = _this$view$state.schema;\n      if (selection instanceof prosemirror_state__WEBPACK_IMPORTED_MODULE_7__[\"NodeSelection\"] && (selection.node.type === schema.nodes.mediaSingle || selection.node.type === schema.nodes.mediaGroup)) {\n        return selection.node;\n      }\n      return;\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, \"handleDrag\", function (dragState) {\n      var isActive = dragState === 'enter';\n      if (_this.showDropzone === isActive) {\n        return;\n      }\n      _this.showDropzone = isActive;\n      var _this$view = _this.view,\n        dispatch = _this$view.dispatch,\n        state = _this$view.state;\n      // Trigger state change to be able to pick it up in the decorations handler\n      dispatch(state.tr);\n    });\n    this.reactContext = reactContext;\n    this.options = options;\n    this.mediaOptions = mediaOptions;\n    this.dispatch = _dispatch;\n    this.waitForMediaUpload = options.waitForMediaUpload === undefined ? true : options.waitForMediaUpload;\n    var nodes = _state.schema.nodes;\n    assert__WEBPACK_IMPORTED_MODULE_11___default()(nodes.media && (nodes.mediaGroup || nodes.mediaSingle), 'Editor: unable to init media plugin - media or mediaGroup/mediaSingle node absent in schema');\n    options.providerFactory.subscribe('mediaProvider', function (_name, provider) {\n      return _this.setMediaProvider(provider);\n    });\n    options.providerFactory.subscribe('contextIdentifierProvider', this.onContextIdentifierProvider);\n    this.errorReporter = options.errorReporter || new _atlaskit_editor_common__WEBPACK_IMPORTED_MODULE_10__[\"ErrorReporter\"]();\n  }\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(MediaPluginStateImplementation, [{\n    key: \"updateElement\",\n    value: function updateElement() {\n      var newElement;\n      var selectedContainer = this.selectedMediaContainerNode();\n      var mediaSingle = this.view.state.schema.nodes.mediaSingle;\n      if (selectedContainer && selectedContainer.type === mediaSingle) {\n        newElement = this.getDomElement(this.view.domAtPos.bind(this.view));\n      }\n      if (this.element !== newElement) {\n        this.element = newElement;\n      }\n    }\n  }, {\n    key: \"getDomElement\",\n    value: function getDomElement(domAtPos) {\n      var _this$view$state2 = this.view.state,\n        selection = _this$view$state2.selection,\n        schema = _this$view$state2.schema;\n      if (!(selection instanceof prosemirror_state__WEBPACK_IMPORTED_MODULE_7__[\"NodeSelection\"])) {\n        return;\n      }\n      if (selection.node.type !== schema.nodes.mediaSingle) {\n        return;\n      }\n      var node = Object(prosemirror_utils__WEBPACK_IMPORTED_MODULE_12__[\"findDomRefAtPos\"])(selection.from, domAtPos);\n      if (node) {\n        if (!node.childNodes.length) {\n          return node.parentNode;\n        }\n        var target = node.querySelector('.wrapper') || node;\n        return target;\n      }\n      return;\n    }\n\n    /**\n     * we insert a new file by inserting a initial state for that file.\n     *\n     * called when we insert a new file via the picker (connected via pickerfacade)\n     */\n\n    /**\n     * Returns a promise that is resolved after all pending operations have been finished.\n     * An optional timeout will cause the promise to reject if the operation takes too long\n     *\n     * NOTE: The promise will resolve even if some of the media have failed to process.\n     */\n  }, {\n    key: \"setView\",\n    value: function setView(view) {\n      this.view = view;\n    }\n\n    /**\n     * Called from React UI Component when user clicks on \"Delete\" icon\n     * inside of it\n     */\n\n    /**\n     * Called from React UI Component on componentDidMount\n     */\n\n    /**\n     * Called from React UI Component on componentWillUnmount and UNSAFE_componentWillReceiveProps\n     * when React component's underlying node property is replaced with a new node\n     */\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      if (this.destroyed) {\n        return;\n      }\n      this.destroyed = true;\n      var mediaNodes = this.mediaNodes;\n      mediaNodes.splice(0, mediaNodes.length);\n      this.removeOnCloseListener();\n      this.destroyPickers();\n    }\n  }, {\n    key: \"initPickers\",\n    value: function () {\n      var _initPickers = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark(function _callee3(uploadParams, Picker, reactContext) {\n        var _this2 = this;\n        var errorReporter, pickers, pickerPromises, pickerFacadeConfig, defaultPickerConfig, customPicker, popupPicker;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (!(this.destroyed || !this.uploadMediaClientConfig)) {\n                  _context3.next = 2;\n                  break;\n                }\n                return _context3.abrupt(\"return\");\n              case 2:\n                errorReporter = this.errorReporter, pickers = this.pickers, pickerPromises = this.pickerPromises; // create pickers if they don't exist, re-use otherwise\n                if (pickers.length) {\n                  _context3.next = 26;\n                  break;\n                }\n                pickerFacadeConfig = {\n                  mediaClientConfig: this.uploadMediaClientConfig,\n                  errorReporter: errorReporter\n                };\n                defaultPickerConfig = {\n                  uploadParams: uploadParams,\n                  proxyReactContext: reactContext(),\n                  useForgePlugins: this.mediaOptions && this.mediaOptions.useForgePlugins || false,\n                  featureFlags: this.mediaOptions && this.mediaOptions.featureFlags\n                };\n                if (!this.options.customMediaPicker) {\n                  _context3.next = 16;\n                  break;\n                }\n                customPicker = new Picker('customMediaPicker', pickerFacadeConfig, this.options.customMediaPicker).init();\n                pickerPromises.push(customPicker);\n                _context3.t0 = pickers;\n                _context3.next = 12;\n                return customPicker;\n              case 12:\n                _context3.t1 = this.customPicker = _context3.sent;\n                _context3.t0.push.call(_context3.t0, _context3.t1);\n                _context3.next = 25;\n                break;\n              case 16:\n                if (!this.shouldUseMediaPickerPopup()) {\n                  _context3.next = 25;\n                  break;\n                }\n                popupPicker = new Picker('popup', pickerFacadeConfig, defaultPickerConfig).init();\n                pickerPromises.push(popupPicker);\n                _context3.t2 = pickers;\n                _context3.next = 22;\n                return popupPicker;\n              case 22:\n                _context3.t3 = this.popupPicker = _context3.sent;\n                _context3.t2.push.call(_context3.t2, _context3.t3);\n                this.removeOnCloseListener = this.popupPicker.onClose(this.onPopupPickerClose);\n              case 25:\n                pickers.forEach(function (picker) {\n                  picker.onNewMedia(_this2.insertFile);\n                });\n              case 26:\n                // set new upload params for the pickers\n                pickers.forEach(function (picker) {\n                  return picker.setUploadParams(uploadParams);\n                });\n              case 27:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n      function initPickers(_x4, _x5, _x6) {\n        return _initPickers.apply(this, arguments);\n      }\n      return initPickers;\n    }()\n  }, {\n    key: \"collectionFromProvider\",\n    value: function collectionFromProvider() {\n      return this.mediaProvider && this.mediaProvider.uploadParams && this.mediaProvider.uploadParams.collection;\n    }\n  }, {\n    key: \"updateAndDispatch\",\n    value: function updateAndDispatch(props) {\n      var _this3 = this;\n      // update plugin state\n      Object.keys(props).forEach(function (_key) {\n        var key = _key;\n        var value = props[key];\n        if (value !== undefined) {\n          _this3[key] = value;\n        }\n      });\n      if (this.dispatch) {\n        this.dispatch(_plugin_key__WEBPACK_IMPORTED_MODULE_18__[\"stateKey\"], _objectSpread({}, this));\n      }\n    }\n  }]);\n  return MediaPluginStateImplementation;\n}();\nvar getMediaPluginState = function getMediaPluginState(state) {\n  return _plugin_key__WEBPACK_IMPORTED_MODULE_18__[\"stateKey\"].getState(state);\n};\nvar createPlugin = function createPlugin(_schema, options, reactContext, dispatch, mediaOptions) {\n  var dropPlaceholder = createDropPlaceholder(mediaOptions && mediaOptions.allowDropzoneDropLine);\n  return new prosemirror_state__WEBPACK_IMPORTED_MODULE_7__[\"Plugin\"]({\n    state: {\n      init: function init(_config, state) {\n        return new MediaPluginStateImplementation(state, options, reactContext, mediaOptions, dispatch);\n      },\n      apply: function apply(tr, pluginState) {\n        // remap editing media single position if we're in collab\n        if (typeof pluginState.editingMediaSinglePos === 'number') {\n          pluginState.editingMediaSinglePos = tr.mapping.map(pluginState.editingMediaSinglePos);\n        }\n        var meta = tr.getMeta(_plugin_key__WEBPACK_IMPORTED_MODULE_18__[\"stateKey\"]);\n        if (meta) {\n          var allowsUploads = meta.allowsUploads;\n          pluginState.updateAndDispatch({\n            allowsUploads: typeof allowsUploads === 'undefined' ? pluginState.allowsUploads : allowsUploads\n          });\n        }\n\n        // NOTE: We're not calling passing new state to the Editor, because we depend on the view.state reference\n        //       throughout the lifetime of view. We injected the view into the plugin state, because we dispatch()\n        //       transformations from within the plugin state (i.e. when adding a new file).\n        return pluginState;\n      }\n    },\n    filterTransaction: function filterTransaction(transaction, state) {\n      // Media node inside mediaSingle should not be selected\n      // We are relying on plugins/media/nodeviews/mediaNodeView/media.tsx#selectMediaSingleFromCard\n      // to set selection on correct mediaSingle node,\n      // We don't use 'appendTransaction' because we would like to avoid have additional transactions\n      // http://product-fabric.atlassian.net/browse/ED-10091\n      return !(transaction.selectionSet && Object(prosemirror_utils__WEBPACK_IMPORTED_MODULE_12__[\"isNodeSelection\"])(transaction.selection) && transaction.selection.node.type === state.schema.nodes.media && transaction.selection.$anchor.parent.type === state.schema.nodes.mediaSingle);\n    },\n    key: _plugin_key__WEBPACK_IMPORTED_MODULE_18__[\"stateKey\"],\n    view: function view(_view) {\n      var pluginState = getMediaPluginState(_view.state);\n      pluginState.setView(_view);\n      pluginState.updateElement();\n      return {\n        update: function update() {\n          pluginState.updateElement();\n        }\n      };\n    },\n    props: {\n      decorations: function decorations(state) {\n        var pluginState = getMediaPluginState(state);\n        if (!pluginState.showDropzone) {\n          return;\n        }\n        var schema = state.schema,\n          $anchor = state.selection.$anchor;\n\n        // When a media is already selected\n        if (state.selection instanceof prosemirror_state__WEBPACK_IMPORTED_MODULE_7__[\"NodeSelection\"]) {\n          var node = state.selection.node;\n          if (node.type === schema.nodes.mediaSingle) {\n            var deco = prosemirror_view__WEBPACK_IMPORTED_MODULE_9__[\"Decoration\"].node(state.selection.from, state.selection.to, {\n              \"class\": 'richMedia-selected'\n            });\n            return prosemirror_view__WEBPACK_IMPORTED_MODULE_9__[\"DecorationSet\"].create(state.doc, [deco]);\n          }\n          return;\n        }\n        var pos = $anchor.pos;\n        if ($anchor.parent.type !== schema.nodes.paragraph && $anchor.parent.type !== schema.nodes.codeBlock) {\n          pos = Object(prosemirror_transform__WEBPACK_IMPORTED_MODULE_8__[\"insertPoint\"])(state.doc, pos, schema.nodes.mediaGroup);\n        }\n        if (pos === null || pos === undefined) {\n          return;\n        }\n        var dropPlaceholders = [prosemirror_view__WEBPACK_IMPORTED_MODULE_9__[\"Decoration\"].widget(pos, dropPlaceholder, {\n          key: 'drop-placeholder'\n        })];\n        return prosemirror_view__WEBPACK_IMPORTED_MODULE_9__[\"DecorationSet\"].create(state.doc, dropPlaceholders);\n      },\n      nodeViews: options.nodeViews,\n      handleTextInput: function handleTextInput(view) {\n        getMediaPluginState(view.state).splitMediaGroup();\n        return false;\n      }\n    }\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9tZWRpYS9wbS1wbHVnaW5zL21haW4udHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2lucy9tZWRpYS9wbS1wbHVnaW5zL21haW4udHM/ZjRmMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJ1xuaW1wb3J0IHsgTm9kZSBhcyBQTU5vZGUsIFNjaGVtYSB9IGZyb20gJ3Byb3NlbWlycm9yLW1vZGVsJ1xuaW1wb3J0IHsgRWRpdG9yU3RhdGUsIE5vZGVTZWxlY3Rpb24sIFBsdWdpbiB9IGZyb20gJ3Byb3NlbWlycm9yLXN0YXRlJ1xuaW1wb3J0IHsgaW5zZXJ0UG9pbnQgfSBmcm9tICdwcm9zZW1pcnJvci10cmFuc2Zvcm0nXG5pbXBvcnQgeyBEZWNvcmF0aW9uLCBEZWNvcmF0aW9uU2V0LCBFZGl0b3JWaWV3IH0gZnJvbSAncHJvc2VtaXJyb3ItdmlldydcbmltcG9ydCB7IE1lZGlhQ2xpZW50Q29uZmlnIH0gZnJvbSAnQGF0bGFza2l0L21lZGlhLWNvcmUnXG5pbXBvcnQgeyBSaWNoTWVkaWFMYXlvdXQgYXMgTWVkaWFTaW5nbGVMYXlvdXQgfSBmcm9tICdAYXRsYXNraXQvYWRmLXNjaGVtYSdcbmltcG9ydCB7IFBvcHVwQ29uZmlnLCBVcGxvYWRQYXJhbXMgfSBmcm9tICdAYXRsYXNraXQvbWVkaWEtcGlja2VyL3R5cGVzJ1xuaW1wb3J0IHtcbiAgQ29udGV4dElkZW50aWZpZXJQcm92aWRlcixcbiAgRXJyb3JSZXBvcnRlcixcbiAgTWVkaWFQcm92aWRlclxufSBmcm9tICdAYXRsYXNraXQvZWRpdG9yLWNvbW1vbidcbmltcG9ydCBhc3NlcnQgZnJvbSAnYXNzZXJ0J1xuaW1wb3J0IHsgZmluZERvbVJlZkF0UG9zLCBpc05vZGVTZWxlY3Rpb24gfSBmcm9tICdwcm9zZW1pcnJvci11dGlscydcbmltcG9ydCB7IERpc3BhdGNoIH0gZnJvbSAnQGF0bGFza2l0L2VkaXRvci1jb3JlL2V2ZW50LWRpc3BhdGNoZXInXG5pbXBvcnQgeyBQcm9zZW1pcnJvckdldFBvc0hhbmRsZXIgfSBmcm9tICdAYXRsYXNraXQvZWRpdG9yLWNvcmUvbm9kZXZpZXdzJ1xuaW1wb3J0IHsgaW5zZXJ0TWVkaWFTaW5nbGVOb2RlLCBpc01lZGlhU2luZ2xlIH0gZnJvbSAnLi4vdXRpbHMvbWVkaWEtc2luZ2xlJ1xuaW1wb3J0IHsgTWVkaWFQbHVnaW5PcHRpb25zIH0gZnJvbSAnLi4vbWVkaWEtcGx1Z2luLW9wdGlvbnMnXG5pbXBvcnQgRHJvcFBsYWNlaG9sZGVyLCB7IFBsYWNlaG9sZGVyVHlwZSB9IGZyb20gJy4uL3VpL01lZGlhL0Ryb3BQbGFjZWhvbGRlcidcbmltcG9ydCB7IE1lZGlhT3B0aW9ucywgTWVkaWFTdGF0ZSwgTWVkaWFTdGF0ZVN0YXR1cyB9IGZyb20gJy4uL3R5cGVzJ1xuaW1wb3J0IHsgaW5zZXJ0TWVkaWFHcm91cE5vZGUgfSBmcm9tICcuLi91dGlscy9tZWRpYS1maWxlcydcbmltcG9ydCB7IHJlbW92ZU1lZGlhTm9kZSwgc3BsaXRNZWRpYUdyb3VwIH0gZnJvbSAnLi4vdXRpbHMvbWVkaWEtY29tbW9uJ1xuaW1wb3J0ICogYXMgaGVscGVycyBmcm9tICcuLi9jb21tYW5kcy9oZWxwZXJzJ1xuaW1wb3J0IHsgdXBkYXRlTWVkaWFOb2RlQXR0cnMgfSBmcm9tICcuLi9jb21tYW5kcy9oZWxwZXJzJ1xuaW1wb3J0IHsgc3RhdGVLZXkgfSBmcm9tICcuL3BsdWdpbi1rZXknXG5pbXBvcnQgUGlja2VyRmFjYWRlLCB7XG4gIE1lZGlhU3RhdGVFdmVudExpc3RlbmVyLFxuICBNZWRpYVN0YXRlRXZlbnRTdWJzY3JpYmVyLFxuICBQaWNrZXJGYWNhZGVDb25maWdcbn0gZnJvbSAnLi4vcGlja2VyLWZhY2FkZSdcbmltcG9ydCB7XG4gIElOUFVUX01FVEhPRCxcbiAgSW5wdXRNZXRob2RJbnNlcnRNZWRpYVxufSBmcm9tICdAYXRsYXNraXQvZWRpdG9yLWNvcmUvcGx1Z2lucy9hbmFseXRpY3MvdHlwZXMnXG5pbXBvcnQgeyBpc0ltYWdlIH0gZnJvbSAnLi4vdXRpbHMvaXMtaW1hZ2UnXG5pbXBvcnQgeyBNZWRpYU5vZGVXaXRoUG9zSGFuZGxlciwgTWVkaWFQbHVnaW5TdGF0ZSB9IGZyb20gJy4vdHlwZXMnXG5cbmV4cG9ydCAqIGZyb20gJy4vdHlwZXMnXG5leHBvcnQgeyBzdGF0ZUtleSB9IGZyb20gJy4vcGx1Z2luLWtleSdcblxuY29uc3QgY3JlYXRlRHJvcFBsYWNlaG9sZGVyID0gKGFsbG93RHJvcExpbmU/OiBib29sZWFuKSA9PiB7XG4gIGNvbnN0IGRyb3BQbGFjZWhvbGRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gIGlmIChhbGxvd0Ryb3BMaW5lKSB7XG4gICAgUmVhY3RET00ucmVuZGVyKFxuICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChEcm9wUGxhY2Vob2xkZXIsIHsgdHlwZTogJ3NpbmdsZScgfSBhcyB7XG4gICAgICAgIHR5cGU6IFBsYWNlaG9sZGVyVHlwZVxuICAgICAgfSksXG4gICAgICBkcm9wUGxhY2Vob2xkZXJcbiAgICApXG4gIH0gZWxzZSB7XG4gICAgUmVhY3RET00ucmVuZGVyKFJlYWN0LmNyZWF0ZUVsZW1lbnQoRHJvcFBsYWNlaG9sZGVyKSwgZHJvcFBsYWNlaG9sZGVyKVxuICB9XG4gIHJldHVybiBkcm9wUGxhY2Vob2xkZXJcbn1cblxuY29uc3QgTUVESUFfUkVTT0xWRURfU1RBVEVTID0gWydyZWFkeScsICdlcnJvcicsICdjYW5jZWxsZWQnXVxuXG5leHBvcnQgY2xhc3MgTWVkaWFQbHVnaW5TdGF0ZUltcGxlbWVudGF0aW9uIGltcGxlbWVudHMgTWVkaWFQbHVnaW5TdGF0ZSB7XG4gIGFsbG93c1VwbG9hZHM6IGJvb2xlYW4gPSBmYWxzZVxuICBtZWRpYUNsaWVudENvbmZpZz86IE1lZGlhQ2xpZW50Q29uZmlnXG4gIHVwbG9hZE1lZGlhQ2xpZW50Q29uZmlnPzogTWVkaWFDbGllbnRDb25maWdcbiAgaWdub3JlTGlua3M6IGJvb2xlYW4gPSBmYWxzZVxuICB3YWl0Rm9yTWVkaWFVcGxvYWQ6IGJvb2xlYW4gPSB0cnVlXG4gIGFsbFVwbG9hZHNGaW5pc2hlZDogYm9vbGVhbiA9IHRydWVcbiAgc2hvd0Ryb3B6b25lOiBib29sZWFuID0gZmFsc2VcbiAgZWxlbWVudD86IEhUTUxFbGVtZW50XG4gIGxheW91dDogTWVkaWFTaW5nbGVMYXlvdXQgPSAnY2VudGVyJ1xuICBtZWRpYU5vZGVzOiBNZWRpYU5vZGVXaXRoUG9zSGFuZGxlcltdID0gW11cbiAgbWVkaWFHcm91cE5vZGVzOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge31cbiAgbW9iaWxlVXBsb2FkQ29tcGxldGU6IFJlY29yZDxzdHJpbmcsIGJvb2xlYW4+ID0ge31cbiAgb3B0aW9uczogTWVkaWFQbHVnaW5PcHRpb25zXG4gIG1lZGlhUHJvdmlkZXI/OiBNZWRpYVByb3ZpZGVyXG5cbiAgcHJpdmF0ZSBwZW5kaW5nVGFzayA9IFByb21pc2UucmVzb2x2ZTxNZWRpYVN0YXRlIHwgbnVsbD4obnVsbClcbiAgcHJpdmF0ZSB2aWV3ITogRWRpdG9yVmlld1xuICBwcml2YXRlIGRlc3Ryb3llZCA9IGZhbHNlXG4gIHByaXZhdGUgY29udGV4dElkZW50aWZpZXJQcm92aWRlcj86IENvbnRleHRJZGVudGlmaWVyUHJvdmlkZXJcbiAgcHJpdmF0ZSBlcnJvclJlcG9ydGVyOiBFcnJvclJlcG9ydGVyXG4gIHByaXZhdGUgcG9wdXBQaWNrZXI/OiBQaWNrZXJGYWNhZGVcbiAgLy8gQHRzLWlnbm9yZTogcHJpdmF0ZSBpcyBPS1xuICBwcml2YXRlIGN1c3RvbVBpY2tlcj86IFBpY2tlckZhY2FkZVxuICBwcml2YXRlIHJlbW92ZU9uQ2xvc2VMaXN0ZW5lcjogKCkgPT4gdm9pZCA9ICgpID0+IHt9XG4gIHByaXZhdGUgb3Blbk1lZGlhUGlja2VyQnJvd3Nlcj86ICgpID0+IHZvaWRcbiAgcHJpdmF0ZSBvblBvcHVwVG9vZ2xlQ2FsbGJhY2s6IChpc09wZW46IGJvb2xlYW4pID0+IHZvaWQgPSAoKSA9PiB7fVxuICBwcml2YXRlIHJlYWN0Q29udGV4dDogKCkgPT4ge31cblxuICBwaWNrZXJzOiBQaWNrZXJGYWNhZGVbXSA9IFtdXG4gIHBpY2tlclByb21pc2VzOiBBcnJheTxQcm9taXNlPFBpY2tlckZhY2FkZT4+ID0gW11cblxuICBlZGl0aW5nTWVkaWFTaW5nbGVQb3M/OiBudW1iZXJcbiAgc2hvd0VkaXRpbmdEaWFsb2c/OiBib29sZWFuXG4gIG1lZGlhT3B0aW9ucz86IE1lZGlhT3B0aW9uc1xuICBkaXNwYXRjaD86IERpc3BhdGNoXG5cbiAgY29uc3RydWN0b3IoXG4gICAgc3RhdGU6IEVkaXRvclN0YXRlLFxuICAgIG9wdGlvbnM6IE1lZGlhUGx1Z2luT3B0aW9ucyxcbiAgICByZWFjdENvbnRleHQ6ICgpID0+IHt9LFxuICAgIG1lZGlhT3B0aW9ucz86IE1lZGlhT3B0aW9ucyxcbiAgICBkaXNwYXRjaD86IERpc3BhdGNoXG4gICkge1xuICAgIHRoaXMucmVhY3RDb250ZXh0ID0gcmVhY3RDb250ZXh0XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9uc1xuICAgIHRoaXMubWVkaWFPcHRpb25zID0gbWVkaWFPcHRpb25zXG4gICAgdGhpcy5kaXNwYXRjaCA9IGRpc3BhdGNoXG4gICAgdGhpcy53YWl0Rm9yTWVkaWFVcGxvYWQgPVxuICAgICAgb3B0aW9ucy53YWl0Rm9yTWVkaWFVcGxvYWQgPT09IHVuZGVmaW5lZFxuICAgICAgICA/IHRydWVcbiAgICAgICAgOiBvcHRpb25zLndhaXRGb3JNZWRpYVVwbG9hZFxuXG4gICAgY29uc3QgeyBub2RlcyB9ID0gc3RhdGUuc2NoZW1hXG4gICAgYXNzZXJ0KFxuICAgICAgbm9kZXMubWVkaWEgJiYgKG5vZGVzLm1lZGlhR3JvdXAgfHwgbm9kZXMubWVkaWFTaW5nbGUpLFxuICAgICAgJ0VkaXRvcjogdW5hYmxlIHRvIGluaXQgbWVkaWEgcGx1Z2luIC0gbWVkaWEgb3IgbWVkaWFHcm91cC9tZWRpYVNpbmdsZSBub2RlIGFic2VudCBpbiBzY2hlbWEnXG4gICAgKVxuXG4gICAgb3B0aW9ucy5wcm92aWRlckZhY3Rvcnkuc3Vic2NyaWJlKFxuICAgICAgJ21lZGlhUHJvdmlkZXInLFxuICAgICAgKF9uYW1lOiBzdHJpbmcsIHByb3ZpZGVyPzogUHJvbWlzZTxNZWRpYVByb3ZpZGVyPikgPT5cbiAgICAgICAgdGhpcy5zZXRNZWRpYVByb3ZpZGVyKHByb3ZpZGVyKVxuICAgIClcblxuICAgIG9wdGlvbnMucHJvdmlkZXJGYWN0b3J5LnN1YnNjcmliZShcbiAgICAgICdjb250ZXh0SWRlbnRpZmllclByb3ZpZGVyJyxcbiAgICAgIHRoaXMub25Db250ZXh0SWRlbnRpZmllclByb3ZpZGVyXG4gICAgKVxuXG4gICAgdGhpcy5lcnJvclJlcG9ydGVyID0gb3B0aW9ucy5lcnJvclJlcG9ydGVyIHx8IG5ldyBFcnJvclJlcG9ydGVyKClcbiAgfVxuXG4gIG9uQ29udGV4dElkZW50aWZpZXJQcm92aWRlciA9IGFzeW5jIChcbiAgICBfbmFtZTogc3RyaW5nLFxuICAgIHByb3ZpZGVyPzogUHJvbWlzZTxDb250ZXh0SWRlbnRpZmllclByb3ZpZGVyPlxuICApID0+IHtcbiAgICBpZiAocHJvdmlkZXIpIHtcbiAgICAgIHRoaXMuY29udGV4dElkZW50aWZpZXJQcm92aWRlciA9IGF3YWl0IHByb3ZpZGVyXG4gICAgfVxuICB9XG5cbiAgc2V0TWVkaWFQcm92aWRlciA9IGFzeW5jIChtZWRpYVByb3ZpZGVyPzogUHJvbWlzZTxNZWRpYVByb3ZpZGVyPikgPT4ge1xuICAgIGlmICghbWVkaWFQcm92aWRlcikge1xuICAgICAgdGhpcy5kZXN0cm95UGlja2VycygpXG5cbiAgICAgIHRoaXMuYWxsb3dzVXBsb2FkcyA9IGZhbHNlXG4gICAgICBpZiAoIXRoaXMuZGVzdHJveWVkKSB7XG4gICAgICAgIHRoaXMudmlldy5kaXNwYXRjaChcbiAgICAgICAgICB0aGlzLnZpZXcuc3RhdGUudHIuc2V0TWV0YShzdGF0ZUtleSwge1xuICAgICAgICAgICAgYWxsb3dzVXBsb2FkczogdGhpcy5hbGxvd3NVcGxvYWRzXG4gICAgICAgICAgfSlcbiAgICAgICAgKVxuICAgICAgfVxuXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICAvLyBUT0RPIGRpc2FibGUgKG5vdCBkZXN0cm95ISkgcGlja2VycyB1bnRpbCBtZWRpYVByb3ZpZGVyIGlzIHJlc29sdmVkXG4gICAgdHJ5IHtcbiAgICAgIHRoaXMubWVkaWFQcm92aWRlciA9IGF3YWl0IG1lZGlhUHJvdmlkZXJcblxuICAgICAgLy8gVE9ETyBbTVMtMjAzOF06IHJlbW92ZSBvbmNlIGNvbnRleHQgYXBpIGlzIHJlbW92ZWRcbiAgICAgIC8vIFdlIHdhbnQgdG8gcmUgYXNzaWduIHRoZSB2aWV3IGFuZCB1cGxvYWQgY29uZmlncyBpZiB0aGV5IGFyZSBtaXNzaW5nIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eVxuICAgICAgLy8gYXMgY3VycmVudGx5IGludGVncmF0b3JzIGNhbiBwYXNzIGNvbnRleHQgfHwgbWVkaWFDbGllbnRDb25maWdcbiAgICAgIGlmICghdGhpcy5tZWRpYVByb3ZpZGVyLnZpZXdNZWRpYUNsaWVudENvbmZpZykge1xuICAgICAgICBjb25zdCB2aWV3TWVkaWFDbGllbnRDb25maWcgPSB0aGlzLm1lZGlhUHJvdmlkZXIudmlld01lZGlhQ2xpZW50Q29uZmlnXG5cbiAgICAgICAgaWYgKHZpZXdNZWRpYUNsaWVudENvbmZpZykge1xuICAgICAgICAgIDsodGhpc1xuICAgICAgICAgICAgLm1lZGlhUHJvdmlkZXIgYXMgTWVkaWFQcm92aWRlcikudmlld01lZGlhQ2xpZW50Q29uZmlnID0gdmlld01lZGlhQ2xpZW50Q29uZmlnXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgYXNzZXJ0KFxuICAgICAgICB0aGlzLm1lZGlhUHJvdmlkZXIudmlld01lZGlhQ2xpZW50Q29uZmlnLFxuICAgICAgICBgTWVkaWFQcm92aWRlciBwcm9taXNlIGRpZCBub3QgcmVzb2x2ZSB0byBhIHZhbGlkIGluc3RhbmNlIG9mIE1lZGlhUHJvdmlkZXIgLSAke3RoaXMubWVkaWFQcm92aWRlcn1gXG4gICAgICApXG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zdCB3cmFwcGVkRXJyb3IgPSBuZXcgRXJyb3IoXG4gICAgICAgIGBNZWRpYSBmdW5jdGlvbmFsaXR5IGRpc2FibGVkIGR1ZSB0byByZWplY3RlZCBwcm92aWRlcjogJHsoZXJyIGFzIEVycm9yKS5tZXNzYWdlfWBcbiAgICAgIClcbiAgICAgIHRoaXMuZXJyb3JSZXBvcnRlci5jYXB0dXJlRXhjZXB0aW9uKHdyYXBwZWRFcnJvcilcblxuICAgICAgdGhpcy5kZXN0cm95UGlja2VycygpXG5cbiAgICAgIHRoaXMuYWxsb3dzVXBsb2FkcyA9IGZhbHNlXG4gICAgICBpZiAoIXRoaXMuZGVzdHJveWVkKSB7XG4gICAgICAgIHRoaXMudmlldy5kaXNwYXRjaChcbiAgICAgICAgICB0aGlzLnZpZXcuc3RhdGUudHIuc2V0TWV0YShzdGF0ZUtleSwge1xuICAgICAgICAgICAgYWxsb3dzVXBsb2FkczogdGhpcy5hbGxvd3NVcGxvYWRzXG4gICAgICAgICAgfSlcbiAgICAgICAgKVxuICAgICAgfVxuXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICB0aGlzLm1lZGlhQ2xpZW50Q29uZmlnID0gdGhpcy5tZWRpYVByb3ZpZGVyLnZpZXdNZWRpYUNsaWVudENvbmZpZ1xuXG4gICAgdGhpcy5hbGxvd3NVcGxvYWRzID0gISF0aGlzLm1lZGlhUHJvdmlkZXIudXBsb2FkTWVkaWFDbGllbnRDb25maWdcbiAgICBjb25zdCB7IHZpZXcsIGFsbG93c1VwbG9hZHMgfSA9IHRoaXNcblxuICAgIC8vIG1ha2Ugc3VyZSBlZGl0YWJsZSBET00gbm9kZSBpcyBtb3VudGVkXG4gICAgaWYgKCF0aGlzLmRlc3Ryb3llZCAmJiB2aWV3LmRvbS5wYXJlbnROb2RlKSB7XG4gICAgICAvLyBtYWtlIFBNIHBsdWdpbiBhd2FyZSBvZiB0aGUgc3RhdGUgY2hhbmdlIHRvIHVwZGF0ZSBVSSBkdXJpbmcgJ2FwcGx5JyBob29rXG4gICAgICB2aWV3LmRpc3BhdGNoKHZpZXcuc3RhdGUudHIuc2V0TWV0YShzdGF0ZUtleSwgeyBhbGxvd3NVcGxvYWRzIH0pKVxuICAgIH1cblxuICAgIGlmICh0aGlzLmFsbG93c1VwbG9hZHMpIHtcbiAgICAgIHRoaXMudXBsb2FkTWVkaWFDbGllbnRDb25maWcgPSB0aGlzLm1lZGlhUHJvdmlkZXIudXBsb2FkTWVkaWFDbGllbnRDb25maWdcblxuICAgICAgaWYgKHRoaXMubWVkaWFQcm92aWRlci51cGxvYWRQYXJhbXMgJiYgdGhpcy51cGxvYWRNZWRpYUNsaWVudENvbmZpZykge1xuICAgICAgICBhd2FpdCB0aGlzLmluaXRQaWNrZXJzKFxuICAgICAgICAgIHRoaXMubWVkaWFQcm92aWRlci51cGxvYWRQYXJhbXMsXG4gICAgICAgICAgUGlja2VyRmFjYWRlLFxuICAgICAgICAgIHRoaXMucmVhY3RDb250ZXh0XG4gICAgICAgIClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZGVzdHJveVBpY2tlcnMoKVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRlc3Ryb3lQaWNrZXJzKClcbiAgICB9XG4gIH1cblxuICBnZXRNZWRpYU9wdGlvbnMgPSAoKSA9PiB0aGlzLm9wdGlvbnNcblxuICB1cGRhdGVFbGVtZW50KCk6IHZvaWQge1xuICAgIGxldCBuZXdFbGVtZW50XG4gICAgY29uc3Qgc2VsZWN0ZWRDb250YWluZXIgPSB0aGlzLnNlbGVjdGVkTWVkaWFDb250YWluZXJOb2RlKClcbiAgICBjb25zdCB7IG1lZGlhU2luZ2xlIH0gPSB0aGlzLnZpZXcuc3RhdGUuc2NoZW1hLm5vZGVzXG5cbiAgICBpZiAoc2VsZWN0ZWRDb250YWluZXIgJiYgc2VsZWN0ZWRDb250YWluZXIudHlwZSA9PT0gbWVkaWFTaW5nbGUpIHtcbiAgICAgIG5ld0VsZW1lbnQgPSB0aGlzLmdldERvbUVsZW1lbnQodGhpcy52aWV3LmRvbUF0UG9zLmJpbmQodGhpcy52aWV3KSkgYXNcbiAgICAgICAgfCBIVE1MRWxlbWVudFxuICAgICAgICB8IHVuZGVmaW5lZFxuICAgIH1cbiAgICBpZiAodGhpcy5lbGVtZW50ICE9PSBuZXdFbGVtZW50KSB7XG4gICAgICB0aGlzLmVsZW1lbnQgPSBuZXdFbGVtZW50XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBoYXNVc2VyQXV0aFByb3ZpZGVyID0gKCkgPT5cbiAgICAhIXRoaXMudXBsb2FkTWVkaWFDbGllbnRDb25maWcgJiZcbiAgICAhIXRoaXMudXBsb2FkTWVkaWFDbGllbnRDb25maWcudXNlckF1dGhQcm92aWRlclxuXG4gIHByaXZhdGUgZ2V0RG9tRWxlbWVudChkb21BdFBvczogRWRpdG9yVmlld1snZG9tQXRQb3MnXSkge1xuICAgIGNvbnN0IHsgc2VsZWN0aW9uLCBzY2hlbWEgfSA9IHRoaXMudmlldy5zdGF0ZVxuICAgIGlmICghKHNlbGVjdGlvbiBpbnN0YW5jZW9mIE5vZGVTZWxlY3Rpb24pKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBpZiAoc2VsZWN0aW9uLm5vZGUudHlwZSAhPT0gc2NoZW1hLm5vZGVzLm1lZGlhU2luZ2xlKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBjb25zdCBub2RlID0gZmluZERvbVJlZkF0UG9zKHNlbGVjdGlvbi5mcm9tLCBkb21BdFBvcylcbiAgICBpZiAobm9kZSkge1xuICAgICAgaWYgKCFub2RlLmNoaWxkTm9kZXMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBub2RlLnBhcmVudE5vZGUgYXMgSFRNTEVsZW1lbnQgfCB1bmRlZmluZWRcbiAgICAgIH1cblxuICAgICAgY29uc3QgdGFyZ2V0ID0gKG5vZGUgYXMgSFRNTEVsZW1lbnQpLnF1ZXJ5U2VsZWN0b3IoJy53cmFwcGVyJykgfHwgbm9kZVxuICAgICAgcmV0dXJuIHRhcmdldFxuICAgIH1cbiAgICByZXR1cm5cbiAgfVxuXG4gIC8qKlxuICAgKiB3ZSBpbnNlcnQgYSBuZXcgZmlsZSBieSBpbnNlcnRpbmcgYSBpbml0aWFsIHN0YXRlIGZvciB0aGF0IGZpbGUuXG4gICAqXG4gICAqIGNhbGxlZCB3aGVuIHdlIGluc2VydCBhIG5ldyBmaWxlIHZpYSB0aGUgcGlja2VyIChjb25uZWN0ZWQgdmlhIHBpY2tlcmZhY2FkZSlcbiAgICovXG4gIGluc2VydEZpbGUgPSAoXG4gICAgbWVkaWFTdGF0ZTogTWVkaWFTdGF0ZSxcbiAgICBvbk1lZGlhU3RhdGVDaGFuZ2VkOiBNZWRpYVN0YXRlRXZlbnRTdWJzY3JpYmVyLFxuICAgIHBpY2tlclR5cGU/OiBzdHJpbmdcbiAgKSA9PiB7XG4gICAgY29uc3QgbWVkaWFTdGF0ZVdpdGhDb250ZXh0OiBNZWRpYVN0YXRlID0ge1xuICAgICAgLi4ubWVkaWFTdGF0ZSxcbiAgICAgIGNvbnRleHRJZDogdGhpcy5jb250ZXh0SWRlbnRpZmllclByb3ZpZGVyXG4gICAgICAgID8gdGhpcy5jb250ZXh0SWRlbnRpZmllclByb3ZpZGVyLm9iamVjdElkXG4gICAgICAgIDogdW5kZWZpbmVkXG4gICAgfVxuXG4gICAgY29uc3QgY29sbGVjdGlvbiA9IHRoaXMuY29sbGVjdGlvbkZyb21Qcm92aWRlcigpXG4gICAgaWYgKGNvbGxlY3Rpb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgdGhpcy5tZWRpYU9wdGlvbnMgJiZcbiAgICAgIHRoaXMubWVkaWFPcHRpb25zLmFsbG93TWFya2luZ1VwbG9hZHNBc0luY29tcGxldGVcbiAgICApIHtcbiAgICAgIHRoaXMubW9iaWxlVXBsb2FkQ29tcGxldGVbbWVkaWFTdGF0ZVdpdGhDb250ZXh0LmlkXSA9IGZhbHNlXG4gICAgfVxuICAgIC8vIFdlIG5lZWQgdG8gZGlzcGF0Y2ggdGhlIGNoYW5nZSB0byBldmVudCBkaXNwYXRjaGVyIG9ubHkgZm9yIHN1Y2Nlc3NmdWwgZmlsZXNcbiAgICBpZiAobWVkaWFTdGF0ZS5zdGF0dXMgIT09ICdlcnJvcicpIHtcbiAgICAgIHRoaXMudXBkYXRlQW5kRGlzcGF0Y2goe1xuICAgICAgICBhbGxVcGxvYWRzRmluaXNoZWQ6IGZhbHNlXG4gICAgICB9KVxuICAgIH1cblxuICAgIGlmIChcbiAgICAgIGlzTWVkaWFTaW5nbGUodGhpcy52aWV3LnN0YXRlLnNjaGVtYSwgbWVkaWFTdGF0ZVdpdGhDb250ZXh0LmZpbGVNaW1lVHlwZSlcbiAgICApIHtcbiAgICAgIGluc2VydE1lZGlhU2luZ2xlTm9kZShcbiAgICAgICAgdGhpcy52aWV3LFxuICAgICAgICBtZWRpYVN0YXRlV2l0aENvbnRleHQsXG4gICAgICAgIHRoaXMuZ2V0SW5wdXRNZXRob2QocGlja2VyVHlwZSksXG4gICAgICAgIGNvbGxlY3Rpb24sXG4gICAgICAgIHRoaXMubWVkaWFPcHRpb25zICYmIHRoaXMubWVkaWFPcHRpb25zLmFsaWduTGVmdE9uSW5zZXJ0XG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIGluc2VydE1lZGlhR3JvdXBOb2RlKFxuICAgICAgICB0aGlzLnZpZXcsXG4gICAgICAgIFttZWRpYVN0YXRlV2l0aENvbnRleHRdLFxuICAgICAgICBjb2xsZWN0aW9uLFxuICAgICAgICB0aGlzLmdldElucHV0TWV0aG9kKHBpY2tlclR5cGUpXG4gICAgICApXG4gICAgfVxuXG4gICAgLy8gZG8gZXZlbnRzIHdoZW4gbWVkaWEgc3RhdGUgY2hhbmdlc1xuICAgIG9uTWVkaWFTdGF0ZUNoYW5nZWQodGhpcy5oYW5kbGVNZWRpYVN0YXRlKVxuXG4gICAgLy8gaGFuZGxlIHdhaXRpbmcgZm9yIHVwbG9hZCBjb21wbGV0ZVxuICAgIGNvbnN0IGlzRW5kU3RhdGUgPSAoc3RhdGU6IE1lZGlhU3RhdGUpID0+XG4gICAgICBzdGF0ZS5zdGF0dXMgJiYgTUVESUFfUkVTT0xWRURfU1RBVEVTLmluZGV4T2Yoc3RhdGUuc3RhdHVzKSAhPT0gLTFcblxuICAgIGlmICghaXNFbmRTdGF0ZShtZWRpYVN0YXRlV2l0aENvbnRleHQpKSB7XG4gICAgICAvLyBDaGFpbiB0aGUgcHJldmlvdXMgcHJvbWlzZSB3aXRoIGEgbmV3IG9uZSBmb3IgdGhpcyBtZWRpYSBpdGVtXG4gICAgICB0aGlzLmFkZFBlbmRpbmdUYXNrKFxuICAgICAgICBuZXcgUHJvbWlzZTxNZWRpYVN0YXRlIHwgbnVsbD4ocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgb25NZWRpYVN0YXRlQ2hhbmdlZChuZXdTdGF0ZSA9PiB7XG4gICAgICAgICAgICAvLyBXaGVuIG1lZGlhIGl0ZW0gcmVhY2hlcyBpdHMgZmluYWwgc3RhdGUsIHJlbW92ZSBsaXN0ZW5lciBhbmQgcmVzb2x2ZVxuICAgICAgICAgICAgaWYgKGlzRW5kU3RhdGUobmV3U3RhdGUpKSB7XG4gICAgICAgICAgICAgIHJlc29sdmUobmV3U3RhdGUpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICAgIClcblxuICAgICAgdGhpcy5wZW5kaW5nVGFzay50aGVuKCgpID0+IHtcbiAgICAgICAgdGhpcy51cGRhdGVBbmREaXNwYXRjaCh7XG4gICAgICAgICAgYWxsVXBsb2Fkc0ZpbmlzaGVkOiB0cnVlXG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgIH1cblxuICAgIC8vIHJlZm9jdXMgdGhlIHZpZXdcbiAgICBjb25zdCB7IHZpZXcgfSA9IHRoaXNcbiAgICBpZiAoIXZpZXcuaGFzRm9jdXMoKSkge1xuICAgICAgdmlldy5mb2N1cygpXG4gICAgfVxuICB9XG5cbiAgYWRkUGVuZGluZ1Rhc2sgPSAocHJvbWlzZTogUHJvbWlzZTxhbnk+KSA9PiB7XG4gICAgY29uc3QgY3VycmVudFBlbmRpbmdUYXNrID0gdGhpcy5wZW5kaW5nVGFza1xuICAgIGNvbnN0IHBlbmRpbmdQcm9taXNlID0gKCkgPT4gY3VycmVudFBlbmRpbmdUYXNrXG4gICAgdGhpcy5wZW5kaW5nVGFzayA9IHByb21pc2UudGhlbihwZW5kaW5nUHJvbWlzZSwgcGVuZGluZ1Byb21pc2UpXG4gIH1cblxuICBzcGxpdE1lZGlhR3JvdXAgPSAoKTogYm9vbGVhbiA9PiBzcGxpdE1lZGlhR3JvdXAodGhpcy52aWV3KVxuXG4gIG9uUG9wdXBQaWNrZXJDbG9zZSA9ICgpID0+IHtcbiAgICB0aGlzLm9uUG9wdXBUb29nbGVDYWxsYmFjayhmYWxzZSlcbiAgfVxuXG4gIHNob3VsZFVzZU1lZGlhUGlja2VyUG9wdXAgPSAoKSA9PiB7XG4gICAgaWYgKFxuICAgICAgIXRoaXMubWVkaWFPcHRpb25zIHx8XG4gICAgICAodGhpcy5tZWRpYU9wdGlvbnMgJiYgdGhpcy5tZWRpYU9wdGlvbnMudXNlTWVkaWFQaWNrZXJQb3B1cCA9PT0gdW5kZWZpbmVkKVxuICAgICkge1xuICAgICAgcmV0dXJuIHRoaXMuaGFzVXNlckF1dGhQcm92aWRlcigpXG4gICAgfVxuXG4gICAgcmV0dXJuICEhdGhpcy5tZWRpYU9wdGlvbnMudXNlTWVkaWFQaWNrZXJQb3B1cFxuICB9XG5cbiAgc2hvd01lZGlhUGlja2VyID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLm9wZW5NZWRpYVBpY2tlckJyb3dzZXIgJiYgIXRoaXMuc2hvdWxkVXNlTWVkaWFQaWNrZXJQb3B1cCgpKSB7XG4gICAgICByZXR1cm4gdGhpcy5vcGVuTWVkaWFQaWNrZXJCcm93c2VyKClcbiAgICB9XG4gICAgaWYgKCF0aGlzLnBvcHVwUGlja2VyKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgdGhpcy5wb3B1cFBpY2tlci5zaG93KClcbiAgICB0aGlzLm9uUG9wdXBUb29nbGVDYWxsYmFjayh0cnVlKVxuICB9XG5cbiAgc2V0QnJvd3NlRm4gPSAoYnJvd3NlRm46ICgpID0+IHZvaWQpID0+IHtcbiAgICB0aGlzLm9wZW5NZWRpYVBpY2tlckJyb3dzZXIgPSBicm93c2VGblxuICB9XG5cbiAgb25Qb3B1cFRvZ2dsZSA9IChvblBvcHVwVG9vZ2xlQ2FsbGJhY2s6IChpc09wZW46IGJvb2xlYW4pID0+IHZvaWQpID0+IHtcbiAgICB0aGlzLm9uUG9wdXBUb29nbGVDYWxsYmFjayA9IG9uUG9wdXBUb29nbGVDYWxsYmFja1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBwcm9taXNlIHRoYXQgaXMgcmVzb2x2ZWQgYWZ0ZXIgYWxsIHBlbmRpbmcgb3BlcmF0aW9ucyBoYXZlIGJlZW4gZmluaXNoZWQuXG4gICAqIEFuIG9wdGlvbmFsIHRpbWVvdXQgd2lsbCBjYXVzZSB0aGUgcHJvbWlzZSB0byByZWplY3QgaWYgdGhlIG9wZXJhdGlvbiB0YWtlcyB0b28gbG9uZ1xuICAgKlxuICAgKiBOT1RFOiBUaGUgcHJvbWlzZSB3aWxsIHJlc29sdmUgZXZlbiBpZiBzb21lIG9mIHRoZSBtZWRpYSBoYXZlIGZhaWxlZCB0byBwcm9jZXNzLlxuICAgKi9cbiAgd2FpdEZvclBlbmRpbmdUYXNrcyA9IChcbiAgICB0aW1lb3V0PzogbnVtYmVyLFxuICAgIGxhc3RUYXNrPzogUHJvbWlzZTxNZWRpYVN0YXRlIHwgbnVsbD5cbiAgKTogUHJvbWlzZTxNZWRpYVN0YXRlIHwgbnVsbD4gPT4ge1xuICAgIGlmIChsYXN0VGFzayAmJiB0aGlzLnBlbmRpbmdUYXNrID09PSBsYXN0VGFzaykge1xuICAgICAgcmV0dXJuIGxhc3RUYXNrXG4gICAgfVxuXG4gICAgY29uc3QgY2hhaW5lZFByb21pc2U6IFByb21pc2U8TWVkaWFTdGF0ZSB8IG51bGw+ID0gdGhpcy5wZW5kaW5nVGFzay50aGVuKFxuICAgICAgKCkgPT5cbiAgICAgICAgLy8gQ2FsbCBvdXJzZWx2ZXMgdG8gbWFrZSBzdXJlIHRoYXQgbm8gbmV3IHBlbmRpbmcgdGFza3MgaGF2ZSBiZWVuXG4gICAgICAgIC8vIGFkZGVkIGJlZm9yZSB0aGUgY3VycmVudCBwcm9taXNlIGhhcyByZXNvbHZlZC5cbiAgICAgICAgdGhpcy53YWl0Rm9yUGVuZGluZ1Rhc2tzKHVuZGVmaW5lZCwgdGhpcy5wZW5kaW5nVGFzaylcbiAgICApXG5cbiAgICBpZiAoIXRpbWVvdXQpIHtcbiAgICAgIHJldHVybiBjaGFpbmVkUHJvbWlzZVxuICAgIH1cblxuICAgIGxldCByZWplY3RUaW1lb3V0OiBudW1iZXJcbiAgICBjb25zdCB0aW1lb3V0UHJvbWlzZSA9IG5ldyBQcm9taXNlPG51bGw+KChfcmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICByZWplY3RUaW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQoXG4gICAgICAgICgpID0+XG4gICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihgTWVkaWEgb3BlcmF0aW9ucyBkaWQgbm90IGZpbmlzaCBpbiAke3RpbWVvdXR9IG1zYCkpLFxuICAgICAgICB0aW1lb3V0XG4gICAgICApXG4gICAgfSlcblxuICAgIHJldHVybiBQcm9taXNlLnJhY2UoW1xuICAgICAgdGltZW91dFByb21pc2UsXG4gICAgICBjaGFpbmVkUHJvbWlzZS50aGVuKHZhbHVlID0+IHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHJlamVjdFRpbWVvdXQpXG4gICAgICAgIHJldHVybiB2YWx1ZVxuICAgICAgfSlcbiAgICBdKVxuICB9XG5cbiAgc2V0Vmlldyh2aWV3OiBFZGl0b3JWaWV3KSB7XG4gICAgdGhpcy52aWV3ID0gdmlld1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCBmcm9tIFJlYWN0IFVJIENvbXBvbmVudCB3aGVuIHVzZXIgY2xpY2tzIG9uIFwiRGVsZXRlXCIgaWNvblxuICAgKiBpbnNpZGUgb2YgaXRcbiAgICovXG4gIGhhbmRsZU1lZGlhTm9kZVJlbW92YWwgPSAoXG4gICAgbm9kZTogUE1Ob2RlIHwgdW5kZWZpbmVkLFxuICAgIGdldFBvczogUHJvc2VtaXJyb3JHZXRQb3NIYW5kbGVyXG4gICkgPT4ge1xuICAgIGxldCBnZXROb2RlID0gbm9kZVxuICAgIGlmICghZ2V0Tm9kZSkge1xuICAgICAgZ2V0Tm9kZSA9IHRoaXMudmlldy5zdGF0ZS5kb2Mubm9kZUF0KGdldFBvcygpKSBhcyBQTU5vZGVcbiAgICB9XG5cbiAgICByZW1vdmVNZWRpYU5vZGUodGhpcy52aWV3LCBnZXROb2RlLCBnZXRQb3MpXG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIGZyb20gUmVhY3QgVUkgQ29tcG9uZW50IG9uIGNvbXBvbmVudERpZE1vdW50XG4gICAqL1xuICBoYW5kbGVNZWRpYU5vZGVNb3VudCA9IChub2RlOiBQTU5vZGUsIGdldFBvczogUHJvc2VtaXJyb3JHZXRQb3NIYW5kbGVyKSA9PiB7XG4gICAgdGhpcy5tZWRpYU5vZGVzLnVuc2hpZnQoeyBub2RlLCBnZXRQb3MgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgZnJvbSBSZWFjdCBVSSBDb21wb25lbnQgb24gY29tcG9uZW50V2lsbFVubW91bnQgYW5kIFVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzXG4gICAqIHdoZW4gUmVhY3QgY29tcG9uZW50J3MgdW5kZXJseWluZyBub2RlIHByb3BlcnR5IGlzIHJlcGxhY2VkIHdpdGggYSBuZXcgbm9kZVxuICAgKi9cbiAgaGFuZGxlTWVkaWFOb2RlVW5tb3VudCA9IChvbGROb2RlOiBQTU5vZGUpID0+IHtcbiAgICB0aGlzLm1lZGlhTm9kZXMgPSB0aGlzLm1lZGlhTm9kZXMuZmlsdGVyKCh7IG5vZGUgfSkgPT4gb2xkTm9kZSAhPT0gbm9kZSlcbiAgfVxuXG4gIGRlc3Ryb3koKSB7XG4gICAgaWYgKHRoaXMuZGVzdHJveWVkKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICB0aGlzLmRlc3Ryb3llZCA9IHRydWVcblxuICAgIGNvbnN0IHsgbWVkaWFOb2RlcyB9ID0gdGhpc1xuICAgIG1lZGlhTm9kZXMuc3BsaWNlKDAsIG1lZGlhTm9kZXMubGVuZ3RoKVxuXG4gICAgdGhpcy5yZW1vdmVPbkNsb3NlTGlzdGVuZXIoKVxuICAgIHRoaXMuZGVzdHJveVBpY2tlcnMoKVxuICB9XG5cbiAgZmluZE1lZGlhTm9kZSA9IChpZDogc3RyaW5nKTogTWVkaWFOb2RlV2l0aFBvc0hhbmRsZXIgfCBudWxsID0+IHtcbiAgICByZXR1cm4gaGVscGVycy5maW5kTWVkaWFTaW5nbGVOb2RlKHRoaXMsIGlkKVxuICB9XG5cbiAgcHJpdmF0ZSBkZXN0cm95QWxsUGlja2VycyA9IChwaWNrZXJzOiBBcnJheTxQaWNrZXJGYWNhZGU+KSA9PiB7XG4gICAgcGlja2Vycy5mb3JFYWNoKHBpY2tlciA9PiBwaWNrZXIuZGVzdHJveSgpKVxuICAgIHRoaXMucGlja2Vycy5zcGxpY2UoMCwgdGhpcy5waWNrZXJzLmxlbmd0aClcbiAgfVxuXG4gIHByaXZhdGUgZGVzdHJveVBpY2tlcnMgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBwaWNrZXJzLCBwaWNrZXJQcm9taXNlcyB9ID0gdGhpc1xuXG4gICAgLy8gSWYgcGlja2VyUHJvbWlzZXMgYW5kIHBpY2tlcnMgYXJlIHRoZSBzYW1lIGxlbmd0aFxuICAgIC8vIEFsbCBwaWNrZXJzIGhhdmUgcmVzb2x2ZWQgYW5kIHdlIHNhZmVseSBkZXN0cm95IHRoZW1cbiAgICAvLyBPdGhlcndpc2Ugd2FpdCBmb3IgdGhlbSB0byByZXNvbHZlIHRoZW4gZGVzdHJveS5cbiAgICBpZiAocGlja2VyUHJvbWlzZXMubGVuZ3RoID09PSBwaWNrZXJzLmxlbmd0aCkge1xuICAgICAgdGhpcy5kZXN0cm95QWxsUGlja2Vycyh0aGlzLnBpY2tlcnMpXG4gICAgfSBlbHNlIHtcbiAgICAgIFByb21pc2UuYWxsKHBpY2tlclByb21pc2VzKS50aGVuKHJlc29sdmVkUGlja2VycyA9PlxuICAgICAgICB0aGlzLmRlc3Ryb3lBbGxQaWNrZXJzKHJlc29sdmVkUGlja2VycylcbiAgICAgIClcbiAgICB9XG5cbiAgICB0aGlzLnBvcHVwUGlja2VyID0gdW5kZWZpbmVkXG4gICAgdGhpcy5jdXN0b21QaWNrZXIgPSB1bmRlZmluZWRcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgaW5pdFBpY2tlcnMoXG4gICAgdXBsb2FkUGFyYW1zOiBVcGxvYWRQYXJhbXMsXG4gICAgUGlja2VyOiB0eXBlb2YgUGlja2VyRmFjYWRlLFxuICAgIHJlYWN0Q29udGV4dDogKCkgPT4ge31cbiAgKSB7XG4gICAgaWYgKHRoaXMuZGVzdHJveWVkIHx8ICF0aGlzLnVwbG9hZE1lZGlhQ2xpZW50Q29uZmlnKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgY29uc3QgeyBlcnJvclJlcG9ydGVyLCBwaWNrZXJzLCBwaWNrZXJQcm9taXNlcyB9ID0gdGhpc1xuICAgIC8vIGNyZWF0ZSBwaWNrZXJzIGlmIHRoZXkgZG9uJ3QgZXhpc3QsIHJlLXVzZSBvdGhlcndpc2VcbiAgICBpZiAoIXBpY2tlcnMubGVuZ3RoKSB7XG4gICAgICBjb25zdCBwaWNrZXJGYWNhZGVDb25maWc6IFBpY2tlckZhY2FkZUNvbmZpZyA9IHtcbiAgICAgICAgbWVkaWFDbGllbnRDb25maWc6IHRoaXMudXBsb2FkTWVkaWFDbGllbnRDb25maWcsXG4gICAgICAgIGVycm9yUmVwb3J0ZXJcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRlZmF1bHRQaWNrZXJDb25maWcgPSB7XG4gICAgICAgIHVwbG9hZFBhcmFtcyxcbiAgICAgICAgcHJveHlSZWFjdENvbnRleHQ6IHJlYWN0Q29udGV4dCgpLFxuICAgICAgICB1c2VGb3JnZVBsdWdpbnM6XG4gICAgICAgICAgKHRoaXMubWVkaWFPcHRpb25zICYmIHRoaXMubWVkaWFPcHRpb25zLnVzZUZvcmdlUGx1Z2lucykgfHwgZmFsc2UsXG4gICAgICAgIGZlYXR1cmVGbGFnczogdGhpcy5tZWRpYU9wdGlvbnMgJiYgdGhpcy5tZWRpYU9wdGlvbnMuZmVhdHVyZUZsYWdzXG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuY3VzdG9tTWVkaWFQaWNrZXIpIHtcbiAgICAgICAgY29uc3QgY3VzdG9tUGlja2VyID0gbmV3IFBpY2tlcihcbiAgICAgICAgICAnY3VzdG9tTWVkaWFQaWNrZXInLFxuICAgICAgICAgIHBpY2tlckZhY2FkZUNvbmZpZyxcbiAgICAgICAgICB0aGlzLm9wdGlvbnMuY3VzdG9tTWVkaWFQaWNrZXJcbiAgICAgICAgKS5pbml0KClcblxuICAgICAgICBwaWNrZXJQcm9taXNlcy5wdXNoKGN1c3RvbVBpY2tlcilcbiAgICAgICAgcGlja2Vycy5wdXNoKCh0aGlzLmN1c3RvbVBpY2tlciA9IGF3YWl0IGN1c3RvbVBpY2tlcikpXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuc2hvdWxkVXNlTWVkaWFQaWNrZXJQb3B1cCgpKSB7XG4gICAgICAgIGNvbnN0IHBvcHVwUGlja2VyID0gbmV3IFBpY2tlcihcbiAgICAgICAgICAncG9wdXAnLFxuICAgICAgICAgIHBpY2tlckZhY2FkZUNvbmZpZyxcbiAgICAgICAgICBkZWZhdWx0UGlja2VyQ29uZmlnIGFzIFBvcHVwQ29uZmlnXG4gICAgICAgICkuaW5pdCgpXG4gICAgICAgIHBpY2tlclByb21pc2VzLnB1c2gocG9wdXBQaWNrZXIpXG4gICAgICAgIHBpY2tlcnMucHVzaCgodGhpcy5wb3B1cFBpY2tlciA9IGF3YWl0IHBvcHVwUGlja2VyKSlcbiAgICAgICAgdGhpcy5yZW1vdmVPbkNsb3NlTGlzdGVuZXIgPSB0aGlzLnBvcHVwUGlja2VyLm9uQ2xvc2UoXG4gICAgICAgICAgdGhpcy5vblBvcHVwUGlja2VyQ2xvc2VcbiAgICAgICAgKVxuICAgICAgfVxuXG4gICAgICBwaWNrZXJzLmZvckVhY2gocGlja2VyID0+IHtcbiAgICAgICAgcGlja2VyLm9uTmV3TWVkaWEodGhpcy5pbnNlcnRGaWxlKVxuICAgICAgfSlcbiAgICB9XG5cbiAgICAvLyBzZXQgbmV3IHVwbG9hZCBwYXJhbXMgZm9yIHRoZSBwaWNrZXJzXG4gICAgcGlja2Vycy5mb3JFYWNoKHBpY2tlciA9PiBwaWNrZXIuc2V0VXBsb2FkUGFyYW1zKHVwbG9hZFBhcmFtcykpXG4gIH1cblxuICBwcml2YXRlIGdldElucHV0TWV0aG9kID0gKFxuICAgIHBpY2tlclR5cGU/OiBzdHJpbmdcbiAgKTogSW5wdXRNZXRob2RJbnNlcnRNZWRpYSB8IHVuZGVmaW5lZCA9PiB7XG4gICAgc3dpdGNoIChwaWNrZXJUeXBlKSB7XG4gICAgICBjYXNlICdwb3B1cCc6XG4gICAgICAgIHJldHVybiBJTlBVVF9NRVRIT0QuUElDS0VSX0NMT1VEXG4gICAgICBjYXNlICdjbGlwYm9hcmQnOlxuICAgICAgICByZXR1cm4gSU5QVVRfTUVUSE9ELkNMSVBCT0FSRFxuICAgICAgY2FzZSAnZHJvcHpvbmUnOlxuICAgICAgICByZXR1cm4gSU5QVVRfTUVUSE9ELkRSQUdfQU5EX0RST1BcbiAgICB9XG4gICAgcmV0dXJuXG4gIH1cblxuICB1cGRhdGVNZWRpYU5vZGVBdHRycyA9IChcbiAgICBpZDogc3RyaW5nLFxuICAgIGF0dHJzOiBvYmplY3QsXG4gICAgaXNNZWRpYVNpbmdsZTogYm9vbGVhblxuICApID0+IHtcbiAgICBjb25zdCB7IHZpZXcgfSA9IHRoaXNcbiAgICBpZiAoIXZpZXcpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHJldHVybiB1cGRhdGVNZWRpYU5vZGVBdHRycyhcbiAgICAgIGlkLFxuICAgICAgYXR0cnMsXG4gICAgICBpc01lZGlhU2luZ2xlXG4gICAgKSh2aWV3LnN0YXRlLCB2aWV3LmRpc3BhdGNoKVxuICB9XG5cbiAgcHJpdmF0ZSBjb2xsZWN0aW9uRnJvbVByb3ZpZGVyKCk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMubWVkaWFQcm92aWRlciAmJlxuICAgICAgdGhpcy5tZWRpYVByb3ZpZGVyLnVwbG9hZFBhcmFtcyAmJlxuICAgICAgdGhpcy5tZWRpYVByb3ZpZGVyLnVwbG9hZFBhcmFtcy5jb2xsZWN0aW9uXG4gICAgKVxuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVNZWRpYVN0YXRlOiBNZWRpYVN0YXRlRXZlbnRMaXN0ZW5lciA9IHN0YXRlID0+IHtcbiAgICBzd2l0Y2ggKHN0YXRlLnN0YXR1cykge1xuICAgICAgY2FzZSAnZXJyb3InOlxuICAgICAgICBjb25zdCB7IHVwbG9hZEVycm9ySGFuZGxlciB9ID0gdGhpcy5vcHRpb25zXG4gICAgICAgIGlmICh1cGxvYWRFcnJvckhhbmRsZXIpIHtcbiAgICAgICAgICB1cGxvYWRFcnJvckhhbmRsZXIoc3RhdGUpXG4gICAgICAgIH1cbiAgICAgICAgYnJlYWtcblxuICAgICAgY2FzZSAnbW9iaWxlLXVwbG9hZC1lbmQnOlxuICAgICAgICBjb25zdCBhdHRyczogeyBpZDogc3RyaW5nOyBjb2xsZWN0aW9uPzogc3RyaW5nIH0gPSB7XG4gICAgICAgICAgaWQ6IHN0YXRlLnB1YmxpY0lkIHx8IHN0YXRlLmlkXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIHN0YXRlLmNvbGxlY3Rpb24gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgYXR0cnMuY29sbGVjdGlvbiA9IHN0YXRlLmNvbGxlY3Rpb25cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudXBkYXRlTWVkaWFOb2RlQXR0cnMoXG4gICAgICAgICAgc3RhdGUuaWQsXG4gICAgICAgICAgYXR0cnMsXG4gICAgICAgICAgaXNNZWRpYVNpbmdsZSh0aGlzLnZpZXcuc3RhdGUuc2NoZW1hLCBzdGF0ZS5maWxlTWltZVR5cGUpXG4gICAgICAgIClcblxuICAgICAgICAvLyBtYXJrIG1vYmlsZSB1cGxvYWQgYXMgY29tcGxldGVcbiAgICAgICAgdGhpcy5tb2JpbGVVcGxvYWRDb21wbGV0ZVthdHRycy5pZF0gPSB0cnVlXG5cbiAgICAgICAgZGVsZXRlIHRoaXMubWVkaWFHcm91cE5vZGVzW3N0YXRlLmlkXVxuICAgICAgICBicmVha1xuICAgIH1cbiAgfVxuXG4gIGlzTW9iaWxlVXBsb2FkQ29tcGxldGVkID0gKG1lZGlhSWQ6IHN0cmluZyk6IGJvb2xlYW4gfCB1bmRlZmluZWQgPT5cbiAgICBoZWxwZXJzLmlzTW9iaWxlVXBsb2FkQ29tcGxldGVkKHRoaXMsIG1lZGlhSWQpXG5cbiAgcmVtb3ZlTm9kZUJ5SWQgPSAoc3RhdGU6IE1lZGlhU3RhdGUpID0+IHtcbiAgICBjb25zdCB7IGlkIH0gPSBzdGF0ZVxuICAgIGNvbnN0IG1lZGlhTm9kZVdpdGhQb3MgPSBoZWxwZXJzLmZpbmRNZWRpYU5vZGUoXG4gICAgICB0aGlzLFxuICAgICAgaWQsXG4gICAgICBpc0ltYWdlKHN0YXRlLmZpbGVNaW1lVHlwZSlcbiAgICApXG5cbiAgICBpZiAobWVkaWFOb2RlV2l0aFBvcykge1xuICAgICAgcmVtb3ZlTWVkaWFOb2RlKHRoaXMudmlldywgbWVkaWFOb2RlV2l0aFBvcy5ub2RlLCBtZWRpYU5vZGVXaXRoUG9zLmdldFBvcylcbiAgICB9XG4gIH1cblxuICByZW1vdmVTZWxlY3RlZE1lZGlhQ29udGFpbmVyID0gKCk6IGJvb2xlYW4gPT4ge1xuICAgIGNvbnN0IHsgdmlldyB9ID0gdGhpc1xuXG4gICAgY29uc3Qgc2VsZWN0ZWROb2RlID0gdGhpcy5zZWxlY3RlZE1lZGlhQ29udGFpbmVyTm9kZSgpXG4gICAgaWYgKCFzZWxlY3RlZE5vZGUpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIGxldCB7IGZyb20gfSA9IHZpZXcuc3RhdGUuc2VsZWN0aW9uXG4gICAgcmVtb3ZlTWVkaWFOb2RlKHZpZXcsIHNlbGVjdGVkTm9kZS5maXJzdENoaWxkISwgKCkgPT4gZnJvbSArIDEpXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIHNlbGVjdGVkTWVkaWFDb250YWluZXJOb2RlID0gKCk6IFBNTm9kZSB8IHVuZGVmaW5lZCA9PiB7XG4gICAgY29uc3QgeyBzZWxlY3Rpb24sIHNjaGVtYSB9ID0gdGhpcy52aWV3LnN0YXRlXG4gICAgaWYgKFxuICAgICAgc2VsZWN0aW9uIGluc3RhbmNlb2YgTm9kZVNlbGVjdGlvbiAmJlxuICAgICAgKHNlbGVjdGlvbi5ub2RlLnR5cGUgPT09IHNjaGVtYS5ub2Rlcy5tZWRpYVNpbmdsZSB8fFxuICAgICAgICBzZWxlY3Rpb24ubm9kZS50eXBlID09PSBzY2hlbWEubm9kZXMubWVkaWFHcm91cClcbiAgICApIHtcbiAgICAgIHJldHVybiBzZWxlY3Rpb24ubm9kZVxuICAgIH1cbiAgICByZXR1cm5cbiAgfVxuXG4gIGhhbmRsZURyYWcgPSAoZHJhZ1N0YXRlOiAnZW50ZXInIHwgJ2xlYXZlJykgPT4ge1xuICAgIGNvbnN0IGlzQWN0aXZlID0gZHJhZ1N0YXRlID09PSAnZW50ZXInXG4gICAgaWYgKHRoaXMuc2hvd0Ryb3B6b25lID09PSBpc0FjdGl2ZSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIHRoaXMuc2hvd0Ryb3B6b25lID0gaXNBY3RpdmVcblxuICAgIGNvbnN0IHsgZGlzcGF0Y2gsIHN0YXRlIH0gPSB0aGlzLnZpZXdcbiAgICAvLyBUcmlnZ2VyIHN0YXRlIGNoYW5nZSB0byBiZSBhYmxlIHRvIHBpY2sgaXQgdXAgaW4gdGhlIGRlY29yYXRpb25zIGhhbmRsZXJcbiAgICBkaXNwYXRjaChzdGF0ZS50cilcbiAgfVxuXG4gIHVwZGF0ZUFuZERpc3BhdGNoKFxuICAgIHByb3BzOiBQYXJ0aWFsPFBpY2s8dGhpcywgJ2FsbG93c1VwbG9hZHMnIHwgJ2FsbFVwbG9hZHNGaW5pc2hlZCc+PlxuICApIHtcbiAgICAvLyB1cGRhdGUgcGx1Z2luIHN0YXRlXG4gICAgT2JqZWN0LmtleXMocHJvcHMpLmZvckVhY2goX2tleSA9PiB7XG4gICAgICBjb25zdCBrZXkgPSBfa2V5IGFzIGtleW9mIHR5cGVvZiBwcm9wc1xuICAgICAgY29uc3QgdmFsdWUgPSBwcm9wc1trZXldXG4gICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzW2tleV0gPSB2YWx1ZVxuICAgICAgfVxuICAgIH0pXG5cbiAgICBpZiAodGhpcy5kaXNwYXRjaCkge1xuICAgICAgdGhpcy5kaXNwYXRjaChzdGF0ZUtleSwgeyAuLi50aGlzIH0pXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjb25zdCBnZXRNZWRpYVBsdWdpblN0YXRlID0gKHN0YXRlOiBFZGl0b3JTdGF0ZSkgPT5cbiAgc3RhdGVLZXkuZ2V0U3RhdGUoc3RhdGUpIGFzIE1lZGlhUGx1Z2luU3RhdGVcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZVBsdWdpbiA9IChcbiAgX3NjaGVtYTogU2NoZW1hLFxuICBvcHRpb25zOiBNZWRpYVBsdWdpbk9wdGlvbnMsXG4gIHJlYWN0Q29udGV4dDogKCkgPT4ge30sXG4gIGRpc3BhdGNoPzogRGlzcGF0Y2gsXG4gIG1lZGlhT3B0aW9ucz86IE1lZGlhT3B0aW9uc1xuKSA9PiB7XG4gIGNvbnN0IGRyb3BQbGFjZWhvbGRlciA9IGNyZWF0ZURyb3BQbGFjZWhvbGRlcihcbiAgICBtZWRpYU9wdGlvbnMgJiYgbWVkaWFPcHRpb25zLmFsbG93RHJvcHpvbmVEcm9wTGluZVxuICApXG5cbiAgcmV0dXJuIG5ldyBQbHVnaW4oe1xuICAgIHN0YXRlOiB7XG4gICAgICBpbml0KF9jb25maWcsIHN0YXRlKSB7XG4gICAgICAgIHJldHVybiBuZXcgTWVkaWFQbHVnaW5TdGF0ZUltcGxlbWVudGF0aW9uKFxuICAgICAgICAgIHN0YXRlLFxuICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgcmVhY3RDb250ZXh0LFxuICAgICAgICAgIG1lZGlhT3B0aW9ucyxcbiAgICAgICAgICBkaXNwYXRjaFxuICAgICAgICApXG4gICAgICB9LFxuICAgICAgYXBwbHkodHIsIHBsdWdpblN0YXRlOiBNZWRpYVBsdWdpblN0YXRlKSB7XG4gICAgICAgIC8vIHJlbWFwIGVkaXRpbmcgbWVkaWEgc2luZ2xlIHBvc2l0aW9uIGlmIHdlJ3JlIGluIGNvbGxhYlxuICAgICAgICBpZiAodHlwZW9mIHBsdWdpblN0YXRlLmVkaXRpbmdNZWRpYVNpbmdsZVBvcyA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICBwbHVnaW5TdGF0ZS5lZGl0aW5nTWVkaWFTaW5nbGVQb3MgPSB0ci5tYXBwaW5nLm1hcChcbiAgICAgICAgICAgIHBsdWdpblN0YXRlLmVkaXRpbmdNZWRpYVNpbmdsZVBvc1xuICAgICAgICAgIClcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG1ldGEgPSB0ci5nZXRNZXRhKHN0YXRlS2V5KVxuICAgICAgICBpZiAobWV0YSkge1xuICAgICAgICAgIGNvbnN0IHsgYWxsb3dzVXBsb2FkcyB9ID0gbWV0YVxuICAgICAgICAgIHBsdWdpblN0YXRlLnVwZGF0ZUFuZERpc3BhdGNoKHtcbiAgICAgICAgICAgIGFsbG93c1VwbG9hZHM6XG4gICAgICAgICAgICAgIHR5cGVvZiBhbGxvd3NVcGxvYWRzID09PSAndW5kZWZpbmVkJ1xuICAgICAgICAgICAgICAgID8gcGx1Z2luU3RhdGUuYWxsb3dzVXBsb2Fkc1xuICAgICAgICAgICAgICAgIDogYWxsb3dzVXBsb2Fkc1xuICAgICAgICAgIH0pXG4gICAgICAgIH1cblxuICAgICAgICAvLyBOT1RFOiBXZSdyZSBub3QgY2FsbGluZyBwYXNzaW5nIG5ldyBzdGF0ZSB0byB0aGUgRWRpdG9yLCBiZWNhdXNlIHdlIGRlcGVuZCBvbiB0aGUgdmlldy5zdGF0ZSByZWZlcmVuY2VcbiAgICAgICAgLy8gICAgICAgdGhyb3VnaG91dCB0aGUgbGlmZXRpbWUgb2Ygdmlldy4gV2UgaW5qZWN0ZWQgdGhlIHZpZXcgaW50byB0aGUgcGx1Z2luIHN0YXRlLCBiZWNhdXNlIHdlIGRpc3BhdGNoKClcbiAgICAgICAgLy8gICAgICAgdHJhbnNmb3JtYXRpb25zIGZyb20gd2l0aGluIHRoZSBwbHVnaW4gc3RhdGUgKGkuZS4gd2hlbiBhZGRpbmcgYSBuZXcgZmlsZSkuXG4gICAgICAgIHJldHVybiBwbHVnaW5TdGF0ZVxuICAgICAgfVxuICAgIH0sXG4gICAgZmlsdGVyVHJhbnNhY3Rpb24odHJhbnNhY3Rpb24sIHN0YXRlKSB7XG4gICAgICAvLyBNZWRpYSBub2RlIGluc2lkZSBtZWRpYVNpbmdsZSBzaG91bGQgbm90IGJlIHNlbGVjdGVkXG4gICAgICAvLyBXZSBhcmUgcmVseWluZyBvbiBwbHVnaW5zL21lZGlhL25vZGV2aWV3cy9tZWRpYU5vZGVWaWV3L21lZGlhLnRzeCNzZWxlY3RNZWRpYVNpbmdsZUZyb21DYXJkXG4gICAgICAvLyB0byBzZXQgc2VsZWN0aW9uIG9uIGNvcnJlY3QgbWVkaWFTaW5nbGUgbm9kZSxcbiAgICAgIC8vIFdlIGRvbid0IHVzZSAnYXBwZW5kVHJhbnNhY3Rpb24nIGJlY2F1c2Ugd2Ugd291bGQgbGlrZSB0byBhdm9pZCBoYXZlIGFkZGl0aW9uYWwgdHJhbnNhY3Rpb25zXG4gICAgICAvLyBodHRwOi8vcHJvZHVjdC1mYWJyaWMuYXRsYXNzaWFuLm5ldC9icm93c2UvRUQtMTAwOTFcbiAgICAgIHJldHVybiAhKFxuICAgICAgICB0cmFuc2FjdGlvbi5zZWxlY3Rpb25TZXQgJiZcbiAgICAgICAgaXNOb2RlU2VsZWN0aW9uKHRyYW5zYWN0aW9uLnNlbGVjdGlvbikgJiZcbiAgICAgICAgKHRyYW5zYWN0aW9uLnNlbGVjdGlvbiBhcyBOb2RlU2VsZWN0aW9uKS5ub2RlLnR5cGUgPT09XG4gICAgICAgICAgc3RhdGUuc2NoZW1hLm5vZGVzLm1lZGlhICYmXG4gICAgICAgIHRyYW5zYWN0aW9uLnNlbGVjdGlvbi4kYW5jaG9yLnBhcmVudC50eXBlID09PVxuICAgICAgICAgIHN0YXRlLnNjaGVtYS5ub2Rlcy5tZWRpYVNpbmdsZVxuICAgICAgKVxuICAgIH0sXG4gICAga2V5OiBzdGF0ZUtleSxcbiAgICB2aWV3OiB2aWV3ID0+IHtcbiAgICAgIGNvbnN0IHBsdWdpblN0YXRlID0gZ2V0TWVkaWFQbHVnaW5TdGF0ZSh2aWV3LnN0YXRlKVxuICAgICAgcGx1Z2luU3RhdGUuc2V0Vmlldyh2aWV3KVxuICAgICAgcGx1Z2luU3RhdGUudXBkYXRlRWxlbWVudCgpXG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHVwZGF0ZTogKCkgPT4ge1xuICAgICAgICAgIHBsdWdpblN0YXRlLnVwZGF0ZUVsZW1lbnQoKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBwcm9wczoge1xuICAgICAgZGVjb3JhdGlvbnM6IHN0YXRlID0+IHtcbiAgICAgICAgY29uc3QgcGx1Z2luU3RhdGUgPSBnZXRNZWRpYVBsdWdpblN0YXRlKHN0YXRlKVxuICAgICAgICBpZiAoIXBsdWdpblN0YXRlLnNob3dEcm9wem9uZSkge1xuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgIHNjaGVtYSxcbiAgICAgICAgICBzZWxlY3Rpb246IHsgJGFuY2hvciB9XG4gICAgICAgIH0gPSBzdGF0ZVxuXG4gICAgICAgIC8vIFdoZW4gYSBtZWRpYSBpcyBhbHJlYWR5IHNlbGVjdGVkXG4gICAgICAgIGlmIChzdGF0ZS5zZWxlY3Rpb24gaW5zdGFuY2VvZiBOb2RlU2VsZWN0aW9uKSB7XG4gICAgICAgICAgY29uc3Qgbm9kZSA9IHN0YXRlLnNlbGVjdGlvbi5ub2RlXG5cbiAgICAgICAgICBpZiAobm9kZS50eXBlID09PSBzY2hlbWEubm9kZXMubWVkaWFTaW5nbGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGRlY28gPSBEZWNvcmF0aW9uLm5vZGUoXG4gICAgICAgICAgICAgIHN0YXRlLnNlbGVjdGlvbi5mcm9tLFxuICAgICAgICAgICAgICBzdGF0ZS5zZWxlY3Rpb24udG8sXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjbGFzczogJ3JpY2hNZWRpYS1zZWxlY3RlZCdcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKVxuXG4gICAgICAgICAgICByZXR1cm4gRGVjb3JhdGlvblNldC5jcmVhdGUoc3RhdGUuZG9jLCBbZGVjb10pXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcG9zOiBudW1iZXIgfCBudWxsIHwgdm9pZCA9ICRhbmNob3IucG9zXG4gICAgICAgIGlmIChcbiAgICAgICAgICAkYW5jaG9yLnBhcmVudC50eXBlICE9PSBzY2hlbWEubm9kZXMucGFyYWdyYXBoICYmXG4gICAgICAgICAgJGFuY2hvci5wYXJlbnQudHlwZSAhPT0gc2NoZW1hLm5vZGVzLmNvZGVCbG9ja1xuICAgICAgICApIHtcbiAgICAgICAgICBwb3MgPSBpbnNlcnRQb2ludChzdGF0ZS5kb2MsIHBvcywgc2NoZW1hLm5vZGVzLm1lZGlhR3JvdXApXG4gICAgICAgIH1cblxuICAgICAgICBpZiAocG9zID09PSBudWxsIHx8IHBvcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkcm9wUGxhY2Vob2xkZXJzOiBEZWNvcmF0aW9uW10gPSBbXG4gICAgICAgICAgRGVjb3JhdGlvbi53aWRnZXQocG9zLCBkcm9wUGxhY2Vob2xkZXIsIHsga2V5OiAnZHJvcC1wbGFjZWhvbGRlcicgfSlcbiAgICAgICAgXVxuICAgICAgICByZXR1cm4gRGVjb3JhdGlvblNldC5jcmVhdGUoc3RhdGUuZG9jLCBkcm9wUGxhY2Vob2xkZXJzKVxuICAgICAgfSxcbiAgICAgIG5vZGVWaWV3czogb3B0aW9ucy5ub2RlVmlld3MsXG4gICAgICBoYW5kbGVUZXh0SW5wdXQodmlldzogRWRpdG9yVmlldyk6IGJvb2xlYW4ge1xuICAgICAgICBnZXRNZWRpYVBsdWdpblN0YXRlKHZpZXcuc3RhdGUpLnNwbGl0TWVkaWFHcm91cCgpXG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgIH1cbiAgfSlcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUlBO0FBS0E7QUFDQTtBQUdBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUlBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBc0JBO0FBQ0E7QUFjQTtBQU1BO0FBQUE7QUFBQTtBQTFDQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBSUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFNQTtBQUFBO0FBRUE7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBNkNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBT0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBRUE7QUFHQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFHQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUtBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFLQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQWlCQTtBQUVBO0FBQUE7QUFrQ0E7QUFFQTtBQUVBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBT0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBR0E7QUFJQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFZQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQWNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBTUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBT0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBaUJBO0FBQ0E7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUEyREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFLQTtBQUFBO0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFLQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFBQTtBQUFBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQTlrQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFLQTtBQUVBO0FBQ0E7QUFHQTtBQUtBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFrR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFPQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBNkhBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBQUE7QUFBQTtBQTRDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBWUE7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBQUE7QUFBQTtBQVNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBZ0NBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFNQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFLQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBa0NBO0FBS0E7QUFBQTtBQUFBO0FBQUE7QUF5RkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUFBO0FBQ0E7QUFFQTtBQU9BO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBSUE7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUlBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/plugins/media/pm-plugins/main.ts\n");

/***/ }),

/***/ "./src/plugins/media/pm-plugins/media-editor-plugin-factory.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"pluginKey\", function() { return pluginKey; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"reducer\", function() { return reducer; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createPluginState\", function() { return createPluginState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createCommand\", function() { return createCommand; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getPluginState\", function() { return getPluginState; });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prosemirror_state__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/prosemirror-state/dist/index.es.js\");\n/* harmony import */ var _atlaskit_editor_core_utils_plugin_state_factory__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/utils/plugin-state-factory.ts\");\n\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n\n\nvar pluginKey = new prosemirror_state__WEBPACK_IMPORTED_MODULE_1__[\"PluginKey\"]('mediaEditorPlugin');\nvar reducer = function reducer(state, action) {\n  switch (action.type) {\n    case 'open':\n      return _objectSpread(_objectSpread({}, state), {}, {\n        editor: {\n          identifier: action.identifier,\n          pos: action.pos\n        }\n      });\n    case 'close':\n      return _objectSpread(_objectSpread({}, state), {}, {\n        editor: undefined\n      });\n    case 'upload':\n      return _objectSpread(_objectSpread({}, state), {}, {\n        editor: undefined\n      });\n    case 'setMediaClientConfig':\n      return _objectSpread(_objectSpread({}, state), {}, {\n        mediaClientConfig: action.mediaClientConfig\n      });\n    default:\n      return state;\n  }\n};\nvar _pluginFactory = Object(_atlaskit_editor_core_utils_plugin_state_factory__WEBPACK_IMPORTED_MODULE_2__[\"pluginFactory\"])(pluginKey, reducer, {\n    mapping: function mapping(tr, state) {\n      if (!state.editor) {\n        return state;\n      }\n\n      // remap the position of the editing media inside the state\n      // remap the position of the editing media inside the state\n      return _objectSpread(_objectSpread({}, state), {}, {\n        editor: _objectSpread(_objectSpread({}, state.editor), {}, {\n          pos: tr.mapping.map(state.editor.pos)\n        })\n      });\n    }\n  }),\n  createPluginState = _pluginFactory.createPluginState,\n  createCommand = _pluginFactory.createCommand,\n  getPluginState = _pluginFactory.getPluginState;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9tZWRpYS9wbS1wbHVnaW5zL21lZGlhLWVkaXRvci1wbHVnaW4tZmFjdG9yeS50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9wbHVnaW5zL21lZGlhL3BtLXBsdWdpbnMvbWVkaWEtZWRpdG9yLXBsdWdpbi1mYWN0b3J5LnRzPzFmMzQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGx1Z2luS2V5IH0gZnJvbSAncHJvc2VtaXJyb3Itc3RhdGUnXG5pbXBvcnQgeyBNZWRpYUVkaXRvckFjdGlvbiwgTWVkaWFFZGl0b3JTdGF0ZSB9IGZyb20gJy4uL3R5cGVzJ1xuaW1wb3J0IHsgcGx1Z2luRmFjdG9yeSB9IGZyb20gJ0BhdGxhc2tpdC9lZGl0b3ItY29yZS91dGlscy9wbHVnaW4tc3RhdGUtZmFjdG9yeSdcblxuZXhwb3J0IGNvbnN0IHBsdWdpbktleSA9IG5ldyBQbHVnaW5LZXkoJ21lZGlhRWRpdG9yUGx1Z2luJylcblxuZXhwb3J0IGNvbnN0IHJlZHVjZXIgPSAoXG4gIHN0YXRlOiBNZWRpYUVkaXRvclN0YXRlLFxuICBhY3Rpb246IE1lZGlhRWRpdG9yQWN0aW9uXG4pOiBNZWRpYUVkaXRvclN0YXRlID0+IHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgJ29wZW4nOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIGVkaXRvcjoge1xuICAgICAgICAgIGlkZW50aWZpZXI6IGFjdGlvbi5pZGVudGlmaWVyLFxuICAgICAgICAgIHBvczogYWN0aW9uLnBvc1xuICAgICAgICB9XG4gICAgICB9XG4gICAgY2FzZSAnY2xvc2UnOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIGVkaXRvcjogdW5kZWZpbmVkXG4gICAgICB9XG4gICAgY2FzZSAndXBsb2FkJzpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICBlZGl0b3I6IHVuZGVmaW5lZFxuICAgICAgfVxuICAgIGNhc2UgJ3NldE1lZGlhQ2xpZW50Q29uZmlnJzpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICBtZWRpYUNsaWVudENvbmZpZzogYWN0aW9uLm1lZGlhQ2xpZW50Q29uZmlnXG4gICAgICB9XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBzdGF0ZVxuICB9XG59XG5cbmV4cG9ydCBjb25zdCB7XG4gIGNyZWF0ZVBsdWdpblN0YXRlLFxuICBjcmVhdGVDb21tYW5kLFxuICBnZXRQbHVnaW5TdGF0ZVxufSA9IHBsdWdpbkZhY3RvcnkocGx1Z2luS2V5LCByZWR1Y2VyLCB7XG4gIG1hcHBpbmc6ICh0ciwgc3RhdGUpID0+IHtcbiAgICBpZiAoIXN0YXRlLmVkaXRvcikge1xuICAgICAgcmV0dXJuIHN0YXRlXG4gICAgfVxuXG4gICAgLy8gcmVtYXAgdGhlIHBvc2l0aW9uIG9mIHRoZSBlZGl0aW5nIG1lZGlhIGluc2lkZSB0aGUgc3RhdGVcbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICBlZGl0b3I6IHtcbiAgICAgICAgLi4uc3RhdGUuZWRpdG9yLFxuICAgICAgICBwb3M6IHRyLm1hcHBpbmcubWFwKHN0YXRlLmVkaXRvci5wb3MpXG4gICAgICB9XG4gICAgfVxuICB9XG59KVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUE7QUFFQTtBQUVBO0FBRUE7QUFJQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUVBO0FBQUE7QUFFQTtBQUNBO0FBRUE7QUFBQTtBQUVBO0FBQ0E7QUFFQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUVBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFsQkE7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/plugins/media/pm-plugins/media-editor-plugin-factory.ts\n");

/***/ }),

/***/ "./src/plugins/media/pm-plugins/media-editor.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createPlugin\", function() { return createPlugin; });\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var prosemirror_state__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/prosemirror-state/dist/index.es.js\");\n/* harmony import */ var _commands_media_editor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./src/plugins/media/commands/media-editor.ts\");\n/* harmony import */ var _media_editor_plugin_factory__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./src/plugins/media/pm-plugins/media-editor-plugin-factory.ts\");\n\n\n\n\n\n\n// handle mapping changes to providers -> plugin state\nvar pluginView = function pluginView(providerFactory) {\n  return function (view) {\n    var updateMediaProvider = /*#__PURE__*/function () {\n      var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee(name, provider) {\n        var resolvedProvider, resolvedMediaClientConfig, dispatch, state;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!(name !== 'mediaProvider')) {\n                  _context.next = 2;\n                  break;\n                }\n                return _context.abrupt(\"return\");\n              case 2:\n                _context.next = 4;\n                return provider;\n              case 4:\n                resolvedProvider = _context.sent;\n                if (resolvedProvider) {\n                  _context.next = 7;\n                  break;\n                }\n                return _context.abrupt(\"return\");\n              case 7:\n                _context.next = 9;\n                return resolvedProvider.uploadMediaClientConfig;\n              case 9:\n                _context.t0 = _context.sent;\n                if (_context.t0) {\n                  _context.next = 14;\n                  break;\n                }\n                _context.next = 13;\n                return resolvedProvider.viewMediaClientConfig;\n              case 13:\n                _context.t0 = _context.sent;\n              case 14:\n                resolvedMediaClientConfig = _context.t0;\n                dispatch = view.dispatch, state = view.state;\n                Object(_commands_media_editor__WEBPACK_IMPORTED_MODULE_3__[\"setMediaClientConfig\"])(resolvedMediaClientConfig)(state, dispatch, view);\n              case 17:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n      return function updateMediaProvider(_x, _x2) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    providerFactory.subscribe('mediaProvider', updateMediaProvider);\n    return {\n      destroy: function destroy() {\n        providerFactory.unsubscribe('mediaProvider', updateMediaProvider);\n      }\n    };\n  };\n};\nvar createPlugin = function createPlugin(_ref2) {\n  var dispatch = _ref2.dispatch,\n    providerFactory = _ref2.providerFactory;\n  return new prosemirror_state__WEBPACK_IMPORTED_MODULE_2__[\"Plugin\"]({\n    state: Object(_media_editor_plugin_factory__WEBPACK_IMPORTED_MODULE_4__[\"createPluginState\"])(dispatch, {}),\n    key: _media_editor_plugin_factory__WEBPACK_IMPORTED_MODULE_4__[\"pluginKey\"],\n    view: pluginView(providerFactory)\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9tZWRpYS9wbS1wbHVnaW5zL21lZGlhLWVkaXRvci50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9wbHVnaW5zL21lZGlhL3BtLXBsdWdpbnMvbWVkaWEtZWRpdG9yLnRzPzlhNzYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGx1Z2luLCBQbHVnaW5TcGVjIH0gZnJvbSAncHJvc2VtaXJyb3Itc3RhdGUnXG5pbXBvcnQgeyBNZWRpYVByb3ZpZGVyLCBQcm92aWRlckZhY3RvcnkgfSBmcm9tICdAYXRsYXNraXQvZWRpdG9yLWNvbW1vbidcblxuaW1wb3J0IHsgUE1QbHVnaW5GYWN0b3J5UGFyYW1zIH0gZnJvbSAnQGF0bGFza2l0L2VkaXRvci1jb3JlL3R5cGVzJ1xuaW1wb3J0IHsgc2V0TWVkaWFDbGllbnRDb25maWcgfSBmcm9tICcuLi9jb21tYW5kcy9tZWRpYS1lZGl0b3InXG5pbXBvcnQgeyBjcmVhdGVQbHVnaW5TdGF0ZSwgcGx1Z2luS2V5IH0gZnJvbSAnLi9tZWRpYS1lZGl0b3ItcGx1Z2luLWZhY3RvcnknXG5cbi8vIGhhbmRsZSBtYXBwaW5nIGNoYW5nZXMgdG8gcHJvdmlkZXJzIC0+IHBsdWdpbiBzdGF0ZVxuY29uc3QgcGx1Z2luVmlldyA9IChcbiAgcHJvdmlkZXJGYWN0b3J5OiBQcm92aWRlckZhY3Rvcnlcbik6IFBsdWdpblNwZWNbJ3ZpZXcnXSA9PiB2aWV3ID0+IHtcbiAgY29uc3QgdXBkYXRlTWVkaWFQcm92aWRlciA9IGFzeW5jIChcbiAgICBuYW1lOiBzdHJpbmcsXG4gICAgcHJvdmlkZXI/OiBQcm9taXNlPE1lZGlhUHJvdmlkZXI+XG4gICkgPT4ge1xuICAgIGlmIChuYW1lICE9PSAnbWVkaWFQcm92aWRlcicpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGNvbnN0IHJlc29sdmVkUHJvdmlkZXIgPSBhd2FpdCBwcm92aWRlclxuICAgIGlmICghcmVzb2x2ZWRQcm92aWRlcikge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgY29uc3QgcmVzb2x2ZWRNZWRpYUNsaWVudENvbmZpZyA9XG4gICAgICAoYXdhaXQgcmVzb2x2ZWRQcm92aWRlci51cGxvYWRNZWRpYUNsaWVudENvbmZpZykgfHxcbiAgICAgIChhd2FpdCByZXNvbHZlZFByb3ZpZGVyLnZpZXdNZWRpYUNsaWVudENvbmZpZylcblxuICAgIGNvbnN0IHsgZGlzcGF0Y2gsIHN0YXRlIH0gPSB2aWV3XG4gICAgc2V0TWVkaWFDbGllbnRDb25maWcocmVzb2x2ZWRNZWRpYUNsaWVudENvbmZpZykoc3RhdGUsIGRpc3BhdGNoLCB2aWV3KVxuICB9XG5cbiAgcHJvdmlkZXJGYWN0b3J5LnN1YnNjcmliZSgnbWVkaWFQcm92aWRlcicsIHVwZGF0ZU1lZGlhUHJvdmlkZXIpXG5cbiAgcmV0dXJuIHtcbiAgICBkZXN0cm95KCkge1xuICAgICAgcHJvdmlkZXJGYWN0b3J5LnVuc3Vic2NyaWJlKCdtZWRpYVByb3ZpZGVyJywgdXBkYXRlTWVkaWFQcm92aWRlcilcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IGNyZWF0ZVBsdWdpbiA9ICh7XG4gIGRpc3BhdGNoLFxuICBwcm92aWRlckZhY3Rvcnlcbn06IFBNUGx1Z2luRmFjdG9yeVBhcmFtcykgPT4ge1xuICByZXR1cm4gbmV3IFBsdWdpbih7XG4gICAgc3RhdGU6IGNyZWF0ZVBsdWdpblN0YXRlKGRpc3BhdGNoLCB7fSksXG4gICAga2V5OiBwbHVnaW5LZXksXG4gICAgdmlldzogcGx1Z2luVmlldyhwcm92aWRlckZhY3RvcnkpXG4gIH0pXG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUtBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFGQTtBQUlBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBbkJBO0FBQUE7QUFBQTtBQXFCQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFHQTtBQURBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/plugins/media/pm-plugins/media-editor.ts\n");

/***/ }),

/***/ "./src/plugins/media/pm-plugins/plugin-key.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"stateKey\", function() { return stateKey; });\n/* harmony import */ var prosemirror_state__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/prosemirror-state/dist/index.es.js\");\n\nvar stateKey = new prosemirror_state__WEBPACK_IMPORTED_MODULE_0__[\"PluginKey\"]('mediaPlugin');//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9tZWRpYS9wbS1wbHVnaW5zL3BsdWdpbi1rZXkudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2lucy9tZWRpYS9wbS1wbHVnaW5zL3BsdWdpbi1rZXkudHM/OTM3ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQbHVnaW5LZXkgfSBmcm9tICdwcm9zZW1pcnJvci1zdGF0ZSdcblxuZXhwb3J0IGNvbnN0IHN0YXRlS2V5ID0gbmV3IFBsdWdpbktleSgnbWVkaWFQbHVnaW4nKVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/plugins/media/pm-plugins/plugin-key.ts\n");

/***/ }),

/***/ "./src/plugins/media/pm-plugins/types.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9tZWRpYS9wbS1wbHVnaW5zL3R5cGVzLnRzLmpzIiwic291cmNlcyI6W10sIm1hcHBpbmdzIjoiOzsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/plugins/media/pm-plugins/types.ts\n");

/***/ }),

/***/ "./src/plugins/media/styles.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"mediaStyles\", function() { return mediaStyles; });\n/* harmony import */ var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js\");\n/* harmony import */ var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/styled-components/dist/styled-components.browser.esm.js\");\n/* harmony import */ var _atlaskit_editor_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/@atlaskit/editor-common/dist/esm/index.js\");\n/* harmony import */ var _atlaskit_editor_shared_styles__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./node_modules/@atlaskit/editor-shared-styles/dist/esm/index.js\");\n/* harmony import */ var _atlaskit_theme_colors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./node_modules/@atlaskit/theme/dist/esm/colors.js\");\n/* harmony import */ var _atlaskit_media_card__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./node_modules/@atlaskit/media-card/dist/esm/index.js\");\n\nvar _templateObject;\n\n\n\n\n\nvar mediaStyles = Object(styled_components__WEBPACK_IMPORTED_MODULE_1__[\"css\"])(_templateObject || (_templateObject = _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0___default()([\"\\n  .ProseMirror {\\n    \", \" & [layout='full-width'] .\", \",\\n    & [layout='wide'] .\", \" {\\n      margin-left: 50%;\\n      transform: translateX(-50%);\\n    }\\n\\n    & [layout^='wrap-'] + [layout^='wrap-'] {\\n      clear: none;\\n      & + p,\\n      & + div[class^='fabric-editor-align'],\\n      & + ul,\\n      & + ol,\\n      & + h1,\\n      & + h2,\\n      & + h3,\\n      & + h4,\\n      & + h5,\\n      & + h6 {\\n        clear: both !important;\\n      }\\n      & .\", \" {\\n        margin-left: 0;\\n        margin-right: 0;\\n      }\\n    }\\n\\n    .mediaSingleView-content-wrap[layout^='wrap-'] {\\n      max-width: 100%;\\n      // overwrite default Prosemirror setting making it clear: both\\n      clear: inherit;\\n    }\\n\\n    .mediaSingleView-content-wrap[layout='wrap-left'] {\\n      float: left;\\n    }\\n\\n    .mediaSingleView-content-wrap[layout='wrap-right'] {\\n      float: right;\\n    }\\n\\n    .mediaSingleView-content-wrap[layout='wrap-right']\\n      + .mediaSingleView-content-wrap[layout='wrap-left'] {\\n      clear: both;\\n    }\\n\\n    /* Larger margins for resize handlers when at depth 0 of the document */\\n    & > .mediaSingleView-content-wrap {\\n      .richMedia-resize-handle-right {\\n        margin-right: -\", \"px;\\n      }\\n      .richMedia-resize-handle-left {\\n        margin-left: -\", \"px;\\n      }\\n    }\\n  }\\n\\n  .richMedia-resize-handle-right,\\n  .richMedia-resize-handle-left {\\n    display: flex;\\n    flex-direction: column;\\n\\n    /* vertical align */\\n    justify-content: center;\\n  }\\n\\n  .richMedia-resize-handle-right {\\n    align-items: flex-end;\\n    padding-right: 12px;\\n    margin-right: -\", \"px;\\n  }\\n\\n  .richMedia-resize-handle-left {\\n    align-items: flex-start;\\n    padding-left: 12px;\\n    margin-left: -\", \"px;\\n  }\\n\\n  .richMedia-resize-handle-right::after,\\n  .richMedia-resize-handle-left::after {\\n    content: ' ';\\n    display: flex;\\n    width: 3px;\\n    height: 64px;\\n\\n    border-radius: 6px;\\n  }\\n\\n  .\", \":hover .richMedia-resize-handle-left::after,\\n  .\", \":hover .richMedia-resize-handle-right::after {\\n    background: \", \";\\n  }\\n\\n  .\", \" .richMedia-resize-handle-right::after,\\n  .\", \" .richMedia-resize-handle-left::after,\\n  .\", \" .richMedia-resize-handle-right:hover::after,\\n  .\", \" .richMedia-resize-handle-left:hover::after,\\n  .\", \".is-resizing .richMedia-resize-handle-right::after,\\n  .\", \".is-resizing .richMedia-resize-handle-left::after {\\n    background: \", \";\\n  }\\n\\n  .__resizable_base__ {\\n    left: unset !important;\\n    width: auto !important;\\n    height: auto !important;\\n  }\\n\\n  /* Danger when top level node for smart cards / inline links */\\n  .danger > div > div > .media-card-frame,\\n  .danger > span > a {\\n    background-color: \", \";\\n    box-shadow: 0px 0px 0px \", \"px\\n      \", \";\\n    transition: background-color 0s;\\n    transition: box-shadow 0s;\\n  }\\n\\n  /* Danger when nested node or common */\\n  .danger {\\n    /* Media single */\\n    .\", \" .\", \"::after {\\n      border: \", \"px solid \", \";\\n    }\\n\\n    .richMedia-selected .richMedia-resize-handle-right::after,\\n    .richMedia-selected .richMedia-resize-handle-left::after {\\n      background: \", \";\\n    }\\n\\n    /* Smart cards */\\n    div div .media-card-frame,\\n    .inlineCardView-content-wrap > span > a {\\n      background-color: rgb(255, 189, 173, 0.5); /* R75 with 50% opactiy */\\n      transition: background-color 0s;\\n    }\\n\\n    div div .media-card-frame::after {\\n      box-shadow: none;\\n    }\\n  }\\n\"])), _atlaskit_editor_common__WEBPACK_IMPORTED_MODULE_2__[\"mediaSingleSharedStyle\"], _atlaskit_editor_common__WEBPACK_IMPORTED_MODULE_2__[\"richMediaClassName\"], _atlaskit_editor_common__WEBPACK_IMPORTED_MODULE_2__[\"richMediaClassName\"], _atlaskit_editor_common__WEBPACK_IMPORTED_MODULE_2__[\"richMediaClassName\"], _atlaskit_editor_shared_styles__WEBPACK_IMPORTED_MODULE_3__[\"akEditorMediaResizeHandlerPaddingWide\"], _atlaskit_editor_shared_styles__WEBPACK_IMPORTED_MODULE_3__[\"akEditorMediaResizeHandlerPaddingWide\"], _atlaskit_editor_shared_styles__WEBPACK_IMPORTED_MODULE_3__[\"akEditorMediaResizeHandlerPadding\"], _atlaskit_editor_shared_styles__WEBPACK_IMPORTED_MODULE_3__[\"akEditorMediaResizeHandlerPadding\"], _atlaskit_editor_common__WEBPACK_IMPORTED_MODULE_2__[\"richMediaClassName\"], _atlaskit_editor_common__WEBPACK_IMPORTED_MODULE_2__[\"richMediaClassName\"], _atlaskit_theme_colors__WEBPACK_IMPORTED_MODULE_4__[\"N60\"], _atlaskit_editor_shared_styles__WEBPACK_IMPORTED_MODULE_3__[\"akEditorSelectedNodeClassName\"], _atlaskit_editor_shared_styles__WEBPACK_IMPORTED_MODULE_3__[\"akEditorSelectedNodeClassName\"], _atlaskit_editor_common__WEBPACK_IMPORTED_MODULE_2__[\"richMediaClassName\"], _atlaskit_editor_common__WEBPACK_IMPORTED_MODULE_2__[\"richMediaClassName\"], _atlaskit_editor_common__WEBPACK_IMPORTED_MODULE_2__[\"richMediaClassName\"], _atlaskit_editor_common__WEBPACK_IMPORTED_MODULE_2__[\"richMediaClassName\"], _atlaskit_theme_colors__WEBPACK_IMPORTED_MODULE_4__[\"B200\"], _atlaskit_editor_shared_styles__WEBPACK_IMPORTED_MODULE_3__[\"akEditorDeleteBackground\"], _atlaskit_editor_shared_styles__WEBPACK_IMPORTED_MODULE_3__[\"akEditorSelectedBorderBoldSize\"], _atlaskit_editor_shared_styles__WEBPACK_IMPORTED_MODULE_3__[\"akEditorDeleteBorder\"], _atlaskit_editor_common__WEBPACK_IMPORTED_MODULE_2__[\"richMediaClassName\"], _atlaskit_media_card__WEBPACK_IMPORTED_MODULE_5__[\"fileCardImageViewSelector\"], _atlaskit_editor_shared_styles__WEBPACK_IMPORTED_MODULE_3__[\"akEditorSelectedBorderBoldSize\"], _atlaskit_editor_shared_styles__WEBPACK_IMPORTED_MODULE_3__[\"akEditorDeleteBorder\"], _atlaskit_editor_shared_styles__WEBPACK_IMPORTED_MODULE_3__[\"akEditorDeleteBorder\"]);\n\n/* `left: unset` above is to work around Chrome bug where rendering a div with\n * that style applied inside a container that has a scroll, causes any svgs on\n * the page, without a border, that are inside a flexbox, to no longer align to\n * the center of their viewbox.\n *\n * for us, this means that all the toolbar icons start jumping around if\n * you make the viewport small\n *///# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9tZWRpYS9zdHlsZXMudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2lucy9tZWRpYS9zdHlsZXMudHM/MzIzNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjc3MgfSBmcm9tICdzdHlsZWQtY29tcG9uZW50cydcblxuaW1wb3J0IHtcbiAgbWVkaWFTaW5nbGVTaGFyZWRTdHlsZSxcbiAgcmljaE1lZGlhQ2xhc3NOYW1lXG59IGZyb20gJ0BhdGxhc2tpdC9lZGl0b3ItY29tbW9uJ1xuaW1wb3J0IHtcbiAgYWtFZGl0b3JEZWxldGVCb3JkZXIsXG4gIGFrRWRpdG9yRGVsZXRlQmFja2dyb3VuZCxcbiAgYWtFZGl0b3JTZWxlY3RlZEJvcmRlckJvbGRTaXplLFxuICBha0VkaXRvck1lZGlhUmVzaXplSGFuZGxlclBhZGRpbmdXaWRlLFxuICBha0VkaXRvck1lZGlhUmVzaXplSGFuZGxlclBhZGRpbmcsXG4gIGFrRWRpdG9yU2VsZWN0ZWROb2RlQ2xhc3NOYW1lXG59IGZyb20gJ0BhdGxhc2tpdC9lZGl0b3Itc2hhcmVkLXN0eWxlcydcbmltcG9ydCB7IE42MCwgQjIwMCB9IGZyb20gJ0BhdGxhc2tpdC90aGVtZS9jb2xvcnMnXG5pbXBvcnQgeyBmaWxlQ2FyZEltYWdlVmlld1NlbGVjdG9yIH0gZnJvbSAnQGF0bGFza2l0L21lZGlhLWNhcmQnXG5cbmV4cG9ydCBjb25zdCBtZWRpYVN0eWxlcyA9IGNzc2BcbiAgLlByb3NlTWlycm9yIHtcbiAgICAke21lZGlhU2luZ2xlU2hhcmVkU3R5bGV9ICYgW2xheW91dD0nZnVsbC13aWR0aCddIC4ke3JpY2hNZWRpYUNsYXNzTmFtZX0sXG4gICAgJiBbbGF5b3V0PSd3aWRlJ10gLiR7cmljaE1lZGlhQ2xhc3NOYW1lfSB7XG4gICAgICBtYXJnaW4tbGVmdDogNTAlO1xuICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpO1xuICAgIH1cblxuICAgICYgW2xheW91dF49J3dyYXAtJ10gKyBbbGF5b3V0Xj0nd3JhcC0nXSB7XG4gICAgICBjbGVhcjogbm9uZTtcbiAgICAgICYgKyBwLFxuICAgICAgJiArIGRpdltjbGFzc149J2ZhYnJpYy1lZGl0b3ItYWxpZ24nXSxcbiAgICAgICYgKyB1bCxcbiAgICAgICYgKyBvbCxcbiAgICAgICYgKyBoMSxcbiAgICAgICYgKyBoMixcbiAgICAgICYgKyBoMyxcbiAgICAgICYgKyBoNCxcbiAgICAgICYgKyBoNSxcbiAgICAgICYgKyBoNiB7XG4gICAgICAgIGNsZWFyOiBib3RoICFpbXBvcnRhbnQ7XG4gICAgICB9XG4gICAgICAmIC4ke3JpY2hNZWRpYUNsYXNzTmFtZX0ge1xuICAgICAgICBtYXJnaW4tbGVmdDogMDtcbiAgICAgICAgbWFyZ2luLXJpZ2h0OiAwO1xuICAgICAgfVxuICAgIH1cblxuICAgIC5tZWRpYVNpbmdsZVZpZXctY29udGVudC13cmFwW2xheW91dF49J3dyYXAtJ10ge1xuICAgICAgbWF4LXdpZHRoOiAxMDAlO1xuICAgICAgLy8gb3ZlcndyaXRlIGRlZmF1bHQgUHJvc2VtaXJyb3Igc2V0dGluZyBtYWtpbmcgaXQgY2xlYXI6IGJvdGhcbiAgICAgIGNsZWFyOiBpbmhlcml0O1xuICAgIH1cblxuICAgIC5tZWRpYVNpbmdsZVZpZXctY29udGVudC13cmFwW2xheW91dD0nd3JhcC1sZWZ0J10ge1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgfVxuXG4gICAgLm1lZGlhU2luZ2xlVmlldy1jb250ZW50LXdyYXBbbGF5b3V0PSd3cmFwLXJpZ2h0J10ge1xuICAgICAgZmxvYXQ6IHJpZ2h0O1xuICAgIH1cblxuICAgIC5tZWRpYVNpbmdsZVZpZXctY29udGVudC13cmFwW2xheW91dD0nd3JhcC1yaWdodCddXG4gICAgICArIC5tZWRpYVNpbmdsZVZpZXctY29udGVudC13cmFwW2xheW91dD0nd3JhcC1sZWZ0J10ge1xuICAgICAgY2xlYXI6IGJvdGg7XG4gICAgfVxuXG4gICAgLyogTGFyZ2VyIG1hcmdpbnMgZm9yIHJlc2l6ZSBoYW5kbGVycyB3aGVuIGF0IGRlcHRoIDAgb2YgdGhlIGRvY3VtZW50ICovXG4gICAgJiA+IC5tZWRpYVNpbmdsZVZpZXctY29udGVudC13cmFwIHtcbiAgICAgIC5yaWNoTWVkaWEtcmVzaXplLWhhbmRsZS1yaWdodCB7XG4gICAgICAgIG1hcmdpbi1yaWdodDogLSR7YWtFZGl0b3JNZWRpYVJlc2l6ZUhhbmRsZXJQYWRkaW5nV2lkZX1weDtcbiAgICAgIH1cbiAgICAgIC5yaWNoTWVkaWEtcmVzaXplLWhhbmRsZS1sZWZ0IHtcbiAgICAgICAgbWFyZ2luLWxlZnQ6IC0ke2FrRWRpdG9yTWVkaWFSZXNpemVIYW5kbGVyUGFkZGluZ1dpZGV9cHg7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLnJpY2hNZWRpYS1yZXNpemUtaGFuZGxlLXJpZ2h0LFxuICAucmljaE1lZGlhLXJlc2l6ZS1oYW5kbGUtbGVmdCB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuXG4gICAgLyogdmVydGljYWwgYWxpZ24gKi9cbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgfVxuXG4gIC5yaWNoTWVkaWEtcmVzaXplLWhhbmRsZS1yaWdodCB7XG4gICAgYWxpZ24taXRlbXM6IGZsZXgtZW5kO1xuICAgIHBhZGRpbmctcmlnaHQ6IDEycHg7XG4gICAgbWFyZ2luLXJpZ2h0OiAtJHtha0VkaXRvck1lZGlhUmVzaXplSGFuZGxlclBhZGRpbmd9cHg7XG4gIH1cblxuICAucmljaE1lZGlhLXJlc2l6ZS1oYW5kbGUtbGVmdCB7XG4gICAgYWxpZ24taXRlbXM6IGZsZXgtc3RhcnQ7XG4gICAgcGFkZGluZy1sZWZ0OiAxMnB4O1xuICAgIG1hcmdpbi1sZWZ0OiAtJHtha0VkaXRvck1lZGlhUmVzaXplSGFuZGxlclBhZGRpbmd9cHg7XG4gIH1cblxuICAucmljaE1lZGlhLXJlc2l6ZS1oYW5kbGUtcmlnaHQ6OmFmdGVyLFxuICAucmljaE1lZGlhLXJlc2l6ZS1oYW5kbGUtbGVmdDo6YWZ0ZXIge1xuICAgIGNvbnRlbnQ6ICcgJztcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIHdpZHRoOiAzcHg7XG4gICAgaGVpZ2h0OiA2NHB4O1xuXG4gICAgYm9yZGVyLXJhZGl1czogNnB4O1xuICB9XG5cbiAgLiR7cmljaE1lZGlhQ2xhc3NOYW1lfTpob3ZlciAucmljaE1lZGlhLXJlc2l6ZS1oYW5kbGUtbGVmdDo6YWZ0ZXIsXG4gIC4ke3JpY2hNZWRpYUNsYXNzTmFtZX06aG92ZXIgLnJpY2hNZWRpYS1yZXNpemUtaGFuZGxlLXJpZ2h0OjphZnRlciB7XG4gICAgYmFja2dyb3VuZDogJHtONjB9O1xuICB9XG5cbiAgLiR7YWtFZGl0b3JTZWxlY3RlZE5vZGVDbGFzc05hbWV9IC5yaWNoTWVkaWEtcmVzaXplLWhhbmRsZS1yaWdodDo6YWZ0ZXIsXG4gIC4ke2FrRWRpdG9yU2VsZWN0ZWROb2RlQ2xhc3NOYW1lfSAucmljaE1lZGlhLXJlc2l6ZS1oYW5kbGUtbGVmdDo6YWZ0ZXIsXG4gIC4ke3JpY2hNZWRpYUNsYXNzTmFtZX0gLnJpY2hNZWRpYS1yZXNpemUtaGFuZGxlLXJpZ2h0OmhvdmVyOjphZnRlcixcbiAgLiR7cmljaE1lZGlhQ2xhc3NOYW1lfSAucmljaE1lZGlhLXJlc2l6ZS1oYW5kbGUtbGVmdDpob3Zlcjo6YWZ0ZXIsXG4gIC4ke3JpY2hNZWRpYUNsYXNzTmFtZX0uaXMtcmVzaXppbmcgLnJpY2hNZWRpYS1yZXNpemUtaGFuZGxlLXJpZ2h0OjphZnRlcixcbiAgLiR7cmljaE1lZGlhQ2xhc3NOYW1lfS5pcy1yZXNpemluZyAucmljaE1lZGlhLXJlc2l6ZS1oYW5kbGUtbGVmdDo6YWZ0ZXIge1xuICAgIGJhY2tncm91bmQ6ICR7QjIwMH07XG4gIH1cblxuICAuX19yZXNpemFibGVfYmFzZV9fIHtcbiAgICBsZWZ0OiB1bnNldCAhaW1wb3J0YW50O1xuICAgIHdpZHRoOiBhdXRvICFpbXBvcnRhbnQ7XG4gICAgaGVpZ2h0OiBhdXRvICFpbXBvcnRhbnQ7XG4gIH1cblxuICAvKiBEYW5nZXIgd2hlbiB0b3AgbGV2ZWwgbm9kZSBmb3Igc21hcnQgY2FyZHMgLyBpbmxpbmUgbGlua3MgKi9cbiAgLmRhbmdlciA+IGRpdiA+IGRpdiA+IC5tZWRpYS1jYXJkLWZyYW1lLFxuICAuZGFuZ2VyID4gc3BhbiA+IGEge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICR7YWtFZGl0b3JEZWxldGVCYWNrZ3JvdW5kfTtcbiAgICBib3gtc2hhZG93OiAwcHggMHB4IDBweCAke2FrRWRpdG9yU2VsZWN0ZWRCb3JkZXJCb2xkU2l6ZX1weFxuICAgICAgJHtha0VkaXRvckRlbGV0ZUJvcmRlcn07XG4gICAgdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAwcztcbiAgICB0cmFuc2l0aW9uOiBib3gtc2hhZG93IDBzO1xuICB9XG5cbiAgLyogRGFuZ2VyIHdoZW4gbmVzdGVkIG5vZGUgb3IgY29tbW9uICovXG4gIC5kYW5nZXIge1xuICAgIC8qIE1lZGlhIHNpbmdsZSAqL1xuICAgIC4ke3JpY2hNZWRpYUNsYXNzTmFtZX0gLiR7ZmlsZUNhcmRJbWFnZVZpZXdTZWxlY3Rvcn06OmFmdGVyIHtcbiAgICAgIGJvcmRlcjogJHtha0VkaXRvclNlbGVjdGVkQm9yZGVyQm9sZFNpemV9cHggc29saWQgJHtha0VkaXRvckRlbGV0ZUJvcmRlcn07XG4gICAgfVxuXG4gICAgLnJpY2hNZWRpYS1zZWxlY3RlZCAucmljaE1lZGlhLXJlc2l6ZS1oYW5kbGUtcmlnaHQ6OmFmdGVyLFxuICAgIC5yaWNoTWVkaWEtc2VsZWN0ZWQgLnJpY2hNZWRpYS1yZXNpemUtaGFuZGxlLWxlZnQ6OmFmdGVyIHtcbiAgICAgIGJhY2tncm91bmQ6ICR7YWtFZGl0b3JEZWxldGVCb3JkZXJ9O1xuICAgIH1cblxuICAgIC8qIFNtYXJ0IGNhcmRzICovXG4gICAgZGl2IGRpdiAubWVkaWEtY2FyZC1mcmFtZSxcbiAgICAuaW5saW5lQ2FyZFZpZXctY29udGVudC13cmFwID4gc3BhbiA+IGEge1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDI1NSwgMTg5LCAxNzMsIDAuNSk7IC8qIFI3NSB3aXRoIDUwJSBvcGFjdGl5ICovXG4gICAgICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDBzO1xuICAgIH1cblxuICAgIGRpdiBkaXYgLm1lZGlhLWNhcmQtZnJhbWU6OmFmdGVyIHtcbiAgICAgIGJveC1zaGFkb3c6IG5vbmU7XG4gICAgfVxuICB9XG5gXG5cbi8qIGBsZWZ0OiB1bnNldGAgYWJvdmUgaXMgdG8gd29yayBhcm91bmQgQ2hyb21lIGJ1ZyB3aGVyZSByZW5kZXJpbmcgYSBkaXYgd2l0aFxuICogdGhhdCBzdHlsZSBhcHBsaWVkIGluc2lkZSBhIGNvbnRhaW5lciB0aGF0IGhhcyBhIHNjcm9sbCwgY2F1c2VzIGFueSBzdmdzIG9uXG4gKiB0aGUgcGFnZSwgd2l0aG91dCBhIGJvcmRlciwgdGhhdCBhcmUgaW5zaWRlIGEgZmxleGJveCwgdG8gbm8gbG9uZ2VyIGFsaWduIHRvXG4gKiB0aGUgY2VudGVyIG9mIHRoZWlyIHZpZXdib3guXG4gKlxuICogZm9yIHVzLCB0aGlzIG1lYW5zIHRoYXQgYWxsIHRoZSB0b29sYmFyIGljb25zIHN0YXJ0IGp1bXBpbmcgYXJvdW5kIGlmXG4gKiB5b3UgbWFrZSB0aGUgdmlld3BvcnQgc21hbGxcbiAqL1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBO0FBRUE7QUFJQTtBQVFBO0FBQ0E7QUFFQTtBQUNBO0FBK0lBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/plugins/media/styles.ts\n");

/***/ }),

/***/ "./src/plugins/media/toolbar/alt-text.tsx":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"altTextButton\", function() { return altTextButton; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"altTextEditComponent\", function() { return altTextEditComponent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getAltTextToolbar\", function() { return getAltTextToolbar; });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _pm_plugins_alt_text_commands__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./src/plugins/media/pm-plugins/alt-text/commands.ts\");\n/* harmony import */ var _atlaskit_editor_core_keymaps__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/keymaps/index.tsx\");\n/* harmony import */ var _pm_plugins_alt_text_messages__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./src/plugins/media/pm-plugins/alt-text/messages.ts\");\n/* harmony import */ var _pm_plugins_alt_text_ui_AltTextEdit__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./src/plugins/media/pm-plugins/alt-text/ui/AltTextEdit.tsx\");\n/* harmony import */ var _utils_media_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./src/plugins/media/utils/media-common.ts\");\n/* harmony import */ var _pm_plugins_alt_text_style__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./src/plugins/media/pm-plugins/alt-text/style.ts\");\n\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n\n\n\n\n\n\n\n\nvar altTextButton = function altTextButton(intl, state) {\n  var mediaNode = Object(_utils_media_common__WEBPACK_IMPORTED_MODULE_6__[\"getMediaNodeFromSelection\"])(state);\n  var message = mediaNode && mediaNode.attrs.alt ? _pm_plugins_alt_text_messages__WEBPACK_IMPORTED_MODULE_4__[\"messages\"].editAltText : _pm_plugins_alt_text_messages__WEBPACK_IMPORTED_MODULE_4__[\"messages\"].altText;\n  var title = intl.formatMessage(message);\n  return {\n    title: title,\n    type: 'button',\n    onClick: _pm_plugins_alt_text_commands__WEBPACK_IMPORTED_MODULE_2__[\"openMediaAltTextMenu\"],\n    showTitle: true,\n    testId: 'alt-text-edit-button',\n    tooltipContent: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_atlaskit_editor_core_keymaps__WEBPACK_IMPORTED_MODULE_3__[\"ToolTipContent\"], {\n      description: title,\n      keymap: _atlaskit_editor_core_keymaps__WEBPACK_IMPORTED_MODULE_3__[\"addAltText\"]\n    })\n  };\n};\nvar altTextEditComponent = function altTextEditComponent(options) {\n  return {\n    type: 'custom',\n    render: function render(view, idx) {\n      if (!view) {\n        return null;\n      }\n      var mediaNode = Object(_utils_media_common__WEBPACK_IMPORTED_MODULE_6__[\"getMediaNodeFromSelection\"])(view.state);\n      if (!mediaNode) {\n        return null;\n      }\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_pm_plugins_alt_text_ui_AltTextEdit__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n        view: view,\n        key: idx,\n        value: mediaNode.attrs.alt,\n        altTextValidator: options && options.altTextValidator\n      });\n    }\n  };\n};\nvar getAltTextToolbar = function getAltTextToolbar(toolbarBaseConfig, options) {\n  return _objectSpread(_objectSpread({}, toolbarBaseConfig), {}, {\n    width: _pm_plugins_alt_text_ui_AltTextEdit__WEBPACK_IMPORTED_MODULE_5__[\"CONTAINER_WIDTH_IN_PX\"],\n    className: _pm_plugins_alt_text_style__WEBPACK_IMPORTED_MODULE_7__[\"ClassNames\"].FLOATING_TOOLBAR_COMPONENT,\n    items: [altTextEditComponent(options)]\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9tZWRpYS90b29sYmFyL2FsdC10ZXh0LnRzeC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9wbHVnaW5zL21lZGlhL3Rvb2xiYXIvYWx0LXRleHQudHN4PzAxMmQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgSW5qZWN0ZWRJbnRsIH0gZnJvbSAncmVhY3QtaW50bCdcbmltcG9ydCB7IEVkaXRvclZpZXcgfSBmcm9tICdwcm9zZW1pcnJvci12aWV3J1xuaW1wb3J0IHtcbiAgRmxvYXRpbmdUb29sYmFyQnV0dG9uLFxuICBGbG9hdGluZ1Rvb2xiYXJDdXN0b20sXG4gIEZsb2F0aW5nVG9vbGJhckNvbmZpZ1xufSBmcm9tICdAYXRsYXNraXQvZWRpdG9yLWNvcmUvcGx1Z2lucy9mbG9hdGluZy10b29sYmFyL3R5cGVzJ1xuaW1wb3J0IHsgQ29tbWFuZCB9IGZyb20gJ0BhdGxhc2tpdC9lZGl0b3ItY29yZS90eXBlcydcbmltcG9ydCB7IG9wZW5NZWRpYUFsdFRleHRNZW51IH0gZnJvbSAnLi4vcG0tcGx1Z2lucy9hbHQtdGV4dC9jb21tYW5kcydcbmltcG9ydCB7IFRvb2xUaXBDb250ZW50LCBhZGRBbHRUZXh0IH0gZnJvbSAnQGF0bGFza2l0L2VkaXRvci1jb3JlL2tleW1hcHMnXG5pbXBvcnQgeyBNZWRpYVRvb2xiYXJCYXNlQ29uZmlnIH0gZnJvbSAnLi4vdHlwZXMnXG5pbXBvcnQgeyBtZXNzYWdlcyB9IGZyb20gJy4uL3BtLXBsdWdpbnMvYWx0LXRleHQvbWVzc2FnZXMnXG5pbXBvcnQgQWx0VGV4dEVkaXQgZnJvbSAnLi4vcG0tcGx1Z2lucy9hbHQtdGV4dC91aS9BbHRUZXh0RWRpdCdcbmltcG9ydCB7IENPTlRBSU5FUl9XSURUSF9JTl9QWCB9IGZyb20gJy4uL3BtLXBsdWdpbnMvYWx0LXRleHQvdWkvQWx0VGV4dEVkaXQnXG5pbXBvcnQgeyBnZXRNZWRpYU5vZGVGcm9tU2VsZWN0aW9uIH0gZnJvbSAnLi4vdXRpbHMvbWVkaWEtY29tbW9uJ1xuaW1wb3J0IHsgRWRpdG9yU3RhdGUgfSBmcm9tICdwcm9zZW1pcnJvci1zdGF0ZSdcbmltcG9ydCB7IENsYXNzTmFtZXMgfSBmcm9tICcuLi9wbS1wbHVnaW5zL2FsdC10ZXh0L3N0eWxlJ1xuXG5leHBvcnQgY29uc3QgYWx0VGV4dEJ1dHRvbiA9IChcbiAgaW50bDogSW5qZWN0ZWRJbnRsLFxuICBzdGF0ZTogRWRpdG9yU3RhdGVcbik6IEZsb2F0aW5nVG9vbGJhckJ1dHRvbjxDb21tYW5kPiA9PiB7XG4gIGNvbnN0IG1lZGlhTm9kZSA9IGdldE1lZGlhTm9kZUZyb21TZWxlY3Rpb24oc3RhdGUpXG4gIGNvbnN0IG1lc3NhZ2UgPVxuICAgIG1lZGlhTm9kZSAmJiBtZWRpYU5vZGUuYXR0cnMuYWx0ID8gbWVzc2FnZXMuZWRpdEFsdFRleHQgOiBtZXNzYWdlcy5hbHRUZXh0XG4gIGNvbnN0IHRpdGxlID0gaW50bC5mb3JtYXRNZXNzYWdlKG1lc3NhZ2UpXG4gIHJldHVybiB7XG4gICAgdGl0bGUsXG4gICAgdHlwZTogJ2J1dHRvbicsXG4gICAgb25DbGljazogb3Blbk1lZGlhQWx0VGV4dE1lbnUsXG4gICAgc2hvd1RpdGxlOiB0cnVlLFxuICAgIHRlc3RJZDogJ2FsdC10ZXh0LWVkaXQtYnV0dG9uJyxcbiAgICB0b29sdGlwQ29udGVudDogPFRvb2xUaXBDb250ZW50IGRlc2NyaXB0aW9uPXt0aXRsZX0ga2V5bWFwPXthZGRBbHRUZXh0fSAvPlxuICB9XG59XG5cbmV4cG9ydCBjb25zdCBhbHRUZXh0RWRpdENvbXBvbmVudCA9IChcbiAgb3B0aW9ucz86IEFsdFRleHRUb29sYmFyT3B0aW9uc1xuKTogRmxvYXRpbmdUb29sYmFyQ3VzdG9tID0+IHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiAnY3VzdG9tJyxcbiAgICByZW5kZXI6ICh2aWV3PzogRWRpdG9yVmlldywgaWR4PzogbnVtYmVyKSA9PiB7XG4gICAgICBpZiAoIXZpZXcpIHtcbiAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgIH1cblxuICAgICAgY29uc3QgbWVkaWFOb2RlID0gZ2V0TWVkaWFOb2RlRnJvbVNlbGVjdGlvbih2aWV3LnN0YXRlKVxuXG4gICAgICBpZiAoIW1lZGlhTm9kZSkge1xuICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgfVxuXG4gICAgICByZXR1cm4gKFxuICAgICAgICA8QWx0VGV4dEVkaXRcbiAgICAgICAgICB2aWV3PXt2aWV3fVxuICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgIHZhbHVlPXttZWRpYU5vZGUuYXR0cnMuYWx0fVxuICAgICAgICAgIGFsdFRleHRWYWxpZGF0b3I9e29wdGlvbnMgJiYgb3B0aW9ucy5hbHRUZXh0VmFsaWRhdG9yfVxuICAgICAgICAvPlxuICAgICAgKVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEFsdFRleHRUb29sYmFyT3B0aW9ucyB7XG4gIGFsdFRleHRWYWxpZGF0b3I/OiAodmFsdWU6IHN0cmluZykgPT4gc3RyaW5nW11cbn1cblxuZXhwb3J0IGNvbnN0IGdldEFsdFRleHRUb29sYmFyID0gKFxuICB0b29sYmFyQmFzZUNvbmZpZzogTWVkaWFUb29sYmFyQmFzZUNvbmZpZyxcbiAgb3B0aW9ucz86IEFsdFRleHRUb29sYmFyT3B0aW9uc1xuKTogRmxvYXRpbmdUb29sYmFyQ29uZmlnID0+IHtcbiAgcmV0dXJuIHtcbiAgICAuLi50b29sYmFyQmFzZUNvbmZpZyxcbiAgICB3aWR0aDogQ09OVEFJTkVSX1dJRFRIX0lOX1BYLFxuICAgIGNsYXNzTmFtZTogQ2xhc3NOYW1lcy5GTE9BVElOR19UT09MQkFSX0NPTVBPTkVOVCxcbiAgICBpdGVtczogW2FsdFRleHRFZGl0Q29tcG9uZW50KG9wdGlvbnMpXVxuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFTQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBSUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQU1BO0FBSUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUVBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/plugins/media/toolbar/alt-text.tsx\n");

/***/ }),

/***/ "./src/plugins/media/toolbar/annotation.tsx":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AnnotationToolbar\", function() { return AnnotationToolbar; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"renderAnnotationButton\", function() { return renderAnnotationButton; });\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/assertThisInitialized.js\");\n/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/inherits.js\");\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\");\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/getPrototypeOf.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _atlaskit_icon_glyph_media_services_annotate__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"./node_modules/@atlaskit/icon/glyph/media-services/annotate.js\");\n/* harmony import */ var _atlaskit_icon_glyph_media_services_annotate__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_atlaskit_icon_glyph_media_services_annotate__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _atlaskit_media_client__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"./node_modules/@atlaskit/media-client/dist/esm/index.js\");\n/* harmony import */ var _atlaskit_editor_core_plugins_floating_toolbar_ui_Button__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/plugins/floating-toolbar/ui/Button.tsx\");\n/* harmony import */ var _atlaskit_editor_core_plugins_floating_toolbar_ui_Separator__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/plugins/floating-toolbar/ui/Separator.tsx\");\n/* harmony import */ var _pm_plugins_plugin_key__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(\"./src/plugins/media/pm-plugins/plugin-key.ts\");\n/* harmony import */ var _commands_media_editor__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(\"./src/plugins/media/commands/media-editor.ts\");\n/* harmony import */ var _atlaskit_editor_core_plugins_analytics__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/plugins/analytics/index.ts\");\n/* harmony import */ var _toolbar_messages__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(\"./src/plugins/media/toolbar/toolbar-messages.ts\");\n\n\n\n\n\n\n\n\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default()(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\n\n\n\n\nvar annotate = function annotate(state, dispatch) {\n  var pluginState = _pm_plugins_plugin_key__WEBPACK_IMPORTED_MODULE_14__[\"stateKey\"].getState(state);\n  if (!pluginState) {\n    return false;\n  }\n  var mediaSingle = state.schema.nodes.mediaSingle;\n  var selected = pluginState.selectedMediaContainerNode();\n  if (!selected || selected.type !== mediaSingle) {\n    return false;\n  }\n  var _attrs = selected.firstChild.attrs,\n    id = _attrs.id,\n    collectionName = _attrs.collection,\n    occurrenceKey = _attrs.occurrenceKey;\n  return Object(_atlaskit_editor_core_plugins_analytics__WEBPACK_IMPORTED_MODULE_16__[\"withAnalytics\"])({\n    action: _atlaskit_editor_core_plugins_analytics__WEBPACK_IMPORTED_MODULE_16__[\"ACTION\"].CLICKED,\n    actionSubject: _atlaskit_editor_core_plugins_analytics__WEBPACK_IMPORTED_MODULE_16__[\"ACTION_SUBJECT\"].MEDIA,\n    actionSubjectId: _atlaskit_editor_core_plugins_analytics__WEBPACK_IMPORTED_MODULE_16__[\"ACTION_SUBJECT_ID\"].ANNOTATE_BUTTON,\n    eventType: _atlaskit_editor_core_plugins_analytics__WEBPACK_IMPORTED_MODULE_16__[\"EVENT_TYPE\"].UI\n  })(Object(_commands_media_editor__WEBPACK_IMPORTED_MODULE_15__[\"openMediaEditor\"])(state.selection.from + 1, {\n    id: id,\n    collectionName: collectionName,\n    mediaItemType: 'file',\n    occurrenceKey: occurrenceKey\n  }))(state, dispatch);\n};\nvar AnnotationToolbar = /*#__PURE__*/function (_React$Component) {\n  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default()(AnnotationToolbar, _React$Component);\n  var _super = _createSuper(AnnotationToolbar);\n  function AnnotationToolbar() {\n    var _this;\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this, AnnotationToolbar);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default()(_this), \"state\", {\n      isImage: false\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default()(_this), \"onClickAnnotation\", function () {\n      var view = _this.props.view;\n      if (view) {\n        annotate(view.state, view.dispatch);\n      }\n    });\n    return _this;\n  }\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(AnnotationToolbar, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default.a.mark(function _callee() {\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.checkIsImage();\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n      return componentDidMount;\n    }()\n  }, {\n    key: \"checkIsImage\",\n    value: function () {\n      var _checkIsImage = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default.a.mark(function _callee2() {\n        var mediaClient, state;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                mediaClient = Object(_atlaskit_media_client__WEBPACK_IMPORTED_MODULE_11__[\"getMediaClient\"])(this.props.viewMediaClientConfig);\n                if (this.props.id) {\n                  _context2.next = 3;\n                  break;\n                }\n                return _context2.abrupt(\"return\");\n              case 3:\n                _context2.prev = 3;\n                _context2.next = 6;\n                return mediaClient.file.getCurrentState(this.props.id, {\n                  collectionName: this.props.collection\n                });\n              case 6:\n                state = _context2.sent;\n                if (state && state.status !== 'error' && state.mediaType === 'image') {\n                  this.setState({\n                    isImage: true\n                  });\n                }\n                _context2.next = 12;\n                break;\n              case 10:\n                _context2.prev = 10;\n                _context2.t0 = _context2[\"catch\"](3);\n              case 12:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[3, 10]]);\n      }));\n      function checkIsImage() {\n        return _checkIsImage.apply(this, arguments);\n      }\n      return checkIsImage;\n    }()\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var _this2 = this;\n      if (prevProps.id !== this.props.id) {\n        this.setState({\n          isImage: false\n        }, function () {\n          _this2.checkIsImage();\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (!this.state.isImage) {\n        return null;\n      }\n      var intl = this.props.intl;\n      var title = intl.formatMessage(_toolbar_messages__WEBPACK_IMPORTED_MODULE_17__[\"toolbarMessages\"].annotate);\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_9___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_atlaskit_editor_core_plugins_floating_toolbar_ui_Separator__WEBPACK_IMPORTED_MODULE_13__[\"default\"], null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_atlaskit_editor_core_plugins_floating_toolbar_ui_Button__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n        title: title,\n        icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_atlaskit_icon_glyph_media_services_annotate__WEBPACK_IMPORTED_MODULE_10___default.a, {\n          label: title\n        }),\n        onClick: this.onClickAnnotation\n      }));\n    }\n  }]);\n  return AnnotationToolbar;\n}(react__WEBPACK_IMPORTED_MODULE_9___default.a.Component);\nvar renderAnnotationButton = function renderAnnotationButton(pluginState, intl) {\n  return function (view, idx) {\n    var selectedContainer = pluginState.selectedMediaContainerNode();\n    if (!selectedContainer || !pluginState.mediaClientConfig) {\n      return null;\n    }\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(AnnotationToolbar, {\n      key: idx,\n      viewMediaClientConfig: pluginState.mediaClientConfig,\n      id: selectedContainer.firstChild.attrs.id,\n      collection: selectedContainer.firstChild.attrs.collection,\n      view: view,\n      intl: intl\n    });\n  };\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9tZWRpYS90b29sYmFyL2Fubm90YXRpb24udHN4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbnMvbWVkaWEvdG9vbGJhci9hbm5vdGF0aW9uLnRzeD9mNzVhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCBBbm5vdGF0ZUljb24gZnJvbSAnQGF0bGFza2l0L2ljb24vZ2x5cGgvbWVkaWEtc2VydmljZXMvYW5ub3RhdGUnXG5pbXBvcnQgeyBNZWRpYUNsaWVudENvbmZpZyB9IGZyb20gJ0BhdGxhc2tpdC9tZWRpYS1jb3JlJ1xuaW1wb3J0IHsgZ2V0TWVkaWFDbGllbnQgfSBmcm9tICdAYXRsYXNraXQvbWVkaWEtY2xpZW50J1xuaW1wb3J0IHsgRWRpdG9yVmlldyB9IGZyb20gJ3Byb3NlbWlycm9yLXZpZXcnXG5pbXBvcnQgeyBJbmplY3RlZEludGwgfSBmcm9tICdyZWFjdC1pbnRsJ1xuXG5pbXBvcnQgeyBDb21tYW5kIH0gZnJvbSAnQGF0bGFza2l0L2VkaXRvci1jb3JlL3R5cGVzJ1xuaW1wb3J0IEJ1dHRvbiBmcm9tICdAYXRsYXNraXQvZWRpdG9yLWNvcmUvcGx1Z2lucy9mbG9hdGluZy10b29sYmFyL3VpL0J1dHRvbidcbmltcG9ydCBTZXBhcmF0b3IgZnJvbSAnQGF0bGFza2l0L2VkaXRvci1jb3JlL3BsdWdpbnMvZmxvYXRpbmctdG9vbGJhci91aS9TZXBhcmF0b3InXG5cbmltcG9ydCB7IHN0YXRlS2V5IH0gZnJvbSAnLi4vcG0tcGx1Z2lucy9wbHVnaW4ta2V5J1xuaW1wb3J0IHsgb3Blbk1lZGlhRWRpdG9yIH0gZnJvbSAnLi4vY29tbWFuZHMvbWVkaWEtZWRpdG9yJ1xuXG5pbXBvcnQge1xuICB3aXRoQW5hbHl0aWNzLFxuICBBQ1RJT05fU1VCSkVDVF9JRCxcbiAgQUNUSU9OX1NVQkpFQ1QsXG4gIEFDVElPTixcbiAgRVZFTlRfVFlQRVxufSBmcm9tICdAYXRsYXNraXQvZWRpdG9yLWNvcmUvcGx1Z2lucy9hbmFseXRpY3MnXG5pbXBvcnQgeyBNZWRpYVBsdWdpblN0YXRlIH0gZnJvbSAnLi4vcG0tcGx1Z2lucy90eXBlcydcbmltcG9ydCB7IHRvb2xiYXJNZXNzYWdlcyB9IGZyb20gJy4vdG9vbGJhci1tZXNzYWdlcydcblxuY29uc3QgYW5ub3RhdGU6IENvbW1hbmQgPSAoc3RhdGUsIGRpc3BhdGNoKSA9PiB7XG4gIGNvbnN0IHBsdWdpblN0YXRlOiBNZWRpYVBsdWdpblN0YXRlIHwgdW5kZWZpbmVkID0gc3RhdGVLZXkuZ2V0U3RhdGUoc3RhdGUpXG4gIGlmICghcGx1Z2luU3RhdGUpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIGNvbnN0IHsgbWVkaWFTaW5nbGUgfSA9IHN0YXRlLnNjaGVtYS5ub2Rlc1xuICBjb25zdCBzZWxlY3RlZCA9IHBsdWdpblN0YXRlLnNlbGVjdGVkTWVkaWFDb250YWluZXJOb2RlKClcbiAgaWYgKCFzZWxlY3RlZCB8fCBzZWxlY3RlZC50eXBlICE9PSBtZWRpYVNpbmdsZSkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgY29uc3Qge1xuICAgIGlkLFxuICAgIGNvbGxlY3Rpb246IGNvbGxlY3Rpb25OYW1lLFxuICAgIG9jY3VycmVuY2VLZXlcbiAgfSA9IHNlbGVjdGVkLmZpcnN0Q2hpbGQhLmF0dHJzXG5cbiAgcmV0dXJuIHdpdGhBbmFseXRpY3Moe1xuICAgIGFjdGlvbjogQUNUSU9OLkNMSUNLRUQsXG4gICAgYWN0aW9uU3ViamVjdDogQUNUSU9OX1NVQkpFQ1QuTUVESUEsXG4gICAgYWN0aW9uU3ViamVjdElkOiBBQ1RJT05fU1VCSkVDVF9JRC5BTk5PVEFURV9CVVRUT04sXG4gICAgZXZlbnRUeXBlOiBFVkVOVF9UWVBFLlVJXG4gIH0pKFxuICAgIG9wZW5NZWRpYUVkaXRvcihzdGF0ZS5zZWxlY3Rpb24uZnJvbSArIDEsIHtcbiAgICAgIGlkLFxuICAgICAgY29sbGVjdGlvbk5hbWUsXG4gICAgICBtZWRpYUl0ZW1UeXBlOiAnZmlsZScsXG4gICAgICBvY2N1cnJlbmNlS2V5XG4gICAgfSlcbiAgKShzdGF0ZSwgZGlzcGF0Y2gpXG59XG5cbnR5cGUgQW5ub3RhdGlvblRvb2xiYXJQcm9wcyA9IHtcbiAgdmlld01lZGlhQ2xpZW50Q29uZmlnOiBNZWRpYUNsaWVudENvbmZpZ1xuICBpZDogc3RyaW5nXG4gIGNvbGxlY3Rpb24/OiBzdHJpbmdcbiAgaW50bDogSW5qZWN0ZWRJbnRsXG4gIHZpZXc/OiBFZGl0b3JWaWV3XG59XG5cbmV4cG9ydCBjbGFzcyBBbm5vdGF0aW9uVG9vbGJhciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxBbm5vdGF0aW9uVG9vbGJhclByb3BzPiB7XG4gIHN0YXRlID0ge1xuICAgIGlzSW1hZ2U6IGZhbHNlXG4gIH1cblxuICBhc3luYyBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBhd2FpdCB0aGlzLmNoZWNrSXNJbWFnZSgpXG4gIH1cblxuICBhc3luYyBjaGVja0lzSW1hZ2UoKSB7XG4gICAgY29uc3QgbWVkaWFDbGllbnQgPSBnZXRNZWRpYUNsaWVudCh0aGlzLnByb3BzLnZpZXdNZWRpYUNsaWVudENvbmZpZylcbiAgICBpZiAoIXRoaXMucHJvcHMuaWQpIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICB0cnkge1xuICAgICAgY29uc3Qgc3RhdGUgPSBhd2FpdCBtZWRpYUNsaWVudC5maWxlLmdldEN1cnJlbnRTdGF0ZSh0aGlzLnByb3BzLmlkLCB7XG4gICAgICAgIGNvbGxlY3Rpb25OYW1lOiB0aGlzLnByb3BzLmNvbGxlY3Rpb25cbiAgICAgIH0pXG5cbiAgICAgIGlmIChzdGF0ZSAmJiBzdGF0ZS5zdGF0dXMgIT09ICdlcnJvcicgJiYgc3RhdGUubWVkaWFUeXBlID09PSAnaW1hZ2UnKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGlzSW1hZ2U6IHRydWVcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIC8vIGRvIG5vdGhpbmcgaW4gY2FzZSBvZiBtZWRpYS1jbGllbnQgZXJyb3JcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzOiBBbm5vdGF0aW9uVG9vbGJhclByb3BzKSB7XG4gICAgaWYgKHByZXZQcm9wcy5pZCAhPT0gdGhpcy5wcm9wcy5pZCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzSW1hZ2U6IGZhbHNlIH0sICgpID0+IHtcbiAgICAgICAgdGhpcy5jaGVja0lzSW1hZ2UoKVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBvbkNsaWNrQW5ub3RhdGlvbiA9ICgpID0+IHtcbiAgICBjb25zdCB7IHZpZXcgfSA9IHRoaXMucHJvcHNcbiAgICBpZiAodmlldykge1xuICAgICAgYW5ub3RhdGUodmlldy5zdGF0ZSwgdmlldy5kaXNwYXRjaClcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLmlzSW1hZ2UpIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuXG4gICAgY29uc3QgeyBpbnRsIH0gPSB0aGlzLnByb3BzXG5cbiAgICBjb25zdCB0aXRsZSA9IGludGwuZm9ybWF0TWVzc2FnZSh0b29sYmFyTWVzc2FnZXMuYW5ub3RhdGUpXG5cbiAgICByZXR1cm4gKFxuICAgICAgPD5cbiAgICAgICAgPFNlcGFyYXRvciAvPlxuICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgdGl0bGU9e3RpdGxlfVxuICAgICAgICAgIGljb249ezxBbm5vdGF0ZUljb24gbGFiZWw9e3RpdGxlfSAvPn1cbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2tBbm5vdGF0aW9ufVxuICAgICAgICAvPlxuICAgICAgPC8+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBjb25zdCByZW5kZXJBbm5vdGF0aW9uQnV0dG9uID0gKFxuICBwbHVnaW5TdGF0ZTogTWVkaWFQbHVnaW5TdGF0ZSxcbiAgaW50bDogSW5qZWN0ZWRJbnRsXG4pID0+IHtcbiAgcmV0dXJuICh2aWV3PzogRWRpdG9yVmlldywgaWR4PzogbnVtYmVyKSA9PiB7XG4gICAgY29uc3Qgc2VsZWN0ZWRDb250YWluZXIgPSBwbHVnaW5TdGF0ZS5zZWxlY3RlZE1lZGlhQ29udGFpbmVyTm9kZSgpXG4gICAgaWYgKCFzZWxlY3RlZENvbnRhaW5lciB8fCAhcGx1Z2luU3RhdGUubWVkaWFDbGllbnRDb25maWcpIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxBbm5vdGF0aW9uVG9vbGJhclxuICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgdmlld01lZGlhQ2xpZW50Q29uZmlnPXtwbHVnaW5TdGF0ZS5tZWRpYUNsaWVudENvbmZpZ31cbiAgICAgICAgaWQ9e3NlbGVjdGVkQ29udGFpbmVyLmZpcnN0Q2hpbGQhLmF0dHJzLmlkfVxuICAgICAgICBjb2xsZWN0aW9uPXtzZWxlY3RlZENvbnRhaW5lci5maXJzdENoaWxkIS5hdHRycy5jb2xsZWN0aW9ufVxuICAgICAgICB2aWV3PXt2aWV3fVxuICAgICAgICBpbnRsPXtpbnRsfVxuICAgICAgLz5cbiAgICApXG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFFQTtBQUtBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFRQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFVQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBbUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFyQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFLQTtBQUNBO0FBQUE7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBVUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBSUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBSUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/plugins/media/toolbar/annotation.tsx\n");

/***/ }),

/***/ "./src/plugins/media/toolbar/index.tsx":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"floatingToolbar\", function() { return floatingToolbar; });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/toConsumableArray.js\");\n/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var prosemirror_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./node_modules/prosemirror-utils/dist/index.js\");\n/* harmony import */ var prosemirror_utils__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(prosemirror_utils__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _atlaskit_icon_glyph_editor_remove__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./node_modules/@atlaskit/icon/glyph/editor/remove.js\");\n/* harmony import */ var _atlaskit_icon_glyph_editor_remove__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_atlaskit_icon_glyph_editor_remove__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _atlaskit_editor_core_messages__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/messages.ts\");\n/* harmony import */ var _pm_plugins_plugin_key__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./src/plugins/media/pm-plugins/plugin-key.ts\");\n/* harmony import */ var _atlaskit_editor_core_plugins_base_pm_plugins_decoration__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/plugins/base/pm-plugins/decoration.ts\");\n/* harmony import */ var _annotation__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./src/plugins/media/toolbar/annotation.tsx\");\n/* harmony import */ var _linking__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"./src/plugins/media/toolbar/linking.tsx\");\n/* harmony import */ var _atlaskit_editor_core_ui_MediaAndEmbedsToolbar__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/ui/MediaAndEmbedsToolbar/index.tsx\");\n/* harmony import */ var _pm_plugins_linking__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"./src/plugins/media/pm-plugins/linking/index.ts\");\n/* harmony import */ var _pm_plugins_alt_text__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"./src/plugins/media/pm-plugins/alt-text/index.ts\");\n/* harmony import */ var _alt_text__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"./src/plugins/media/toolbar/alt-text.tsx\");\n/* harmony import */ var _commands_linking__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(\"./src/plugins/media/commands/linking.ts\");\n/* harmony import */ var _linking_toolbar_appearance__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(\"./src/plugins/media/toolbar/linking-toolbar-appearance.tsx\");\n/* harmony import */ var _atlaskit_editor_core_plugins_analytics__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/plugins/analytics/index.ts\");\n\n\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar remove = function remove(state, dispatch) {\n  if (dispatch) {\n    dispatch(Object(prosemirror_utils__WEBPACK_IMPORTED_MODULE_3__[\"removeSelectedNode\"])(state.tr));\n  }\n  return true;\n};\nvar floatingToolbar = function floatingToolbar(state, intl) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var providerFactory = options.providerFactory,\n    allowResizing = options.allowResizing,\n    allowAnnotation = options.allowAnnotation,\n    allowLinking = options.allowLinking,\n    allowAdvancedToolBarOptions = options.allowAdvancedToolBarOptions,\n    allowResizingInTables = options.allowResizingInTables,\n    allowAltTextOnImages = options.allowAltTextOnImages,\n    altTextValidator = options.altTextValidator;\n  var mediaSingle = state.schema.nodes.mediaSingle;\n  var pluginState = _pm_plugins_plugin_key__WEBPACK_IMPORTED_MODULE_6__[\"stateKey\"].getState(state);\n  var mediaLinkingState = Object(_pm_plugins_linking__WEBPACK_IMPORTED_MODULE_11__[\"getMediaLinkingState\"])(state);\n  if (!mediaSingle || !pluginState) {\n    return;\n  }\n  var baseToolbar = {\n    title: 'Media floating controls',\n    nodeType: mediaSingle,\n    getDomRef: function getDomRef() {\n      return pluginState.element;\n    }\n  };\n  if (allowLinking && mediaLinkingState && mediaLinkingState.visible && Object(_linking__WEBPACK_IMPORTED_MODULE_9__[\"shouldShowMediaLinkToolbar\"])(state)) {\n    var linkingToolbar = Object(_linking__WEBPACK_IMPORTED_MODULE_9__[\"getLinkingToolbar\"])(baseToolbar, mediaLinkingState, state, intl, providerFactory);\n    if (linkingToolbar) {\n      return linkingToolbar;\n    }\n  }\n  var toolbarButtons = [];\n  if (allowAdvancedToolBarOptions) {\n    toolbarButtons = Object(_atlaskit_editor_core_ui_MediaAndEmbedsToolbar__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(state, intl, state.schema.nodes.mediaSingle, allowResizing, allowResizingInTables);\n    if (toolbarButtons.length) {\n      if (allowAnnotation) {\n        toolbarButtons.push({\n          type: 'custom',\n          render: Object(_annotation__WEBPACK_IMPORTED_MODULE_8__[\"renderAnnotationButton\"])(pluginState, intl)\n        });\n      }\n    }\n    if (allowLinking && Object(_linking__WEBPACK_IMPORTED_MODULE_9__[\"shouldShowMediaLinkToolbar\"])(state)) {\n      var showSeparatorLeft = toolbarButtons.length > 0;\n      toolbarButtons.push({\n        type: 'custom',\n        render: function render(editorView, idx) {\n          if (editorView !== null && editorView !== void 0 && editorView.state) {\n            var editLink = function editLink() {\n              if (editorView) {\n                var _state = editorView.state,\n                  dispatch = editorView.dispatch;\n                Object(_commands_linking__WEBPACK_IMPORTED_MODULE_14__[\"showLinkingToolbar\"])(_state, dispatch);\n              }\n            };\n            var openLink = function openLink() {\n              if (editorView) {\n                var _state2 = editorView.state,\n                  dispatch = editorView.dispatch;\n                dispatch(Object(_atlaskit_editor_core_plugins_analytics__WEBPACK_IMPORTED_MODULE_16__[\"addAnalytics\"])(_state2, _state2.tr, {\n                  eventType: _atlaskit_editor_core_plugins_analytics__WEBPACK_IMPORTED_MODULE_16__[\"EVENT_TYPE\"].TRACK,\n                  action: _atlaskit_editor_core_plugins_analytics__WEBPACK_IMPORTED_MODULE_16__[\"ACTION\"].VISITED,\n                  actionSubject: _atlaskit_editor_core_plugins_analytics__WEBPACK_IMPORTED_MODULE_16__[\"ACTION_SUBJECT\"].MEDIA,\n                  actionSubjectId: _atlaskit_editor_core_plugins_analytics__WEBPACK_IMPORTED_MODULE_16__[\"ACTION_SUBJECT_ID\"].LINK\n                }));\n                return true;\n              }\n            };\n            return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_linking_toolbar_appearance__WEBPACK_IMPORTED_MODULE_15__[\"LinkToolbarAppearance\"], {\n              key: idx,\n              editorState: editorView.state,\n              intl: intl,\n              mediaLinkingState: mediaLinkingState,\n              onAddLink: editLink,\n              onEditLink: editLink,\n              onOpenLink: openLink,\n              showSeparatorLeft: showSeparatorLeft\n            });\n          }\n          return null;\n        }\n      });\n    }\n    if (toolbarButtons.length) {\n      toolbarButtons.push({\n        type: 'separator'\n      });\n    }\n  }\n  if (allowAltTextOnImages) {\n    var mediaAltTextPluginState = Object(_pm_plugins_alt_text__WEBPACK_IMPORTED_MODULE_12__[\"getPluginState\"])(state);\n    if (mediaAltTextPluginState.isAltTextEditorOpen) {\n      return Object(_alt_text__WEBPACK_IMPORTED_MODULE_13__[\"getAltTextToolbar\"])(baseToolbar, {\n        altTextValidator: altTextValidator\n      });\n    } else {\n      toolbarButtons.push(Object(_alt_text__WEBPACK_IMPORTED_MODULE_13__[\"altTextButton\"])(intl, state), {\n        type: 'separator'\n      });\n    }\n  }\n  var items = [].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default()(toolbarButtons), [{\n    type: 'button',\n    appearance: 'danger',\n    icon: _atlaskit_icon_glyph_editor_remove__WEBPACK_IMPORTED_MODULE_4___default.a,\n    onMouseEnter: Object(_atlaskit_editor_core_plugins_base_pm_plugins_decoration__WEBPACK_IMPORTED_MODULE_7__[\"hoverDecoration\"])(mediaSingle, true),\n    onMouseLeave: Object(_atlaskit_editor_core_plugins_base_pm_plugins_decoration__WEBPACK_IMPORTED_MODULE_7__[\"hoverDecoration\"])(mediaSingle, false),\n    title: intl.formatMessage(_atlaskit_editor_core_messages__WEBPACK_IMPORTED_MODULE_5__[\"default\"].remove),\n    onClick: remove,\n    testId: 'media-toolbar-remove-button'\n  }]);\n  return _objectSpread(_objectSpread({}, baseToolbar), {}, {\n    items: items\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9tZWRpYS90b29sYmFyL2luZGV4LnRzeC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9wbHVnaW5zL21lZGlhL3Rvb2xiYXIvaW5kZXgudHN4P2RhMDEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgSW5qZWN0ZWRJbnRsIH0gZnJvbSAncmVhY3QtaW50bCdcbmltcG9ydCB7IEVkaXRvclN0YXRlIH0gZnJvbSAncHJvc2VtaXJyb3Itc3RhdGUnXG5pbXBvcnQgeyByZW1vdmVTZWxlY3RlZE5vZGUgfSBmcm9tICdwcm9zZW1pcnJvci11dGlscydcbmltcG9ydCBSZW1vdmVJY29uIGZyb20gJ0BhdGxhc2tpdC9pY29uL2dseXBoL2VkaXRvci9yZW1vdmUnXG5pbXBvcnQgY29tbW9uTWVzc2FnZXMgZnJvbSAnQGF0bGFza2l0L2VkaXRvci1jb3JlL21lc3NhZ2VzJ1xuaW1wb3J0IHsgQ29tbWFuZCB9IGZyb20gJ0BhdGxhc2tpdC9lZGl0b3ItY29yZS90eXBlcydcbmltcG9ydCB7XG4gIEZsb2F0aW5nVG9vbGJhckNvbmZpZyxcbiAgRmxvYXRpbmdUb29sYmFySXRlbVxufSBmcm9tICdAYXRsYXNraXQvZWRpdG9yLWNvcmUvcGx1Z2lucy9mbG9hdGluZy10b29sYmFyL3R5cGVzJ1xuaW1wb3J0IHsgc3RhdGVLZXkgfSBmcm9tICcuLi9wbS1wbHVnaW5zL3BsdWdpbi1rZXknXG5pbXBvcnQgeyBob3ZlckRlY29yYXRpb24gfSBmcm9tICdAYXRsYXNraXQvZWRpdG9yLWNvcmUvcGx1Z2lucy9iYXNlL3BtLXBsdWdpbnMvZGVjb3JhdGlvbidcbmltcG9ydCB7IHJlbmRlckFubm90YXRpb25CdXR0b24gfSBmcm9tICcuL2Fubm90YXRpb24nXG5pbXBvcnQgeyBnZXRMaW5raW5nVG9vbGJhciwgc2hvdWxkU2hvd01lZGlhTGlua1Rvb2xiYXIgfSBmcm9tICcuL2xpbmtpbmcnXG5pbXBvcnQgYnVpbGRMYXlvdXRCdXR0b25zIGZyb20gJ0BhdGxhc2tpdC9lZGl0b3ItY29yZS91aS9NZWRpYUFuZEVtYmVkc1Rvb2xiYXInXG5pbXBvcnQgeyBNZWRpYUxpbmtpbmdTdGF0ZSwgZ2V0TWVkaWFMaW5raW5nU3RhdGUgfSBmcm9tICcuLi9wbS1wbHVnaW5zL2xpbmtpbmcnXG5pbXBvcnQgeyBnZXRQbHVnaW5TdGF0ZSBhcyBnZXRNZWRpYUFsdFRleHRQbHVnaW5TdGF0ZSB9IGZyb20gJy4uL3BtLXBsdWdpbnMvYWx0LXRleHQnXG5pbXBvcnQgeyBhbHRUZXh0QnV0dG9uLCBnZXRBbHRUZXh0VG9vbGJhciB9IGZyb20gJy4vYWx0LXRleHQnXG5pbXBvcnQgeyBNZWRpYUZsb2F0aW5nVG9vbGJhck9wdGlvbnMgfSBmcm9tICcuLi90eXBlcydcbmltcG9ydCB7IE1lZGlhUGx1Z2luU3RhdGUgfSBmcm9tICcuLi9wbS1wbHVnaW5zL3R5cGVzJ1xuaW1wb3J0IHsgc2hvd0xpbmtpbmdUb29sYmFyIH0gZnJvbSAnLi4vY29tbWFuZHMvbGlua2luZydcbmltcG9ydCB7IExpbmtUb29sYmFyQXBwZWFyYW5jZSB9IGZyb20gJy4vbGlua2luZy10b29sYmFyLWFwcGVhcmFuY2UnXG5pbXBvcnQge1xuICBBQ1RJT04sXG4gIEFDVElPTl9TVUJKRUNULFxuICBBQ1RJT05fU1VCSkVDVF9JRCxcbiAgYWRkQW5hbHl0aWNzLFxuICBFVkVOVF9UWVBFXG59IGZyb20gJ0BhdGxhc2tpdC9lZGl0b3ItY29yZS9wbHVnaW5zL2FuYWx5dGljcydcblxuY29uc3QgcmVtb3ZlOiBDb21tYW5kID0gKHN0YXRlLCBkaXNwYXRjaCkgPT4ge1xuICBpZiAoZGlzcGF0Y2gpIHtcbiAgICBkaXNwYXRjaChyZW1vdmVTZWxlY3RlZE5vZGUoc3RhdGUudHIpKVxuICB9XG4gIHJldHVybiB0cnVlXG59XG5cbmV4cG9ydCBjb25zdCBmbG9hdGluZ1Rvb2xiYXIgPSAoXG4gIHN0YXRlOiBFZGl0b3JTdGF0ZSxcbiAgaW50bDogSW5qZWN0ZWRJbnRsLFxuICBvcHRpb25zOiBNZWRpYUZsb2F0aW5nVG9vbGJhck9wdGlvbnMgPSB7fVxuKTogRmxvYXRpbmdUb29sYmFyQ29uZmlnIHwgdW5kZWZpbmVkID0+IHtcbiAgY29uc3Qge1xuICAgIHByb3ZpZGVyRmFjdG9yeSxcbiAgICBhbGxvd1Jlc2l6aW5nLFxuICAgIGFsbG93QW5ub3RhdGlvbixcbiAgICBhbGxvd0xpbmtpbmcsXG4gICAgYWxsb3dBZHZhbmNlZFRvb2xCYXJPcHRpb25zLFxuICAgIGFsbG93UmVzaXppbmdJblRhYmxlcyxcbiAgICBhbGxvd0FsdFRleHRPbkltYWdlcyxcbiAgICBhbHRUZXh0VmFsaWRhdG9yXG4gIH0gPSBvcHRpb25zXG4gIGNvbnN0IHsgbWVkaWFTaW5nbGUgfSA9IHN0YXRlLnNjaGVtYS5ub2Rlc1xuICBjb25zdCBwbHVnaW5TdGF0ZTogTWVkaWFQbHVnaW5TdGF0ZSB8IHVuZGVmaW5lZCA9IHN0YXRlS2V5LmdldFN0YXRlKHN0YXRlKVxuICBjb25zdCBtZWRpYUxpbmtpbmdTdGF0ZTogTWVkaWFMaW5raW5nU3RhdGUgPSBnZXRNZWRpYUxpbmtpbmdTdGF0ZShzdGF0ZSlcblxuICBpZiAoIW1lZGlhU2luZ2xlIHx8ICFwbHVnaW5TdGF0ZSkge1xuICAgIHJldHVyblxuICB9XG4gIGNvbnN0IGJhc2VUb29sYmFyID0ge1xuICAgIHRpdGxlOiAnTWVkaWEgZmxvYXRpbmcgY29udHJvbHMnLFxuICAgIG5vZGVUeXBlOiBtZWRpYVNpbmdsZSxcbiAgICBnZXREb21SZWY6ICgpID0+IHBsdWdpblN0YXRlLmVsZW1lbnRcbiAgfVxuXG4gIGlmIChcbiAgICBhbGxvd0xpbmtpbmcgJiZcbiAgICBtZWRpYUxpbmtpbmdTdGF0ZSAmJlxuICAgIG1lZGlhTGlua2luZ1N0YXRlLnZpc2libGUgJiZcbiAgICBzaG91bGRTaG93TWVkaWFMaW5rVG9vbGJhcihzdGF0ZSlcbiAgKSB7XG4gICAgY29uc3QgbGlua2luZ1Rvb2xiYXIgPSBnZXRMaW5raW5nVG9vbGJhcihcbiAgICAgIGJhc2VUb29sYmFyLFxuICAgICAgbWVkaWFMaW5raW5nU3RhdGUsXG4gICAgICBzdGF0ZSxcbiAgICAgIGludGwsXG4gICAgICBwcm92aWRlckZhY3RvcnlcbiAgICApXG4gICAgaWYgKGxpbmtpbmdUb29sYmFyKSB7XG4gICAgICByZXR1cm4gbGlua2luZ1Rvb2xiYXJcbiAgICB9XG4gIH1cblxuICBsZXQgdG9vbGJhckJ1dHRvbnM6IEZsb2F0aW5nVG9vbGJhckl0ZW08Q29tbWFuZD5bXSA9IFtdXG4gIGlmIChhbGxvd0FkdmFuY2VkVG9vbEJhck9wdGlvbnMpIHtcbiAgICB0b29sYmFyQnV0dG9ucyA9IGJ1aWxkTGF5b3V0QnV0dG9ucyhcbiAgICAgIHN0YXRlLFxuICAgICAgaW50bCxcbiAgICAgIHN0YXRlLnNjaGVtYS5ub2Rlcy5tZWRpYVNpbmdsZSxcbiAgICAgIGFsbG93UmVzaXppbmcsXG4gICAgICBhbGxvd1Jlc2l6aW5nSW5UYWJsZXNcbiAgICApXG4gICAgaWYgKHRvb2xiYXJCdXR0b25zLmxlbmd0aCkge1xuICAgICAgaWYgKGFsbG93QW5ub3RhdGlvbikge1xuICAgICAgICB0b29sYmFyQnV0dG9ucy5wdXNoKHtcbiAgICAgICAgICB0eXBlOiAnY3VzdG9tJyxcbiAgICAgICAgICByZW5kZXI6IHJlbmRlckFubm90YXRpb25CdXR0b24ocGx1Z2luU3RhdGUsIGludGwpXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGFsbG93TGlua2luZyAmJiBzaG91bGRTaG93TWVkaWFMaW5rVG9vbGJhcihzdGF0ZSkpIHtcbiAgICAgIGNvbnN0IHNob3dTZXBhcmF0b3JMZWZ0ID0gdG9vbGJhckJ1dHRvbnMubGVuZ3RoID4gMFxuXG4gICAgICB0b29sYmFyQnV0dG9ucy5wdXNoKHtcbiAgICAgICAgdHlwZTogJ2N1c3RvbScsXG4gICAgICAgIHJlbmRlcjogKGVkaXRvclZpZXcsIGlkeCkgPT4ge1xuICAgICAgICAgIGlmIChlZGl0b3JWaWV3Py5zdGF0ZSkge1xuICAgICAgICAgICAgY29uc3QgZWRpdExpbmsgPSAoKSA9PiB7XG4gICAgICAgICAgICAgIGlmIChlZGl0b3JWaWV3KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBzdGF0ZSwgZGlzcGF0Y2ggfSA9IGVkaXRvclZpZXdcbiAgICAgICAgICAgICAgICBzaG93TGlua2luZ1Rvb2xiYXIoc3RhdGUsIGRpc3BhdGNoKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IG9wZW5MaW5rID0gKCkgPT4ge1xuICAgICAgICAgICAgICBpZiAoZWRpdG9yVmlldykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgc3RhdGUsIGRpc3BhdGNoIH0gPSBlZGl0b3JWaWV3XG4gICAgICAgICAgICAgICAgZGlzcGF0Y2goXG4gICAgICAgICAgICAgICAgICBhZGRBbmFseXRpY3Moc3RhdGUsIHN0YXRlLnRyLCB7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50VHlwZTogRVZFTlRfVFlQRS5UUkFDSyxcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBBQ1RJT04uVklTSVRFRCxcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uU3ViamVjdDogQUNUSU9OX1NVQkpFQ1QuTUVESUEsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvblN1YmplY3RJZDogQUNUSU9OX1NVQkpFQ1RfSUQuTElOS1xuICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8TGlua1Rvb2xiYXJBcHBlYXJhbmNlXG4gICAgICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICAgICAgZWRpdG9yU3RhdGU9e2VkaXRvclZpZXcuc3RhdGV9XG4gICAgICAgICAgICAgICAgaW50bD17aW50bH1cbiAgICAgICAgICAgICAgICBtZWRpYUxpbmtpbmdTdGF0ZT17bWVkaWFMaW5raW5nU3RhdGV9XG4gICAgICAgICAgICAgICAgb25BZGRMaW5rPXtlZGl0TGlua31cbiAgICAgICAgICAgICAgICBvbkVkaXRMaW5rPXtlZGl0TGlua31cbiAgICAgICAgICAgICAgICBvbk9wZW5MaW5rPXtvcGVuTGlua31cbiAgICAgICAgICAgICAgICBzaG93U2VwYXJhdG9yTGVmdD17c2hvd1NlcGFyYXRvckxlZnR9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApXG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuXG4gICAgaWYgKHRvb2xiYXJCdXR0b25zLmxlbmd0aCkge1xuICAgICAgdG9vbGJhckJ1dHRvbnMucHVzaCh7IHR5cGU6ICdzZXBhcmF0b3InIH0pXG4gICAgfVxuICB9XG5cbiAgaWYgKGFsbG93QWx0VGV4dE9uSW1hZ2VzKSB7XG4gICAgY29uc3QgbWVkaWFBbHRUZXh0UGx1Z2luU3RhdGUgPSBnZXRNZWRpYUFsdFRleHRQbHVnaW5TdGF0ZShzdGF0ZSlcbiAgICBpZiAobWVkaWFBbHRUZXh0UGx1Z2luU3RhdGUuaXNBbHRUZXh0RWRpdG9yT3Blbikge1xuICAgICAgcmV0dXJuIGdldEFsdFRleHRUb29sYmFyKGJhc2VUb29sYmFyLCB7XG4gICAgICAgIGFsdFRleHRWYWxpZGF0b3JcbiAgICAgIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgIHRvb2xiYXJCdXR0b25zLnB1c2goYWx0VGV4dEJ1dHRvbihpbnRsLCBzdGF0ZSksIHsgdHlwZTogJ3NlcGFyYXRvcicgfSlcbiAgICB9XG4gIH1cblxuICBjb25zdCBpdGVtczogQXJyYXk8RmxvYXRpbmdUb29sYmFySXRlbTxDb21tYW5kPj4gPSBbXG4gICAgLi4udG9vbGJhckJ1dHRvbnMsXG4gICAge1xuICAgICAgdHlwZTogJ2J1dHRvbicsXG4gICAgICBhcHBlYXJhbmNlOiAnZGFuZ2VyJyxcbiAgICAgIGljb246IFJlbW92ZUljb24sXG4gICAgICBvbk1vdXNlRW50ZXI6IGhvdmVyRGVjb3JhdGlvbihtZWRpYVNpbmdsZSwgdHJ1ZSksXG4gICAgICBvbk1vdXNlTGVhdmU6IGhvdmVyRGVjb3JhdGlvbihtZWRpYVNpbmdsZSwgZmFsc2UpLFxuICAgICAgdGl0bGU6IGludGwuZm9ybWF0TWVzc2FnZShjb21tb25NZXNzYWdlcy5yZW1vdmUpLFxuICAgICAgb25DbGljazogcmVtb3ZlLFxuICAgICAgdGVzdElkOiAnbWVkaWEtdG9vbGJhci1yZW1vdmUtYnV0dG9uJ1xuICAgIH1cbiAgXVxuXG4gIHJldHVybiB7XG4gICAgLi4uYmFzZVRvb2xiYXIsXG4gICAgaXRlbXNcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFJQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBTUE7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBQUE7QUFFQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/plugins/media/toolbar/index.tsx\n");

/***/ }),

/***/ "./src/plugins/media/toolbar/linking-toolbar-appearance.tsx":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LinkToolbarAppearance\", function() { return LinkToolbarAppearance; });\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/slicedToArray.js\");\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js\");\n/* harmony import */ var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./node_modules/styled-components/dist/styled-components.browser.esm.js\");\n/* harmony import */ var _atlaskit_icon_glyph_editor_link__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./node_modules/@atlaskit/icon/glyph/editor/link.js\");\n/* harmony import */ var _atlaskit_icon_glyph_editor_link__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_atlaskit_icon_glyph_editor_link__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _atlaskit_icon_glyph_shortcut__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./node_modules/@atlaskit/icon/glyph/shortcut.js\");\n/* harmony import */ var _atlaskit_icon_glyph_shortcut__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_atlaskit_icon_glyph_shortcut__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _atlaskit_adf_schema__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./node_modules/@atlaskit/editor-common/node_modules/@atlaskit/adf-schema/dist/esm/index.js\");\n/* harmony import */ var _utils_check_media_type__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./src/plugins/media/utils/check-media-type.ts\");\n/* harmony import */ var _atlaskit_editor_core_plugins_floating_toolbar_ui_Button__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/plugins/floating-toolbar/ui/Button.tsx\");\n/* harmony import */ var _atlaskit_editor_core_plugins_floating_toolbar_ui_Separator__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/plugins/floating-toolbar/ui/Separator.tsx\");\n/* harmony import */ var _atlaskit_editor_core_messages__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/messages.ts\");\n/* harmony import */ var _atlaskit_editor_core_keymaps__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/keymaps/index.tsx\");\n/* harmony import */ var _pm_plugins_plugin_key__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"./src/plugins/media/pm-plugins/plugin-key.ts\");\n/* harmony import */ var _utils_current_media_node__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"./src/plugins/media/utils/current-media-node.ts\");\n\n\nvar _templateObject;\n\n\n\n\n\n\n\n\n\n\n\n\n// need this wrapper, need to have 4px between items.\nvar Wrapper = styled_components__WEBPACK_IMPORTED_MODULE_3__[\"default\"].div(_templateObject || (_templateObject = _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_1___default()([\"\\n  display: flex;\\n  align-items: center;\\n  margin-right: 4px;\\n\"])));\nvar LinkToolbarAppearance = function LinkToolbarAppearance(_ref) {\n  var editorState = _ref.editorState,\n    mediaLinkingState = _ref.mediaLinkingState,\n    intl = _ref.intl,\n    showSeparatorLeft = _ref.showSeparatorLeft,\n    onAddLink = _ref.onAddLink,\n    onEditLink = _ref.onEditLink,\n    onOpenLink = _ref.onOpenLink;\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useState\"])(false),\n    _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState, 2),\n    showLinkingControls = _useState2[0],\n    setShowLinkingControls = _useState2[1];\n  Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useEffect\"])(function () {\n    var _stateKey$getState;\n    setShowLinkingControls(false);\n    var mediaNode = Object(_utils_current_media_node__WEBPACK_IMPORTED_MODULE_13__[\"currentMediaNode\"])(editorState);\n    if (!mediaNode) {\n      return;\n    }\n    var mediaClientConfig = (_stateKey$getState = _pm_plugins_plugin_key__WEBPACK_IMPORTED_MODULE_12__[\"stateKey\"].getState(editorState)) === null || _stateKey$getState === void 0 ? void 0 : _stateKey$getState.mediaClientConfig;\n    if (!mediaClientConfig) {\n      return;\n    }\n    Object(_utils_check_media_type__WEBPACK_IMPORTED_MODULE_7__[\"checkMediaType\"])(mediaNode, mediaClientConfig).then(function (mediaType) {\n      if (mediaType === 'external' || mediaType === 'image') {\n        setShowLinkingControls(true);\n      }\n    });\n  }, [editorState]);\n  if (!showLinkingControls) {\n    return null;\n  }\n  if (mediaLinkingState && mediaLinkingState.editable) {\n    var isValidUrl = Object(_atlaskit_adf_schema__WEBPACK_IMPORTED_MODULE_6__[\"isSafeUrl\"])(mediaLinkingState.link);\n    var title = intl.formatMessage(_atlaskit_editor_core_messages__WEBPACK_IMPORTED_MODULE_10__[\"linkToolbarMessages\"].editLink);\n    var linkTitle = intl.formatMessage(isValidUrl ? _atlaskit_editor_core_messages__WEBPACK_IMPORTED_MODULE_10__[\"linkMessages\"].openLink : _atlaskit_editor_core_messages__WEBPACK_IMPORTED_MODULE_10__[\"linkToolbarMessages\"].unableToOpenLink);\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment, null, showSeparatorLeft && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Wrapper, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_atlaskit_editor_core_plugins_floating_toolbar_ui_Separator__WEBPACK_IMPORTED_MODULE_9__[\"default\"], null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Wrapper, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_atlaskit_editor_core_plugins_floating_toolbar_ui_Button__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n      onClick: onEditLink,\n      title: title,\n      tooltipContent: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_atlaskit_editor_core_keymaps__WEBPACK_IMPORTED_MODULE_11__[\"ToolTipContent\"], {\n        description: title,\n        keymap: _atlaskit_editor_core_keymaps__WEBPACK_IMPORTED_MODULE_11__[\"addLink\"]\n      })\n    }, title)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Wrapper, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_atlaskit_editor_core_plugins_floating_toolbar_ui_Separator__WEBPACK_IMPORTED_MODULE_9__[\"default\"], null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_atlaskit_editor_core_plugins_floating_toolbar_ui_Button__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n      target: \"_blank\",\n      href: isValidUrl ? mediaLinkingState.link : undefined,\n      disabled: !isValidUrl,\n      onClick: onOpenLink,\n      title: linkTitle,\n      icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_atlaskit_icon_glyph_shortcut__WEBPACK_IMPORTED_MODULE_5___default.a, {\n        label: linkTitle\n      }),\n      className: \"hyperlink-open-link\"\n    }));\n  } else {\n    var _title = intl.formatMessage(_atlaskit_editor_core_messages__WEBPACK_IMPORTED_MODULE_10__[\"linkToolbarMessages\"].addLink);\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment, null, showSeparatorLeft && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Wrapper, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_atlaskit_editor_core_plugins_floating_toolbar_ui_Separator__WEBPACK_IMPORTED_MODULE_9__[\"default\"], null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_atlaskit_editor_core_plugins_floating_toolbar_ui_Button__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n      testId: \"add-link-button\",\n      onClick: onAddLink,\n      title: _title,\n      tooltipContent: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_atlaskit_editor_core_keymaps__WEBPACK_IMPORTED_MODULE_11__[\"ToolTipContent\"], {\n        description: _title,\n        keymap: _atlaskit_editor_core_keymaps__WEBPACK_IMPORTED_MODULE_11__[\"addLink\"]\n      }),\n      icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_atlaskit_icon_glyph_editor_link__WEBPACK_IMPORTED_MODULE_4___default.a, {\n        label: _title\n      })\n    }));\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9tZWRpYS90b29sYmFyL2xpbmtpbmctdG9vbGJhci1hcHBlYXJhbmNlLnRzeC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9wbHVnaW5zL21lZGlhL3Rvb2xiYXIvbGlua2luZy10b29sYmFyLWFwcGVhcmFuY2UudHN4PzdhN2MiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IEluamVjdGVkSW50bCB9IGZyb20gJ3JlYWN0LWludGwnXG5pbXBvcnQgeyBFZGl0b3JTdGF0ZSB9IGZyb20gJ3Byb3NlbWlycm9yLXN0YXRlJ1xuaW1wb3J0IHN0eWxlZCBmcm9tICdzdHlsZWQtY29tcG9uZW50cydcblxuaW1wb3J0IExpbmtJY29uIGZyb20gJ0BhdGxhc2tpdC9pY29uL2dseXBoL2VkaXRvci9saW5rJ1xuaW1wb3J0IE9wZW5JY29uIGZyb20gJ0BhdGxhc2tpdC9pY29uL2dseXBoL3Nob3J0Y3V0J1xuaW1wb3J0IHsgaXNTYWZlVXJsIH0gZnJvbSAnQGF0bGFza2l0L2FkZi1zY2hlbWEnXG5cbmltcG9ydCB7IGNoZWNrTWVkaWFUeXBlIH0gZnJvbSAnLi4vdXRpbHMvY2hlY2stbWVkaWEtdHlwZSdcbmltcG9ydCB7IE1lZGlhTGlua2luZ1N0YXRlIH0gZnJvbSAnLi4vcG0tcGx1Z2lucy9saW5raW5nJ1xuXG5pbXBvcnQgVG9vbGJhckJ1dHRvbiBmcm9tICdAYXRsYXNraXQvZWRpdG9yLWNvcmUvcGx1Z2lucy9mbG9hdGluZy10b29sYmFyL3VpL0J1dHRvbidcbmltcG9ydCBTZXBhcmF0b3IgZnJvbSAnQGF0bGFza2l0L2VkaXRvci1jb3JlL3BsdWdpbnMvZmxvYXRpbmctdG9vbGJhci91aS9TZXBhcmF0b3InXG5cbmltcG9ydCB7XG4gIGxpbmtUb29sYmFyTWVzc2FnZXMsXG4gIGxpbmtNZXNzYWdlc1xufSBmcm9tICdAYXRsYXNraXQvZWRpdG9yLWNvcmUvbWVzc2FnZXMnXG5pbXBvcnQgeyBUb29sVGlwQ29udGVudCwgYWRkTGluayB9IGZyb20gJ0BhdGxhc2tpdC9lZGl0b3ItY29yZS9rZXltYXBzJ1xuaW1wb3J0IHsgc3RhdGVLZXkgfSBmcm9tICcuLi9wbS1wbHVnaW5zL3BsdWdpbi1rZXknXG5pbXBvcnQgeyBNZWRpYUNsaWVudENvbmZpZyB9IGZyb20gJ0BhdGxhc2tpdC9tZWRpYS1jb3JlJ1xuaW1wb3J0IHsgY3VycmVudE1lZGlhTm9kZSB9IGZyb20gJy4uL3V0aWxzL2N1cnJlbnQtbWVkaWEtbm9kZSdcblxuZXhwb3J0IGludGVyZmFjZSBMaW5raW5nVG9vbGJhclByb3BzIHtcbiAgZWRpdG9yU3RhdGU6IEVkaXRvclN0YXRlXG4gIGludGw6IEluamVjdGVkSW50bFxuICBtZWRpYUxpbmtpbmdTdGF0ZTogTWVkaWFMaW5raW5nU3RhdGVcbiAgb25BZGRMaW5rOiBSZWFjdC5Nb3VzZUV2ZW50SGFuZGxlclxuICBvbkVkaXRMaW5rOiBSZWFjdC5Nb3VzZUV2ZW50SGFuZGxlclxuICBvbk9wZW5MaW5rOiBSZWFjdC5Nb3VzZUV2ZW50SGFuZGxlclxuICBzaG93U2VwYXJhdG9yTGVmdDogYm9vbGVhblxufVxuXG4vLyBuZWVkIHRoaXMgd3JhcHBlciwgbmVlZCB0byBoYXZlIDRweCBiZXR3ZWVuIGl0ZW1zLlxuY29uc3QgV3JhcHBlciA9IHN0eWxlZC5kaXZgXG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIG1hcmdpbi1yaWdodDogNHB4O1xuYFxuXG5leHBvcnQgY29uc3QgTGlua1Rvb2xiYXJBcHBlYXJhbmNlOiBSZWFjdC5GQzxMaW5raW5nVG9vbGJhclByb3BzPiA9ICh7XG4gIGVkaXRvclN0YXRlLFxuICBtZWRpYUxpbmtpbmdTdGF0ZSxcbiAgaW50bCxcbiAgc2hvd1NlcGFyYXRvckxlZnQsXG4gIG9uQWRkTGluayxcbiAgb25FZGl0TGluayxcbiAgb25PcGVuTGlua1xufSkgPT4ge1xuICBjb25zdCBbc2hvd0xpbmtpbmdDb250cm9scywgc2V0U2hvd0xpbmtpbmdDb250cm9sc10gPSB1c2VTdGF0ZShmYWxzZSlcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldFNob3dMaW5raW5nQ29udHJvbHMoZmFsc2UpXG4gICAgY29uc3QgbWVkaWFOb2RlID0gY3VycmVudE1lZGlhTm9kZShlZGl0b3JTdGF0ZSlcbiAgICBpZiAoIW1lZGlhTm9kZSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgY29uc3QgbWVkaWFDbGllbnRDb25maWc6IE1lZGlhQ2xpZW50Q29uZmlnID0gc3RhdGVLZXkuZ2V0U3RhdGUoZWRpdG9yU3RhdGUpXG4gICAgICA/Lm1lZGlhQ2xpZW50Q29uZmlnXG5cbiAgICBpZiAoIW1lZGlhQ2xpZW50Q29uZmlnKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBjaGVja01lZGlhVHlwZShtZWRpYU5vZGUsIG1lZGlhQ2xpZW50Q29uZmlnKS50aGVuKG1lZGlhVHlwZSA9PiB7XG4gICAgICBpZiAobWVkaWFUeXBlID09PSAnZXh0ZXJuYWwnIHx8IG1lZGlhVHlwZSA9PT0gJ2ltYWdlJykge1xuICAgICAgICBzZXRTaG93TGlua2luZ0NvbnRyb2xzKHRydWUpXG4gICAgICB9XG4gICAgfSlcbiAgfSwgW2VkaXRvclN0YXRlXSlcblxuICBpZiAoIXNob3dMaW5raW5nQ29udHJvbHMpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgaWYgKG1lZGlhTGlua2luZ1N0YXRlICYmIG1lZGlhTGlua2luZ1N0YXRlLmVkaXRhYmxlKSB7XG4gICAgY29uc3QgaXNWYWxpZFVybCA9IGlzU2FmZVVybChtZWRpYUxpbmtpbmdTdGF0ZS5saW5rKVxuICAgIGNvbnN0IHRpdGxlID0gaW50bC5mb3JtYXRNZXNzYWdlKGxpbmtUb29sYmFyTWVzc2FnZXMuZWRpdExpbmspXG4gICAgY29uc3QgbGlua1RpdGxlID0gaW50bC5mb3JtYXRNZXNzYWdlKFxuICAgICAgaXNWYWxpZFVybCA/IGxpbmtNZXNzYWdlcy5vcGVuTGluayA6IGxpbmtUb29sYmFyTWVzc2FnZXMudW5hYmxlVG9PcGVuTGlua1xuICAgIClcblxuICAgIHJldHVybiAoXG4gICAgICA8PlxuICAgICAgICB7c2hvd1NlcGFyYXRvckxlZnQgJiYgKFxuICAgICAgICAgIDxXcmFwcGVyPlxuICAgICAgICAgICAgPFNlcGFyYXRvciAvPlxuICAgICAgICAgIDwvV3JhcHBlcj5cbiAgICAgICAgKX1cbiAgICAgICAgPFdyYXBwZXI+XG4gICAgICAgICAgPFRvb2xiYXJCdXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9e29uRWRpdExpbmt9XG4gICAgICAgICAgICB0aXRsZT17dGl0bGV9XG4gICAgICAgICAgICB0b29sdGlwQ29udGVudD17XG4gICAgICAgICAgICAgIDxUb29sVGlwQ29udGVudCBkZXNjcmlwdGlvbj17dGl0bGV9IGtleW1hcD17YWRkTGlua30gLz5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7dGl0bGV9XG4gICAgICAgICAgPC9Ub29sYmFyQnV0dG9uPlxuICAgICAgICA8L1dyYXBwZXI+XG4gICAgICAgIDxXcmFwcGVyPlxuICAgICAgICAgIDxTZXBhcmF0b3IgLz5cbiAgICAgICAgPC9XcmFwcGVyPlxuICAgICAgICA8VG9vbGJhckJ1dHRvblxuICAgICAgICAgIHRhcmdldD1cIl9ibGFua1wiXG4gICAgICAgICAgaHJlZj17aXNWYWxpZFVybCA/IG1lZGlhTGlua2luZ1N0YXRlLmxpbmsgOiB1bmRlZmluZWR9XG4gICAgICAgICAgZGlzYWJsZWQ9eyFpc1ZhbGlkVXJsfVxuICAgICAgICAgIG9uQ2xpY2s9e29uT3Blbkxpbmt9XG4gICAgICAgICAgdGl0bGU9e2xpbmtUaXRsZX1cbiAgICAgICAgICBpY29uPXs8T3Blbkljb24gbGFiZWw9e2xpbmtUaXRsZX0+PC9PcGVuSWNvbj59XG4gICAgICAgICAgY2xhc3NOYW1lPVwiaHlwZXJsaW5rLW9wZW4tbGlua1wiXG4gICAgICAgIC8+XG4gICAgICA8Lz5cbiAgICApXG4gIH0gZWxzZSB7XG4gICAgY29uc3QgdGl0bGUgPSBpbnRsLmZvcm1hdE1lc3NhZ2UobGlua1Rvb2xiYXJNZXNzYWdlcy5hZGRMaW5rKVxuICAgIHJldHVybiAoXG4gICAgICA8PlxuICAgICAgICB7c2hvd1NlcGFyYXRvckxlZnQgJiYgKFxuICAgICAgICAgIDxXcmFwcGVyPlxuICAgICAgICAgICAgPFNlcGFyYXRvciAvPlxuICAgICAgICAgIDwvV3JhcHBlcj5cbiAgICAgICAgKX1cbiAgICAgICAgPFRvb2xiYXJCdXR0b25cbiAgICAgICAgICB0ZXN0SWQ9XCJhZGQtbGluay1idXR0b25cIlxuICAgICAgICAgIG9uQ2xpY2s9e29uQWRkTGlua31cbiAgICAgICAgICB0aXRsZT17dGl0bGV9XG4gICAgICAgICAgdG9vbHRpcENvbnRlbnQ9e1xuICAgICAgICAgICAgPFRvb2xUaXBDb250ZW50IGRlc2NyaXB0aW9uPXt0aXRsZX0ga2V5bWFwPXthZGRMaW5rfSAvPlxuICAgICAgICAgIH1cbiAgICAgICAgICBpY29uPXs8TGlua0ljb24gbGFiZWw9e3RpdGxlfSAvPn1cbiAgICAgICAgLz5cbiAgICAgIDwvPlxuICAgIClcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBRUE7QUFJQTtBQUNBO0FBRUE7QUFZQTtBQUNBO0FBTUE7QUFRQTtBQU5BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBSUE7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUlBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/plugins/media/toolbar/linking-toolbar-appearance.tsx\n");

/***/ }),

/***/ "./src/plugins/media/toolbar/linking.tsx":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"shouldShowMediaLinkToolbar\", function() { return shouldShowMediaLinkToolbar; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getLinkingToolbar\", function() { return getLinkingToolbar; });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _commands_linking__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./src/plugins/media/commands/linking.ts\");\n/* harmony import */ var _pm_plugins_linking__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./src/plugins/media/pm-plugins/linking/index.ts\");\n/* harmony import */ var _ui_MediaLinkingToolbar__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./src/plugins/media/ui/MediaLinkingToolbar.tsx\");\n/* harmony import */ var _atlaskit_editor_core_ui_LinkSearch_ToolbarComponents__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/ui/LinkSearch/ToolbarComponents.tsx\");\n\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n\n\n\n\n\nfunction shouldShowMediaLinkToolbar(editorState) {\n  var mediaLinkingState = Object(_pm_plugins_linking__WEBPACK_IMPORTED_MODULE_3__[\"getMediaLinkingState\"])(editorState);\n  if (!mediaLinkingState || mediaLinkingState.mediaPos === null) {\n    return false;\n  }\n  var _editorState$schema = editorState.schema,\n    media = _editorState$schema.nodes.media,\n    link = _editorState$schema.marks.link;\n  var node = editorState.doc.nodeAt(mediaLinkingState.mediaPos);\n  if (!node || node.type !== media) {\n    return false;\n  }\n  var _editorState$doc$reso = editorState.doc.resolve(mediaLinkingState.mediaPos),\n    parent = _editorState$doc$reso.parent;\n  return parent && parent.type.allowsMarkType(link);\n}\nvar getLinkingToolbar = function getLinkingToolbar(toolbarBaseConfig, mediaLinkingState, state, intl, providerFactory) {\n  var link = mediaLinkingState.link,\n    visible = mediaLinkingState.visible,\n    editing = mediaLinkingState.editable,\n    mediaPos = mediaLinkingState.mediaPos;\n  if (visible && mediaPos !== null) {\n    var node = state.doc.nodeAt(mediaPos);\n    if (node) {\n      return _objectSpread(_objectSpread({}, toolbarBaseConfig), {}, {\n        height: _atlaskit_editor_core_ui_LinkSearch_ToolbarComponents__WEBPACK_IMPORTED_MODULE_5__[\"RECENT_SEARCH_HEIGHT_IN_PX\"],\n        width: _atlaskit_editor_core_ui_LinkSearch_ToolbarComponents__WEBPACK_IMPORTED_MODULE_5__[\"RECENT_SEARCH_WIDTH_IN_PX\"],\n        forcePlacement: true,\n        items: [{\n          type: 'custom',\n          render: function render(view, idx) {\n            if (!view || !providerFactory) {\n              return null;\n            }\n            return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_ui_MediaLinkingToolbar__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n              key: idx,\n              displayUrl: link,\n              providerFactory: providerFactory,\n              intl: intl,\n              editing: editing,\n              onUnlink: function onUnlink() {\n                return Object(_commands_linking__WEBPACK_IMPORTED_MODULE_2__[\"unlink\"])(view.state, view.dispatch, view);\n              },\n              onBack: function onBack(href, meta) {\n                if (href.trim() && meta.inputMethod) {\n                  Object(_commands_linking__WEBPACK_IMPORTED_MODULE_2__[\"setUrlToMedia\"])(href, meta.inputMethod)(view.state, view.dispatch, view);\n                }\n                Object(_commands_linking__WEBPACK_IMPORTED_MODULE_2__[\"hideLinkingToolbar\"])(view.state, view.dispatch, view);\n              },\n              onCancel: function onCancel() {\n                return Object(_commands_linking__WEBPACK_IMPORTED_MODULE_2__[\"hideLinkingToolbar\"])(view.state, view.dispatch, view);\n              },\n              onSubmit: function onSubmit(href, meta) {\n                Object(_commands_linking__WEBPACK_IMPORTED_MODULE_2__[\"setUrlToMedia\"])(href, meta.inputMethod)(view.state, view.dispatch, view);\n                Object(_commands_linking__WEBPACK_IMPORTED_MODULE_2__[\"hideLinkingToolbar\"])(view.state, view.dispatch, view);\n              },\n              onBlur: function onBlur() {\n                Object(_commands_linking__WEBPACK_IMPORTED_MODULE_2__[\"hideLinkingToolbar\"])(view.state, view.dispatch, view);\n              }\n            });\n          }\n        }]\n      });\n    }\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9tZWRpYS90b29sYmFyL2xpbmtpbmcudHN4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbnMvbWVkaWEvdG9vbGJhci9saW5raW5nLnRzeD9iNDU3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCB7IEVkaXRvclN0YXRlIH0gZnJvbSAncHJvc2VtaXJyb3Itc3RhdGUnXG5pbXBvcnQgeyBJbmplY3RlZEludGwgfSBmcm9tICdyZWFjdC1pbnRsJ1xuaW1wb3J0IHsgUHJvdmlkZXJGYWN0b3J5IH0gZnJvbSAnQGF0bGFza2l0L2VkaXRvci1jb21tb24nXG5cbmltcG9ydCB7IEZsb2F0aW5nVG9vbGJhckNvbmZpZyB9IGZyb20gJ0BhdGxhc2tpdC9lZGl0b3ItY29yZS9wbHVnaW5zL2Zsb2F0aW5nLXRvb2xiYXIvdHlwZXMnXG5pbXBvcnQgeyBoaWRlTGlua2luZ1Rvb2xiYXIsIHNldFVybFRvTWVkaWEsIHVubGluayB9IGZyb20gJy4uL2NvbW1hbmRzL2xpbmtpbmcnXG5pbXBvcnQgeyBnZXRNZWRpYUxpbmtpbmdTdGF0ZSwgTWVkaWFMaW5raW5nU3RhdGUgfSBmcm9tICcuLi9wbS1wbHVnaW5zL2xpbmtpbmcnXG5cbmltcG9ydCBNZWRpYUxpbmtpbmdUb29sYmFyIGZyb20gJy4uL3VpL01lZGlhTGlua2luZ1Rvb2xiYXInXG5pbXBvcnQge1xuICBSRUNFTlRfU0VBUkNIX0hFSUdIVF9JTl9QWCxcbiAgUkVDRU5UX1NFQVJDSF9XSURUSF9JTl9QWFxufSBmcm9tICdAYXRsYXNraXQvZWRpdG9yLWNvcmUvdWkvTGlua1NlYXJjaC9Ub29sYmFyQ29tcG9uZW50cydcblxuaW1wb3J0IHsgTWVkaWFUb29sYmFyQmFzZUNvbmZpZyB9IGZyb20gJy4uL3R5cGVzJ1xuXG5leHBvcnQgZnVuY3Rpb24gc2hvdWxkU2hvd01lZGlhTGlua1Rvb2xiYXIoZWRpdG9yU3RhdGU6IEVkaXRvclN0YXRlKTogYm9vbGVhbiB7XG4gIGNvbnN0IG1lZGlhTGlua2luZ1N0YXRlID0gZ2V0TWVkaWFMaW5raW5nU3RhdGUoZWRpdG9yU3RhdGUpXG4gIGlmICghbWVkaWFMaW5raW5nU3RhdGUgfHwgbWVkaWFMaW5raW5nU3RhdGUubWVkaWFQb3MgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuICBjb25zdCB7XG4gICAgbm9kZXM6IHsgbWVkaWEgfSxcbiAgICBtYXJrczogeyBsaW5rIH1cbiAgfSA9IGVkaXRvclN0YXRlLnNjaGVtYVxuICBjb25zdCBub2RlID0gZWRpdG9yU3RhdGUuZG9jLm5vZGVBdChtZWRpYUxpbmtpbmdTdGF0ZS5tZWRpYVBvcylcblxuICBpZiAoIW5vZGUgfHwgbm9kZS50eXBlICE9PSBtZWRpYSkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgY29uc3QgeyBwYXJlbnQgfSA9IGVkaXRvclN0YXRlLmRvYy5yZXNvbHZlKG1lZGlhTGlua2luZ1N0YXRlLm1lZGlhUG9zKVxuXG4gIHJldHVybiBwYXJlbnQgJiYgcGFyZW50LnR5cGUuYWxsb3dzTWFya1R5cGUobGluaylcbn1cblxuZXhwb3J0IGNvbnN0IGdldExpbmtpbmdUb29sYmFyID0gKFxuICB0b29sYmFyQmFzZUNvbmZpZzogTWVkaWFUb29sYmFyQmFzZUNvbmZpZyxcbiAgbWVkaWFMaW5raW5nU3RhdGU6IE1lZGlhTGlua2luZ1N0YXRlLFxuICBzdGF0ZTogRWRpdG9yU3RhdGUsXG4gIGludGw6IEluamVjdGVkSW50bCxcbiAgcHJvdmlkZXJGYWN0b3J5PzogUHJvdmlkZXJGYWN0b3J5XG4pOiBGbG9hdGluZ1Rvb2xiYXJDb25maWcgfCB1bmRlZmluZWQgPT4ge1xuICBjb25zdCB7IGxpbmssIHZpc2libGUsIGVkaXRhYmxlOiBlZGl0aW5nLCBtZWRpYVBvcyB9ID0gbWVkaWFMaW5raW5nU3RhdGVcblxuICBpZiAodmlzaWJsZSAmJiBtZWRpYVBvcyAhPT0gbnVsbCkge1xuICAgIGNvbnN0IG5vZGUgPSBzdGF0ZS5kb2Mubm9kZUF0KG1lZGlhUG9zKVxuICAgIGlmIChub2RlKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi50b29sYmFyQmFzZUNvbmZpZyxcbiAgICAgICAgaGVpZ2h0OiBSRUNFTlRfU0VBUkNIX0hFSUdIVF9JTl9QWCxcbiAgICAgICAgd2lkdGg6IFJFQ0VOVF9TRUFSQ0hfV0lEVEhfSU5fUFgsXG4gICAgICAgIGZvcmNlUGxhY2VtZW50OiB0cnVlLFxuICAgICAgICBpdGVtczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIHR5cGU6ICdjdXN0b20nLFxuICAgICAgICAgICAgcmVuZGVyOiAodmlldywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgIGlmICghdmlldyB8fCAhcHJvdmlkZXJGYWN0b3J5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxNZWRpYUxpbmtpbmdUb29sYmFyXG4gICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgIGRpc3BsYXlVcmw9e2xpbmt9XG4gICAgICAgICAgICAgICAgICBwcm92aWRlckZhY3Rvcnk9e3Byb3ZpZGVyRmFjdG9yeX1cbiAgICAgICAgICAgICAgICAgIGludGw9e2ludGx9XG4gICAgICAgICAgICAgICAgICBlZGl0aW5nPXtlZGl0aW5nfVxuICAgICAgICAgICAgICAgICAgb25Vbmxpbms9eygpID0+IHVubGluayh2aWV3LnN0YXRlLCB2aWV3LmRpc3BhdGNoLCB2aWV3KX1cbiAgICAgICAgICAgICAgICAgIG9uQmFjaz17KGhyZWYsIG1ldGEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhyZWYudHJpbSgpICYmIG1ldGEuaW5wdXRNZXRob2QpIHtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRVcmxUb01lZGlhKGhyZWYsIG1ldGEuaW5wdXRNZXRob2QpKFxuICAgICAgICAgICAgICAgICAgICAgICAgdmlldy5zdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpZXcuZGlzcGF0Y2gsXG4gICAgICAgICAgICAgICAgICAgICAgICB2aWV3XG4gICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGhpZGVMaW5raW5nVG9vbGJhcih2aWV3LnN0YXRlLCB2aWV3LmRpc3BhdGNoLCB2aWV3KVxuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgIG9uQ2FuY2VsPXsoKSA9PlxuICAgICAgICAgICAgICAgICAgICBoaWRlTGlua2luZ1Rvb2xiYXIodmlldy5zdGF0ZSwgdmlldy5kaXNwYXRjaCwgdmlldylcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIG9uU3VibWl0PXsoaHJlZiwgbWV0YSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZXRVcmxUb01lZGlhKGhyZWYsIG1ldGEuaW5wdXRNZXRob2QpKFxuICAgICAgICAgICAgICAgICAgICAgIHZpZXcuc3RhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgdmlldy5kaXNwYXRjaCxcbiAgICAgICAgICAgICAgICAgICAgICB2aWV3XG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgaGlkZUxpbmtpbmdUb29sYmFyKHZpZXcuc3RhdGUsIHZpZXcuZGlzcGF0Y2gsIHZpZXcpXG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgb25CbHVyPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGhpZGVMaW5raW5nVG9vbGJhcih2aWV3LnN0YXRlLCB2aWV3LmRpc3BhdGNoLCB2aWV3KVxuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFNQTtBQUNBO0FBRUE7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFFQTtBQUNBO0FBRUE7QUFPQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/plugins/media/toolbar/linking.tsx\n");

/***/ }),

/***/ "./src/plugins/media/toolbar/toolbar-messages.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"toolbarMessages\", function() { return toolbarMessages; });\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/react-intl/lib/index.es.js\");\n\nvar toolbarMessages = Object(react_intl__WEBPACK_IMPORTED_MODULE_0__[\"defineMessages\"])({\n  annotate: {\n    id: 'fabric.editor.annotate',\n    defaultMessage: 'Annotate',\n    description: 'Annotate an image by drawing arrows, adding text, or scribbles.'\n  }\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9tZWRpYS90b29sYmFyL3Rvb2xiYXItbWVzc2FnZXMudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2lucy9tZWRpYS90b29sYmFyL3Rvb2xiYXItbWVzc2FnZXMudHM/Yzg3NiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkZWZpbmVNZXNzYWdlcyB9IGZyb20gJ3JlYWN0LWludGwnXG5cbmV4cG9ydCBjb25zdCB0b29sYmFyTWVzc2FnZXMgPSBkZWZpbmVNZXNzYWdlcyh7XG4gIGFubm90YXRlOiB7XG4gICAgaWQ6ICdmYWJyaWMuZWRpdG9yLmFubm90YXRlJyxcbiAgICBkZWZhdWx0TWVzc2FnZTogJ0Fubm90YXRlJyxcbiAgICBkZXNjcmlwdGlvbjpcbiAgICAgICdBbm5vdGF0ZSBhbiBpbWFnZSBieSBkcmF3aW5nIGFycm93cywgYWRkaW5nIHRleHQsIG9yIHNjcmliYmxlcy4nXG4gIH1cbn0pXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/plugins/media/toolbar/toolbar-messages.ts\n");

/***/ }),

/***/ "./src/plugins/media/types.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9tZWRpYS90eXBlcy50cy5qcyIsInNvdXJjZXMiOltdLCJtYXBwaW5ncyI6Ijs7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/plugins/media/types.ts\n");

/***/ }),

/***/ "./src/plugins/media/ui/Media/DropPlaceholder.tsx":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js\");\n/* harmony import */ var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/styled-components/dist/styled-components.browser.esm.js\");\n/* harmony import */ var _atlaskit_theme_constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./node_modules/@atlaskit/theme/dist/esm/constants.js\");\n/* harmony import */ var _atlaskit_theme_colors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./node_modules/@atlaskit/theme/dist/esm/colors.js\");\n/* harmony import */ var _atlaskit_icon_glyph_document_filled__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./node_modules/@atlaskit/icon/glyph/document-filled.js\");\n/* harmony import */ var _atlaskit_icon_glyph_document_filled__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_atlaskit_icon_glyph_document_filled__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _atlaskit_adf_schema__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./node_modules/@atlaskit/editor-common/node_modules/@atlaskit/adf-schema/dist/esm/index.js\");\n/* harmony import */ var _nodeviews_mediaNodeView_media__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./src/plugins/media/nodeviews/mediaNodeView/media.tsx\");\n\nvar _templateObject, _templateObject2;\n\n\n\n\n\n\n\nvar IconWrapper = styled_components__WEBPACK_IMPORTED_MODULE_2__[\"default\"].div(_templateObject || (_templateObject = _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0___default()([\"\\n  color: \", \";\\n  background: \", \";\\n  border-radius: \", \"px;\\n  margin: 5px 3px 25px;\\n  width: \", \"px;\\n  min-height: \", \"px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n\"])), Object(_atlaskit_adf_schema__WEBPACK_IMPORTED_MODULE_6__[\"hexToRgba\"])(_atlaskit_theme_colors__WEBPACK_IMPORTED_MODULE_4__[\"B400\"], 0.4) || _atlaskit_theme_colors__WEBPACK_IMPORTED_MODULE_4__[\"B400\"], Object(_atlaskit_adf_schema__WEBPACK_IMPORTED_MODULE_6__[\"hexToRgba\"])(_atlaskit_theme_colors__WEBPACK_IMPORTED_MODULE_4__[\"B300\"], 0.6) || _atlaskit_theme_colors__WEBPACK_IMPORTED_MODULE_4__[\"B300\"], Object(_atlaskit_theme_constants__WEBPACK_IMPORTED_MODULE_3__[\"borderRadius\"])(), _nodeviews_mediaNodeView_media__WEBPACK_IMPORTED_MODULE_7__[\"FILE_WIDTH\"], _nodeviews_mediaNodeView_media__WEBPACK_IMPORTED_MODULE_7__[\"MEDIA_HEIGHT\"]);\nvar DropLine = styled_components__WEBPACK_IMPORTED_MODULE_2__[\"default\"].div(_templateObject2 || (_templateObject2 = _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0___default()([\"\\n  background: \", \";\\n  border-radius: \", \"px;\\n  margin: 2px 0;\\n  width: 100%;\\n  height: 2px;\\n\"])), _atlaskit_theme_colors__WEBPACK_IMPORTED_MODULE_4__[\"B200\"], Object(_atlaskit_theme_constants__WEBPACK_IMPORTED_MODULE_3__[\"borderRadius\"])());\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (_ref) {\n  var _ref$type = _ref.type,\n    type = _ref$type === void 0 ? 'group' : _ref$type;\n  return type === 'single' ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(DropLine, null) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(IconWrapper, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_atlaskit_icon_glyph_document_filled__WEBPACK_IMPORTED_MODULE_5___default.a, {\n    label: \"Document\",\n    size: \"medium\"\n  }));\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9tZWRpYS91aS9NZWRpYS9Ecm9wUGxhY2Vob2xkZXIudHN4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbnMvbWVkaWEvdWkvTWVkaWEvRHJvcFBsYWNlaG9sZGVyLnRzeD9iOTY0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCBzdHlsZWQgZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnXG5pbXBvcnQgeyBib3JkZXJSYWRpdXMgfSBmcm9tICdAYXRsYXNraXQvdGhlbWUvY29uc3RhbnRzJ1xuaW1wb3J0IHsgQjQwMCwgQjMwMCwgQjIwMCB9IGZyb20gJ0BhdGxhc2tpdC90aGVtZS9jb2xvcnMnXG5pbXBvcnQgRG9jdW1lbnRGaWxsZWRJY29uIGZyb20gJ0BhdGxhc2tpdC9pY29uL2dseXBoL2RvY3VtZW50LWZpbGxlZCdcbmltcG9ydCB7IGhleFRvUmdiYSB9IGZyb20gJ0BhdGxhc2tpdC9hZGYtc2NoZW1hJ1xuXG5pbXBvcnQgeyBNRURJQV9IRUlHSFQsIEZJTEVfV0lEVEggfSBmcm9tICcuLi8uLi9ub2Rldmlld3MvbWVkaWFOb2RlVmlldy9tZWRpYSdcblxuY29uc3QgSWNvbldyYXBwZXIgPSBzdHlsZWQuZGl2YFxuICBjb2xvcjogJHtoZXhUb1JnYmEoQjQwMCwgMC40KSB8fCBCNDAwfTtcbiAgYmFja2dyb3VuZDogJHtoZXhUb1JnYmEoQjMwMCwgMC42KSB8fCBCMzAwfTtcbiAgYm9yZGVyLXJhZGl1czogJHtib3JkZXJSYWRpdXMoKX1weDtcbiAgbWFyZ2luOiA1cHggM3B4IDI1cHg7XG4gIHdpZHRoOiAke0ZJTEVfV0lEVEh9cHg7XG4gIG1pbi1oZWlnaHQ6ICR7TUVESUFfSEVJR0hUfXB4O1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbmBcblxuY29uc3QgRHJvcExpbmUgPSBzdHlsZWQuZGl2YFxuICBiYWNrZ3JvdW5kOiAke0IyMDB9O1xuICBib3JkZXItcmFkaXVzOiAke2JvcmRlclJhZGl1cygpfXB4O1xuICBtYXJnaW46IDJweCAwO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAycHg7XG5gXG5cbmV4cG9ydCB0eXBlIFBsYWNlaG9sZGVyVHlwZSA9ICdzaW5nbGUnIHwgJ2dyb3VwJ1xuZXhwb3J0IGludGVyZmFjZSBQcm9wcyB7XG4gIHR5cGU6IFBsYWNlaG9sZGVyVHlwZVxufVxuXG5leHBvcnQgZGVmYXVsdCAoeyB0eXBlID0gJ2dyb3VwJyB9OiBQcm9wcykgPT5cbiAgdHlwZSA9PT0gJ3NpbmdsZScgPyAoXG4gICAgPERyb3BMaW5lIC8+XG4gICkgOiAoXG4gICAgPEljb25XcmFwcGVyPlxuICAgICAgPERvY3VtZW50RmlsbGVkSWNvbiBsYWJlbD1cIkRvY3VtZW50XCIgc2l6ZT1cIm1lZGl1bVwiIC8+XG4gICAgPC9JY29uV3JhcHBlcj5cbiAgKVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFZQTtBQWFBO0FBQUE7QUFBQTtBQUFBO0FBS0E7QUFBQTtBQUFBO0FBRUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/plugins/media/ui/Media/DropPlaceholder.tsx\n");

/***/ }),

/***/ "./src/plugins/media/ui/MediaEditor.tsx":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return MediaEditor; });\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/assertThisInitialized.js\");\n/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/inherits.js\");\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\");\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/getPrototypeOf.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _atlaskit_media_editor__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./node_modules/@atlaskit/media-editor/dist/esm/index.js\");\n/* harmony import */ var _commands_media_editor__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"./src/plugins/media/commands/media-editor.ts\");\n\n\n\n\n\n\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\nvar MediaEditor = /*#__PURE__*/function (_React$PureComponent) {\n  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default()(MediaEditor, _React$PureComponent);\n  var _super = _createSuper(MediaEditor);\n  function MediaEditor() {\n    var _this;\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, MediaEditor);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(_this), \"onUploadStart\", function (newFileIdentifier, dimensions) {\n      var _this$props$view = _this.props.view,\n        state = _this$props$view.state,\n        dispatch = _this$props$view.dispatch;\n      Object(_commands_media_editor__WEBPACK_IMPORTED_MODULE_9__[\"uploadAnnotation\"])(newFileIdentifier, dimensions)(state, dispatch);\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(_this), \"onClose\", function () {\n      var _this$props$view2 = _this.props.view,\n        state = _this$props$view2.state,\n        dispatch = _this$props$view2.dispatch;\n      Object(_commands_media_editor__WEBPACK_IMPORTED_MODULE_9__[\"closeMediaEditor\"])()(state, dispatch);\n    });\n    return _this;\n  }\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(MediaEditor, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props$mediaEdit = this.props.mediaEditorState,\n        editor = _this$props$mediaEdit.editor,\n        mediaClientConfig = _this$props$mediaEdit.mediaClientConfig;\n      if (!editor || !mediaClientConfig) {\n        return null;\n      }\n      var identifier = editor.identifier;\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_atlaskit_media_editor__WEBPACK_IMPORTED_MODULE_8__[\"SmartMediaEditor\"], {\n        identifier: identifier,\n        mediaClientConfig: mediaClientConfig,\n        onUploadStart: this.onUploadStart,\n        onClose: this.onClose\n      });\n    }\n  }]);\n  return MediaEditor;\n}(react__WEBPACK_IMPORTED_MODULE_7___default.a.PureComponent);\n_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(MediaEditor, \"displayName\", 'MediaEditor');\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9tZWRpYS91aS9NZWRpYUVkaXRvci50c3guanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2lucy9tZWRpYS91aS9NZWRpYUVkaXRvci50c3g/MDE3NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBFZGl0b3JWaWV3IH0gZnJvbSAncHJvc2VtaXJyb3ItdmlldydcblxuaW1wb3J0IHsgRmlsZUlkZW50aWZpZXIgfSBmcm9tICdAYXRsYXNraXQvbWVkaWEtY2xpZW50J1xuaW1wb3J0IHsgRGltZW5zaW9ucywgU21hcnRNZWRpYUVkaXRvciB9IGZyb20gJ0BhdGxhc2tpdC9tZWRpYS1lZGl0b3InXG5cbmltcG9ydCB7IE1lZGlhRWRpdG9yU3RhdGUgfSBmcm9tICcuLi90eXBlcydcbmltcG9ydCB7IHVwbG9hZEFubm90YXRpb24sIGNsb3NlTWVkaWFFZGl0b3IgfSBmcm9tICcuLi9jb21tYW5kcy9tZWRpYS1lZGl0b3InXG5cbnR5cGUgUHJvcHMgPSB7XG4gIG1lZGlhRWRpdG9yU3RhdGU6IE1lZGlhRWRpdG9yU3RhdGVcbiAgdmlldzogRWRpdG9yVmlld1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNZWRpYUVkaXRvciBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8UHJvcHM+IHtcbiAgc3RhdGljIGRpc3BsYXlOYW1lID0gJ01lZGlhRWRpdG9yJ1xuXG4gIHByaXZhdGUgb25VcGxvYWRTdGFydCA9IChcbiAgICBuZXdGaWxlSWRlbnRpZmllcjogRmlsZUlkZW50aWZpZXIsXG4gICAgZGltZW5zaW9uczogRGltZW5zaW9uc1xuICApID0+IHtcbiAgICBjb25zdCB7IHN0YXRlLCBkaXNwYXRjaCB9ID0gdGhpcy5wcm9wcy52aWV3XG4gICAgdXBsb2FkQW5ub3RhdGlvbihuZXdGaWxlSWRlbnRpZmllciwgZGltZW5zaW9ucykoc3RhdGUsIGRpc3BhdGNoKVxuICB9XG5cbiAgcHJpdmF0ZSBvbkNsb3NlID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgc3RhdGUsIGRpc3BhdGNoIH0gPSB0aGlzLnByb3BzLnZpZXdcbiAgICBjbG9zZU1lZGlhRWRpdG9yKCkoc3RhdGUsIGRpc3BhdGNoKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIG1lZGlhRWRpdG9yU3RhdGU6IHsgZWRpdG9yLCBtZWRpYUNsaWVudENvbmZpZyB9XG4gICAgfSA9IHRoaXMucHJvcHNcbiAgICBpZiAoIWVkaXRvciB8fCAhbWVkaWFDbGllbnRDb25maWcpIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuXG4gICAgY29uc3QgeyBpZGVudGlmaWVyIH0gPSBlZGl0b3JcblxuICAgIHJldHVybiAoXG4gICAgICA8U21hcnRNZWRpYUVkaXRvclxuICAgICAgICBpZGVudGlmaWVyPXtpZGVudGlmaWVyfVxuICAgICAgICBtZWRpYUNsaWVudENvbmZpZz17bWVkaWFDbGllbnRDb25maWd9XG4gICAgICAgIG9uVXBsb2FkU3RhcnQ9e3RoaXMub25VcGxvYWRTdGFydH1cbiAgICAgICAgb25DbG9zZT17dGhpcy5vbkNsb3NlfVxuICAgICAgLz5cbiAgICApXG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUlBO0FBR0E7QUFBQTtBQU9BO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBT0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUFBO0FBbENBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/plugins/media/ui/MediaEditor.tsx\n");

/***/ }),

/***/ "./src/plugins/media/ui/MediaLinkingToolbar.tsx":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"mediaLinkToolbarMessages\", function() { return mediaLinkToolbarMessages; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LinkAddToolbar\", function() { return LinkAddToolbar; });\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/assertThisInitialized.js\");\n/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/inherits.js\");\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\");\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/getPrototypeOf.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js\");\n/* harmony import */ var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _atlaskit_icon_glyph_chevron_left_large__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"./node_modules/@atlaskit/icon/glyph/chevron-left-large.js\");\n/* harmony import */ var _atlaskit_icon_glyph_chevron_left_large__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_atlaskit_icon_glyph_chevron_left_large__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _atlaskit_icon_glyph_editor_unlink__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"./node_modules/@atlaskit/icon/glyph/editor/unlink.js\");\n/* harmony import */ var _atlaskit_icon_glyph_editor_unlink__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_atlaskit_icon_glyph_editor_unlink__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _atlaskit_editor_core_ui_PanelTextInput__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/ui/PanelTextInput/index.tsx\");\n/* harmony import */ var _atlaskit_editor_core_plugins_floating_toolbar_ui_Button__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/plugins/floating-toolbar/ui/Button.tsx\");\n/* harmony import */ var _atlaskit_editor_core_plugins_floating_toolbar_ui_Separator__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/plugins/floating-toolbar/ui/Separator.tsx\");\n/* harmony import */ var _atlaskit_editor_core_ui_LinkSearch_ToolbarComponents__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/ui/LinkSearch/ToolbarComponents.tsx\");\n/* harmony import */ var _atlaskit_editor_core_ui_LinkSearch__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/ui/LinkSearch/index.tsx\");\n/* harmony import */ var _atlaskit_editor_core_messages__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/messages.ts\");\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(\"./node_modules/react-intl/lib/index.es.js\");\n/* harmony import */ var _atlaskit_editor_core_plugins_hyperlink_utils__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/plugins/hyperlink/utils.ts\");\n/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(\"./node_modules/styled-components/dist/styled-components.browser.esm.js\");\n/* harmony import */ var _atlaskit_theme_colors__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(\"./node_modules/@atlaskit/theme/dist/esm/colors.js\");\n/* harmony import */ var _atlaskit_editor_common__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(\"./node_modules/@atlaskit/editor-common/dist/esm/index.js\");\n/* harmony import */ var _atlaskit_editor_core_plugins_analytics_types_enums__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/plugins/analytics/types/enums.ts\");\n\n\n\n\n\n\n\n\nvar _templateObject, _templateObject2;\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\n\n\n\n\n\n// Common Translations will live here\n\n\n\n\n\n\nvar mediaLinkToolbarMessages = Object(react_intl__WEBPACK_IMPORTED_MODULE_17__[\"defineMessages\"])({\n  backLink: {\n    id: 'fabric.editor.backLink',\n    defaultMessage: 'Go back',\n    description: 'Go back from media linking toolbar to main toolbar'\n  }\n});\nvar ValidationWrapper = styled_components__WEBPACK_IMPORTED_MODULE_19__[\"default\"].section(_templateObject || (_templateObject = _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_7___default()([\"\\n  display: flex;\\n  line-height: 0;\\n  padding: 12px 24px 12px 0;\\n  margin: 0 4px 0 32px;\\n  border-top: 1px solid \", \";\\n  align-items: start;\\n  display: flex;\\n  flex-direction: column;\\n\"])), _atlaskit_theme_colors__WEBPACK_IMPORTED_MODULE_20__[\"R400\"]);\nvar ButtonWrapper = styled_components__WEBPACK_IMPORTED_MODULE_19__[\"default\"].span(_templateObject2 || (_templateObject2 = _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_7___default()([\"\\n  padding: 4px 8px 4px 0px;\\n\"])));\nvar LinkAddToolbar = /*#__PURE__*/function (_React$PureComponent) {\n  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default()(LinkAddToolbar, _React$PureComponent);\n  var _super = _createSuper(LinkAddToolbar);\n  function LinkAddToolbar() {\n    var _this;\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, LinkAddToolbar);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(_this), \"state\", {\n      validationErrors: []\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(_this), \"handleSubmit\", function (_ref) {\n      var url = _ref.url,\n        inputMethod = _ref.inputMethod;\n      _this.props.onSubmit(url, {\n        inputMethod: inputMethod\n      });\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(_this), \"handleOnBack\", function (_ref2) {\n      var url = _ref2.url,\n        inputMethod = _ref2.inputMethod;\n      var onBack = _this.props.onBack;\n      if (onBack) {\n        onBack(url, {\n          inputMethod: inputMethod\n        });\n      }\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(_this), \"handleCancel\", function () {\n      var onCancel = _this.props.onCancel;\n      if (onCancel) {\n        onCancel();\n      }\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(_this), \"handleUnlink\", function () {\n      var onUnlink = _this.props.onUnlink;\n      if (onUnlink) {\n        onUnlink();\n      }\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(_this), \"handleOnBlur\", function (options) {\n      _this.props.onBlur(options.url);\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(_this), \"renderContainer\", function (_ref3) {\n      var activityProvider = _ref3.activityProvider,\n        _ref3$inputProps = _ref3.inputProps,\n        _onChange = _ref3$inputProps.onChange,\n        onKeyDown = _ref3$inputProps.onKeyDown,\n        _onSubmit = _ref3$inputProps.onSubmit,\n        value = _ref3$inputProps.value,\n        currentInputMethod = _ref3.currentInputMethod,\n        renderRecentList = _ref3.renderRecentList;\n      var _this$props = _this.props,\n        formatMessage = _this$props.intl.formatMessage,\n        displayUrl = _this$props.displayUrl;\n      var getPlaceholder = function getPlaceholder(hasActivityProvider) {\n        return formatMessage(hasActivityProvider ? _atlaskit_editor_core_messages__WEBPACK_IMPORTED_MODULE_16__[\"linkToolbarMessages\"].placeholder : _atlaskit_editor_core_messages__WEBPACK_IMPORTED_MODULE_16__[\"linkToolbarMessages\"].linkPlaceholder);\n      };\n      var formatLinkAddressText = formatMessage(mediaLinkToolbarMessages.backLink);\n      var formatUnlinkText = formatMessage(_atlaskit_editor_core_messages__WEBPACK_IMPORTED_MODULE_16__[\"linkToolbarMessages\"].unlink);\n      var errorsList = _this.state.validationErrors.map(function (error, index) {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_atlaskit_editor_common__WEBPACK_IMPORTED_MODULE_21__[\"ErrorMessage\"], {\n          key: index\n        }, error);\n      });\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(\"div\", {\n        className: \"recent-list\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_atlaskit_editor_core_ui_LinkSearch_ToolbarComponents__WEBPACK_IMPORTED_MODULE_14__[\"Container\"], {\n        provider: !!activityProvider\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_atlaskit_editor_core_ui_LinkSearch_ToolbarComponents__WEBPACK_IMPORTED_MODULE_14__[\"UrlInputWrapper\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(ButtonWrapper, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_atlaskit_editor_core_plugins_floating_toolbar_ui_Button__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n        title: formatLinkAddressText,\n        icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_atlaskit_icon_glyph_chevron_left_large__WEBPACK_IMPORTED_MODULE_9___default.a, {\n          label: formatLinkAddressText\n        }),\n        onClick: function onClick() {\n          return _this.handleOnBack({\n            url: value,\n            inputMethod: currentInputMethod\n          });\n        }\n      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_atlaskit_editor_core_ui_PanelTextInput__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n        testId: \"media-link-input\",\n        placeholder: getPlaceholder(!!activityProvider),\n        autoFocus: true,\n        onCancel: _this.handleCancel,\n        defaultValue: value,\n        onSubmit: function onSubmit(inputValue) {\n          var validationErrors = _this.getValidationErrors(inputValue, currentInputMethod);\n          _this.setState({\n            validationErrors: validationErrors\n          });\n          if (!validationErrors.length) {\n            _onSubmit();\n          }\n        },\n        onChange: function onChange(value) {\n          _this.setState({\n            validationErrors: []\n          });\n          _onChange(value);\n        },\n        onKeyDown: onKeyDown\n      }), Object(_atlaskit_editor_core_plugins_hyperlink_utils__WEBPACK_IMPORTED_MODULE_18__[\"normalizeUrl\"])(displayUrl) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_8___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_atlaskit_editor_core_plugins_floating_toolbar_ui_Separator__WEBPACK_IMPORTED_MODULE_13__[\"default\"], null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_atlaskit_editor_core_plugins_floating_toolbar_ui_Button__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n        title: formatUnlinkText,\n        icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_atlaskit_icon_glyph_editor_unlink__WEBPACK_IMPORTED_MODULE_10___default.a, {\n          label: formatUnlinkText\n        }),\n        onClick: _this.handleUnlink\n      }))), !!errorsList.length && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(ValidationWrapper, null, errorsList), renderRecentList()));\n    });\n    return _this;\n  }\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(LinkAddToolbar, [{\n    key: \"getValidationErrors\",\n    value: function getValidationErrors(value, inputMethod) {\n      var formatMessage = this.props.intl.formatMessage;\n\n      // dont show validation errors if input method is typeahed, which means user selects from search list\n      if (inputMethod === _atlaskit_editor_core_plugins_analytics_types_enums__WEBPACK_IMPORTED_MODULE_22__[\"INPUT_METHOD\"].TYPEAHEAD) {\n        return [];\n      }\n      if (!value) {\n        return [formatMessage(_atlaskit_editor_core_messages__WEBPACK_IMPORTED_MODULE_16__[\"linkToolbarMessages\"].emptyLink)];\n      }\n      // if url can be normalized - we consider it is a valid url\n      // also don't show validaition errors for empty values\n      if (Object(_atlaskit_editor_core_plugins_hyperlink_utils__WEBPACK_IMPORTED_MODULE_18__[\"normalizeUrl\"])(value)) {\n        return [];\n      } else {\n        return [formatMessage(_atlaskit_editor_core_messages__WEBPACK_IMPORTED_MODULE_16__[\"linkToolbarMessages\"].invalidLink)];\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n        providerFactory = _this$props2.providerFactory,\n        displayUrl = _this$props2.displayUrl;\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_atlaskit_editor_core_ui_LinkSearch__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n        defaultUrl: Object(_atlaskit_editor_core_plugins_hyperlink_utils__WEBPACK_IMPORTED_MODULE_18__[\"normalizeUrl\"])(displayUrl),\n        providerFactory: providerFactory,\n        onSubmit: this.handleSubmit,\n        onBlur: this.handleOnBlur,\n        render: this.renderContainer\n      });\n    }\n  }]);\n  return LinkAddToolbar;\n}(react__WEBPACK_IMPORTED_MODULE_8___default.a.PureComponent);\n/* harmony default export */ __webpack_exports__[\"default\"] = (LinkAddToolbar);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9tZWRpYS91aS9NZWRpYUxpbmtpbmdUb29sYmFyLnRzeC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9wbHVnaW5zL21lZGlhL3VpL01lZGlhTGlua2luZ1Rvb2xiYXIudHN4PzE4NGIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgUHJvdmlkZXJGYWN0b3J5IH0gZnJvbSAnQGF0bGFza2l0L2VkaXRvci1jb21tb24nXG5pbXBvcnQgQ2hldnJvbkxlZnRMYXJnZUljb24gZnJvbSAnQGF0bGFza2l0L2ljb24vZ2x5cGgvY2hldnJvbi1sZWZ0LWxhcmdlJ1xuaW1wb3J0IEVkaXRvclVubGlua0ljb24gZnJvbSAnQGF0bGFza2l0L2ljb24vZ2x5cGgvZWRpdG9yL3VubGluaydcbmltcG9ydCB7IEluamVjdGVkSW50bCwgSW5qZWN0ZWRJbnRsUHJvcHMgfSBmcm9tICdyZWFjdC1pbnRsJ1xuaW1wb3J0IFBhbmVsVGV4dElucHV0IGZyb20gJ0BhdGxhc2tpdC9lZGl0b3ItY29yZS91aS9QYW5lbFRleHRJbnB1dCdcbmltcG9ydCBCdXR0b24gZnJvbSAnQGF0bGFza2l0L2VkaXRvci1jb3JlL3BsdWdpbnMvZmxvYXRpbmctdG9vbGJhci91aS9CdXR0b24nXG5pbXBvcnQgU2VwYXJhdG9yIGZyb20gJ0BhdGxhc2tpdC9lZGl0b3ItY29yZS9wbHVnaW5zL2Zsb2F0aW5nLXRvb2xiYXIvdWkvU2VwYXJhdG9yJ1xuaW1wb3J0IHtcbiAgQ29udGFpbmVyLFxuICBVcmxJbnB1dFdyYXBwZXJcbn0gZnJvbSAnQGF0bGFza2l0L2VkaXRvci1jb3JlL3VpL0xpbmtTZWFyY2gvVG9vbGJhckNvbXBvbmVudHMnXG5pbXBvcnQgUmVjZW50U2VhcmNoIGZyb20gJ0BhdGxhc2tpdC9lZGl0b3ItY29yZS91aS9MaW5rU2VhcmNoJ1xuaW1wb3J0IHtcbiAgQ2hpbGRQcm9wcyxcbiAgUmVjZW50U2VhcmNoU3VibWl0T3B0aW9ucyxcbiAgUmVjZW50U2VhcmNoSW5wdXRUeXBlc1xufSBmcm9tICdAYXRsYXNraXQvZWRpdG9yLWNvcmUvdWkvTGlua1NlYXJjaC90eXBlcydcbmltcG9ydCB7IGxpbmtUb29sYmFyTWVzc2FnZXMgfSBmcm9tICdAYXRsYXNraXQvZWRpdG9yLWNvcmUvbWVzc2FnZXMnXG5cbi8vIENvbW1vbiBUcmFuc2xhdGlvbnMgd2lsbCBsaXZlIGhlcmVcbmltcG9ydCB7IGRlZmluZU1lc3NhZ2VzIH0gZnJvbSAncmVhY3QtaW50bCdcbmltcG9ydCB7IG5vcm1hbGl6ZVVybCB9IGZyb20gJ0BhdGxhc2tpdC9lZGl0b3ItY29yZS9wbHVnaW5zL2h5cGVybGluay91dGlscydcbmltcG9ydCBzdHlsZWQgZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnXG5pbXBvcnQgeyBSNDAwIH0gZnJvbSAnQGF0bGFza2l0L3RoZW1lL2NvbG9ycydcbmltcG9ydCB7IEVycm9yTWVzc2FnZSB9IGZyb20gJ0BhdGxhc2tpdC9lZGl0b3ItY29tbW9uJ1xuaW1wb3J0IHsgSU5QVVRfTUVUSE9EIH0gZnJvbSAnQGF0bGFza2l0L2VkaXRvci1jb3JlL3BsdWdpbnMvYW5hbHl0aWNzL3R5cGVzL2VudW1zJ1xuXG5leHBvcnQgY29uc3QgbWVkaWFMaW5rVG9vbGJhck1lc3NhZ2VzID0gZGVmaW5lTWVzc2FnZXMoe1xuICBiYWNrTGluazoge1xuICAgIGlkOiAnZmFicmljLmVkaXRvci5iYWNrTGluaycsXG4gICAgZGVmYXVsdE1lc3NhZ2U6ICdHbyBiYWNrJyxcbiAgICBkZXNjcmlwdGlvbjogJ0dvIGJhY2sgZnJvbSBtZWRpYSBsaW5raW5nIHRvb2xiYXIgdG8gbWFpbiB0b29sYmFyJ1xuICB9XG59KVxuXG5leHBvcnQgdHlwZSBQcm9wcyA9IHtcbiAgaW50bDogSW5qZWN0ZWRJbnRsXG4gIHByb3ZpZGVyRmFjdG9yeTogUHJvdmlkZXJGYWN0b3J5XG4gIGVkaXRpbmc6IGJvb2xlYW5cbiAgb25CYWNrOiAodXJsOiBzdHJpbmcsIG1ldGE6IHsgaW5wdXRNZXRob2Q/OiBSZWNlbnRTZWFyY2hJbnB1dFR5cGVzIH0pID0+IHZvaWRcbiAgb25Vbmxpbms6ICgpID0+IHZvaWRcbiAgb25DYW5jZWw6ICgpID0+IHZvaWRcbiAgb25CbHVyOiAoaHJlZjogc3RyaW5nKSA9PiB2b2lkXG4gIG9uU3VibWl0OiAoXG4gICAgaHJlZjogc3RyaW5nLFxuICAgIG1ldGE6IHsgaW5wdXRNZXRob2Q6IFJlY2VudFNlYXJjaElucHV0VHlwZXMgfVxuICApID0+IHZvaWRcbiAgZGlzcGxheVVybD86IHN0cmluZ1xufVxuXG5jb25zdCBWYWxpZGF0aW9uV3JhcHBlciA9IHN0eWxlZC5zZWN0aW9uYFxuICBkaXNwbGF5OiBmbGV4O1xuICBsaW5lLWhlaWdodDogMDtcbiAgcGFkZGluZzogMTJweCAyNHB4IDEycHggMDtcbiAgbWFyZ2luOiAwIDRweCAwIDMycHg7XG4gIGJvcmRlci10b3A6IDFweCBzb2xpZCAke1I0MDB9O1xuICBhbGlnbi1pdGVtczogc3RhcnQ7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG5gXG5cbmNvbnN0IEJ1dHRvbldyYXBwZXIgPSBzdHlsZWQuc3BhbmBcbiAgcGFkZGluZzogNHB4IDhweCA0cHggMHB4O1xuYFxuXG5leHBvcnQgY2xhc3MgTGlua0FkZFRvb2xiYXIgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PFxuICBQcm9wcyAmIEluamVjdGVkSW50bFByb3BzXG4+IHtcbiAgc3RhdGUgPSB7XG4gICAgdmFsaWRhdGlvbkVycm9yczogW11cbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlU3VibWl0ID0gKHsgdXJsLCBpbnB1dE1ldGhvZCB9OiBSZWNlbnRTZWFyY2hTdWJtaXRPcHRpb25zKSA9PiB7XG4gICAgdGhpcy5wcm9wcy5vblN1Ym1pdCh1cmwsIHsgaW5wdXRNZXRob2QgfSlcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlT25CYWNrID0gKHtcbiAgICB1cmwsXG4gICAgaW5wdXRNZXRob2RcbiAgfToge1xuICAgIHVybDogc3RyaW5nXG4gICAgaW5wdXRNZXRob2Q/OiBSZWNlbnRTZWFyY2hJbnB1dFR5cGVzXG4gIH0pID0+IHtcbiAgICBjb25zdCB7IG9uQmFjayB9ID0gdGhpcy5wcm9wc1xuICAgIGlmIChvbkJhY2spIHtcbiAgICAgIG9uQmFjayh1cmwsIHsgaW5wdXRNZXRob2QgfSlcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZUNhbmNlbCA9ICgpID0+IHtcbiAgICBjb25zdCB7IG9uQ2FuY2VsIH0gPSB0aGlzLnByb3BzXG4gICAgaWYgKG9uQ2FuY2VsKSB7XG4gICAgICBvbkNhbmNlbCgpXG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVVbmxpbmsgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBvblVubGluayB9ID0gdGhpcy5wcm9wc1xuICAgIGlmIChvblVubGluaykge1xuICAgICAgb25VbmxpbmsoKVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlT25CbHVyID0gKG9wdGlvbnM6IFJlY2VudFNlYXJjaFN1Ym1pdE9wdGlvbnMpID0+IHtcbiAgICB0aGlzLnByb3BzLm9uQmx1cihvcHRpb25zLnVybClcbiAgfVxuXG4gIHByaXZhdGUgZ2V0VmFsaWRhdGlvbkVycm9ycyhcbiAgICB2YWx1ZTogc3RyaW5nLFxuICAgIGlucHV0TWV0aG9kPzogSU5QVVRfTUVUSE9EXG4gICk6IHN0cmluZ1tdIHtcbiAgICBjb25zdCB7XG4gICAgICBpbnRsOiB7IGZvcm1hdE1lc3NhZ2UgfVxuICAgIH0gPSB0aGlzLnByb3BzXG5cbiAgICAvLyBkb250IHNob3cgdmFsaWRhdGlvbiBlcnJvcnMgaWYgaW5wdXQgbWV0aG9kIGlzIHR5cGVhaGVkLCB3aGljaCBtZWFucyB1c2VyIHNlbGVjdHMgZnJvbSBzZWFyY2ggbGlzdFxuICAgIGlmIChpbnB1dE1ldGhvZCA9PT0gSU5QVVRfTUVUSE9ELlRZUEVBSEVBRCkge1xuICAgICAgcmV0dXJuIFtdXG4gICAgfVxuICAgIGlmICghdmFsdWUpIHtcbiAgICAgIHJldHVybiBbZm9ybWF0TWVzc2FnZShsaW5rVG9vbGJhck1lc3NhZ2VzLmVtcHR5TGluayldXG4gICAgfVxuICAgIC8vIGlmIHVybCBjYW4gYmUgbm9ybWFsaXplZCAtIHdlIGNvbnNpZGVyIGl0IGlzIGEgdmFsaWQgdXJsXG4gICAgLy8gYWxzbyBkb24ndCBzaG93IHZhbGlkYWl0aW9uIGVycm9ycyBmb3IgZW1wdHkgdmFsdWVzXG4gICAgaWYgKG5vcm1hbGl6ZVVybCh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBbXVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gW2Zvcm1hdE1lc3NhZ2UobGlua1Rvb2xiYXJNZXNzYWdlcy5pbnZhbGlkTGluayldXG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJDb250YWluZXIgPSAoe1xuICAgIGFjdGl2aXR5UHJvdmlkZXIsXG4gICAgaW5wdXRQcm9wczogeyBvbkNoYW5nZSwgb25LZXlEb3duLCBvblN1Ym1pdCwgdmFsdWUgfSxcbiAgICBjdXJyZW50SW5wdXRNZXRob2QsXG4gICAgcmVuZGVyUmVjZW50TGlzdFxuICB9OiBDaGlsZFByb3BzKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgaW50bDogeyBmb3JtYXRNZXNzYWdlIH0sXG4gICAgICBkaXNwbGF5VXJsXG4gICAgfSA9IHRoaXMucHJvcHNcbiAgICBjb25zdCBnZXRQbGFjZWhvbGRlciA9IChoYXNBY3Rpdml0eVByb3ZpZGVyOiBib29sZWFuKSA9PlxuICAgICAgZm9ybWF0TWVzc2FnZShcbiAgICAgICAgaGFzQWN0aXZpdHlQcm92aWRlclxuICAgICAgICAgID8gbGlua1Rvb2xiYXJNZXNzYWdlcy5wbGFjZWhvbGRlclxuICAgICAgICAgIDogbGlua1Rvb2xiYXJNZXNzYWdlcy5saW5rUGxhY2Vob2xkZXJcbiAgICAgIClcblxuICAgIGNvbnN0IGZvcm1hdExpbmtBZGRyZXNzVGV4dCA9IGZvcm1hdE1lc3NhZ2UoXG4gICAgICBtZWRpYUxpbmtUb29sYmFyTWVzc2FnZXMuYmFja0xpbmtcbiAgICApXG4gICAgY29uc3QgZm9ybWF0VW5saW5rVGV4dCA9IGZvcm1hdE1lc3NhZ2UobGlua1Rvb2xiYXJNZXNzYWdlcy51bmxpbmspXG5cbiAgICBjb25zdCBlcnJvcnNMaXN0ID0gdGhpcy5zdGF0ZS52YWxpZGF0aW9uRXJyb3JzLm1hcChmdW5jdGlvbihlcnJvciwgaW5kZXgpIHtcbiAgICAgIHJldHVybiA8RXJyb3JNZXNzYWdlIGtleT17aW5kZXh9PntlcnJvcn08L0Vycm9yTWVzc2FnZT5cbiAgICB9KVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVjZW50LWxpc3RcIj5cbiAgICAgICAgPENvbnRhaW5lciBwcm92aWRlcj17ISFhY3Rpdml0eVByb3ZpZGVyfT5cbiAgICAgICAgICA8VXJsSW5wdXRXcmFwcGVyPlxuICAgICAgICAgICAgPEJ1dHRvbldyYXBwZXI+XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICB0aXRsZT17Zm9ybWF0TGlua0FkZHJlc3NUZXh0fVxuICAgICAgICAgICAgICAgIGljb249ezxDaGV2cm9uTGVmdExhcmdlSWNvbiBsYWJlbD17Zm9ybWF0TGlua0FkZHJlc3NUZXh0fSAvPn1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PlxuICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVPbkJhY2soe1xuICAgICAgICAgICAgICAgICAgICB1cmw6IHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBpbnB1dE1ldGhvZDogY3VycmVudElucHV0TWV0aG9kXG4gICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvQnV0dG9uV3JhcHBlcj5cbiAgICAgICAgICAgIDxQYW5lbFRleHRJbnB1dFxuICAgICAgICAgICAgICB0ZXN0SWQ9XCJtZWRpYS1saW5rLWlucHV0XCJcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2dldFBsYWNlaG9sZGVyKCEhYWN0aXZpdHlQcm92aWRlcil9XG4gICAgICAgICAgICAgIGF1dG9Gb2N1cz17dHJ1ZX1cbiAgICAgICAgICAgICAgb25DYW5jZWw9e3RoaXMuaGFuZGxlQ2FuY2VsfVxuICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e3ZhbHVlfVxuICAgICAgICAgICAgICBvblN1Ym1pdD17aW5wdXRWYWx1ZSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsaWRhdGlvbkVycm9ycyA9IHRoaXMuZ2V0VmFsaWRhdGlvbkVycm9ycyhcbiAgICAgICAgICAgICAgICAgIGlucHV0VmFsdWUsXG4gICAgICAgICAgICAgICAgICBjdXJyZW50SW5wdXRNZXRob2RcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHZhbGlkYXRpb25FcnJvcnMgfSlcbiAgICAgICAgICAgICAgICBpZiAoIXZhbGlkYXRpb25FcnJvcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICBvblN1Ym1pdCgpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICBvbkNoYW5nZT17dmFsdWUgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyB2YWxpZGF0aW9uRXJyb3JzOiBbXSB9KVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlKHZhbHVlKVxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICBvbktleURvd249e29uS2V5RG93bn1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICB7bm9ybWFsaXplVXJsKGRpc3BsYXlVcmwpICYmIChcbiAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICA8U2VwYXJhdG9yIC8+XG4gICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgdGl0bGU9e2Zvcm1hdFVubGlua1RleHR9XG4gICAgICAgICAgICAgICAgICBpY29uPXs8RWRpdG9yVW5saW5rSWNvbiBsYWJlbD17Zm9ybWF0VW5saW5rVGV4dH0gLz59XG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmhhbmRsZVVubGlua31cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9VcmxJbnB1dFdyYXBwZXI+XG4gICAgICAgICAgeyEhZXJyb3JzTGlzdC5sZW5ndGggJiYgKFxuICAgICAgICAgICAgPFZhbGlkYXRpb25XcmFwcGVyPntlcnJvcnNMaXN0fTwvVmFsaWRhdGlvbldyYXBwZXI+XG4gICAgICAgICAgKX1cbiAgICAgICAgICB7cmVuZGVyUmVjZW50TGlzdCgpfVxuICAgICAgICA8L0NvbnRhaW5lcj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IHByb3ZpZGVyRmFjdG9yeSwgZGlzcGxheVVybCB9ID0gdGhpcy5wcm9wc1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxSZWNlbnRTZWFyY2hcbiAgICAgICAgZGVmYXVsdFVybD17bm9ybWFsaXplVXJsKGRpc3BsYXlVcmwpfVxuICAgICAgICBwcm92aWRlckZhY3Rvcnk9e3Byb3ZpZGVyRmFjdG9yeX1cbiAgICAgICAgb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fVxuICAgICAgICBvbkJsdXI9e3RoaXMuaGFuZGxlT25CbHVyfVxuICAgICAgICByZW5kZXI9e3RoaXMucmVuZGVyQ29udGFpbmVyfVxuICAgICAgLz5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTGlua0FkZFRvb2xiYXJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBaUJBO0FBV0E7QUFJQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBSUE7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFRQTtBQUpBO0FBS0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQStCQTtBQUpBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUtBO0FBRUE7QUFHQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBSUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBTUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBWUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBdEdBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUF1RkE7QUFBQTtBQUFBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFBQTtBQUdBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/plugins/media/ui/MediaLinkingToolbar.tsx\n");

/***/ }),

/***/ "./src/plugins/media/ui/MediaPicker/BrowserWrapper.tsx":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BrowserWrapper\", function() { return BrowserWrapper; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _PickerFacadeProvider__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./src/plugins/media/ui/MediaPicker/PickerFacadeProvider.tsx\");\n/* harmony import */ var _atlaskit_media_picker__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/@atlaskit/media-picker/dist/esm/index.js\");\n\n\n\nvar BrowserWrapper = function BrowserWrapper(_ref) {\n  var mediaState = _ref.mediaState,\n    isOpen = _ref.isOpen,\n    onBrowseFn = _ref.onBrowseFn,\n    featureFlags = _ref.featureFlags;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_PickerFacadeProvider__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n    mediaState: mediaState,\n    analyticsName: \"browser\"\n  }, function (_ref2) {\n    var mediaClientConfig = _ref2.mediaClientConfig,\n      config = _ref2.config,\n      pickerFacadeInstance = _ref2.pickerFacadeInstance;\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atlaskit_media_picker__WEBPACK_IMPORTED_MODULE_2__[\"Browser\"], {\n      onBrowseFn: onBrowseFn,\n      isOpen: isOpen,\n      config: config,\n      mediaClientConfig: mediaClientConfig,\n      onEnd: pickerFacadeInstance.handleReady,\n      onError: pickerFacadeInstance.handleUploadError,\n      onPreviewUpdate: pickerFacadeInstance.handleUploadPreviewUpdate,\n      featureFlags: featureFlags\n    });\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9tZWRpYS91aS9NZWRpYVBpY2tlci9Ccm93c2VyV3JhcHBlci50c3guanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2lucy9tZWRpYS91aS9NZWRpYVBpY2tlci9Ccm93c2VyV3JhcHBlci50c3g/NWYzZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgUGlja2VyRmFjYWRlUHJvdmlkZXIgZnJvbSAnLi9QaWNrZXJGYWNhZGVQcm92aWRlcidcbmltcG9ydCB7IEJyb3dzZXIgfSBmcm9tICdAYXRsYXNraXQvbWVkaWEtcGlja2VyJ1xuaW1wb3J0IHsgTWVkaWFQbHVnaW5TdGF0ZSB9IGZyb20gJy4uLy4uL3BtLXBsdWdpbnMvdHlwZXMnXG5pbXBvcnQgeyBNZWRpYUZlYXR1cmVGbGFncyB9IGZyb20gJ0BhdGxhc2tpdC9tZWRpYS1jb21tb24vbWVkaWFGZWF0dXJlRmxhZ3MnXG5cbnR5cGUgUHJvcHMgPSB7XG4gIG1lZGlhU3RhdGU6IE1lZGlhUGx1Z2luU3RhdGVcbiAgaXNPcGVuPzogYm9vbGVhblxuICBvbkJyb3dzZUZuOiAoYnJvd3NlOiAoKSA9PiB2b2lkKSA9PiB2b2lkXG4gIGZlYXR1cmVGbGFncz86IE1lZGlhRmVhdHVyZUZsYWdzXG59XG5cbmV4cG9ydCBjb25zdCBCcm93c2VyV3JhcHBlciA9ICh7XG4gIG1lZGlhU3RhdGUsXG4gIGlzT3BlbixcbiAgb25Ccm93c2VGbixcbiAgZmVhdHVyZUZsYWdzXG59OiBQcm9wcykgPT4gKFxuICA8UGlja2VyRmFjYWRlUHJvdmlkZXIgbWVkaWFTdGF0ZT17bWVkaWFTdGF0ZX0gYW5hbHl0aWNzTmFtZT1cImJyb3dzZXJcIj5cbiAgICB7KHsgbWVkaWFDbGllbnRDb25maWcsIGNvbmZpZywgcGlja2VyRmFjYWRlSW5zdGFuY2UgfSkgPT4gKFxuICAgICAgPEJyb3dzZXJcbiAgICAgICAgb25Ccm93c2VGbj17b25Ccm93c2VGbn1cbiAgICAgICAgaXNPcGVuPXtpc09wZW59XG4gICAgICAgIGNvbmZpZz17Y29uZmlnfVxuICAgICAgICBtZWRpYUNsaWVudENvbmZpZz17bWVkaWFDbGllbnRDb25maWd9XG4gICAgICAgIG9uRW5kPXtwaWNrZXJGYWNhZGVJbnN0YW5jZS5oYW5kbGVSZWFkeX1cbiAgICAgICAgb25FcnJvcj17cGlja2VyRmFjYWRlSW5zdGFuY2UuaGFuZGxlVXBsb2FkRXJyb3J9XG4gICAgICAgIG9uUHJldmlld1VwZGF0ZT17cGlja2VyRmFjYWRlSW5zdGFuY2UuaGFuZGxlVXBsb2FkUHJldmlld1VwZGF0ZX1cbiAgICAgICAgZmVhdHVyZUZsYWdzPXtmZWF0dXJlRmxhZ3N9XG4gICAgICAvPlxuICAgICl9XG4gIDwvUGlja2VyRmFjYWRlUHJvdmlkZXI+XG4pXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQVdBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/plugins/media/ui/MediaPicker/BrowserWrapper.tsx\n");

/***/ }),

/***/ "./src/plugins/media/ui/MediaPicker/ClipboardWrapper.tsx":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ClipboardWrapper\", function() { return ClipboardWrapper; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _PickerFacadeProvider__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./src/plugins/media/ui/MediaPicker/PickerFacadeProvider.tsx\");\n/* harmony import */ var _atlaskit_media_picker__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/@atlaskit/media-picker/dist/esm/index.js\");\n\n\n\nvar ClipboardWrapper = function ClipboardWrapper(_ref) {\n  var mediaState = _ref.mediaState,\n    featureFlags = _ref.featureFlags;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_PickerFacadeProvider__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n    mediaState: mediaState,\n    analyticsName: \"clipboard\"\n  }, function (_ref2) {\n    var mediaClientConfig = _ref2.mediaClientConfig,\n      config = _ref2.config,\n      pickerFacadeInstance = _ref2.pickerFacadeInstance;\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atlaskit_media_picker__WEBPACK_IMPORTED_MODULE_2__[\"Clipboard\"], {\n      mediaClientConfig: mediaClientConfig,\n      config: config,\n      onError: pickerFacadeInstance.handleUploadError,\n      onPreviewUpdate: pickerFacadeInstance.handleUploadPreviewUpdate,\n      onEnd: pickerFacadeInstance.handleReady,\n      featureFlags: featureFlags\n    });\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9tZWRpYS91aS9NZWRpYVBpY2tlci9DbGlwYm9hcmRXcmFwcGVyLnRzeC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9wbHVnaW5zL21lZGlhL3VpL01lZGlhUGlja2VyL0NsaXBib2FyZFdyYXBwZXIudHN4P2RkN2QiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuaW1wb3J0IFBpY2tlckZhY2FkZVByb3ZpZGVyIGZyb20gJy4vUGlja2VyRmFjYWRlUHJvdmlkZXInXG5pbXBvcnQgeyBDbGlwYm9hcmQgfSBmcm9tICdAYXRsYXNraXQvbWVkaWEtcGlja2VyJ1xuaW1wb3J0IHsgTWVkaWFQbHVnaW5TdGF0ZSB9IGZyb20gJy4uLy4uL3BtLXBsdWdpbnMvdHlwZXMnXG5pbXBvcnQgeyBNZWRpYUZlYXR1cmVGbGFncyB9IGZyb20gJ0BhdGxhc2tpdC9tZWRpYS1jb21tb24vbWVkaWFGZWF0dXJlRmxhZ3MnXG5cbnR5cGUgUHJvcHMgPSB7XG4gIG1lZGlhU3RhdGU6IE1lZGlhUGx1Z2luU3RhdGVcbiAgZmVhdHVyZUZsYWdzPzogTWVkaWFGZWF0dXJlRmxhZ3Ncbn1cblxuZXhwb3J0IGNvbnN0IENsaXBib2FyZFdyYXBwZXIgPSAoeyBtZWRpYVN0YXRlLCBmZWF0dXJlRmxhZ3MgfTogUHJvcHMpID0+IChcbiAgPFBpY2tlckZhY2FkZVByb3ZpZGVyIG1lZGlhU3RhdGU9e21lZGlhU3RhdGV9IGFuYWx5dGljc05hbWU9XCJjbGlwYm9hcmRcIj5cbiAgICB7KHsgbWVkaWFDbGllbnRDb25maWcsIGNvbmZpZywgcGlja2VyRmFjYWRlSW5zdGFuY2UgfSkgPT4gKFxuICAgICAgPENsaXBib2FyZFxuICAgICAgICBtZWRpYUNsaWVudENvbmZpZz17bWVkaWFDbGllbnRDb25maWd9XG4gICAgICAgIGNvbmZpZz17Y29uZmlnfVxuICAgICAgICBvbkVycm9yPXtwaWNrZXJGYWNhZGVJbnN0YW5jZS5oYW5kbGVVcGxvYWRFcnJvcn1cbiAgICAgICAgb25QcmV2aWV3VXBkYXRlPXtwaWNrZXJGYWNhZGVJbnN0YW5jZS5oYW5kbGVVcGxvYWRQcmV2aWV3VXBkYXRlfVxuICAgICAgICBvbkVuZD17cGlja2VyRmFjYWRlSW5zdGFuY2UuaGFuZGxlUmVhZHl9XG4gICAgICAgIGZlYXR1cmVGbGFncz17ZmVhdHVyZUZsYWdzfVxuICAgICAgLz5cbiAgICApfVxuICA8L1BpY2tlckZhY2FkZVByb3ZpZGVyPlxuKVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFTQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/plugins/media/ui/MediaPicker/ClipboardWrapper.tsx\n");

/***/ }),

/***/ "./src/plugins/media/ui/MediaPicker/DropzoneWrapper.tsx":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DropzoneWrapper\", function() { return DropzoneWrapper; });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _atlaskit_media_picker__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/@atlaskit/media-picker/dist/esm/index.js\");\n/* harmony import */ var _PickerFacadeProvider__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./src/plugins/media/ui/MediaPicker/PickerFacadeProvider.tsx\");\n\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n\n\n\nvar DropzoneWrapper = function DropzoneWrapper(_ref) {\n  var mediaState = _ref.mediaState,\n    isActive = _ref.isActive,\n    featureFlags = _ref.featureFlags;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_PickerFacadeProvider__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n    mediaState: mediaState,\n    analyticsName: \"dropzone\"\n  }, function (_ref2) {\n    var mediaClientConfig = _ref2.mediaClientConfig,\n      config = _ref2.config,\n      pickerFacadeInstance = _ref2.pickerFacadeInstance;\n    var customDropzoneContainer = mediaState.options.customDropzoneContainer,\n      handleDrag = mediaState.handleDrag;\n    var dropzoneConfig = _objectSpread(_objectSpread({}, config), {}, {\n      container: customDropzoneContainer\n    });\n    return isActive ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_atlaskit_media_picker__WEBPACK_IMPORTED_MODULE_2__[\"Dropzone\"], {\n      mediaClientConfig: mediaClientConfig,\n      config: dropzoneConfig,\n      onError: pickerFacadeInstance.handleUploadError,\n      onPreviewUpdate: pickerFacadeInstance.handleUploadPreviewUpdate,\n      onEnd: pickerFacadeInstance.handleReady,\n      onDragEnter: function onDragEnter() {\n        return handleDrag('enter');\n      },\n      onDragLeave: function onDragLeave() {\n        return handleDrag('leave');\n      },\n      featureFlags: featureFlags\n    }) : null;\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9tZWRpYS91aS9NZWRpYVBpY2tlci9Ecm9wem9uZVdyYXBwZXIudHN4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbnMvbWVkaWEvdWkvTWVkaWFQaWNrZXIvRHJvcHpvbmVXcmFwcGVyLnRzeD8yNjM0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCB7IERyb3B6b25lIH0gZnJvbSAnQGF0bGFza2l0L21lZGlhLXBpY2tlcidcbmltcG9ydCBQaWNrZXJGYWNhZGVQcm92aWRlciBmcm9tICcuL1BpY2tlckZhY2FkZVByb3ZpZGVyJ1xuaW1wb3J0IHsgTWVkaWFQbHVnaW5TdGF0ZSB9IGZyb20gJy4uLy4uL3BtLXBsdWdpbnMvdHlwZXMnXG5pbXBvcnQgeyBNZWRpYUZlYXR1cmVGbGFncyB9IGZyb20gJ0BhdGxhc2tpdC9tZWRpYS1jb21tb24vbWVkaWFGZWF0dXJlRmxhZ3MnXG5cbnR5cGUgUHJvcHMgPSB7XG4gIG1lZGlhU3RhdGU6IE1lZGlhUGx1Z2luU3RhdGVcbiAgaXNBY3RpdmU6IGJvb2xlYW5cbiAgZmVhdHVyZUZsYWdzPzogTWVkaWFGZWF0dXJlRmxhZ3Ncbn1cblxuZXhwb3J0IGNvbnN0IERyb3B6b25lV3JhcHBlciA9ICh7XG4gIG1lZGlhU3RhdGUsXG4gIGlzQWN0aXZlLFxuICBmZWF0dXJlRmxhZ3Ncbn06IFByb3BzKSA9PiAoXG4gIDxQaWNrZXJGYWNhZGVQcm92aWRlciBtZWRpYVN0YXRlPXttZWRpYVN0YXRlfSBhbmFseXRpY3NOYW1lPVwiZHJvcHpvbmVcIj5cbiAgICB7KHsgbWVkaWFDbGllbnRDb25maWcsIGNvbmZpZywgcGlja2VyRmFjYWRlSW5zdGFuY2UgfSkgPT4ge1xuICAgICAgY29uc3Qge1xuICAgICAgICBvcHRpb25zOiB7IGN1c3RvbURyb3B6b25lQ29udGFpbmVyIH0sXG4gICAgICAgIGhhbmRsZURyYWdcbiAgICAgIH0gPSBtZWRpYVN0YXRlXG5cbiAgICAgIGNvbnN0IGRyb3B6b25lQ29uZmlnID0ge1xuICAgICAgICAuLi5jb25maWcsXG4gICAgICAgIGNvbnRhaW5lcjogY3VzdG9tRHJvcHpvbmVDb250YWluZXJcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGlzQWN0aXZlID8gKFxuICAgICAgICA8RHJvcHpvbmVcbiAgICAgICAgICBtZWRpYUNsaWVudENvbmZpZz17bWVkaWFDbGllbnRDb25maWd9XG4gICAgICAgICAgY29uZmlnPXtkcm9wem9uZUNvbmZpZ31cbiAgICAgICAgICBvbkVycm9yPXtwaWNrZXJGYWNhZGVJbnN0YW5jZS5oYW5kbGVVcGxvYWRFcnJvcn1cbiAgICAgICAgICBvblByZXZpZXdVcGRhdGU9e3BpY2tlckZhY2FkZUluc3RhbmNlLmhhbmRsZVVwbG9hZFByZXZpZXdVcGRhdGV9XG4gICAgICAgICAgb25FbmQ9e3BpY2tlckZhY2FkZUluc3RhbmNlLmhhbmRsZVJlYWR5fVxuICAgICAgICAgIG9uRHJhZ0VudGVyPXsoKSA9PiBoYW5kbGVEcmFnKCdlbnRlcicpfVxuICAgICAgICAgIG9uRHJhZ0xlYXZlPXsoKSA9PiBoYW5kbGVEcmFnKCdsZWF2ZScpfVxuICAgICAgICAgIGZlYXR1cmVGbGFncz17ZmVhdHVyZUZsYWdzfVxuICAgICAgICAvPlxuICAgICAgKSA6IG51bGxcbiAgICB9fVxuICA8L1BpY2tlckZhY2FkZVByb3ZpZGVyPlxuKVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQVVBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBR0E7QUFFQTtBQUFBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUdBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/plugins/media/ui/MediaPicker/DropzoneWrapper.tsx\n");

/***/ }),

/***/ "./src/plugins/media/ui/MediaPicker/PickerFacadeProvider.tsx":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return PickerFacadeProvider; });\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/assertThisInitialized.js\");\n/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/inherits.js\");\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\");\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/getPrototypeOf.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _atlaskit_media_picker__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"./node_modules/@atlaskit/media-picker/dist/esm/index.js\");\n/* harmony import */ var _atlaskit_editor_common__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"./node_modules/@atlaskit/editor-common/dist/esm/index.js\");\n/* harmony import */ var _picker_facade__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"./src/plugins/media/picker-facade.ts\");\n\n\n\n\n\n\n\n\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default()(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\nvar dummyMediaPickerObject = {\n  on: function on() {},\n  removeAllListeners: function removeAllListeners() {},\n  emit: function emit() {},\n  destroy: function destroy() {},\n  setUploadParams: function setUploadParams() {}\n};\nvar PickerFacadeProvider = /*#__PURE__*/function (_React$Component) {\n  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default()(PickerFacadeProvider, _React$Component);\n  var _super = _createSuper(PickerFacadeProvider);\n  function PickerFacadeProvider() {\n    var _this;\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this, PickerFacadeProvider);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default()(_this), \"state\", {});\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default()(_this), \"handleMediaProvider\", /*#__PURE__*/function () {\n      var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default.a.mark(function _callee(_name, provider) {\n        var _this$props, mediaState, analyticsName, mediaProvider, resolvedMediaClientConfig, pickerFacadeConfig, pickerFacadeInstance, config;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _this$props = _this.props, mediaState = _this$props.mediaState, analyticsName = _this$props.analyticsName;\n                _context.next = 3;\n                return provider;\n              case 3:\n                mediaProvider = _context.sent;\n                if (!(!mediaProvider || !mediaProvider.uploadParams)) {\n                  _context.next = 6;\n                  break;\n                }\n                return _context.abrupt(\"return\");\n              case 6:\n                _context.next = 8;\n                return mediaProvider.uploadMediaClientConfig;\n              case 8:\n                _context.t0 = _context.sent;\n                if (_context.t0) {\n                  _context.next = 13;\n                  break;\n                }\n                _context.next = 12;\n                return mediaProvider.viewMediaClientConfig;\n              case 12:\n                _context.t0 = _context.sent;\n              case 13:\n                resolvedMediaClientConfig = _context.t0;\n                if (resolvedMediaClientConfig) {\n                  _context.next = 16;\n                  break;\n                }\n                return _context.abrupt(\"return\");\n              case 16:\n                pickerFacadeConfig = {\n                  mediaClientConfig: resolvedMediaClientConfig,\n                  errorReporter: mediaState.options.errorReporter || new _atlaskit_editor_common__WEBPACK_IMPORTED_MODULE_11__[\"ErrorReporter\"](),\n                  featureFlags: mediaState.mediaOptions && mediaState.mediaOptions.featureFlags\n                };\n                /**\n                 * As the first MediaPicker component to be migrated to React, we want to scope the amount of changes logic changed/moved on Editor side.\n                 * To achieve this we agreed on using `PickerFacade` 'customMediaPicker' type, since we only need this instance to reuse the logic when we subscribe\n                 * for all the different events in MediaPicker (onPreviewUpdate, onError, onProcessing, etc).\n                 * The `dummyMediaPickerObject` provided here serves as a workaround for the old picker api that `PickerFacade` will try to use.\n                 * But we don't want this to do anything since it's all part of the new React component (`Clipboard` component in this case).\n                 * Eventually PickerFacade will be removed and replaced with a new abstraction explained here https://product-fabric.atlassian.net/browse/MS-1937\n                 */\n                _context.next = 19;\n                return new _picker_facade__WEBPACK_IMPORTED_MODULE_12__[\"default\"]('customMediaPicker', pickerFacadeConfig, dummyMediaPickerObject, _atlaskit_media_picker__WEBPACK_IMPORTED_MODULE_10__[\"MediaPicker\"], analyticsName).init();\n              case 19:\n                pickerFacadeInstance = _context.sent;\n                /**\n                 * Based on the `initPickers` method in `MediaPluginState` we need these 2 `onNewMedia` subscriptions.\n                 * First one in order to trigger the entire process of uploading a file for when `onPreviewUpdate` is called\n                 * Second one in order to track all analytics as before.\n                 */\n                pickerFacadeInstance.onNewMedia(mediaState.insertFile);\n                pickerFacadeInstance.setUploadParams(mediaProvider.uploadParams);\n                config = {\n                  uploadParams: mediaProvider.uploadParams\n                };\n                _this.setState({\n                  pickerFacadeInstance: pickerFacadeInstance,\n                  config: config,\n                  mediaClientConfig: resolvedMediaClientConfig\n                });\n              case 24:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n      return function (_x, _x2) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n    return _this;\n  }\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(PickerFacadeProvider, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.mediaState.options.providerFactory.subscribe('mediaProvider', this.handleMediaProvider);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.props.mediaState.options.providerFactory.unsubscribe('mediaProvider', this.handleMediaProvider);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n        mediaClientConfig = _this$state.mediaClientConfig,\n        config = _this$state.config,\n        pickerFacadeInstance = _this$state.pickerFacadeInstance;\n      if (!mediaClientConfig || !config || !pickerFacadeInstance) {\n        return null;\n      }\n      return this.props.children({\n        mediaClientConfig: mediaClientConfig,\n        config: config,\n        pickerFacadeInstance: pickerFacadeInstance\n      });\n    }\n  }]);\n  return PickerFacadeProvider;\n}(react__WEBPACK_IMPORTED_MODULE_9___default.a.Component);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9tZWRpYS91aS9NZWRpYVBpY2tlci9QaWNrZXJGYWNhZGVQcm92aWRlci50c3guanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2lucy9tZWRpYS91aS9NZWRpYVBpY2tlci9QaWNrZXJGYWNhZGVQcm92aWRlci50c3g/ZTQwOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBNZWRpYVBpY2tlciB9IGZyb20gJ0BhdGxhc2tpdC9tZWRpYS1waWNrZXInXG5pbXBvcnQge1xuICBDbGlwYm9hcmRDb25maWcsXG4gIEJyb3dzZXJDb25maWcsXG4gIERyb3B6b25lQ29uZmlnXG59IGZyb20gJ0BhdGxhc2tpdC9tZWRpYS1waWNrZXIvdHlwZXMnXG5pbXBvcnQgeyBNZWRpYUNsaWVudENvbmZpZyB9IGZyb20gJ0BhdGxhc2tpdC9tZWRpYS1jb3JlJ1xuaW1wb3J0IHsgRXJyb3JSZXBvcnRlciB9IGZyb20gJ0BhdGxhc2tpdC9lZGl0b3ItY29tbW9uJ1xuaW1wb3J0IHsgTWVkaWFQcm92aWRlciB9IGZyb20gJ0BhdGxhc2tpdC9lZGl0b3ItY29tbW9uL3Byb3ZpZGVyLWZhY3RvcnknXG5pbXBvcnQgUGlja2VyRmFjYWRlIGZyb20gJy4uLy4uL3BpY2tlci1mYWNhZGUnXG5pbXBvcnQgeyBDdXN0b21NZWRpYVBpY2tlciB9IGZyb20gJy4uLy4uL3R5cGVzJ1xuaW1wb3J0IHsgTWVkaWFQbHVnaW5TdGF0ZSB9IGZyb20gJy4uLy4uL3BtLXBsdWdpbnMvdHlwZXMnXG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2hpbGRyZW5Qcm9wcyB7XG4gIGNvbmZpZzogQ2xpcGJvYXJkQ29uZmlnIHwgQnJvd3NlckNvbmZpZyB8IERyb3B6b25lQ29uZmlnXG4gIG1lZGlhQ2xpZW50Q29uZmlnOiBNZWRpYUNsaWVudENvbmZpZ1xuICBwaWNrZXJGYWNhZGVJbnN0YW5jZTogUGlja2VyRmFjYWRlXG59XG5cbmV4cG9ydCB0eXBlIFByb3BzID0ge1xuICBtZWRpYVN0YXRlOiBNZWRpYVBsdWdpblN0YXRlXG4gIGFuYWx5dGljc05hbWU6IHN0cmluZ1xuICBjaGlsZHJlbjogKHByb3BzOiBDaGlsZHJlblByb3BzKSA9PiBSZWFjdC5SZWFjdE5vZGVcbn1cblxudHlwZSBTdGF0ZSA9IHtcbiAgY29uZmlnPzogQ2xpcGJvYXJkQ29uZmlnIHwgQnJvd3NlckNvbmZpZyB8IERyb3B6b25lQ29uZmlnXG4gIG1lZGlhQ2xpZW50Q29uZmlnPzogTWVkaWFDbGllbnRDb25maWdcbiAgcGlja2VyRmFjYWRlSW5zdGFuY2U/OiBQaWNrZXJGYWNhZGVcbn1cblxuY29uc3QgZHVtbXlNZWRpYVBpY2tlck9iamVjdDogQ3VzdG9tTWVkaWFQaWNrZXIgPSB7XG4gIG9uOiAoKSA9PiB7fSxcbiAgcmVtb3ZlQWxsTGlzdGVuZXJzOiAoKSA9PiB7fSxcbiAgZW1pdDogKCkgPT4ge30sXG4gIGRlc3Ryb3k6ICgpID0+IHt9LFxuICBzZXRVcGxvYWRQYXJhbXM6ICgpID0+IHt9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBpY2tlckZhY2FkZVByb3ZpZGVyIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PFxuICBQcm9wcyxcbiAgU3RhdGVcbj4ge1xuICBzdGF0ZTogU3RhdGUgPSB7fVxuXG4gIHByaXZhdGUgaGFuZGxlTWVkaWFQcm92aWRlciA9IGFzeW5jIChcbiAgICBfbmFtZTogc3RyaW5nLFxuICAgIHByb3ZpZGVyPzogUHJvbWlzZTxNZWRpYVByb3ZpZGVyPlxuICApID0+IHtcbiAgICBjb25zdCB7IG1lZGlhU3RhdGUsIGFuYWx5dGljc05hbWUgfSA9IHRoaXMucHJvcHNcbiAgICBjb25zdCBtZWRpYVByb3ZpZGVyID0gYXdhaXQgcHJvdmlkZXJcblxuICAgIGlmICghbWVkaWFQcm92aWRlciB8fCAhbWVkaWFQcm92aWRlci51cGxvYWRQYXJhbXMpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGNvbnN0IHJlc29sdmVkTWVkaWFDbGllbnRDb25maWcgPVxuICAgICAgKGF3YWl0IG1lZGlhUHJvdmlkZXIudXBsb2FkTWVkaWFDbGllbnRDb25maWcpIHx8XG4gICAgICAoYXdhaXQgbWVkaWFQcm92aWRlci52aWV3TWVkaWFDbGllbnRDb25maWcpXG5cbiAgICBpZiAoIXJlc29sdmVkTWVkaWFDbGllbnRDb25maWcpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGNvbnN0IHBpY2tlckZhY2FkZUNvbmZpZyA9IHtcbiAgICAgIG1lZGlhQ2xpZW50Q29uZmlnOiByZXNvbHZlZE1lZGlhQ2xpZW50Q29uZmlnLFxuICAgICAgZXJyb3JSZXBvcnRlcjogbWVkaWFTdGF0ZS5vcHRpb25zLmVycm9yUmVwb3J0ZXIgfHwgbmV3IEVycm9yUmVwb3J0ZXIoKSxcbiAgICAgIGZlYXR1cmVGbGFnczpcbiAgICAgICAgbWVkaWFTdGF0ZS5tZWRpYU9wdGlvbnMgJiYgbWVkaWFTdGF0ZS5tZWRpYU9wdGlvbnMuZmVhdHVyZUZsYWdzXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXMgdGhlIGZpcnN0IE1lZGlhUGlja2VyIGNvbXBvbmVudCB0byBiZSBtaWdyYXRlZCB0byBSZWFjdCwgd2Ugd2FudCB0byBzY29wZSB0aGUgYW1vdW50IG9mIGNoYW5nZXMgbG9naWMgY2hhbmdlZC9tb3ZlZCBvbiBFZGl0b3Igc2lkZS5cbiAgICAgKiBUbyBhY2hpZXZlIHRoaXMgd2UgYWdyZWVkIG9uIHVzaW5nIGBQaWNrZXJGYWNhZGVgICdjdXN0b21NZWRpYVBpY2tlcicgdHlwZSwgc2luY2Ugd2Ugb25seSBuZWVkIHRoaXMgaW5zdGFuY2UgdG8gcmV1c2UgdGhlIGxvZ2ljIHdoZW4gd2Ugc3Vic2NyaWJlXG4gICAgICogZm9yIGFsbCB0aGUgZGlmZmVyZW50IGV2ZW50cyBpbiBNZWRpYVBpY2tlciAob25QcmV2aWV3VXBkYXRlLCBvbkVycm9yLCBvblByb2Nlc3NpbmcsIGV0YykuXG4gICAgICogVGhlIGBkdW1teU1lZGlhUGlja2VyT2JqZWN0YCBwcm92aWRlZCBoZXJlIHNlcnZlcyBhcyBhIHdvcmthcm91bmQgZm9yIHRoZSBvbGQgcGlja2VyIGFwaSB0aGF0IGBQaWNrZXJGYWNhZGVgIHdpbGwgdHJ5IHRvIHVzZS5cbiAgICAgKiBCdXQgd2UgZG9uJ3Qgd2FudCB0aGlzIHRvIGRvIGFueXRoaW5nIHNpbmNlIGl0J3MgYWxsIHBhcnQgb2YgdGhlIG5ldyBSZWFjdCBjb21wb25lbnQgKGBDbGlwYm9hcmRgIGNvbXBvbmVudCBpbiB0aGlzIGNhc2UpLlxuICAgICAqIEV2ZW50dWFsbHkgUGlja2VyRmFjYWRlIHdpbGwgYmUgcmVtb3ZlZCBhbmQgcmVwbGFjZWQgd2l0aCBhIG5ldyBhYnN0cmFjdGlvbiBleHBsYWluZWQgaGVyZSBodHRwczovL3Byb2R1Y3QtZmFicmljLmF0bGFzc2lhbi5uZXQvYnJvd3NlL01TLTE5MzdcbiAgICAgKi9cbiAgICBjb25zdCBwaWNrZXJGYWNhZGVJbnN0YW5jZSA9IGF3YWl0IG5ldyBQaWNrZXJGYWNhZGUoXG4gICAgICAnY3VzdG9tTWVkaWFQaWNrZXInLFxuICAgICAgcGlja2VyRmFjYWRlQ29uZmlnLFxuICAgICAgZHVtbXlNZWRpYVBpY2tlck9iamVjdCxcbiAgICAgIE1lZGlhUGlja2VyLFxuICAgICAgYW5hbHl0aWNzTmFtZVxuICAgICkuaW5pdCgpXG5cbiAgICAvKipcbiAgICAgKiBCYXNlZCBvbiB0aGUgYGluaXRQaWNrZXJzYCBtZXRob2QgaW4gYE1lZGlhUGx1Z2luU3RhdGVgIHdlIG5lZWQgdGhlc2UgMiBgb25OZXdNZWRpYWAgc3Vic2NyaXB0aW9ucy5cbiAgICAgKiBGaXJzdCBvbmUgaW4gb3JkZXIgdG8gdHJpZ2dlciB0aGUgZW50aXJlIHByb2Nlc3Mgb2YgdXBsb2FkaW5nIGEgZmlsZSBmb3Igd2hlbiBgb25QcmV2aWV3VXBkYXRlYCBpcyBjYWxsZWRcbiAgICAgKiBTZWNvbmQgb25lIGluIG9yZGVyIHRvIHRyYWNrIGFsbCBhbmFseXRpY3MgYXMgYmVmb3JlLlxuICAgICAqL1xuICAgIHBpY2tlckZhY2FkZUluc3RhbmNlLm9uTmV3TWVkaWEobWVkaWFTdGF0ZS5pbnNlcnRGaWxlKVxuICAgIHBpY2tlckZhY2FkZUluc3RhbmNlLnNldFVwbG9hZFBhcmFtcyhtZWRpYVByb3ZpZGVyLnVwbG9hZFBhcmFtcylcblxuICAgIGNvbnN0IGNvbmZpZyA9IHtcbiAgICAgIHVwbG9hZFBhcmFtczogbWVkaWFQcm92aWRlci51cGxvYWRQYXJhbXNcbiAgICB9XG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIHBpY2tlckZhY2FkZUluc3RhbmNlLFxuICAgICAgY29uZmlnLFxuICAgICAgbWVkaWFDbGllbnRDb25maWc6IHJlc29sdmVkTWVkaWFDbGllbnRDb25maWdcbiAgICB9KVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGhpcy5wcm9wcy5tZWRpYVN0YXRlLm9wdGlvbnMucHJvdmlkZXJGYWN0b3J5LnN1YnNjcmliZShcbiAgICAgICdtZWRpYVByb3ZpZGVyJyxcbiAgICAgIHRoaXMuaGFuZGxlTWVkaWFQcm92aWRlclxuICAgIClcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIHRoaXMucHJvcHMubWVkaWFTdGF0ZS5vcHRpb25zLnByb3ZpZGVyRmFjdG9yeS51bnN1YnNjcmliZShcbiAgICAgICdtZWRpYVByb3ZpZGVyJyxcbiAgICAgIHRoaXMuaGFuZGxlTWVkaWFQcm92aWRlclxuICAgIClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IG1lZGlhQ2xpZW50Q29uZmlnLCBjb25maWcsIHBpY2tlckZhY2FkZUluc3RhbmNlIH0gPSB0aGlzLnN0YXRlXG5cbiAgICBpZiAoIW1lZGlhQ2xpZW50Q29uZmlnIHx8ICFjb25maWcgfHwgIXBpY2tlckZhY2FkZUluc3RhbmNlKSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnByb3BzLmNoaWxkcmVuKHtcbiAgICAgIG1lZGlhQ2xpZW50Q29uZmlnLFxuICAgICAgY29uZmlnLFxuICAgICAgcGlja2VyRmFjYWRlSW5zdGFuY2VcbiAgICB9KVxuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFPQTtBQUVBO0FBc0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUlBO0FBQUE7QUFJQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFLQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBRkE7QUFBQTtBQUlBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVBBO0FBQUE7QUFjQTtBQU5BO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUlBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFJQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/plugins/media/ui/MediaPicker/PickerFacadeProvider.tsx\n");

/***/ }),

/***/ "./src/plugins/media/ui/MediaPicker/index.tsx":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MediaPickerComponents\", function() { return MediaPickerComponents; });\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/assertThisInitialized.js\");\n/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/inherits.js\");\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\");\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/getPrototypeOf.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _ClipboardWrapper__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./src/plugins/media/ui/MediaPicker/ClipboardWrapper.tsx\");\n/* harmony import */ var _DropzoneWrapper__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"./src/plugins/media/ui/MediaPicker/DropzoneWrapper.tsx\");\n/* harmony import */ var _BrowserWrapper__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"./src/plugins/media/ui/MediaPicker/BrowserWrapper.tsx\");\n\n\n\n\n\n\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\nvar MediaPickerComponents = /*#__PURE__*/function (_React$Component) {\n  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default()(MediaPickerComponents, _React$Component);\n  var _super = _createSuper(MediaPickerComponents);\n  function MediaPickerComponents() {\n    var _this;\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, MediaPickerComponents);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(_this), \"state\", {\n      isPopupOpened: false\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(_this), \"onBrowseFn\", function (nativeBrowseFn) {\n      var mediaState = _this.props.mediaState;\n      mediaState && mediaState.setBrowseFn(nativeBrowseFn);\n    });\n    return _this;\n  }\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(MediaPickerComponents, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n      var mediaState = this.props.mediaState;\n      mediaState.onPopupToggle(function (isPopupOpened) {\n        _this2.setState({\n          isPopupOpened: isPopupOpened\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var mediaState = this.props.mediaState;\n      var isPopupOpened = this.state.isPopupOpened;\n      var featureFlags = mediaState.mediaOptions && mediaState.mediaOptions.featureFlags;\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_7___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_ClipboardWrapper__WEBPACK_IMPORTED_MODULE_8__[\"ClipboardWrapper\"], {\n        mediaState: mediaState,\n        featureFlags: featureFlags\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_DropzoneWrapper__WEBPACK_IMPORTED_MODULE_9__[\"DropzoneWrapper\"], {\n        mediaState: mediaState,\n        isActive: !isPopupOpened,\n        featureFlags: featureFlags\n      }), !mediaState.shouldUseMediaPickerPopup() && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_BrowserWrapper__WEBPACK_IMPORTED_MODULE_10__[\"BrowserWrapper\"], {\n        onBrowseFn: this.onBrowseFn,\n        mediaState: mediaState,\n        featureFlags: featureFlags\n      }));\n    }\n  }]);\n  return MediaPickerComponents;\n}(react__WEBPACK_IMPORTED_MODULE_7___default.a.Component);\n_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(MediaPickerComponents, \"displayName\", 'MediaPickerComponents');//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9tZWRpYS91aS9NZWRpYVBpY2tlci9pbmRleC50c3guanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2lucy9tZWRpYS91aS9NZWRpYVBpY2tlci9pbmRleC50c3g/NDA1MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBDbGlwYm9hcmRXcmFwcGVyIH0gZnJvbSAnLi9DbGlwYm9hcmRXcmFwcGVyJ1xuaW1wb3J0IHsgRHJvcHpvbmVXcmFwcGVyIH0gZnJvbSAnLi9Ecm9wem9uZVdyYXBwZXInXG5pbXBvcnQgeyBCcm93c2VyV3JhcHBlciB9IGZyb20gJy4vQnJvd3NlcldyYXBwZXInXG5pbXBvcnQgeyBNZWRpYVBsdWdpblN0YXRlIH0gZnJvbSAnLi4vLi4vcG0tcGx1Z2lucy90eXBlcydcblxudHlwZSBQcm9wcyA9IHtcbiAgbWVkaWFTdGF0ZTogTWVkaWFQbHVnaW5TdGF0ZVxufVxuXG50eXBlIFN0YXRlID0ge1xuICBpc1BvcHVwT3BlbmVkOiBib29sZWFuXG59XG5cbmV4cG9ydCBjbGFzcyBNZWRpYVBpY2tlckNvbXBvbmVudHMgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8UHJvcHMsIFN0YXRlPiB7XG4gIHN0YXRpYyBkaXNwbGF5TmFtZSA9ICdNZWRpYVBpY2tlckNvbXBvbmVudHMnXG5cbiAgc3RhdGUgPSB7XG4gICAgaXNQb3B1cE9wZW5lZDogZmFsc2VcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGNvbnN0IHsgbWVkaWFTdGF0ZSB9ID0gdGhpcy5wcm9wc1xuICAgIG1lZGlhU3RhdGUub25Qb3B1cFRvZ2dsZShpc1BvcHVwT3BlbmVkID0+IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc1BvcHVwT3BlbmVkXG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICBvbkJyb3dzZUZuID0gKG5hdGl2ZUJyb3dzZUZuOiAoKSA9PiB2b2lkKSA9PiB7XG4gICAgY29uc3QgeyBtZWRpYVN0YXRlIH0gPSB0aGlzLnByb3BzXG4gICAgbWVkaWFTdGF0ZSAmJiBtZWRpYVN0YXRlLnNldEJyb3dzZUZuKG5hdGl2ZUJyb3dzZUZuKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgbWVkaWFTdGF0ZSB9ID0gdGhpcy5wcm9wc1xuICAgIGNvbnN0IHsgaXNQb3B1cE9wZW5lZCB9ID0gdGhpcy5zdGF0ZVxuICAgIGNvbnN0IGZlYXR1cmVGbGFncyA9XG4gICAgICBtZWRpYVN0YXRlLm1lZGlhT3B0aW9ucyAmJiBtZWRpYVN0YXRlLm1lZGlhT3B0aW9ucy5mZWF0dXJlRmxhZ3NcblxuICAgIHJldHVybiAoXG4gICAgICA8PlxuICAgICAgICA8Q2xpcGJvYXJkV3JhcHBlciBtZWRpYVN0YXRlPXttZWRpYVN0YXRlfSBmZWF0dXJlRmxhZ3M9e2ZlYXR1cmVGbGFnc30gLz5cbiAgICAgICAgPERyb3B6b25lV3JhcHBlclxuICAgICAgICAgIG1lZGlhU3RhdGU9e21lZGlhU3RhdGV9XG4gICAgICAgICAgaXNBY3RpdmU9eyFpc1BvcHVwT3BlbmVkfVxuICAgICAgICAgIGZlYXR1cmVGbGFncz17ZmVhdHVyZUZsYWdzfVxuICAgICAgICAvPlxuICAgICAgICB7IW1lZGlhU3RhdGUuc2hvdWxkVXNlTWVkaWFQaWNrZXJQb3B1cCgpICYmIChcbiAgICAgICAgICA8QnJvd3NlcldyYXBwZXJcbiAgICAgICAgICAgIG9uQnJvd3NlRm49e3RoaXMub25Ccm93c2VGbn1cbiAgICAgICAgICAgIG1lZGlhU3RhdGU9e21lZGlhU3RhdGV9XG4gICAgICAgICAgICBmZWF0dXJlRmxhZ3M9e2ZlYXR1cmVGbGFnc31cbiAgICAgICAgICAvPlxuICAgICAgICApfVxuICAgICAgPC8+XG4gICAgKVxuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBV0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUlBO0FBQ0E7QUFBQTtBQVlBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFaQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBUUE7QUFDQTtBQUNBO0FBR0E7QUFFQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUlBO0FBQ0E7QUFDQTtBQUFBO0FBS0E7QUFBQTtBQUFBO0FBQUE7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/plugins/media/ui/MediaPicker/index.tsx\n");

/***/ }),

/***/ "./src/plugins/media/ui/ResizableMediaSingle/index.tsx":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ResizableMediaSingle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"calcOffsetLeft\", function() { return calcOffsetLeft; });\n/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/extends.js\");\n/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/assertThisInitialized.js\");\n/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/inherits.js\");\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\");\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/getPrototypeOf.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"./node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var prosemirror_utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"./node_modules/prosemirror-utils/dist/index.js\");\n/* harmony import */ var prosemirror_utils__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(prosemirror_utils__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _atlaskit_media_client__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"./node_modules/@atlaskit/media-client/dist/esm/index.js\");\n/* harmony import */ var _atlaskit_editor_common__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"./node_modules/@atlaskit/editor-common/dist/esm/index.js\");\n/* harmony import */ var _atlaskit_editor_shared_styles__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(\"./node_modules/@atlaskit/editor-shared-styles/dist/esm/index.js\");\n/* harmony import */ var _styled__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(\"./src/plugins/media/ui/ResizableMediaSingle/styled.tsx\");\n/* harmony import */ var _atlaskit_editor_core_ui_Resizer__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/ui/Resizer/index.tsx\");\n/* harmony import */ var _atlaskit_editor_core_ui_Resizer_utils__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/ui/Resizer/utils.ts\");\n/* harmony import */ var _utils_media_single__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(\"./src/plugins/media/utils/media-single.ts\");\n/* harmony import */ var _atlaskit_editor_core_plugins_table_pm_plugins_table_resizing_plugin_factory__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/plugins/table/pm-plugins/table-resizing/plugin-factory.ts\");\n/* harmony import */ var constants_media__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(\"./src/constants/media.ts\");\n\n\n\n\n\n\n\n\n\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6___default()(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\n\n\n\n\n\n\nvar ResizableMediaSingle = /*#__PURE__*/function (_React$Component) {\n  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default()(ResizableMediaSingle, _React$Component);\n  var _super = _createSuper(ResizableMediaSingle);\n  function ResizableMediaSingle() {\n    var _this;\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default()(this, ResizableMediaSingle);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), \"state\", {\n      offsetLeft: calcOffsetLeft(_this.insideInlineLike, _this.insideLayout, _this.props.view.dom, undefined),\n      // We default to true until we resolve the file type\n      isVideoFile: true\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), \"calcNewSize\", function (newWidth, stop) {\n      var _this$props = _this.props,\n        layout = _this$props.layout,\n        state = _this$props.view.state;\n      var newPct = Object(_atlaskit_editor_common__WEBPACK_IMPORTED_MODULE_13__[\"calcPctFromPx\"])(newWidth, _this.props.lineLength) * 100;\n      _this.setState({\n        resizedPctWidth: newPct\n      });\n      var newLayout = Object(prosemirror_utils__WEBPACK_IMPORTED_MODULE_11__[\"hasParentNodeOfType\"])(state.schema.nodes.table)(state.selection) ? layout : _this.calcUnwrappedLayout(newPct, newWidth);\n      if (newPct <= 100) {\n        if (_this.wrappedLayout && (stop ? newPct !== 100 : true)) {\n          newLayout = layout;\n        }\n        return {\n          width: newPct,\n          layout: newLayout\n        };\n      } else {\n        return {\n          width: _this.props.pctWidth || null,\n          layout: newLayout\n        };\n      }\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), \"calcUnwrappedLayout\", function (pct, width) {\n      if (pct <= 100) {\n        return 'center';\n      }\n      if (width <= _atlaskit_editor_shared_styles__WEBPACK_IMPORTED_MODULE_14__[\"akEditorWideLayoutWidth\"]) {\n        return 'wide';\n      }\n      return 'full-width';\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), \"calcColumnLeftOffset\", function () {\n      var offsetLeft = _this.state.offsetLeft;\n      return _this.insideInlineLike ? Object(_atlaskit_editor_common__WEBPACK_IMPORTED_MODULE_13__[\"calcColumnsFromPx\"])(offsetLeft, _this.props.lineLength, _this.props.gridSize) : 0;\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), \"wrapper\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), \"calcPxWidth\", function (useLayout) {\n      var _this$props2 = _this.props,\n        origWidth = _this$props2.width,\n        origHeight = _this$props2.height,\n        layout = _this$props2.layout,\n        pctWidth = _this$props2.pctWidth,\n        lineLength = _this$props2.lineLength,\n        containerWidth = _this$props2.containerWidth,\n        fullWidthMode = _this$props2.fullWidthMode,\n        getPos = _this$props2.getPos,\n        state = _this$props2.view.state;\n      var resizedPctWidth = _this.state.resizedPctWidth;\n      var pos = typeof getPos === 'function' ? getPos() : undefined;\n      return Object(_utils_media_single__WEBPACK_IMPORTED_MODULE_18__[\"calcMediaPxWidth\"])({\n        origWidth: origWidth,\n        origHeight: origHeight,\n        pctWidth: pctWidth,\n        state: state,\n        containerWidth: {\n          width: containerWidth,\n          lineLength: lineLength\n        },\n        isFullWidthModeEnabled: fullWidthMode,\n        layout: useLayout || layout,\n        pos: pos,\n        resizedPctWidth: resizedPctWidth\n      });\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), \"highlights\", function (newWidth, snapPoints) {\n      var snapWidth = Object(_atlaskit_editor_core_ui_Resizer_utils__WEBPACK_IMPORTED_MODULE_17__[\"snapTo\"])(newWidth, snapPoints);\n      var _this$props$view$stat = _this.props.view.state.schema.nodes,\n        layoutColumn = _this$props$view$stat.layoutColumn,\n        table = _this$props$view$stat.table,\n        expand = _this$props$view$stat.expand,\n        nestedExpand = _this$props$view$stat.nestedExpand;\n      if (_this.$pos && !!Object(prosemirror_utils__WEBPACK_IMPORTED_MODULE_11__[\"findParentNodeOfTypeClosestToPos\"])(_this.$pos, [layoutColumn, table, expand, nestedExpand].filter(Boolean))) {\n        return [];\n      }\n      if (snapWidth > _atlaskit_editor_shared_styles__WEBPACK_IMPORTED_MODULE_14__[\"akEditorWideLayoutWidth\"]) {\n        return ['full-width'];\n      }\n      var _this$props3 = _this.props,\n        layout = _this$props3.layout,\n        lineLength = _this$props3.lineLength,\n        gridSize = _this$props3.gridSize;\n      var columns = Object(_atlaskit_editor_common__WEBPACK_IMPORTED_MODULE_13__[\"calcColumnsFromPx\"])(snapWidth, lineLength, gridSize);\n      var columnWidth = Math.round(columns);\n      var highlight = [];\n      if (layout === 'wrap-left' || layout === 'align-start') {\n        highlight.push(0, columnWidth);\n      } else if (layout === 'wrap-right' || layout === 'align-end') {\n        highlight.push(gridSize, gridSize - columnWidth);\n      } else if (_this.insideInlineLike) {\n        highlight.push(Math.round(columns + _this.calcColumnLeftOffset()));\n      } else {\n        highlight.push(Math.floor((gridSize - columnWidth) / 2), Math.ceil((gridSize + columnWidth) / 2));\n      }\n      return highlight;\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), \"saveWrapper\", function (wrapper) {\n      return _this.wrapper = wrapper;\n    });\n    return _this;\n  }\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default()(ResizableMediaSingle, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      var offsetLeft = calcOffsetLeft(this.insideInlineLike, this.insideLayout, this.props.view.dom, this.wrapper);\n      if (offsetLeft !== this.state.offsetLeft && offsetLeft >= 0) {\n        this.setState({\n          offsetLeft: offsetLeft\n        });\n      }\n      return true;\n    }\n  }, {\n    key: \"wrappedLayout\",\n    get: function get() {\n      return _atlaskit_editor_common__WEBPACK_IMPORTED_MODULE_13__[\"wrappedLayouts\"].indexOf(this.props.layout) > -1;\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default.a.mark(function _callee() {\n        var viewMediaClientConfig;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                viewMediaClientConfig = this.props.viewMediaClientConfig;\n                if (!viewMediaClientConfig) {\n                  _context.next = 4;\n                  break;\n                }\n                _context.next = 4;\n                return this.checkVideoFile(viewMediaClientConfig);\n              case 4:\n                // Without this, the component doesn't know the image has been resized and will always go back to the min width if we recenter the image.\n                // We have to use state and not props directly because the sizing algo rely on it. So it's simpler to patch the didMount than the algorithm\n                this.props.pctWidth && this.setState({\n                  resizedPctWidth: this.props.pctWidth\n                });\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n      return componentDidMount;\n    }()\n  }, {\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps(nextProps) {\n      if (this.props.viewMediaClientConfig !== nextProps.viewMediaClientConfig) {\n        this.checkVideoFile(nextProps.viewMediaClientConfig);\n      }\n      if (this.props.layout !== nextProps.layout) {\n        this.checkLayout(this.props.layout, nextProps.layout);\n      }\n    }\n  }, {\n    key: \"checkVideoFile\",\n    value: function () {\n      var _checkVideoFile = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default.a.mark(function _callee2(viewMediaClientConfig) {\n        var $pos, mediaNode, mediaClient, state;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                $pos = this.$pos;\n                if (!(!$pos || !viewMediaClientConfig)) {\n                  _context2.next = 3;\n                  break;\n                }\n                return _context2.abrupt(\"return\");\n              case 3:\n                mediaNode = this.props.view.state.doc.nodeAt($pos.pos + 1);\n                if (!(!mediaNode || !mediaNode.attrs.id)) {\n                  _context2.next = 6;\n                  break;\n                }\n                return _context2.abrupt(\"return\");\n              case 6:\n                mediaClient = Object(_atlaskit_media_client__WEBPACK_IMPORTED_MODULE_12__[\"getMediaClient\"])(viewMediaClientConfig);\n                _context2.prev = 7;\n                _context2.next = 10;\n                return mediaClient.file.getCurrentState(mediaNode.attrs.id, {\n                  collectionName: mediaNode.attrs.collection\n                });\n              case 10:\n                state = _context2.sent;\n                if (state && state.status !== 'error' && state.mediaType === 'image') {\n                  this.setState({\n                    isVideoFile: false\n                  });\n                }\n                _context2.next = 17;\n                break;\n              case 14:\n                _context2.prev = 14;\n                _context2.t0 = _context2[\"catch\"](7);\n                this.setState({\n                  isVideoFile: false\n                });\n              case 17:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[7, 14]]);\n      }));\n      function checkVideoFile(_x) {\n        return _checkVideoFile.apply(this, arguments);\n      }\n      return checkVideoFile;\n    }()\n    /**\n     * When returning to center layout from a wrapped/aligned layout, it might actually\n     * be wide or full-width\n     */\n  }, {\n    key: \"checkLayout\",\n    value: function checkLayout(oldLayout, newLayout) {\n      var resizedPctWidth = this.state.resizedPctWidth;\n      if (_atlaskit_editor_common__WEBPACK_IMPORTED_MODULE_13__[\"wrappedLayouts\"].indexOf(oldLayout) > -1 && newLayout === 'center' && resizedPctWidth) {\n        var layout = this.calcUnwrappedLayout(resizedPctWidth, this.calcPxWidth(newLayout));\n        this.props.updateSize(resizedPctWidth, layout);\n      }\n    }\n  }, {\n    key: \"$pos\",\n    get: function get() {\n      if (typeof this.props.getPos !== 'function') {\n        return null;\n      }\n      var pos = this.props.getPos();\n      if (Number.isNaN(pos) || typeof pos !== 'number') {\n        return null;\n      }\n\n      // need to pass view because we may not get updated props in time\n      return this.props.view.state.doc.resolve(pos);\n    }\n\n    /**\n     * The maxmimum number of grid columns this node can resize to.\n     */\n  }, {\n    key: \"gridWidth\",\n    get: function get() {\n      var gridSize = this.props.gridSize;\n      return !(this.wrappedLayout || this.insideInlineLike) ? gridSize / 2 : gridSize;\n    }\n  }, {\n    key: \"insideInlineLike\",\n    get: function get() {\n      var $pos = this.$pos;\n      if (!$pos) {\n        return false;\n      }\n      var listItem = this.props.view.state.schema.nodes.listItem;\n      return !!Object(prosemirror_utils__WEBPACK_IMPORTED_MODULE_11__[\"findParentNodeOfTypeClosestToPos\"])($pos, [listItem]);\n    }\n  }, {\n    key: \"insideLayout\",\n    get: function get() {\n      var $pos = this.$pos;\n      if (!$pos) {\n        return false;\n      }\n      var layoutColumn = this.props.view.state.schema.nodes.layoutColumn;\n      return !!Object(prosemirror_utils__WEBPACK_IMPORTED_MODULE_11__[\"findParentNodeOfTypeClosestToPos\"])($pos, [layoutColumn]);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      var _this$props4 = this.props,\n        origWidth = _this$props4.width,\n        origHeight = _this$props4.height,\n        layout = _this$props4.layout,\n        pctWidth = _this$props4.pctWidth,\n        containerWidth = _this$props4.containerWidth,\n        fullWidthMode = _this$props4.fullWidthMode,\n        selected = _this$props4.selected,\n        state = _this$props4.view.state,\n        children = _this$props4.children;\n      var pxWidth = this.calcPxWidth();\n\n      // scale, keeping aspect ratio\n      var height = origHeight / origWidth * pxWidth;\n      var width = pxWidth;\n      var enable = {};\n      _atlaskit_editor_core_ui_Resizer_utils__WEBPACK_IMPORTED_MODULE_17__[\"handleSides\"].forEach(function (side) {\n        var oppositeSide = side === 'left' ? 'right' : 'left';\n        enable[side] = ['full-width', 'wide', 'center'].concat(\"wrap-\".concat(oppositeSide)).concat(\"align-\".concat(_atlaskit_editor_core_ui_Resizer_utils__WEBPACK_IMPORTED_MODULE_17__[\"imageAlignmentMap\"][oppositeSide])).indexOf(layout) > -1;\n        if (side === 'left' && _this2.insideInlineLike) {\n          enable[side] = false;\n        }\n      });\n      var snapPointsProps = {\n        $pos: this.$pos,\n        akEditorWideLayoutWidth: _atlaskit_editor_shared_styles__WEBPACK_IMPORTED_MODULE_14__[\"akEditorWideLayoutWidth\"],\n        allowBreakoutSnapPoints: this.props.allowBreakoutSnapPoints,\n        containerWidth: this.props.containerWidth,\n        gridSize: this.props.gridSize,\n        gridWidth: this.gridWidth,\n        insideInlineLike: this.insideInlineLike,\n        insideLayout: this.insideLayout,\n        isVideoFile: this.state.isVideoFile,\n        lineLength: this.props.lineLength,\n        offsetLeft: this.state.offsetLeft,\n        wrappedLayout: this.wrappedLayout\n      };\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(_styled__WEBPACK_IMPORTED_MODULE_15__[\"Wrapper\"], {\n        ratio: (height / width * 100).toFixed(3),\n        layout: layout,\n        isResized: !!pctWidth,\n        containerWidth: containerWidth || origWidth,\n        innerRef: this.saveWrapper,\n        fullWidthMode: fullWidthMode\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(_atlaskit_editor_core_ui_Resizer__WEBPACK_IMPORTED_MODULE_16__[\"default\"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, this.props, {\n        width: width,\n        height: height,\n        selected: selected,\n        enable: enable,\n        calcNewSize: this.calcNewSize,\n        snapPoints: constants_media__WEBPACK_IMPORTED_MODULE_20__[\"SNAP_POINTS\"],\n        scaleFactor: !this.wrappedLayout && !this.insideInlineLike ? 2 : 1,\n        highlights: this.highlights,\n        handleResizeStart: function handleResizeStart() {\n          var columResizingPluginState = Object(_atlaskit_editor_core_plugins_table_pm_plugins_table_resizing_plugin_factory__WEBPACK_IMPORTED_MODULE_19__[\"getPluginState\"])(state);\n          return columResizingPluginState ? !columResizingPluginState.dragging : true;\n        },\n        nodeType: \"media\",\n        dispatchAnalyticsEvent: this.props.dispatchAnalyticsEvent\n      }), children));\n    }\n  }]);\n  return ResizableMediaSingle;\n}(react__WEBPACK_IMPORTED_MODULE_10___default.a.Component);\n\nfunction calcOffsetLeft(insideInlineLike, insideLayout, pmViewDom, wrapper) {\n  var offsetLeft = 0;\n  if (wrapper && insideInlineLike && !insideLayout) {\n    var currentNode = wrapper;\n    var boundingRect = currentNode.getBoundingClientRect();\n    offsetLeft = boundingRect.left - pmViewDom.getBoundingClientRect().left;\n  }\n  return offsetLeft;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9tZWRpYS91aS9SZXNpemFibGVNZWRpYVNpbmdsZS9pbmRleC50c3guanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2lucy9tZWRpYS91aS9SZXNpemFibGVNZWRpYVNpbmdsZS9pbmRleC50c3g/ODlhMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQge1xuICBmaW5kUGFyZW50Tm9kZU9mVHlwZUNsb3Nlc3RUb1BvcyxcbiAgaGFzUGFyZW50Tm9kZU9mVHlwZVxufSBmcm9tICdwcm9zZW1pcnJvci11dGlscydcbmltcG9ydCB7IFJpY2hNZWRpYUxheW91dCBhcyBNZWRpYVNpbmdsZUxheW91dCB9IGZyb20gJ0BhdGxhc2tpdC9hZGYtc2NoZW1hJ1xuaW1wb3J0IHsgTWVkaWFDbGllbnRDb25maWcgfSBmcm9tICdAYXRsYXNraXQvbWVkaWEtY29yZSdcbmltcG9ydCB7IGdldE1lZGlhQ2xpZW50IH0gZnJvbSAnQGF0bGFza2l0L21lZGlhLWNsaWVudCdcbmltcG9ydCB7XG4gIGNhbGNQY3RGcm9tUHgsXG4gIGNhbGNDb2x1bW5zRnJvbVB4LFxuICB3cmFwcGVkTGF5b3V0c1xufSBmcm9tICdAYXRsYXNraXQvZWRpdG9yLWNvbW1vbidcbmltcG9ydCB7IGFrRWRpdG9yV2lkZUxheW91dFdpZHRoIH0gZnJvbSAnQGF0bGFza2l0L2VkaXRvci1zaGFyZWQtc3R5bGVzJ1xuaW1wb3J0IHsgV3JhcHBlciB9IGZyb20gJy4vc3R5bGVkJ1xuaW1wb3J0IHsgUHJvcHMsIEVuYWJsZWRIYW5kbGVzLCBTbmFwUG9pbnRzUHJvcHMgfSBmcm9tICcuL3R5cGVzJ1xuaW1wb3J0IFJlc2l6ZXIgZnJvbSAnQGF0bGFza2l0L2VkaXRvci1jb3JlL3VpL1Jlc2l6ZXInXG5pbXBvcnQge1xuICBzbmFwVG8sXG4gIGhhbmRsZVNpZGVzLFxuICBpbWFnZUFsaWdubWVudE1hcFxufSBmcm9tICdAYXRsYXNraXQvZWRpdG9yLWNvcmUvdWkvUmVzaXplci91dGlscydcbmltcG9ydCB7IGNhbGNNZWRpYVB4V2lkdGggfSBmcm9tICcuLi8uLi91dGlscy9tZWRpYS1zaW5nbGUnXG5pbXBvcnQgeyBnZXRQbHVnaW5TdGF0ZSB9IGZyb20gJ0BhdGxhc2tpdC9lZGl0b3ItY29yZS9wbHVnaW5zL3RhYmxlL3BtLXBsdWdpbnMvdGFibGUtcmVzaXppbmcvcGx1Z2luLWZhY3RvcnknXG5pbXBvcnQgeyBDb2x1bW5SZXNpemluZ1BsdWdpblN0YXRlIH0gZnJvbSAnQGF0bGFza2l0L2VkaXRvci1jb3JlL3BsdWdpbnMvdGFibGUvdHlwZXMnXG5pbXBvcnQgeyBjYWxjdWxhdGVTbmFwUG9pbnRzIH0gZnJvbSAnQGF0bGFza2l0L2VkaXRvci1jb3JlL3V0aWxzL3JpY2gtbWVkaWEtdXRpbHMnXG5pbXBvcnQgeyBTTkFQX1BPSU5UUyB9IGZyb20gJ2NvbnN0YW50cy9tZWRpYSdcblxudHlwZSBTdGF0ZSA9IHtcbiAgb2Zmc2V0TGVmdDogbnVtYmVyXG4gIGlzVmlkZW9GaWxlOiBib29sZWFuXG4gIHJlc2l6ZWRQY3RXaWR0aD86IG51bWJlclxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZXNpemFibGVNZWRpYVNpbmdsZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxcbiAgUHJvcHMsXG4gIFN0YXRlXG4+IHtcbiAgc3RhdGU6IFN0YXRlID0ge1xuICAgIG9mZnNldExlZnQ6IGNhbGNPZmZzZXRMZWZ0KFxuICAgICAgdGhpcy5pbnNpZGVJbmxpbmVMaWtlLFxuICAgICAgdGhpcy5pbnNpZGVMYXlvdXQsXG4gICAgICB0aGlzLnByb3BzLnZpZXcuZG9tLFxuICAgICAgdW5kZWZpbmVkXG4gICAgKSxcblxuICAgIC8vIFdlIGRlZmF1bHQgdG8gdHJ1ZSB1bnRpbCB3ZSByZXNvbHZlIHRoZSBmaWxlIHR5cGVcbiAgICBpc1ZpZGVvRmlsZTogdHJ1ZVxuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgIGNvbnN0IG9mZnNldExlZnQgPSBjYWxjT2Zmc2V0TGVmdChcbiAgICAgIHRoaXMuaW5zaWRlSW5saW5lTGlrZSxcbiAgICAgIHRoaXMuaW5zaWRlTGF5b3V0LFxuICAgICAgdGhpcy5wcm9wcy52aWV3LmRvbSxcbiAgICAgIHRoaXMud3JhcHBlclxuICAgIClcbiAgICBpZiAob2Zmc2V0TGVmdCAhPT0gdGhpcy5zdGF0ZS5vZmZzZXRMZWZ0ICYmIG9mZnNldExlZnQgPj0gMCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IG9mZnNldExlZnQgfSlcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgZ2V0IHdyYXBwZWRMYXlvdXQoKSB7XG4gICAgcmV0dXJuIHdyYXBwZWRMYXlvdXRzLmluZGV4T2YodGhpcy5wcm9wcy5sYXlvdXQpID4gLTFcbiAgfVxuXG4gIGFzeW5jIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGNvbnN0IHsgdmlld01lZGlhQ2xpZW50Q29uZmlnIH0gPSB0aGlzLnByb3BzXG4gICAgaWYgKHZpZXdNZWRpYUNsaWVudENvbmZpZykge1xuICAgICAgYXdhaXQgdGhpcy5jaGVja1ZpZGVvRmlsZSh2aWV3TWVkaWFDbGllbnRDb25maWcpXG4gICAgfVxuXG4gICAgLy8gV2l0aG91dCB0aGlzLCB0aGUgY29tcG9uZW50IGRvZXNuJ3Qga25vdyB0aGUgaW1hZ2UgaGFzIGJlZW4gcmVzaXplZCBhbmQgd2lsbCBhbHdheXMgZ28gYmFjayB0byB0aGUgbWluIHdpZHRoIGlmIHdlIHJlY2VudGVyIHRoZSBpbWFnZS5cbiAgICAvLyBXZSBoYXZlIHRvIHVzZSBzdGF0ZSBhbmQgbm90IHByb3BzIGRpcmVjdGx5IGJlY2F1c2UgdGhlIHNpemluZyBhbGdvIHJlbHkgb24gaXQuIFNvIGl0J3Mgc2ltcGxlciB0byBwYXRjaCB0aGUgZGlkTW91bnQgdGhhbiB0aGUgYWxnb3JpdGhtXG4gICAgdGhpcy5wcm9wcy5wY3RXaWR0aCAmJlxuICAgICAgdGhpcy5zZXRTdGF0ZSh7IHJlc2l6ZWRQY3RXaWR0aDogdGhpcy5wcm9wcy5wY3RXaWR0aCB9KVxuICB9XG5cbiAgVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzOiBQcm9wcykge1xuICAgIGlmICh0aGlzLnByb3BzLnZpZXdNZWRpYUNsaWVudENvbmZpZyAhPT0gbmV4dFByb3BzLnZpZXdNZWRpYUNsaWVudENvbmZpZykge1xuICAgICAgdGhpcy5jaGVja1ZpZGVvRmlsZShuZXh0UHJvcHMudmlld01lZGlhQ2xpZW50Q29uZmlnKVxuICAgIH1cbiAgICBpZiAodGhpcy5wcm9wcy5sYXlvdXQgIT09IG5leHRQcm9wcy5sYXlvdXQpIHtcbiAgICAgIHRoaXMuY2hlY2tMYXlvdXQodGhpcy5wcm9wcy5sYXlvdXQsIG5leHRQcm9wcy5sYXlvdXQpXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgY2hlY2tWaWRlb0ZpbGUodmlld01lZGlhQ2xpZW50Q29uZmlnPzogTWVkaWFDbGllbnRDb25maWcpIHtcbiAgICBjb25zdCAkcG9zID0gdGhpcy4kcG9zXG5cbiAgICBpZiAoISRwb3MgfHwgIXZpZXdNZWRpYUNsaWVudENvbmZpZykge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgY29uc3QgbWVkaWFOb2RlID0gdGhpcy5wcm9wcy52aWV3LnN0YXRlLmRvYy5ub2RlQXQoJHBvcy5wb3MgKyAxKVxuICAgIGlmICghbWVkaWFOb2RlIHx8ICFtZWRpYU5vZGUuYXR0cnMuaWQpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGNvbnN0IG1lZGlhQ2xpZW50ID0gZ2V0TWVkaWFDbGllbnQodmlld01lZGlhQ2xpZW50Q29uZmlnKVxuICAgIHRyeSB7XG4gICAgICBjb25zdCBzdGF0ZSA9IGF3YWl0IG1lZGlhQ2xpZW50LmZpbGUuZ2V0Q3VycmVudFN0YXRlKG1lZGlhTm9kZS5hdHRycy5pZCwge1xuICAgICAgICBjb2xsZWN0aW9uTmFtZTogbWVkaWFOb2RlLmF0dHJzLmNvbGxlY3Rpb25cbiAgICAgIH0pXG4gICAgICBpZiAoc3RhdGUgJiYgc3RhdGUuc3RhdHVzICE9PSAnZXJyb3InICYmIHN0YXRlLm1lZGlhVHlwZSA9PT0gJ2ltYWdlJykge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBpc1ZpZGVvRmlsZTogZmFsc2VcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc1ZpZGVvRmlsZTogZmFsc2VcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFdoZW4gcmV0dXJuaW5nIHRvIGNlbnRlciBsYXlvdXQgZnJvbSBhIHdyYXBwZWQvYWxpZ25lZCBsYXlvdXQsIGl0IG1pZ2h0IGFjdHVhbGx5XG4gICAqIGJlIHdpZGUgb3IgZnVsbC13aWR0aFxuICAgKi9cbiAgY2hlY2tMYXlvdXQob2xkTGF5b3V0OiBNZWRpYVNpbmdsZUxheW91dCwgbmV3TGF5b3V0OiBNZWRpYVNpbmdsZUxheW91dCkge1xuICAgIGNvbnN0IHsgcmVzaXplZFBjdFdpZHRoIH0gPSB0aGlzLnN0YXRlXG4gICAgaWYgKFxuICAgICAgd3JhcHBlZExheW91dHMuaW5kZXhPZihvbGRMYXlvdXQpID4gLTEgJiZcbiAgICAgIG5ld0xheW91dCA9PT0gJ2NlbnRlcicgJiZcbiAgICAgIHJlc2l6ZWRQY3RXaWR0aFxuICAgICkge1xuICAgICAgY29uc3QgbGF5b3V0ID0gdGhpcy5jYWxjVW53cmFwcGVkTGF5b3V0KFxuICAgICAgICByZXNpemVkUGN0V2lkdGgsXG4gICAgICAgIHRoaXMuY2FsY1B4V2lkdGgobmV3TGF5b3V0KVxuICAgICAgKVxuXG4gICAgICB0aGlzLnByb3BzLnVwZGF0ZVNpemUocmVzaXplZFBjdFdpZHRoLCBsYXlvdXQpXG4gICAgfVxuICB9XG5cbiAgY2FsY05ld1NpemUgPSAobmV3V2lkdGg6IG51bWJlciwgc3RvcDogYm9vbGVhbikgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIGxheW91dCxcbiAgICAgIHZpZXc6IHsgc3RhdGUgfVxuICAgIH0gPSB0aGlzLnByb3BzXG5cbiAgICBjb25zdCBuZXdQY3QgPSBjYWxjUGN0RnJvbVB4KG5ld1dpZHRoLCB0aGlzLnByb3BzLmxpbmVMZW5ndGgpICogMTAwXG4gICAgdGhpcy5zZXRTdGF0ZSh7IHJlc2l6ZWRQY3RXaWR0aDogbmV3UGN0IH0pXG5cbiAgICBsZXQgbmV3TGF5b3V0OiBNZWRpYVNpbmdsZUxheW91dCA9IGhhc1BhcmVudE5vZGVPZlR5cGUoXG4gICAgICBzdGF0ZS5zY2hlbWEubm9kZXMudGFibGVcbiAgICApKHN0YXRlLnNlbGVjdGlvbilcbiAgICAgID8gbGF5b3V0XG4gICAgICA6IHRoaXMuY2FsY1Vud3JhcHBlZExheW91dChuZXdQY3QsIG5ld1dpZHRoKVxuXG4gICAgaWYgKG5ld1BjdCA8PSAxMDApIHtcbiAgICAgIGlmICh0aGlzLndyYXBwZWRMYXlvdXQgJiYgKHN0b3AgPyBuZXdQY3QgIT09IDEwMCA6IHRydWUpKSB7XG4gICAgICAgIG5ld0xheW91dCA9IGxheW91dFxuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgd2lkdGg6IG5ld1BjdCxcbiAgICAgICAgbGF5b3V0OiBuZXdMYXlvdXRcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgd2lkdGg6IHRoaXMucHJvcHMucGN0V2lkdGggfHwgbnVsbCxcbiAgICAgICAgbGF5b3V0OiBuZXdMYXlvdXRcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBjYWxjVW53cmFwcGVkTGF5b3V0ID0gKFxuICAgIHBjdDogbnVtYmVyLFxuICAgIHdpZHRoOiBudW1iZXJcbiAgKTogJ2NlbnRlcicgfCAnd2lkZScgfCAnZnVsbC13aWR0aCcgPT4ge1xuICAgIGlmIChwY3QgPD0gMTAwKSB7XG4gICAgICByZXR1cm4gJ2NlbnRlcidcbiAgICB9XG4gICAgaWYgKHdpZHRoIDw9IGFrRWRpdG9yV2lkZUxheW91dFdpZHRoKSB7XG4gICAgICByZXR1cm4gJ3dpZGUnXG4gICAgfVxuICAgIHJldHVybiAnZnVsbC13aWR0aCdcbiAgfVxuXG4gIGdldCAkcG9zKCkge1xuICAgIGlmICh0eXBlb2YgdGhpcy5wcm9wcy5nZXRQb3MgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICAgIGNvbnN0IHBvcyA9IHRoaXMucHJvcHMuZ2V0UG9zKClcbiAgICBpZiAoTnVtYmVyLmlzTmFOKHBvcyBhcyBhbnkpIHx8IHR5cGVvZiBwb3MgIT09ICdudW1iZXInKSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cblxuICAgIC8vIG5lZWQgdG8gcGFzcyB2aWV3IGJlY2F1c2Ugd2UgbWF5IG5vdCBnZXQgdXBkYXRlZCBwcm9wcyBpbiB0aW1lXG4gICAgcmV0dXJuIHRoaXMucHJvcHMudmlldy5zdGF0ZS5kb2MucmVzb2x2ZShwb3MpXG4gIH1cblxuICAvKipcbiAgICogVGhlIG1heG1pbXVtIG51bWJlciBvZiBncmlkIGNvbHVtbnMgdGhpcyBub2RlIGNhbiByZXNpemUgdG8uXG4gICAqL1xuICBnZXQgZ3JpZFdpZHRoKCkge1xuICAgIGNvbnN0IHsgZ3JpZFNpemUgfSA9IHRoaXMucHJvcHNcblxuICAgIHJldHVybiAhKHRoaXMud3JhcHBlZExheW91dCB8fCB0aGlzLmluc2lkZUlubGluZUxpa2UpXG4gICAgICA/IGdyaWRTaXplIC8gMlxuICAgICAgOiBncmlkU2l6ZVxuICB9XG5cbiAgY2FsY0NvbHVtbkxlZnRPZmZzZXQgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBvZmZzZXRMZWZ0IH0gPSB0aGlzLnN0YXRlXG4gICAgcmV0dXJuIHRoaXMuaW5zaWRlSW5saW5lTGlrZVxuICAgICAgPyBjYWxjQ29sdW1uc0Zyb21QeChcbiAgICAgICAgICBvZmZzZXRMZWZ0LFxuICAgICAgICAgIHRoaXMucHJvcHMubGluZUxlbmd0aCxcbiAgICAgICAgICB0aGlzLnByb3BzLmdyaWRTaXplXG4gICAgICAgIClcbiAgICAgIDogMFxuICB9XG5cbiAgd3JhcHBlcj86IEhUTUxFbGVtZW50XG5cbiAgY2FsY1B4V2lkdGggPSAodXNlTGF5b3V0PzogTWVkaWFTaW5nbGVMYXlvdXQpOiBudW1iZXIgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIHdpZHRoOiBvcmlnV2lkdGgsXG4gICAgICBoZWlnaHQ6IG9yaWdIZWlnaHQsXG4gICAgICBsYXlvdXQsXG4gICAgICBwY3RXaWR0aCxcbiAgICAgIGxpbmVMZW5ndGgsXG4gICAgICBjb250YWluZXJXaWR0aCxcbiAgICAgIGZ1bGxXaWR0aE1vZGUsXG4gICAgICBnZXRQb3MsXG4gICAgICB2aWV3OiB7IHN0YXRlIH1cbiAgICB9ID0gdGhpcy5wcm9wc1xuICAgIGNvbnN0IHsgcmVzaXplZFBjdFdpZHRoIH0gPSB0aGlzLnN0YXRlXG5cbiAgICBjb25zdCBwb3MgPSB0eXBlb2YgZ2V0UG9zID09PSAnZnVuY3Rpb24nID8gZ2V0UG9zKCkgOiB1bmRlZmluZWRcblxuICAgIHJldHVybiBjYWxjTWVkaWFQeFdpZHRoKHtcbiAgICAgIG9yaWdXaWR0aCxcbiAgICAgIG9yaWdIZWlnaHQsXG4gICAgICBwY3RXaWR0aCxcbiAgICAgIHN0YXRlLFxuICAgICAgY29udGFpbmVyV2lkdGg6IHsgd2lkdGg6IGNvbnRhaW5lcldpZHRoLCBsaW5lTGVuZ3RoIH0sXG4gICAgICBpc0Z1bGxXaWR0aE1vZGVFbmFibGVkOiBmdWxsV2lkdGhNb2RlLFxuICAgICAgbGF5b3V0OiB1c2VMYXlvdXQgfHwgbGF5b3V0LFxuICAgICAgcG9zOiBwb3MsXG4gICAgICByZXNpemVkUGN0V2lkdGhcbiAgICB9KVxuICB9XG5cbiAgZ2V0IGluc2lkZUlubGluZUxpa2UoKTogYm9vbGVhbiB7XG4gICAgY29uc3QgJHBvcyA9IHRoaXMuJHBvc1xuICAgIGlmICghJHBvcykge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgY29uc3QgeyBsaXN0SXRlbSB9ID0gdGhpcy5wcm9wcy52aWV3LnN0YXRlLnNjaGVtYS5ub2Rlc1xuICAgIHJldHVybiAhIWZpbmRQYXJlbnROb2RlT2ZUeXBlQ2xvc2VzdFRvUG9zKCRwb3MsIFtsaXN0SXRlbV0pXG4gIH1cblxuICBnZXQgaW5zaWRlTGF5b3V0KCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0ICRwb3MgPSB0aGlzLiRwb3NcbiAgICBpZiAoISRwb3MpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIGNvbnN0IHsgbGF5b3V0Q29sdW1uIH0gPSB0aGlzLnByb3BzLnZpZXcuc3RhdGUuc2NoZW1hLm5vZGVzXG5cbiAgICByZXR1cm4gISFmaW5kUGFyZW50Tm9kZU9mVHlwZUNsb3Nlc3RUb1BvcygkcG9zLCBbbGF5b3V0Q29sdW1uXSlcbiAgfVxuXG4gIGhpZ2hsaWdodHMgPSAobmV3V2lkdGg6IG51bWJlciwgc25hcFBvaW50czogbnVtYmVyW10pID0+IHtcbiAgICBjb25zdCBzbmFwV2lkdGggPSBzbmFwVG8obmV3V2lkdGgsIHNuYXBQb2ludHMpXG4gICAgY29uc3Qge1xuICAgICAgbGF5b3V0Q29sdW1uLFxuICAgICAgdGFibGUsXG4gICAgICBleHBhbmQsXG4gICAgICBuZXN0ZWRFeHBhbmRcbiAgICB9ID0gdGhpcy5wcm9wcy52aWV3LnN0YXRlLnNjaGVtYS5ub2Rlc1xuXG4gICAgaWYgKFxuICAgICAgdGhpcy4kcG9zICYmXG4gICAgICAhIWZpbmRQYXJlbnROb2RlT2ZUeXBlQ2xvc2VzdFRvUG9zKFxuICAgICAgICB0aGlzLiRwb3MsXG4gICAgICAgIFtsYXlvdXRDb2x1bW4sIHRhYmxlLCBleHBhbmQsIG5lc3RlZEV4cGFuZF0uZmlsdGVyKEJvb2xlYW4pXG4gICAgICApXG4gICAgKSB7XG4gICAgICByZXR1cm4gW11cbiAgICB9XG5cbiAgICBpZiAoc25hcFdpZHRoID4gYWtFZGl0b3JXaWRlTGF5b3V0V2lkdGgpIHtcbiAgICAgIHJldHVybiBbJ2Z1bGwtd2lkdGgnXVxuICAgIH1cblxuICAgIGNvbnN0IHsgbGF5b3V0LCBsaW5lTGVuZ3RoLCBncmlkU2l6ZSB9ID0gdGhpcy5wcm9wc1xuICAgIGNvbnN0IGNvbHVtbnMgPSBjYWxjQ29sdW1uc0Zyb21QeChzbmFwV2lkdGgsIGxpbmVMZW5ndGgsIGdyaWRTaXplKVxuICAgIGNvbnN0IGNvbHVtbldpZHRoID0gTWF0aC5yb3VuZChjb2x1bW5zKVxuICAgIGNvbnN0IGhpZ2hsaWdodDogbnVtYmVyW10gPSBbXVxuXG4gICAgaWYgKGxheW91dCA9PT0gJ3dyYXAtbGVmdCcgfHwgbGF5b3V0ID09PSAnYWxpZ24tc3RhcnQnKSB7XG4gICAgICBoaWdobGlnaHQucHVzaCgwLCBjb2x1bW5XaWR0aClcbiAgICB9IGVsc2UgaWYgKGxheW91dCA9PT0gJ3dyYXAtcmlnaHQnIHx8IGxheW91dCA9PT0gJ2FsaWduLWVuZCcpIHtcbiAgICAgIGhpZ2hsaWdodC5wdXNoKGdyaWRTaXplLCBncmlkU2l6ZSAtIGNvbHVtbldpZHRoKVxuICAgIH0gZWxzZSBpZiAodGhpcy5pbnNpZGVJbmxpbmVMaWtlKSB7XG4gICAgICBoaWdobGlnaHQucHVzaChNYXRoLnJvdW5kKGNvbHVtbnMgKyB0aGlzLmNhbGNDb2x1bW5MZWZ0T2Zmc2V0KCkpKVxuICAgIH0gZWxzZSB7XG4gICAgICBoaWdobGlnaHQucHVzaChcbiAgICAgICAgTWF0aC5mbG9vcigoZ3JpZFNpemUgLSBjb2x1bW5XaWR0aCkgLyAyKSxcbiAgICAgICAgTWF0aC5jZWlsKChncmlkU2l6ZSArIGNvbHVtbldpZHRoKSAvIDIpXG4gICAgICApXG4gICAgfVxuXG4gICAgcmV0dXJuIGhpZ2hsaWdodFxuICB9XG5cbiAgcHJpdmF0ZSBzYXZlV3JhcHBlciA9ICh3cmFwcGVyOiBIVE1MRWxlbWVudCkgPT4gKHRoaXMud3JhcHBlciA9IHdyYXBwZXIpXG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIHdpZHRoOiBvcmlnV2lkdGgsXG4gICAgICBoZWlnaHQ6IG9yaWdIZWlnaHQsXG4gICAgICBsYXlvdXQsXG4gICAgICBwY3RXaWR0aCxcbiAgICAgIGNvbnRhaW5lcldpZHRoLFxuICAgICAgZnVsbFdpZHRoTW9kZSxcbiAgICAgIHNlbGVjdGVkLFxuICAgICAgdmlldzogeyBzdGF0ZSB9LFxuICAgICAgY2hpbGRyZW5cbiAgICB9ID0gdGhpcy5wcm9wc1xuXG4gICAgY29uc3QgcHhXaWR0aCA9IHRoaXMuY2FsY1B4V2lkdGgoKVxuXG4gICAgLy8gc2NhbGUsIGtlZXBpbmcgYXNwZWN0IHJhdGlvXG4gICAgY29uc3QgaGVpZ2h0ID0gKG9yaWdIZWlnaHQgLyBvcmlnV2lkdGgpICogcHhXaWR0aFxuICAgIGNvbnN0IHdpZHRoID0gcHhXaWR0aFxuXG4gICAgY29uc3QgZW5hYmxlOiBFbmFibGVkSGFuZGxlcyA9IHt9XG4gICAgaGFuZGxlU2lkZXMuZm9yRWFjaChzaWRlID0+IHtcbiAgICAgIGNvbnN0IG9wcG9zaXRlU2lkZSA9IHNpZGUgPT09ICdsZWZ0JyA/ICdyaWdodCcgOiAnbGVmdCdcbiAgICAgIGVuYWJsZVtzaWRlXSA9XG4gICAgICAgIFsnZnVsbC13aWR0aCcsICd3aWRlJywgJ2NlbnRlciddXG4gICAgICAgICAgLmNvbmNhdChgd3JhcC0ke29wcG9zaXRlU2lkZX1gIGFzIE1lZGlhU2luZ2xlTGF5b3V0KVxuICAgICAgICAgIC5jb25jYXQoXG4gICAgICAgICAgICBgYWxpZ24tJHtpbWFnZUFsaWdubWVudE1hcFtvcHBvc2l0ZVNpZGVdfWAgYXMgTWVkaWFTaW5nbGVMYXlvdXRcbiAgICAgICAgICApXG4gICAgICAgICAgLmluZGV4T2YobGF5b3V0KSA+IC0xXG5cbiAgICAgIGlmIChzaWRlID09PSAnbGVmdCcgJiYgdGhpcy5pbnNpZGVJbmxpbmVMaWtlKSB7XG4gICAgICAgIGVuYWJsZVtzaWRlXSA9IGZhbHNlXG4gICAgICB9XG4gICAgfSlcblxuICAgIGNvbnN0IHNuYXBQb2ludHNQcm9wczogU25hcFBvaW50c1Byb3BzID0ge1xuICAgICAgJHBvczogdGhpcy4kcG9zLFxuICAgICAgYWtFZGl0b3JXaWRlTGF5b3V0V2lkdGg6IGFrRWRpdG9yV2lkZUxheW91dFdpZHRoLFxuICAgICAgYWxsb3dCcmVha291dFNuYXBQb2ludHM6IHRoaXMucHJvcHMuYWxsb3dCcmVha291dFNuYXBQb2ludHMsXG4gICAgICBjb250YWluZXJXaWR0aDogdGhpcy5wcm9wcy5jb250YWluZXJXaWR0aCxcbiAgICAgIGdyaWRTaXplOiB0aGlzLnByb3BzLmdyaWRTaXplLFxuICAgICAgZ3JpZFdpZHRoOiB0aGlzLmdyaWRXaWR0aCxcbiAgICAgIGluc2lkZUlubGluZUxpa2U6IHRoaXMuaW5zaWRlSW5saW5lTGlrZSxcbiAgICAgIGluc2lkZUxheW91dDogdGhpcy5pbnNpZGVMYXlvdXQsXG4gICAgICBpc1ZpZGVvRmlsZTogdGhpcy5zdGF0ZS5pc1ZpZGVvRmlsZSxcbiAgICAgIGxpbmVMZW5ndGg6IHRoaXMucHJvcHMubGluZUxlbmd0aCxcbiAgICAgIG9mZnNldExlZnQ6IHRoaXMuc3RhdGUub2Zmc2V0TGVmdCxcbiAgICAgIHdyYXBwZWRMYXlvdXQ6IHRoaXMud3JhcHBlZExheW91dFxuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8V3JhcHBlclxuICAgICAgICByYXRpbz17KChoZWlnaHQgLyB3aWR0aCkgKiAxMDApLnRvRml4ZWQoMyl9XG4gICAgICAgIGxheW91dD17bGF5b3V0fVxuICAgICAgICBpc1Jlc2l6ZWQ9eyEhcGN0V2lkdGh9XG4gICAgICAgIGNvbnRhaW5lcldpZHRoPXtjb250YWluZXJXaWR0aCB8fCBvcmlnV2lkdGh9XG4gICAgICAgIGlubmVyUmVmPXt0aGlzLnNhdmVXcmFwcGVyfVxuICAgICAgICBmdWxsV2lkdGhNb2RlPXtmdWxsV2lkdGhNb2RlfVxuICAgICAgPlxuICAgICAgICA8UmVzaXplclxuICAgICAgICAgIHsuLi50aGlzLnByb3BzfVxuICAgICAgICAgIHdpZHRoPXt3aWR0aH1cbiAgICAgICAgICBoZWlnaHQ9e2hlaWdodH1cbiAgICAgICAgICBzZWxlY3RlZD17c2VsZWN0ZWR9XG4gICAgICAgICAgZW5hYmxlPXtlbmFibGV9XG4gICAgICAgICAgY2FsY05ld1NpemU9e3RoaXMuY2FsY05ld1NpemV9XG4gICAgICAgICAgc25hcFBvaW50cz17U05BUF9QT0lOVFN9XG4gICAgICAgICAgc2NhbGVGYWN0b3I9eyF0aGlzLndyYXBwZWRMYXlvdXQgJiYgIXRoaXMuaW5zaWRlSW5saW5lTGlrZSA/IDIgOiAxfVxuICAgICAgICAgIGhpZ2hsaWdodHM9e3RoaXMuaGlnaGxpZ2h0c31cbiAgICAgICAgICBoYW5kbGVSZXNpemVTdGFydD17KCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY29sdW1SZXNpemluZ1BsdWdpblN0YXRlOlxuICAgICAgICAgICAgICB8IENvbHVtblJlc2l6aW5nUGx1Z2luU3RhdGVcbiAgICAgICAgICAgICAgfCB1bmRlZmluZWQgPSBnZXRQbHVnaW5TdGF0ZShzdGF0ZSlcbiAgICAgICAgICAgIHJldHVybiBjb2x1bVJlc2l6aW5nUGx1Z2luU3RhdGVcbiAgICAgICAgICAgICAgPyAhY29sdW1SZXNpemluZ1BsdWdpblN0YXRlLmRyYWdnaW5nXG4gICAgICAgICAgICAgIDogdHJ1ZVxuICAgICAgICAgIH19XG4gICAgICAgICAgbm9kZVR5cGU9XCJtZWRpYVwiXG4gICAgICAgICAgZGlzcGF0Y2hBbmFseXRpY3NFdmVudD17dGhpcy5wcm9wcy5kaXNwYXRjaEFuYWx5dGljc0V2ZW50fVxuICAgICAgICA+XG4gICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICA8L1Jlc2l6ZXI+XG4gICAgICA8L1dyYXBwZXI+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjYWxjT2Zmc2V0TGVmdChcbiAgaW5zaWRlSW5saW5lTGlrZTogYm9vbGVhbixcbiAgaW5zaWRlTGF5b3V0OiBib29sZWFuLFxuICBwbVZpZXdEb206IEVsZW1lbnQsXG4gIHdyYXBwZXI/OiBIVE1MRWxlbWVudFxuKSB7XG4gIGxldCBvZmZzZXRMZWZ0ID0gMFxuICBpZiAod3JhcHBlciAmJiBpbnNpZGVJbmxpbmVMaWtlICYmICFpbnNpZGVMYXlvdXQpIHtcbiAgICBjb25zdCBjdXJyZW50Tm9kZTogSFRNTEVsZW1lbnQgPSB3cmFwcGVyXG4gICAgY29uc3QgYm91bmRpbmdSZWN0ID0gY3VycmVudE5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICBvZmZzZXRMZWZ0ID0gYm91bmRpbmdSZWN0LmxlZnQgLSBwbVZpZXdEb20uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdFxuICB9XG4gIHJldHVybiBvZmZzZXRMZWZ0XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFNQTtBQUNBO0FBS0E7QUFDQTtBQUVBO0FBQ0E7QUFLQTtBQUNBO0FBR0E7QUFBQTtBQVFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBS0E7QUFPQTtBQUNBO0FBQ0E7QUFBQTtBQTJGQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUEyQkE7QUFDQTtBQU9BO0FBQUE7QUFBQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBd0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBT0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBRUE7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUF0UUE7QUFNQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUlBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBRkE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFBQTtBQUFBO0FBS0E7QUFDQTtBQUtBO0FBS0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBK0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBQUE7QUFBQTtBQUlBO0FBRUE7QUFHQTtBQUFBO0FBQUE7QUFBQTtBQTZDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBZ0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBTUE7QUFBQTtBQUFBO0FBQUE7QUE3V0E7QUFnWEE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/plugins/media/ui/ResizableMediaSingle/index.tsx\n");

/***/ }),

/***/ "./src/plugins/media/ui/ResizableMediaSingle/styled.tsx":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Wrapper\", function() { return Wrapper; });\n/* harmony import */ var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js\");\n/* harmony import */ var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _atlaskit_editor_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/@atlaskit/editor-common/dist/esm/index.js\");\n/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/styled-components/dist/styled-components.browser.esm.js\");\n\nvar _templateObject;\n\n\nvar Wrapper = styled_components__WEBPACK_IMPORTED_MODULE_2__[\"default\"].div(_templateObject || (_templateObject = _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0___default()([\"\\n  img {\\n    width: 100%;\\n  }\\n\\n  & > div {\\n    \", \";\\n    position: relative;\\n    clear: both;\\n  }\\n\"])), _atlaskit_editor_common__WEBPACK_IMPORTED_MODULE_1__[\"MediaSingleDimensionHelper\"]);\nWrapper.displayName = 'ResizerWrapper';//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9tZWRpYS91aS9SZXNpemFibGVNZWRpYVNpbmdsZS9zdHlsZWQudHN4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbnMvbWVkaWEvdWkvUmVzaXphYmxlTWVkaWFTaW5nbGUvc3R5bGVkLnRzeD8yYWY5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE1lZGlhU2luZ2xlRGltZW5zaW9uSGVscGVyIH0gZnJvbSAnQGF0bGFza2l0L2VkaXRvci1jb21tb24nXG5pbXBvcnQgc3R5bGVkIGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJ1xuXG5leHBvcnQgY29uc3QgV3JhcHBlciA9IHN0eWxlZC5kaXZgXG4gIGltZyB7XG4gICAgd2lkdGg6IDEwMCU7XG4gIH1cblxuICAmID4gZGl2IHtcbiAgICAke01lZGlhU2luZ2xlRGltZW5zaW9uSGVscGVyfTtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgY2xlYXI6IGJvdGg7XG4gIH1cbmBcblxuV3JhcHBlci5kaXNwbGF5TmFtZSA9ICdSZXNpemVyV3JhcHBlcidcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBO0FBRUE7QUFZQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/plugins/media/ui/ResizableMediaSingle/styled.tsx\n");

/***/ }),

/***/ "./src/plugins/media/ui/ToolbarMedia/index.tsx":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _atlaskit_icon_glyph_editor_attachment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/@atlaskit/icon/glyph/editor/attachment.js\");\n/* harmony import */ var _atlaskit_icon_glyph_editor_attachment__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_atlaskit_icon_glyph_editor_attachment__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _atlaskit_editor_core_ui_ToolbarButton__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/ui/ToolbarButton/index.tsx\");\n/* harmony import */ var _atlaskit_editor_core_ui_WithPluginState__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/ui/WithPluginState/index.tsx\");\n\n\n\n\nvar onClickMediaButton = function onClickMediaButton(pluginState) {\n  return function () {\n    pluginState.showMediaPicker();\n    return true;\n  };\n};\nvar ToolbarMedia = function ToolbarMedia(_ref) {\n  var editorView = _ref.editorView,\n    eventDispatcher = _ref.eventDispatcher,\n    pluginKey = _ref.pluginKey,\n    isDisabled = _ref.isDisabled,\n    isReducedSpacing = _ref.isReducedSpacing;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atlaskit_editor_core_ui_WithPluginState__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n    editorView: editorView,\n    eventDispatcher: eventDispatcher,\n    plugins: {\n      mediaPlugin: pluginKey\n    },\n    render: function render(_ref2) {\n      var mediaPlugin = _ref2.mediaPlugin;\n      if (!mediaPlugin.allowsUploads) {\n        return null;\n      }\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atlaskit_editor_core_ui_ToolbarButton__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n        onClick: onClickMediaButton(mediaPlugin),\n        disabled: isDisabled,\n        title: \"Files & images\",\n        spacing: isReducedSpacing ? 'none' : 'default',\n        iconBefore: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atlaskit_icon_glyph_editor_attachment__WEBPACK_IMPORTED_MODULE_1___default.a, {\n          label: \"Files & images\"\n        })\n      });\n    }\n  });\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (ToolbarMedia);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9tZWRpYS91aS9Ub29sYmFyTWVkaWEvaW5kZXgudHN4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbnMvbWVkaWEvdWkvVG9vbGJhck1lZGlhL2luZGV4LnRzeD85Y2RjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCB7IFBsdWdpbktleSB9IGZyb20gJ3Byb3NlbWlycm9yLXN0YXRlJ1xuaW1wb3J0IHsgRWRpdG9yVmlldyB9IGZyb20gJ3Byb3NlbWlycm9yLXZpZXcnXG5pbXBvcnQgQXR0YWNobWVudEljb24gZnJvbSAnQGF0bGFza2l0L2ljb24vZ2x5cGgvZWRpdG9yL2F0dGFjaG1lbnQnXG5pbXBvcnQgVG9vbGJhckJ1dHRvbiBmcm9tICdAYXRsYXNraXQvZWRpdG9yLWNvcmUvdWkvVG9vbGJhckJ1dHRvbidcbmltcG9ydCBXaXRoUGx1Z2luU3RhdGUgZnJvbSAnQGF0bGFza2l0L2VkaXRvci1jb3JlL3VpL1dpdGhQbHVnaW5TdGF0ZSdcbmltcG9ydCB7IEV2ZW50RGlzcGF0Y2hlciB9IGZyb20gJ0BhdGxhc2tpdC9lZGl0b3ItY29yZS9ldmVudC1kaXNwYXRjaGVyJ1xuaW1wb3J0IHsgTWVkaWFQbHVnaW5TdGF0ZSB9IGZyb20gJy4uLy4uL3BtLXBsdWdpbnMvdHlwZXMnXG5cbmV4cG9ydCBpbnRlcmZhY2UgUHJvcHMge1xuICBlZGl0b3JWaWV3OiBFZGl0b3JWaWV3XG4gIHBsdWdpbktleTogUGx1Z2luS2V5XG4gIGV2ZW50RGlzcGF0Y2hlcjogRXZlbnREaXNwYXRjaGVyXG4gIGlzRGlzYWJsZWQ/OiBib29sZWFuXG4gIGlzUmVkdWNlZFNwYWNpbmc/OiBib29sZWFuXG59XG5cbmNvbnN0IG9uQ2xpY2tNZWRpYUJ1dHRvbiA9IChwbHVnaW5TdGF0ZTogTWVkaWFQbHVnaW5TdGF0ZSkgPT4gKCkgPT4ge1xuICBwbHVnaW5TdGF0ZS5zaG93TWVkaWFQaWNrZXIoKVxuICByZXR1cm4gdHJ1ZVxufVxuXG5jb25zdCBUb29sYmFyTWVkaWEgPSAoe1xuICBlZGl0b3JWaWV3LFxuICBldmVudERpc3BhdGNoZXIsXG4gIHBsdWdpbktleSxcbiAgaXNEaXNhYmxlZCxcbiAgaXNSZWR1Y2VkU3BhY2luZ1xufTogUHJvcHMpID0+IChcbiAgPFdpdGhQbHVnaW5TdGF0ZVxuICAgIGVkaXRvclZpZXc9e2VkaXRvclZpZXd9XG4gICAgZXZlbnREaXNwYXRjaGVyPXtldmVudERpc3BhdGNoZXJ9XG4gICAgcGx1Z2lucz17e1xuICAgICAgbWVkaWFQbHVnaW46IHBsdWdpbktleVxuICAgIH19XG4gICAgcmVuZGVyPXsoeyBtZWRpYVBsdWdpbiB9OiB7IG1lZGlhUGx1Z2luOiBNZWRpYVBsdWdpblN0YXRlIH0pID0+IHtcbiAgICAgIGlmICghbWVkaWFQbHVnaW4uYWxsb3dzVXBsb2Fkcykge1xuICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgfVxuXG4gICAgICByZXR1cm4gKFxuICAgICAgICA8VG9vbGJhckJ1dHRvblxuICAgICAgICAgIG9uQ2xpY2s9e29uQ2xpY2tNZWRpYUJ1dHRvbihtZWRpYVBsdWdpbil9XG4gICAgICAgICAgZGlzYWJsZWQ9e2lzRGlzYWJsZWR9XG4gICAgICAgICAgdGl0bGU9XCJGaWxlcyAmIGltYWdlc1wiXG4gICAgICAgICAgc3BhY2luZz17aXNSZWR1Y2VkU3BhY2luZyA/ICdub25lJyA6ICdkZWZhdWx0J31cbiAgICAgICAgICBpY29uQmVmb3JlPXs8QXR0YWNobWVudEljb24gbGFiZWw9XCJGaWxlcyAmIGltYWdlc1wiIC8+fVxuICAgICAgICAvPlxuICAgICAgKVxuICAgIH19XG4gIC8+XG4pXG5cbmV4cG9ydCBkZWZhdWx0IFRvb2xiYXJNZWRpYVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBWUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQUE7QUFDQTtBQUdBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/plugins/media/ui/ToolbarMedia/index.tsx\n");

/***/ }),

/***/ "./src/plugins/media/utils/check-media-type.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"checkMediaType\", function() { return checkMediaType; });\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _atlaskit_media_client__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/@atlaskit/media-client/dist/esm/index.js\");\n\n\n\nvar checkMediaType = /*#__PURE__*/function () {\n  var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee(mediaNode, mediaClientConfig) {\n    var fileState;\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!(mediaNode.attrs.type === 'external')) {\n              _context.next = 2;\n              break;\n            }\n            return _context.abrupt(\"return\", 'external');\n          case 2:\n            if (mediaNode.attrs.id) {\n              _context.next = 4;\n              break;\n            }\n            return _context.abrupt(\"return\");\n          case 4:\n            _context.prev = 4;\n            _context.next = 7;\n            return Object(_atlaskit_media_client__WEBPACK_IMPORTED_MODULE_2__[\"getMediaClient\"])(mediaClientConfig).file.getCurrentState(mediaNode.attrs.id, {\n              collectionName: mediaNode.attrs.collection\n            });\n          case 7:\n            fileState = _context.sent;\n            if (!(fileState && fileState.status !== 'error')) {\n              _context.next = 10;\n              break;\n            }\n            return _context.abrupt(\"return\", fileState.mediaType);\n          case 10:\n            _context.next = 14;\n            break;\n          case 12:\n            _context.prev = 12;\n            _context.t0 = _context[\"catch\"](4);\n          case 14:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[4, 12]]);\n  }));\n  return function checkMediaType(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9tZWRpYS91dGlscy9jaGVjay1tZWRpYS10eXBlLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbnMvbWVkaWEvdXRpbHMvY2hlY2stbWVkaWEtdHlwZS50cz84YjFhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5vZGUgYXMgUE1Ob2RlIH0gZnJvbSAncHJvc2VtaXJyb3ItbW9kZWwnXG5pbXBvcnQgeyBnZXRNZWRpYUNsaWVudCwgTWVkaWFUeXBlIH0gZnJvbSAnQGF0bGFza2l0L21lZGlhLWNsaWVudCdcbmltcG9ydCB7IE1lZGlhQ2xpZW50Q29uZmlnIH0gZnJvbSAnQGF0bGFza2l0L21lZGlhLWNvcmUnXG5cbmV4cG9ydCBjb25zdCBjaGVja01lZGlhVHlwZSA9IGFzeW5jIChcbiAgbWVkaWFOb2RlOiBQTU5vZGUsXG4gIG1lZGlhQ2xpZW50Q29uZmlnOiBNZWRpYUNsaWVudENvbmZpZ1xuKTogUHJvbWlzZTxNZWRpYVR5cGUgfCAnZXh0ZXJuYWwnIHwgdW5kZWZpbmVkPiA9PiB7XG4gIGlmIChtZWRpYU5vZGUuYXR0cnMudHlwZSA9PT0gJ2V4dGVybmFsJykge1xuICAgIHJldHVybiAnZXh0ZXJuYWwnXG4gIH1cblxuICBpZiAoIW1lZGlhTm9kZS5hdHRycy5pZCkge1xuICAgIHJldHVyblxuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBmaWxlU3RhdGUgPSBhd2FpdCBnZXRNZWRpYUNsaWVudChcbiAgICAgIG1lZGlhQ2xpZW50Q29uZmlnXG4gICAgKS5maWxlLmdldEN1cnJlbnRTdGF0ZShtZWRpYU5vZGUuYXR0cnMuaWQsIHtcbiAgICAgIGNvbGxlY3Rpb25OYW1lOiBtZWRpYU5vZGUuYXR0cnMuY29sbGVjdGlvblxuICAgIH0pXG5cbiAgICBpZiAoZmlsZVN0YXRlICYmIGZpbGVTdGF0ZS5zdGF0dXMgIT09ICdlcnJvcicpIHtcbiAgICAgIHJldHVybiBmaWxlU3RhdGUubWVkaWFUeXBlXG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICAvLyByZXR1cm4gdW5kZWZpbmVkIGluIGNhc2Ugb2YgbWVkaWEgY2xpZW50IGVycm9yXG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQ0E7QUFHQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBR0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVFBO0FBQ0E7QUFBQTtBQUpBO0FBQUE7QUFNQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBS0E7QUF6QkE7QUFBQTtBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/plugins/media/utils/check-media-type.ts\n");

/***/ }),

/***/ "./src/plugins/media/utils/current-media-node.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"currentMediaNode\", function() { return currentMediaNode; });\n/* harmony import */ var prosemirror_state__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/prosemirror-state/dist/index.es.js\");\n\nvar currentMediaNode = function currentMediaNode(editorState) {\n  var doc = editorState.doc,\n    selection = editorState.selection,\n    schema = editorState.schema;\n  if (!doc || !selection || !(selection instanceof prosemirror_state__WEBPACK_IMPORTED_MODULE_0__[\"NodeSelection\"]) || selection.node.type !== schema.nodes.mediaSingle) {\n    return;\n  }\n  var node = doc.nodeAt(selection.$anchor.pos + 1);\n  if (!node || node.type !== schema.nodes.media) {\n    return;\n  }\n  return node;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9tZWRpYS91dGlscy9jdXJyZW50LW1lZGlhLW5vZGUudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2lucy9tZWRpYS91dGlscy9jdXJyZW50LW1lZGlhLW5vZGUudHM/NDE3ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOb2RlIGFzIFBNTm9kZSB9IGZyb20gJ3Byb3NlbWlycm9yLW1vZGVsJ1xuaW1wb3J0IHsgRWRpdG9yU3RhdGUsIE5vZGVTZWxlY3Rpb24gfSBmcm9tICdwcm9zZW1pcnJvci1zdGF0ZSdcblxuZXhwb3J0IGNvbnN0IGN1cnJlbnRNZWRpYU5vZGUgPSAoXG4gIGVkaXRvclN0YXRlOiBFZGl0b3JTdGF0ZVxuKTogUE1Ob2RlIHwgdW5kZWZpbmVkID0+IHtcbiAgY29uc3QgeyBkb2MsIHNlbGVjdGlvbiwgc2NoZW1hIH0gPSBlZGl0b3JTdGF0ZVxuXG4gIGlmIChcbiAgICAhZG9jIHx8XG4gICAgIXNlbGVjdGlvbiB8fFxuICAgICEoc2VsZWN0aW9uIGluc3RhbmNlb2YgTm9kZVNlbGVjdGlvbikgfHxcbiAgICBzZWxlY3Rpb24ubm9kZS50eXBlICE9PSBzY2hlbWEubm9kZXMubWVkaWFTaW5nbGVcbiAgKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICBjb25zdCBub2RlID0gZG9jLm5vZGVBdChzZWxlY3Rpb24uJGFuY2hvci5wb3MgKyAxKVxuXG4gIGlmICghbm9kZSB8fCBub2RlLnR5cGUgIT09IHNjaGVtYS5ub2Rlcy5tZWRpYSkge1xuICAgIHJldHVyblxuICB9XG5cbiAgcmV0dXJuIG5vZGVcbn1cbiJdLCJtYXBwaW5ncyI6IkFBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUdBO0FBQUE7QUFBQTtBQUVBO0FBTUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/plugins/media/utils/current-media-node.ts\n");

/***/ }),

/***/ "./src/plugins/media/utils/is-image.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isImage\", function() { return isImage; });\nvar isImage = function isImage(fileType) {\n  return !!fileType && (fileType.indexOf('image/') > -1 || fileType.indexOf('video/') > -1);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9tZWRpYS91dGlscy9pcy1pbWFnZS50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9wbHVnaW5zL21lZGlhL3V0aWxzL2lzLWltYWdlLnRzPzcyZGQiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGlzSW1hZ2UgPSAoZmlsZVR5cGU/OiBzdHJpbmcpOiBib29sZWFuID0+IHtcbiAgcmV0dXJuIChcbiAgICAhIWZpbGVUeXBlICYmXG4gICAgKGZpbGVUeXBlLmluZGV4T2YoJ2ltYWdlLycpID4gLTEgfHwgZmlsZVR5cGUuaW5kZXhPZigndmlkZW8vJykgPiAtMSlcbiAgKVxufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFDQTtBQUlBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/plugins/media/utils/is-image.ts\n");

/***/ }),

/***/ "./src/plugins/media/utils/media-common.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isMediaBlobUrlFromAttrs\", function() { return isMediaBlobUrlFromAttrs; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"posOfMediaGroupNearby\", function() { return posOfMediaGroupNearby; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isSelectionNonMediaBlockNode\", function() { return isSelectionNonMediaBlockNode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isSelectionMediaSingleNode\", function() { return isSelectionMediaSingleNode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"posOfPrecedingMediaGroup\", function() { return posOfPrecedingMediaGroup; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isInsidePotentialEmptyParagraph\", function() { return isInsidePotentialEmptyParagraph; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"posOfMediaGroupBelow\", function() { return posOfMediaGroupBelow; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"posOfParentMediaGroup\", function() { return posOfParentMediaGroup; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"endPositionForMedia\", function() { return endPositionForMedia; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeMediaNode\", function() { return removeMediaNode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"splitMediaGroup\", function() { return splitMediaGroup; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"copyOptionalAttrsFromMediaState\", function() { return copyOptionalAttrsFromMediaState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"transformSliceToCorrectMediaWrapper\", function() { return transformSliceToCorrectMediaWrapper; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"unwrapNestedMediaElements\", function() { return unwrapNestedMediaElements; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getMediaNodeFromSelection\", function() { return getMediaNodeFromSelection; });\n/* harmony import */ var prosemirror_commands__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/prosemirror-commands/dist/index.es.js\");\n/* harmony import */ var prosemirror_model__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/prosemirror-model/dist/index.es.js\");\n/* harmony import */ var prosemirror_state__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/prosemirror-state/dist/index.es.js\");\n/* harmony import */ var prosemirror_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./node_modules/prosemirror-utils/dist/index.js\");\n/* harmony import */ var prosemirror_utils__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(prosemirror_utils__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _atlaskit_editor_core_commands__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/commands/index.ts\");\n/* harmony import */ var _atlaskit_editor_core_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/utils/index.ts\");\n/* harmony import */ var _atlaskit_editor_core_utils_slice__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/utils/slice.ts\");\n/* harmony import */ var _atlaskit_editor_core_utils_dom__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/utils/dom.ts\");\n/* harmony import */ var _is_image__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./src/plugins/media/utils/is-image.ts\");\n/* harmony import */ var _atlaskit_editor_core_utils_prosemirror_position__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/utils/prosemirror/position.ts\");\n/* harmony import */ var _atlaskit_editor_core_plugins_selection_gap_cursor_selection__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/plugins/selection/gap-cursor/selection.ts\");\n/* harmony import */ var _atlaskit_media_client__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"./node_modules/@atlaskit/media-client/dist/esm/index.js\");\n\n\n\n\n\n\n\n\n\n\n\n\nvar isMediaBlobUrlFromAttrs = function isMediaBlobUrlFromAttrs(attrs) {\n  return !!(attrs && attrs.type === 'external' && Object(_atlaskit_media_client__WEBPACK_IMPORTED_MODULE_11__[\"isMediaBlobUrl\"])(attrs.url));\n};\nvar posOfMediaGroupNearby = function posOfMediaGroupNearby(state) {\n  return posOfParentMediaGroup(state) || posOfFollowingMediaGroup(state) || posOfPrecedingMediaGroup(state) || posOfMediaGroupNextToGapCursor(state);\n};\nvar isSelectionNonMediaBlockNode = function isSelectionNonMediaBlockNode(state) {\n  var _ref = state.selection,\n    node = _ref.node;\n  return node && node.type !== state.schema.nodes.media && node.isBlock;\n};\nvar isSelectionMediaSingleNode = function isSelectionMediaSingleNode(state) {\n  var _ref2 = state.selection,\n    node = _ref2.node;\n  return node && node.type === state.schema.nodes.mediaSingle;\n};\nvar posOfPrecedingMediaGroup = function posOfPrecedingMediaGroup(state) {\n  if (!Object(_atlaskit_editor_core_utils_prosemirror_position__WEBPACK_IMPORTED_MODULE_9__[\"atTheBeginningOfBlock\"])(state)) {\n    return;\n  }\n  return posOfMediaGroupAbove(state, state.selection.$from);\n};\nvar posOfMediaGroupNextToGapCursor = function posOfMediaGroupNextToGapCursor(state) {\n  var selection = state.selection;\n  if (selection instanceof _atlaskit_editor_core_plugins_selection_gap_cursor_selection__WEBPACK_IMPORTED_MODULE_10__[\"GapCursorSelection\"]) {\n    var $pos = state.selection.$from;\n    var mediaGroupType = state.schema.nodes.mediaGroup;\n    return posOfImmediatePrecedingMediaGroup($pos, mediaGroupType) || posOfImmediateFollowingMediaGroup($pos, mediaGroupType);\n  }\n};\nvar posOfImmediatePrecedingMediaGroup = function posOfImmediatePrecedingMediaGroup($pos, mediaGroupType) {\n  if ($pos.nodeBefore && $pos.nodeBefore.type === mediaGroupType) {\n    return $pos.pos - $pos.nodeBefore.nodeSize + 1;\n  }\n};\nvar posOfImmediateFollowingMediaGroup = function posOfImmediateFollowingMediaGroup($pos, mediaGroupType) {\n  if ($pos.nodeAfter && $pos.nodeAfter.type === mediaGroupType) {\n    return $pos.pos + 1;\n  }\n};\nvar posOfFollowingMediaGroup = function posOfFollowingMediaGroup(state) {\n  if (!Object(_atlaskit_editor_core_utils_prosemirror_position__WEBPACK_IMPORTED_MODULE_9__[\"atTheEndOfBlock\"])(state)) {\n    return;\n  }\n  return posOfMediaGroupBelow(state, state.selection.$to);\n};\nvar posOfMediaGroupAbove = function posOfMediaGroupAbove(state, $pos) {\n  var adjacentPos;\n  var adjacentNode;\n  if (isSelectionNonMediaBlockNode(state)) {\n    adjacentPos = $pos.pos;\n    adjacentNode = $pos.nodeBefore;\n  } else {\n    adjacentPos = Object(_atlaskit_editor_core_utils_prosemirror_position__WEBPACK_IMPORTED_MODULE_9__[\"startPositionOfParent\"])($pos) - 1;\n    adjacentNode = state.doc.resolve(adjacentPos).nodeBefore;\n  }\n  if (adjacentNode && adjacentNode.type === state.schema.nodes.mediaGroup) {\n    return adjacentPos - adjacentNode.nodeSize + 1;\n  }\n  return;\n};\n\n/**\n * Determine whether the cursor is inside empty paragraph\n * or the selection is the entire paragraph\n */\nvar isInsidePotentialEmptyParagraph = function isInsidePotentialEmptyParagraph(state) {\n  var $from = state.selection.$from;\n  return $from.parent.type === state.schema.nodes.paragraph && Object(_atlaskit_editor_core_utils_prosemirror_position__WEBPACK_IMPORTED_MODULE_9__[\"atTheBeginningOfBlock\"])(state) && Object(_atlaskit_editor_core_utils_prosemirror_position__WEBPACK_IMPORTED_MODULE_9__[\"atTheEndOfBlock\"])(state);\n};\nvar posOfMediaGroupBelow = function posOfMediaGroupBelow(state, $pos) {\n  var prepend = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n  var adjacentPos;\n  var adjacentNode;\n  if (isSelectionNonMediaBlockNode(state)) {\n    adjacentPos = $pos.pos;\n    adjacentNode = $pos.nodeAfter;\n  } else {\n    adjacentPos = Object(_atlaskit_editor_core_utils_prosemirror_position__WEBPACK_IMPORTED_MODULE_9__[\"endPositionOfParent\"])($pos);\n    adjacentNode = state.doc.nodeAt(adjacentPos);\n  }\n  if (adjacentNode && adjacentNode.type === state.schema.nodes.mediaGroup) {\n    return prepend ? adjacentPos + 1 : adjacentPos + adjacentNode.nodeSize - 1;\n  }\n  return;\n};\nvar posOfParentMediaGroup = function posOfParentMediaGroup(state, $pos) {\n  var prepend = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var $from = state.selection.$from;\n  $pos = $pos || $from;\n  if ($pos.parent.type === state.schema.nodes.mediaGroup) {\n    return prepend ? Object(_atlaskit_editor_core_utils_prosemirror_position__WEBPACK_IMPORTED_MODULE_9__[\"startPositionOfParent\"])($pos) : Object(_atlaskit_editor_core_utils_prosemirror_position__WEBPACK_IMPORTED_MODULE_9__[\"endPositionOfParent\"])($pos) - 1;\n  }\n  return;\n};\n\n/**\n * The function will return the position after current selection where mediaGroup can be inserted.\n */\nfunction endPositionForMedia(state, resolvedPos) {\n  var mediaGroup = state.schema.nodes.mediaGroup;\n  var i = resolvedPos.depth;\n  for (; i > 1; i--) {\n    var nodeType = resolvedPos.node(i).type;\n    if (nodeType.validContent(prosemirror_model__WEBPACK_IMPORTED_MODULE_1__[\"Fragment\"].from(mediaGroup.create()))) {\n      break;\n    }\n  }\n  return resolvedPos.end(i) + 1;\n}\nvar removeMediaNode = function removeMediaNode(view, node, getPos) {\n  var id = node.attrs.id;\n  var state = view.state;\n  var tr = state.tr,\n    selection = state.selection,\n    doc = state.doc;\n  var currentMediaNodePos = getPos();\n  tr.deleteRange(currentMediaNodePos, currentMediaNodePos + node.nodeSize);\n  if (Object(_atlaskit_editor_core_utils__WEBPACK_IMPORTED_MODULE_5__[\"isTemporary\"])(id)) {\n    tr.setMeta('addToHistory', false);\n  }\n  var $currentMediaNodePos = doc.resolve(currentMediaNodePos);\n  var nodeBefore = $currentMediaNodePos.nodeBefore,\n    parent = $currentMediaNodePos.parent;\n  var isLastMediaNode = $currentMediaNodePos.index() === parent.childCount - 1;\n\n  // If deleting a selected media node, we need to tell where the cursor to go next.\n  // Prosemirror didn't gave us the behaviour of moving left if the media node is not the last one.\n  // So we handle it ourselves.\n  if (selection.from === currentMediaNodePos && !isLastMediaNode && !Object(_atlaskit_editor_core_utils_prosemirror_position__WEBPACK_IMPORTED_MODULE_9__[\"atTheBeginningOfDoc\"])(state) && nodeBefore && nodeBefore.type.name === 'media') {\n    var _nodeBefore = Object(prosemirror_utils__WEBPACK_IMPORTED_MODULE_3__[\"findPositionOfNodeBefore\"])(tr.selection);\n    if (_nodeBefore) {\n      tr.setSelection(prosemirror_state__WEBPACK_IMPORTED_MODULE_2__[\"NodeSelection\"].create(tr.doc, _nodeBefore));\n    }\n  }\n  view.dispatch(tr);\n};\nvar splitMediaGroup = function splitMediaGroup(view) {\n  var selection = view.state.selection;\n\n  // if selection is not a media node, do nothing.\n  if (!(selection instanceof prosemirror_state__WEBPACK_IMPORTED_MODULE_2__[\"NodeSelection\"]) || selection.node.type !== view.state.schema.nodes.media) {\n    return false;\n  }\n  Object(prosemirror_commands__WEBPACK_IMPORTED_MODULE_0__[\"deleteSelection\"])(view.state, view.dispatch);\n  if (selection.$to.nodeAfter) {\n    Object(prosemirror_commands__WEBPACK_IMPORTED_MODULE_0__[\"splitBlock\"])(view.state, view.dispatch);\n    Object(_atlaskit_editor_core_commands__WEBPACK_IMPORTED_MODULE_4__[\"createParagraphNear\"])(false)(view.state, view.dispatch);\n  } else {\n    Object(_atlaskit_editor_core_commands__WEBPACK_IMPORTED_MODULE_4__[\"createNewParagraphBelow\"])(view.state, view.dispatch);\n  }\n  return true;\n};\nvar isOptionalAttr = function isOptionalAttr(attr) {\n  return attr.length > 1 && attr[0] === '_' && attr[1] === '_';\n};\nvar copyOptionalAttrsFromMediaState = function copyOptionalAttrsFromMediaState(mediaState, node) {\n  Object.keys(node.attrs).filter(isOptionalAttr).forEach(function (key) {\n    var mediaStateKey = key.substring(2);\n    var attrValue = mediaState[mediaStateKey];\n    if (attrValue !== undefined) {\n      node.attrs[key] = attrValue;\n    }\n  });\n};\nvar transformSliceToCorrectMediaWrapper = function transformSliceToCorrectMediaWrapper(slice, schema) {\n  var _schema$nodes = schema.nodes,\n    mediaGroup = _schema$nodes.mediaGroup,\n    mediaSingle = _schema$nodes.mediaSingle,\n    media = _schema$nodes.media;\n  return Object(_atlaskit_editor_core_utils_slice__WEBPACK_IMPORTED_MODULE_6__[\"mapSlice\"])(slice, function (node, parent) {\n    if (!parent && node.type === media) {\n      if (mediaSingle && (Object(_is_image__WEBPACK_IMPORTED_MODULE_8__[\"isImage\"])(node.attrs.__fileMimeType) || node.attrs.type === 'external')) {\n        return mediaSingle.createChecked({}, node);\n      } else {\n        return mediaGroup.createChecked({}, [node]);\n      }\n    }\n    return node;\n  });\n};\n\n/**\n * Check base styles to see if an element will be invisible when rendered in a document.\n * @param element\n */\nvar isElementInvisible = function isElementInvisible(element) {\n  return element.style.opacity === '0' || element.style.display === 'none' || element.style.visibility === 'hidden';\n};\nvar VALID_TAGS_CONTAINER = ['DIV', 'TD'];\nfunction canContainImage(element) {\n  if (!element) {\n    return false;\n  }\n  return VALID_TAGS_CONTAINER.indexOf(element.tagName) !== -1;\n}\n\n/**\n * Given a html string, we attempt to hoist any nested `<img>` tags,\n * not wrapped by a `<div>` as ProseMirror no-op's on those scenarios.\n * @param html\n */\nvar unwrapNestedMediaElements = function unwrapNestedMediaElements(html) {\n  var parser = new DOMParser();\n  var doc = parser.parseFromString(html, 'text/html');\n  var wrapper = doc.body;\n\n  // Remove Google Doc's wrapper <b> el\n  var docsWrapper = wrapper.querySelector('b[id^=\"docs-internal-guid-\"]');\n  if (docsWrapper) {\n    Object(_atlaskit_editor_core_utils_dom__WEBPACK_IMPORTED_MODULE_7__[\"unwrap\"])(wrapper, docsWrapper);\n  }\n  var imageTags = wrapper.querySelectorAll('img');\n  if (!imageTags.length) {\n    return html;\n  }\n  imageTags.forEach(function (imageTag) {\n    // Capture the immediate parent, we may remove the media from here later.\n    var mediaParent = imageTag.parentElement;\n    if (!mediaParent) {\n      return;\n    }\n\n    // If either the parent or the image itself contains styles that would make\n    // them invisible on copy, dont paste them.\n    if (isElementInvisible(mediaParent) || isElementInvisible(imageTag)) {\n      mediaParent.removeChild(imageTag);\n      return;\n    }\n\n    // If its wrapped by a div we assume its safe to bypass.\n    // ProseMirror should handle this case properly.\n    if (mediaParent instanceof HTMLDivElement) {\n      return;\n    }\n\n    // Find the top most element that the parent has a valid container for the image.\n    // Stop just before found the wrapper\n    var insertBeforeElement = Object(_atlaskit_editor_core_utils_dom__WEBPACK_IMPORTED_MODULE_7__[\"walkUpTreeUntil\"])(mediaParent, function (element) {\n      // If is at the top just use this element as reference\n      if (element.parentElement === wrapper) {\n        return true;\n      }\n      return canContainImage(element.parentElement);\n    });\n\n    // Here we try to insert the media right after its top most valid parent element\n    // Unless its the last element in our structure then we will insert above it.\n    if (insertBeforeElement && insertBeforeElement.parentElement) {\n      // Insert as close as possible to the most closest valid element index in the tree.\n      insertBeforeElement.parentElement.insertBefore(imageTag, insertBeforeElement.nextElementSibling || insertBeforeElement);\n\n      // Attempt to clean up lines left behind by the image\n      mediaParent.innerText = mediaParent.innerText.trim();\n      // Walk up and delete empty elements left over after removing the image tag\n      Object(_atlaskit_editor_core_utils_dom__WEBPACK_IMPORTED_MODULE_7__[\"removeNestedEmptyEls\"])(mediaParent);\n    }\n  });\n\n  // If last child is a hardbreak we don't want it\n  if (wrapper.lastElementChild && wrapper.lastElementChild.tagName === 'BR') {\n    wrapper.removeChild(wrapper.lastElementChild);\n  }\n  return wrapper.innerHTML;\n};\nvar getMediaNodeFromSelection = function getMediaNodeFromSelection(state) {\n  if (!isSelectionMediaSingleNode(state)) {\n    return null;\n  }\n  var tr = state.tr;\n  var pos = tr.selection.from + 1;\n  var mediaNode = tr.doc.nodeAt(pos);\n  if (mediaNode && mediaNode.type === state.schema.nodes.media) {\n    return mediaNode;\n  }\n  return null;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9tZWRpYS91dGlscy9tZWRpYS1jb21tb24udHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2lucy9tZWRpYS91dGlscy9tZWRpYS1jb21tb24udHM/MDgzMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkZWxldGVTZWxlY3Rpb24sIHNwbGl0QmxvY2sgfSBmcm9tICdwcm9zZW1pcnJvci1jb21tYW5kcydcbmltcG9ydCB7XG4gIE5vZGUgYXMgUE1Ob2RlLFxuICBSZXNvbHZlZFBvcyxcbiAgRnJhZ21lbnQsXG4gIFNsaWNlLFxuICBTY2hlbWFcbn0gZnJvbSAncHJvc2VtaXJyb3ItbW9kZWwnXG5pbXBvcnQgeyBFZGl0b3JTdGF0ZSwgTm9kZVNlbGVjdGlvbiB9IGZyb20gJ3Byb3NlbWlycm9yLXN0YXRlJ1xuaW1wb3J0IHsgRWRpdG9yVmlldyB9IGZyb20gJ3Byb3NlbWlycm9yLXZpZXcnXG5pbXBvcnQgeyBmaW5kUG9zaXRpb25PZk5vZGVCZWZvcmUgfSBmcm9tICdwcm9zZW1pcnJvci11dGlscydcbmltcG9ydCB7XG4gIGNyZWF0ZVBhcmFncmFwaE5lYXIsXG4gIGNyZWF0ZU5ld1BhcmFncmFwaEJlbG93XG59IGZyb20gJ0BhdGxhc2tpdC9lZGl0b3ItY29yZS9jb21tYW5kcydcbmltcG9ydCB7IGlzVGVtcG9yYXJ5IH0gZnJvbSAnQGF0bGFza2l0L2VkaXRvci1jb3JlL3V0aWxzJ1xuaW1wb3J0IHsgUHJvc2VtaXJyb3JHZXRQb3NIYW5kbGVyIH0gZnJvbSAnQGF0bGFza2l0L2VkaXRvci1jb3JlL25vZGV2aWV3cydcbmltcG9ydCB7IE1lZGlhU3RhdGUgfSBmcm9tICcuLi90eXBlcydcbmltcG9ydCB7IG1hcFNsaWNlIH0gZnJvbSAnQGF0bGFza2l0L2VkaXRvci1jb3JlL3V0aWxzL3NsaWNlJ1xuaW1wb3J0IHtcbiAgd2Fsa1VwVHJlZVVudGlsLFxuICByZW1vdmVOZXN0ZWRFbXB0eUVscyxcbiAgdW53cmFwXG59IGZyb20gJ0BhdGxhc2tpdC9lZGl0b3ItY29yZS91dGlscy9kb20nXG5pbXBvcnQgeyBpc0ltYWdlIH0gZnJvbSAnLi9pcy1pbWFnZSdcbmltcG9ydCB7XG4gIGF0VGhlQmVnaW5uaW5nT2ZCbG9jayxcbiAgYXRUaGVCZWdpbm5pbmdPZkRvYyxcbiAgYXRUaGVFbmRPZkJsb2NrLFxuICBlbmRQb3NpdGlvbk9mUGFyZW50LFxuICBzdGFydFBvc2l0aW9uT2ZQYXJlbnRcbn0gZnJvbSAnQGF0bGFza2l0L2VkaXRvci1jb3JlL3V0aWxzL3Byb3NlbWlycm9yL3Bvc2l0aW9uJ1xuaW1wb3J0IHsgR2FwQ3Vyc29yU2VsZWN0aW9uIH0gZnJvbSAnQGF0bGFza2l0L2VkaXRvci1jb3JlL3BsdWdpbnMvc2VsZWN0aW9uL2dhcC1jdXJzb3Ivc2VsZWN0aW9uJ1xuaW1wb3J0IHsgTWVkaWFBREZBdHRycyB9IGZyb20gJ0BhdGxhc2tpdC9hZGYtc2NoZW1hJ1xuaW1wb3J0IHsgaXNNZWRpYUJsb2JVcmwgfSBmcm9tICdAYXRsYXNraXQvbWVkaWEtY2xpZW50J1xuXG5leHBvcnQgY29uc3QgaXNNZWRpYUJsb2JVcmxGcm9tQXR0cnMgPSAoYXR0cnM6IE1lZGlhQURGQXR0cnMpOiBib29sZWFuID0+IHtcbiAgcmV0dXJuICEhKGF0dHJzICYmIGF0dHJzLnR5cGUgPT09ICdleHRlcm5hbCcgJiYgaXNNZWRpYUJsb2JVcmwoYXR0cnMudXJsKSlcbn1cblxuZXhwb3J0IGNvbnN0IHBvc09mTWVkaWFHcm91cE5lYXJieSA9IChcbiAgc3RhdGU6IEVkaXRvclN0YXRlXG4pOiBudW1iZXIgfCB1bmRlZmluZWQgPT4ge1xuICByZXR1cm4gKFxuICAgIHBvc09mUGFyZW50TWVkaWFHcm91cChzdGF0ZSkgfHxcbiAgICBwb3NPZkZvbGxvd2luZ01lZGlhR3JvdXAoc3RhdGUpIHx8XG4gICAgcG9zT2ZQcmVjZWRpbmdNZWRpYUdyb3VwKHN0YXRlKSB8fFxuICAgIHBvc09mTWVkaWFHcm91cE5leHRUb0dhcEN1cnNvcihzdGF0ZSlcbiAgKVxufVxuXG5leHBvcnQgY29uc3QgaXNTZWxlY3Rpb25Ob25NZWRpYUJsb2NrTm9kZSA9IChzdGF0ZTogRWRpdG9yU3RhdGUpOiBib29sZWFuID0+IHtcbiAgY29uc3QgeyBub2RlIH0gPSBzdGF0ZS5zZWxlY3Rpb24gYXMgTm9kZVNlbGVjdGlvblxuXG4gIHJldHVybiBub2RlICYmIG5vZGUudHlwZSAhPT0gc3RhdGUuc2NoZW1hLm5vZGVzLm1lZGlhICYmIG5vZGUuaXNCbG9ja1xufVxuXG5leHBvcnQgY29uc3QgaXNTZWxlY3Rpb25NZWRpYVNpbmdsZU5vZGUgPSAoc3RhdGU6IEVkaXRvclN0YXRlKTogYm9vbGVhbiA9PiB7XG4gIGNvbnN0IHsgbm9kZSB9ID0gc3RhdGUuc2VsZWN0aW9uIGFzIE5vZGVTZWxlY3Rpb25cblxuICByZXR1cm4gbm9kZSAmJiBub2RlLnR5cGUgPT09IHN0YXRlLnNjaGVtYS5ub2Rlcy5tZWRpYVNpbmdsZVxufVxuXG5leHBvcnQgY29uc3QgcG9zT2ZQcmVjZWRpbmdNZWRpYUdyb3VwID0gKFxuICBzdGF0ZTogRWRpdG9yU3RhdGVcbik6IG51bWJlciB8IHVuZGVmaW5lZCA9PiB7XG4gIGlmICghYXRUaGVCZWdpbm5pbmdPZkJsb2NrKHN0YXRlKSkge1xuICAgIHJldHVyblxuICB9XG5cbiAgcmV0dXJuIHBvc09mTWVkaWFHcm91cEFib3ZlKHN0YXRlLCBzdGF0ZS5zZWxlY3Rpb24uJGZyb20pXG59XG5cbmNvbnN0IHBvc09mTWVkaWFHcm91cE5leHRUb0dhcEN1cnNvciA9IChcbiAgc3RhdGU6IEVkaXRvclN0YXRlXG4pOiBudW1iZXIgfCB1bmRlZmluZWQgPT4ge1xuICBjb25zdCB7IHNlbGVjdGlvbiB9ID0gc3RhdGVcblxuICBpZiAoc2VsZWN0aW9uIGluc3RhbmNlb2YgR2FwQ3Vyc29yU2VsZWN0aW9uKSB7XG4gICAgY29uc3QgJHBvcyA9IHN0YXRlLnNlbGVjdGlvbi4kZnJvbVxuICAgIGNvbnN0IG1lZGlhR3JvdXBUeXBlID0gc3RhdGUuc2NoZW1hLm5vZGVzLm1lZGlhR3JvdXBcbiAgICByZXR1cm4gKFxuICAgICAgcG9zT2ZJbW1lZGlhdGVQcmVjZWRpbmdNZWRpYUdyb3VwKCRwb3MsIG1lZGlhR3JvdXBUeXBlKSB8fFxuICAgICAgcG9zT2ZJbW1lZGlhdGVGb2xsb3dpbmdNZWRpYUdyb3VwKCRwb3MsIG1lZGlhR3JvdXBUeXBlKVxuICAgIClcbiAgfVxufVxuXG5jb25zdCBwb3NPZkltbWVkaWF0ZVByZWNlZGluZ01lZGlhR3JvdXAgPSAoXG4gICRwb3M6IFJlc29sdmVkUG9zLFxuICBtZWRpYUdyb3VwVHlwZTogYW55XG4pOiBudW1iZXIgfCB1bmRlZmluZWQgPT4ge1xuICBpZiAoJHBvcy5ub2RlQmVmb3JlICYmICRwb3Mubm9kZUJlZm9yZS50eXBlID09PSBtZWRpYUdyb3VwVHlwZSkge1xuICAgIHJldHVybiAkcG9zLnBvcyAtICRwb3Mubm9kZUJlZm9yZS5ub2RlU2l6ZSArIDFcbiAgfVxufVxuXG5jb25zdCBwb3NPZkltbWVkaWF0ZUZvbGxvd2luZ01lZGlhR3JvdXAgPSAoXG4gICRwb3M6IFJlc29sdmVkUG9zLFxuICBtZWRpYUdyb3VwVHlwZTogYW55XG4pOiBudW1iZXIgfCB1bmRlZmluZWQgPT4ge1xuICBpZiAoJHBvcy5ub2RlQWZ0ZXIgJiYgJHBvcy5ub2RlQWZ0ZXIudHlwZSA9PT0gbWVkaWFHcm91cFR5cGUpIHtcbiAgICByZXR1cm4gJHBvcy5wb3MgKyAxXG4gIH1cbn1cblxuY29uc3QgcG9zT2ZGb2xsb3dpbmdNZWRpYUdyb3VwID0gKHN0YXRlOiBFZGl0b3JTdGF0ZSk6IG51bWJlciB8IHVuZGVmaW5lZCA9PiB7XG4gIGlmICghYXRUaGVFbmRPZkJsb2NrKHN0YXRlKSkge1xuICAgIHJldHVyblxuICB9XG4gIHJldHVybiBwb3NPZk1lZGlhR3JvdXBCZWxvdyhzdGF0ZSwgc3RhdGUuc2VsZWN0aW9uLiR0bylcbn1cblxuY29uc3QgcG9zT2ZNZWRpYUdyb3VwQWJvdmUgPSAoXG4gIHN0YXRlOiBFZGl0b3JTdGF0ZSxcbiAgJHBvczogUmVzb2x2ZWRQb3Ncbik6IG51bWJlciB8IHVuZGVmaW5lZCA9PiB7XG4gIGxldCBhZGphY2VudFBvc1xuICBsZXQgYWRqYWNlbnROb2RlXG5cbiAgaWYgKGlzU2VsZWN0aW9uTm9uTWVkaWFCbG9ja05vZGUoc3RhdGUpKSB7XG4gICAgYWRqYWNlbnRQb3MgPSAkcG9zLnBvc1xuICAgIGFkamFjZW50Tm9kZSA9ICRwb3Mubm9kZUJlZm9yZVxuICB9IGVsc2Uge1xuICAgIGFkamFjZW50UG9zID0gc3RhcnRQb3NpdGlvbk9mUGFyZW50KCRwb3MpIC0gMVxuICAgIGFkamFjZW50Tm9kZSA9IHN0YXRlLmRvYy5yZXNvbHZlKGFkamFjZW50UG9zKS5ub2RlQmVmb3JlXG4gIH1cblxuICBpZiAoYWRqYWNlbnROb2RlICYmIGFkamFjZW50Tm9kZS50eXBlID09PSBzdGF0ZS5zY2hlbWEubm9kZXMubWVkaWFHcm91cCkge1xuICAgIHJldHVybiBhZGphY2VudFBvcyAtIGFkamFjZW50Tm9kZS5ub2RlU2l6ZSArIDFcbiAgfVxuICByZXR1cm5cbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgd2hldGhlciB0aGUgY3Vyc29yIGlzIGluc2lkZSBlbXB0eSBwYXJhZ3JhcGhcbiAqIG9yIHRoZSBzZWxlY3Rpb24gaXMgdGhlIGVudGlyZSBwYXJhZ3JhcGhcbiAqL1xuZXhwb3J0IGNvbnN0IGlzSW5zaWRlUG90ZW50aWFsRW1wdHlQYXJhZ3JhcGggPSAoXG4gIHN0YXRlOiBFZGl0b3JTdGF0ZVxuKTogYm9vbGVhbiA9PiB7XG4gIGNvbnN0IHsgJGZyb20gfSA9IHN0YXRlLnNlbGVjdGlvblxuXG4gIHJldHVybiAoXG4gICAgJGZyb20ucGFyZW50LnR5cGUgPT09IHN0YXRlLnNjaGVtYS5ub2Rlcy5wYXJhZ3JhcGggJiZcbiAgICBhdFRoZUJlZ2lubmluZ09mQmxvY2soc3RhdGUpICYmXG4gICAgYXRUaGVFbmRPZkJsb2NrKHN0YXRlKVxuICApXG59XG5cbmV4cG9ydCBjb25zdCBwb3NPZk1lZGlhR3JvdXBCZWxvdyA9IChcbiAgc3RhdGU6IEVkaXRvclN0YXRlLFxuICAkcG9zOiBSZXNvbHZlZFBvcyxcbiAgcHJlcGVuZDogYm9vbGVhbiA9IHRydWVcbik6IG51bWJlciB8IHVuZGVmaW5lZCA9PiB7XG4gIGxldCBhZGphY2VudFBvc1xuICBsZXQgYWRqYWNlbnROb2RlXG5cbiAgaWYgKGlzU2VsZWN0aW9uTm9uTWVkaWFCbG9ja05vZGUoc3RhdGUpKSB7XG4gICAgYWRqYWNlbnRQb3MgPSAkcG9zLnBvc1xuICAgIGFkamFjZW50Tm9kZSA9ICRwb3Mubm9kZUFmdGVyXG4gIH0gZWxzZSB7XG4gICAgYWRqYWNlbnRQb3MgPSBlbmRQb3NpdGlvbk9mUGFyZW50KCRwb3MpXG4gICAgYWRqYWNlbnROb2RlID0gc3RhdGUuZG9jLm5vZGVBdChhZGphY2VudFBvcylcbiAgfVxuXG4gIGlmIChhZGphY2VudE5vZGUgJiYgYWRqYWNlbnROb2RlLnR5cGUgPT09IHN0YXRlLnNjaGVtYS5ub2Rlcy5tZWRpYUdyb3VwKSB7XG4gICAgcmV0dXJuIHByZXBlbmQgPyBhZGphY2VudFBvcyArIDEgOiBhZGphY2VudFBvcyArIGFkamFjZW50Tm9kZS5ub2RlU2l6ZSAtIDFcbiAgfVxuICByZXR1cm5cbn1cblxuZXhwb3J0IGNvbnN0IHBvc09mUGFyZW50TWVkaWFHcm91cCA9IChcbiAgc3RhdGU6IEVkaXRvclN0YXRlLFxuICAkcG9zPzogUmVzb2x2ZWRQb3MsXG4gIHByZXBlbmQ6IGJvb2xlYW4gPSBmYWxzZVxuKTogbnVtYmVyIHwgdW5kZWZpbmVkID0+IHtcbiAgY29uc3QgeyAkZnJvbSB9ID0gc3RhdGUuc2VsZWN0aW9uXG4gICRwb3MgPSAkcG9zIHx8ICRmcm9tXG5cbiAgaWYgKCRwb3MucGFyZW50LnR5cGUgPT09IHN0YXRlLnNjaGVtYS5ub2Rlcy5tZWRpYUdyb3VwKSB7XG4gICAgcmV0dXJuIHByZXBlbmQgPyBzdGFydFBvc2l0aW9uT2ZQYXJlbnQoJHBvcykgOiBlbmRQb3NpdGlvbk9mUGFyZW50KCRwb3MpIC0gMVxuICB9XG4gIHJldHVyblxufVxuXG4vKipcbiAqIFRoZSBmdW5jdGlvbiB3aWxsIHJldHVybiB0aGUgcG9zaXRpb24gYWZ0ZXIgY3VycmVudCBzZWxlY3Rpb24gd2hlcmUgbWVkaWFHcm91cCBjYW4gYmUgaW5zZXJ0ZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbmRQb3NpdGlvbkZvck1lZGlhKFxuICBzdGF0ZTogRWRpdG9yU3RhdGUsXG4gIHJlc29sdmVkUG9zOiBSZXNvbHZlZFBvc1xuKTogbnVtYmVyIHtcbiAgY29uc3QgeyBtZWRpYUdyb3VwIH0gPSBzdGF0ZS5zY2hlbWEubm9kZXNcbiAgbGV0IGkgPSByZXNvbHZlZFBvcy5kZXB0aFxuICBmb3IgKDsgaSA+IDE7IGktLSkge1xuICAgIGNvbnN0IG5vZGVUeXBlID0gcmVzb2x2ZWRQb3Mubm9kZShpKS50eXBlXG4gICAgaWYgKG5vZGVUeXBlLnZhbGlkQ29udGVudChGcmFnbWVudC5mcm9tKG1lZGlhR3JvdXAuY3JlYXRlKCkpKSkge1xuICAgICAgYnJlYWtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc29sdmVkUG9zLmVuZChpKSArIDFcbn1cblxuZXhwb3J0IGNvbnN0IHJlbW92ZU1lZGlhTm9kZSA9IChcbiAgdmlldzogRWRpdG9yVmlldyxcbiAgbm9kZTogUE1Ob2RlLFxuICBnZXRQb3M6IFByb3NlbWlycm9yR2V0UG9zSGFuZGxlclxuKSA9PiB7XG4gIGNvbnN0IHsgaWQgfSA9IG5vZGUuYXR0cnNcbiAgY29uc3QgeyBzdGF0ZSB9ID0gdmlld1xuICBjb25zdCB7IHRyLCBzZWxlY3Rpb24sIGRvYyB9ID0gc3RhdGVcblxuICBjb25zdCBjdXJyZW50TWVkaWFOb2RlUG9zID0gZ2V0UG9zKClcbiAgdHIuZGVsZXRlUmFuZ2UoY3VycmVudE1lZGlhTm9kZVBvcywgY3VycmVudE1lZGlhTm9kZVBvcyArIG5vZGUubm9kZVNpemUpXG5cbiAgaWYgKGlzVGVtcG9yYXJ5KGlkKSkge1xuICAgIHRyLnNldE1ldGEoJ2FkZFRvSGlzdG9yeScsIGZhbHNlKVxuICB9XG5cbiAgY29uc3QgJGN1cnJlbnRNZWRpYU5vZGVQb3MgPSBkb2MucmVzb2x2ZShjdXJyZW50TWVkaWFOb2RlUG9zKVxuICBjb25zdCB7IG5vZGVCZWZvcmUsIHBhcmVudCB9ID0gJGN1cnJlbnRNZWRpYU5vZGVQb3NcbiAgY29uc3QgaXNMYXN0TWVkaWFOb2RlID0gJGN1cnJlbnRNZWRpYU5vZGVQb3MuaW5kZXgoKSA9PT0gcGFyZW50LmNoaWxkQ291bnQgLSAxXG5cbiAgLy8gSWYgZGVsZXRpbmcgYSBzZWxlY3RlZCBtZWRpYSBub2RlLCB3ZSBuZWVkIHRvIHRlbGwgd2hlcmUgdGhlIGN1cnNvciB0byBnbyBuZXh0LlxuICAvLyBQcm9zZW1pcnJvciBkaWRuJ3QgZ2F2ZSB1cyB0aGUgYmVoYXZpb3VyIG9mIG1vdmluZyBsZWZ0IGlmIHRoZSBtZWRpYSBub2RlIGlzIG5vdCB0aGUgbGFzdCBvbmUuXG4gIC8vIFNvIHdlIGhhbmRsZSBpdCBvdXJzZWx2ZXMuXG4gIGlmIChcbiAgICBzZWxlY3Rpb24uZnJvbSA9PT0gY3VycmVudE1lZGlhTm9kZVBvcyAmJlxuICAgICFpc0xhc3RNZWRpYU5vZGUgJiZcbiAgICAhYXRUaGVCZWdpbm5pbmdPZkRvYyhzdGF0ZSkgJiZcbiAgICBub2RlQmVmb3JlICYmXG4gICAgbm9kZUJlZm9yZS50eXBlLm5hbWUgPT09ICdtZWRpYSdcbiAgKSB7XG4gICAgY29uc3Qgbm9kZUJlZm9yZSA9IGZpbmRQb3NpdGlvbk9mTm9kZUJlZm9yZSh0ci5zZWxlY3Rpb24pXG4gICAgaWYgKG5vZGVCZWZvcmUpIHtcbiAgICAgIHRyLnNldFNlbGVjdGlvbihOb2RlU2VsZWN0aW9uLmNyZWF0ZSh0ci5kb2MsIG5vZGVCZWZvcmUpKVxuICAgIH1cbiAgfVxuXG4gIHZpZXcuZGlzcGF0Y2godHIpXG59XG5cbmV4cG9ydCBjb25zdCBzcGxpdE1lZGlhR3JvdXAgPSAodmlldzogRWRpdG9yVmlldyk6IGJvb2xlYW4gPT4ge1xuICBjb25zdCB7IHNlbGVjdGlvbiB9ID0gdmlldy5zdGF0ZVxuXG4gIC8vIGlmIHNlbGVjdGlvbiBpcyBub3QgYSBtZWRpYSBub2RlLCBkbyBub3RoaW5nLlxuICBpZiAoXG4gICAgIShzZWxlY3Rpb24gaW5zdGFuY2VvZiBOb2RlU2VsZWN0aW9uKSB8fFxuICAgIHNlbGVjdGlvbi5ub2RlLnR5cGUgIT09IHZpZXcuc3RhdGUuc2NoZW1hLm5vZGVzLm1lZGlhXG4gICkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgZGVsZXRlU2VsZWN0aW9uKHZpZXcuc3RhdGUsIHZpZXcuZGlzcGF0Y2gpXG5cbiAgaWYgKHNlbGVjdGlvbi4kdG8ubm9kZUFmdGVyKSB7XG4gICAgc3BsaXRCbG9jayh2aWV3LnN0YXRlLCB2aWV3LmRpc3BhdGNoKVxuICAgIGNyZWF0ZVBhcmFncmFwaE5lYXIoZmFsc2UpKHZpZXcuc3RhdGUsIHZpZXcuZGlzcGF0Y2gpXG4gIH0gZWxzZSB7XG4gICAgY3JlYXRlTmV3UGFyYWdyYXBoQmVsb3codmlldy5zdGF0ZSwgdmlldy5kaXNwYXRjaClcbiAgfVxuXG4gIHJldHVybiB0cnVlXG59XG5cbmNvbnN0IGlzT3B0aW9uYWxBdHRyID0gKGF0dHI6IHN0cmluZykgPT5cbiAgYXR0ci5sZW5ndGggPiAxICYmIGF0dHJbMF0gPT09ICdfJyAmJiBhdHRyWzFdID09PSAnXydcblxuZXhwb3J0IGNvbnN0IGNvcHlPcHRpb25hbEF0dHJzRnJvbU1lZGlhU3RhdGUgPSAoXG4gIG1lZGlhU3RhdGU6IE1lZGlhU3RhdGUsXG4gIG5vZGU6IFBNTm9kZVxuKSA9PiB7XG4gIE9iamVjdC5rZXlzKG5vZGUuYXR0cnMpXG4gICAgLmZpbHRlcihpc09wdGlvbmFsQXR0cilcbiAgICAuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgY29uc3QgbWVkaWFTdGF0ZUtleSA9IGtleS5zdWJzdHJpbmcoMilcbiAgICAgIGNvbnN0IGF0dHJWYWx1ZSA9IG1lZGlhU3RhdGVbbWVkaWFTdGF0ZUtleSBhcyBrZXlvZiB0eXBlb2YgbWVkaWFTdGF0ZV1cbiAgICAgIGlmIChhdHRyVmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBub2RlLmF0dHJzW2tleV0gPSBhdHRyVmFsdWVcbiAgICAgIH1cbiAgICB9KVxufVxuXG5leHBvcnQgY29uc3QgdHJhbnNmb3JtU2xpY2VUb0NvcnJlY3RNZWRpYVdyYXBwZXIgPSAoXG4gIHNsaWNlOiBTbGljZSxcbiAgc2NoZW1hOiBTY2hlbWFcbikgPT4ge1xuICBjb25zdCB7IG1lZGlhR3JvdXAsIG1lZGlhU2luZ2xlLCBtZWRpYSB9ID0gc2NoZW1hLm5vZGVzXG4gIHJldHVybiBtYXBTbGljZShzbGljZSwgKG5vZGUsIHBhcmVudCkgPT4ge1xuICAgIGlmICghcGFyZW50ICYmIG5vZGUudHlwZSA9PT0gbWVkaWEpIHtcbiAgICAgIGlmIChcbiAgICAgICAgbWVkaWFTaW5nbGUgJiZcbiAgICAgICAgKGlzSW1hZ2Uobm9kZS5hdHRycy5fX2ZpbGVNaW1lVHlwZSkgfHwgbm9kZS5hdHRycy50eXBlID09PSAnZXh0ZXJuYWwnKVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiBtZWRpYVNpbmdsZS5jcmVhdGVDaGVja2VkKHt9LCBub2RlKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG1lZGlhR3JvdXAuY3JlYXRlQ2hlY2tlZCh7fSwgW25vZGVdKVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBub2RlXG4gIH0pXG59XG5cbi8qKlxuICogQ2hlY2sgYmFzZSBzdHlsZXMgdG8gc2VlIGlmIGFuIGVsZW1lbnQgd2lsbCBiZSBpbnZpc2libGUgd2hlbiByZW5kZXJlZCBpbiBhIGRvY3VtZW50LlxuICogQHBhcmFtIGVsZW1lbnRcbiAqL1xuY29uc3QgaXNFbGVtZW50SW52aXNpYmxlID0gKGVsZW1lbnQ6IEhUTUxFbGVtZW50KSA9PiB7XG4gIHJldHVybiAoXG4gICAgZWxlbWVudC5zdHlsZS5vcGFjaXR5ID09PSAnMCcgfHxcbiAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPT09ICdub25lJyB8fFxuICAgIGVsZW1lbnQuc3R5bGUudmlzaWJpbGl0eSA9PT0gJ2hpZGRlbidcbiAgKVxufVxuXG5jb25zdCBWQUxJRF9UQUdTX0NPTlRBSU5FUiA9IFsnRElWJywgJ1REJ11cbmZ1bmN0aW9uIGNhbkNvbnRhaW5JbWFnZShlbGVtZW50OiBIVE1MRWxlbWVudCB8IG51bGwpOiBib29sZWFuIHtcbiAgaWYgKCFlbGVtZW50KSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbiAgcmV0dXJuIFZBTElEX1RBR1NfQ09OVEFJTkVSLmluZGV4T2YoZWxlbWVudC50YWdOYW1lKSAhPT0gLTFcbn1cblxuLyoqXG4gKiBHaXZlbiBhIGh0bWwgc3RyaW5nLCB3ZSBhdHRlbXB0IHRvIGhvaXN0IGFueSBuZXN0ZWQgYDxpbWc+YCB0YWdzLFxuICogbm90IHdyYXBwZWQgYnkgYSBgPGRpdj5gIGFzIFByb3NlTWlycm9yIG5vLW9wJ3Mgb24gdGhvc2Ugc2NlbmFyaW9zLlxuICogQHBhcmFtIGh0bWxcbiAqL1xuZXhwb3J0IGNvbnN0IHVud3JhcE5lc3RlZE1lZGlhRWxlbWVudHMgPSAoaHRtbDogc3RyaW5nKSA9PiB7XG4gIGNvbnN0IHBhcnNlciA9IG5ldyBET01QYXJzZXIoKVxuICBjb25zdCBkb2MgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKGh0bWwsICd0ZXh0L2h0bWwnKVxuICBjb25zdCB3cmFwcGVyID0gZG9jLmJvZHlcblxuICAvLyBSZW1vdmUgR29vZ2xlIERvYydzIHdyYXBwZXIgPGI+IGVsXG4gIGNvbnN0IGRvY3NXcmFwcGVyID0gd3JhcHBlci5xdWVyeVNlbGVjdG9yPEhUTUxFbGVtZW50PihcbiAgICAnYltpZF49XCJkb2NzLWludGVybmFsLWd1aWQtXCJdJ1xuICApXG4gIGlmIChkb2NzV3JhcHBlcikge1xuICAgIHVud3JhcCh3cmFwcGVyLCBkb2NzV3JhcHBlcilcbiAgfVxuXG4gIGNvbnN0IGltYWdlVGFncyA9IHdyYXBwZXIucXVlcnlTZWxlY3RvckFsbCgnaW1nJylcbiAgaWYgKCFpbWFnZVRhZ3MubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGh0bWxcbiAgfVxuXG4gIGltYWdlVGFncy5mb3JFYWNoKGltYWdlVGFnID0+IHtcbiAgICAvLyBDYXB0dXJlIHRoZSBpbW1lZGlhdGUgcGFyZW50LCB3ZSBtYXkgcmVtb3ZlIHRoZSBtZWRpYSBmcm9tIGhlcmUgbGF0ZXIuXG4gICAgY29uc3QgbWVkaWFQYXJlbnQgPSBpbWFnZVRhZy5wYXJlbnRFbGVtZW50XG4gICAgaWYgKCFtZWRpYVBhcmVudCkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgLy8gSWYgZWl0aGVyIHRoZSBwYXJlbnQgb3IgdGhlIGltYWdlIGl0c2VsZiBjb250YWlucyBzdHlsZXMgdGhhdCB3b3VsZCBtYWtlXG4gICAgLy8gdGhlbSBpbnZpc2libGUgb24gY29weSwgZG9udCBwYXN0ZSB0aGVtLlxuICAgIGlmIChpc0VsZW1lbnRJbnZpc2libGUobWVkaWFQYXJlbnQpIHx8IGlzRWxlbWVudEludmlzaWJsZShpbWFnZVRhZykpIHtcbiAgICAgIG1lZGlhUGFyZW50LnJlbW92ZUNoaWxkKGltYWdlVGFnKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgLy8gSWYgaXRzIHdyYXBwZWQgYnkgYSBkaXYgd2UgYXNzdW1lIGl0cyBzYWZlIHRvIGJ5cGFzcy5cbiAgICAvLyBQcm9zZU1pcnJvciBzaG91bGQgaGFuZGxlIHRoaXMgY2FzZSBwcm9wZXJseS5cbiAgICBpZiAobWVkaWFQYXJlbnQgaW5zdGFuY2VvZiBIVE1MRGl2RWxlbWVudCkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgLy8gRmluZCB0aGUgdG9wIG1vc3QgZWxlbWVudCB0aGF0IHRoZSBwYXJlbnQgaGFzIGEgdmFsaWQgY29udGFpbmVyIGZvciB0aGUgaW1hZ2UuXG4gICAgLy8gU3RvcCBqdXN0IGJlZm9yZSBmb3VuZCB0aGUgd3JhcHBlclxuICAgIGNvbnN0IGluc2VydEJlZm9yZUVsZW1lbnQgPSB3YWxrVXBUcmVlVW50aWwobWVkaWFQYXJlbnQsIGVsZW1lbnQgPT4ge1xuICAgICAgLy8gSWYgaXMgYXQgdGhlIHRvcCBqdXN0IHVzZSB0aGlzIGVsZW1lbnQgYXMgcmVmZXJlbmNlXG4gICAgICBpZiAoZWxlbWVudC5wYXJlbnRFbGVtZW50ID09PSB3cmFwcGVyKSB7XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjYW5Db250YWluSW1hZ2UoZWxlbWVudC5wYXJlbnRFbGVtZW50KVxuICAgIH0pXG5cbiAgICAvLyBIZXJlIHdlIHRyeSB0byBpbnNlcnQgdGhlIG1lZGlhIHJpZ2h0IGFmdGVyIGl0cyB0b3AgbW9zdCB2YWxpZCBwYXJlbnQgZWxlbWVudFxuICAgIC8vIFVubGVzcyBpdHMgdGhlIGxhc3QgZWxlbWVudCBpbiBvdXIgc3RydWN0dXJlIHRoZW4gd2Ugd2lsbCBpbnNlcnQgYWJvdmUgaXQuXG4gICAgaWYgKGluc2VydEJlZm9yZUVsZW1lbnQgJiYgaW5zZXJ0QmVmb3JlRWxlbWVudC5wYXJlbnRFbGVtZW50KSB7XG4gICAgICAvLyBJbnNlcnQgYXMgY2xvc2UgYXMgcG9zc2libGUgdG8gdGhlIG1vc3QgY2xvc2VzdCB2YWxpZCBlbGVtZW50IGluZGV4IGluIHRoZSB0cmVlLlxuICAgICAgaW5zZXJ0QmVmb3JlRWxlbWVudC5wYXJlbnRFbGVtZW50Lmluc2VydEJlZm9yZShcbiAgICAgICAgaW1hZ2VUYWcsXG4gICAgICAgIGluc2VydEJlZm9yZUVsZW1lbnQubmV4dEVsZW1lbnRTaWJsaW5nIHx8IGluc2VydEJlZm9yZUVsZW1lbnRcbiAgICAgIClcblxuICAgICAgLy8gQXR0ZW1wdCB0byBjbGVhbiB1cCBsaW5lcyBsZWZ0IGJlaGluZCBieSB0aGUgaW1hZ2VcbiAgICAgIG1lZGlhUGFyZW50LmlubmVyVGV4dCA9IG1lZGlhUGFyZW50LmlubmVyVGV4dC50cmltKClcbiAgICAgIC8vIFdhbGsgdXAgYW5kIGRlbGV0ZSBlbXB0eSBlbGVtZW50cyBsZWZ0IG92ZXIgYWZ0ZXIgcmVtb3ZpbmcgdGhlIGltYWdlIHRhZ1xuICAgICAgcmVtb3ZlTmVzdGVkRW1wdHlFbHMobWVkaWFQYXJlbnQpXG4gICAgfVxuICB9KVxuXG4gIC8vIElmIGxhc3QgY2hpbGQgaXMgYSBoYXJkYnJlYWsgd2UgZG9uJ3Qgd2FudCBpdFxuICBpZiAod3JhcHBlci5sYXN0RWxlbWVudENoaWxkICYmIHdyYXBwZXIubGFzdEVsZW1lbnRDaGlsZC50YWdOYW1lID09PSAnQlInKSB7XG4gICAgd3JhcHBlci5yZW1vdmVDaGlsZCh3cmFwcGVyLmxhc3RFbGVtZW50Q2hpbGQpXG4gIH1cblxuICByZXR1cm4gd3JhcHBlci5pbm5lckhUTUxcbn1cblxuZXhwb3J0IGNvbnN0IGdldE1lZGlhTm9kZUZyb21TZWxlY3Rpb24gPSAoXG4gIHN0YXRlOiBFZGl0b3JTdGF0ZVxuKTogUE1Ob2RlIHwgbnVsbCA9PiB7XG4gIGlmICghaXNTZWxlY3Rpb25NZWRpYVNpbmdsZU5vZGUoc3RhdGUpKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIGNvbnN0IHRyID0gc3RhdGUudHJcbiAgY29uc3QgcG9zID0gdHIuc2VsZWN0aW9uLmZyb20gKyAxXG4gIGNvbnN0IG1lZGlhTm9kZSA9IHRyLmRvYy5ub2RlQXQocG9zKVxuXG4gIGlmIChtZWRpYU5vZGUgJiYgbWVkaWFOb2RlLnR5cGUgPT09IHN0YXRlLnNjaGVtYS5ub2Rlcy5tZWRpYSkge1xuICAgIHJldHVybiBtZWRpYU5vZGVcbiAgfVxuXG4gIHJldHVybiBudWxsXG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBT0E7QUFFQTtBQUNBO0FBSUE7QUFHQTtBQUNBO0FBS0E7QUFDQTtBQU9BO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBTUE7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFFQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBSUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBRUE7QUFLQTtBQUVBO0FBSUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFJQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFLQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFFQTtBQUlBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUlBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/plugins/media/utils/media-common.ts\n");

/***/ }),

/***/ "./src/plugins/media/utils/media-files.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"insertMediaGroupNode\", function() { return insertMediaGroupNode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getPosInList\", function() { return getPosInList; });\n/* harmony import */ var prosemirror_model__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/prosemirror-model/dist/index.es.js\");\n/* harmony import */ var _atlaskit_editor_core_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/utils/index.ts\");\n/* harmony import */ var _media_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./src/plugins/media/utils/media-common.ts\");\n/* harmony import */ var prosemirror_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./node_modules/prosemirror-utils/dist/index.js\");\n/* harmony import */ var prosemirror_utils__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(prosemirror_utils__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _atlaskit_editor_core_utils_prosemirror_position__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/utils/prosemirror/position.ts\");\n/* harmony import */ var _atlaskit_editor_core_utils_nodes__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/utils/nodes.ts\");\n/* harmony import */ var _atlaskit_editor_core_plugins_analytics__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/plugins/analytics/index.ts\");\n\n\n\n\n\n\n\nvar getInsertMediaGroupAnalytics = function getInsertMediaGroupAnalytics(mediaState, inputMethod) {\n  var media = '';\n  if (mediaState.length === 1) {\n    media = mediaState[0].fileMimeType || 'unknown';\n  } else if (mediaState.length > 1) {\n    media = 'multiple';\n  }\n  return {\n    action: _atlaskit_editor_core_plugins_analytics__WEBPACK_IMPORTED_MODULE_6__[\"ACTION\"].INSERTED,\n    actionSubject: _atlaskit_editor_core_plugins_analytics__WEBPACK_IMPORTED_MODULE_6__[\"ACTION_SUBJECT\"].DOCUMENT,\n    actionSubjectId: _atlaskit_editor_core_plugins_analytics__WEBPACK_IMPORTED_MODULE_6__[\"ACTION_SUBJECT_ID\"].MEDIA,\n    attributes: {\n      type: _atlaskit_editor_core_plugins_analytics__WEBPACK_IMPORTED_MODULE_6__[\"ACTION_SUBJECT_ID\"].MEDIA_GROUP,\n      inputMethod: inputMethod,\n      fileExtension: media\n    },\n    eventType: _atlaskit_editor_core_plugins_analytics__WEBPACK_IMPORTED_MODULE_6__[\"EVENT_TYPE\"].TRACK\n  };\n};\n\n/**\n * Check if current editor selections is a media group or not.\n * @param state Editor state\n */\nfunction isSelectionMediaGroup(state) {\n  var schema = state.schema;\n  var selectionParent = state.selection.$anchor.node();\n  return selectionParent && selectionParent.type === schema.nodes.mediaGroup;\n}\n\n/**\n * Insert a paragraph after if reach the end of doc\n * and there is no media group in the front or selection is a non media block node\n * @param node Node at insertion point\n * @param state Editor state\n */\nfunction shouldAppendParagraph(state, node) {\n  var media = state.schema.nodes.media;\n  var wasMediaNode = node && node.type === media;\n  return (Object(_atlaskit_editor_core_utils__WEBPACK_IMPORTED_MODULE_1__[\"insideTableCell\"])(state) || Object(_atlaskit_editor_core_utils__WEBPACK_IMPORTED_MODULE_1__[\"isInListItem\"])(state) || Object(_atlaskit_editor_core_utils__WEBPACK_IMPORTED_MODULE_1__[\"isInLayoutColumn\"])(state) || Object(_atlaskit_editor_core_utils_prosemirror_position__WEBPACK_IMPORTED_MODULE_4__[\"atTheEndOfDoc\"])(state) && (!Object(_media_common__WEBPACK_IMPORTED_MODULE_2__[\"posOfPrecedingMediaGroup\"])(state) || Object(_media_common__WEBPACK_IMPORTED_MODULE_2__[\"isSelectionNonMediaBlockNode\"])(state))) && !wasMediaNode;\n}\n\n/**\n * Insert a media into an existing media group\n * or create a new media group to insert the new media.\n * @param view Editor view\n * @param mediaStates Media files to be added to the editor\n * @param collection Collection for the media to be added\n */\nvar insertMediaGroupNode = function insertMediaGroupNode(view, mediaStates, collection, inputMethod) {\n  var state = view.state,\n    dispatch = view.dispatch;\n  var tr = state.tr,\n    schema = state.schema;\n  var _schema$nodes = schema.nodes,\n    media = _schema$nodes.media,\n    paragraph = _schema$nodes.paragraph;\n\n  // Do nothing if no media found\n  if (!media || !mediaStates.length) {\n    return;\n  }\n  var mediaNodes = createMediaFileNodes(mediaStates, collection, media);\n  var mediaInsertPos = findMediaInsertPos(state);\n  var resolvedInsertPos = tr.doc.resolve(mediaInsertPos);\n  var parent = resolvedInsertPos.parent;\n  var nodeAtInsertionPoint = tr.doc.nodeAt(mediaInsertPos);\n  var shouldSplit = !isSelectionMediaGroup(state) && Object(_atlaskit_editor_core_utils_nodes__WEBPACK_IMPORTED_MODULE_5__[\"isSupportedInParent\"])(state, prosemirror_model__WEBPACK_IMPORTED_MODULE_0__[\"Fragment\"].from(state.schema.nodes.mediaGroup.createChecked({}, mediaNodes)));\n  var withParagraph = shouldAppendParagraph(state, nodeAtInsertionPoint);\n  var content = parent.type === schema.nodes.mediaGroup ? mediaNodes // If parent is a mediaGroup do not wrap items again.\n  : [schema.nodes.mediaGroup.createChecked({}, mediaNodes)];\n  if (shouldSplit) {\n    content = withParagraph ? content.concat(paragraph.create()) : content;\n    // delete the selection or empty paragraph\n    var deleteRange = findDeleteRange(state);\n    if (!deleteRange) {\n      tr.insert(mediaInsertPos, content);\n    } else if (mediaInsertPos <= deleteRange.start) {\n      tr.deleteRange(deleteRange.start, deleteRange.end).insert(mediaInsertPos, content);\n    } else {\n      tr.insert(mediaInsertPos, content).deleteRange(deleteRange.start, deleteRange.end);\n    }\n    Object(_atlaskit_editor_core_plugins_analytics__WEBPACK_IMPORTED_MODULE_6__[\"addAnalytics\"])(state, tr, getInsertMediaGroupAnalytics(mediaStates, inputMethod));\n    dispatch(tr);\n    setSelectionAfterMediaInsertion(view);\n    return;\n  }\n\n  // Don't append new paragraph when adding media to a existing mediaGroup\n  if (withParagraph && parent.type !== schema.nodes.mediaGroup) {\n    content.push(paragraph.create());\n  }\n  Object(_atlaskit_editor_core_plugins_analytics__WEBPACK_IMPORTED_MODULE_6__[\"addAnalytics\"])(state, tr, getInsertMediaGroupAnalytics(mediaStates, inputMethod));\n  dispatch(Object(prosemirror_utils__WEBPACK_IMPORTED_MODULE_3__[\"safeInsert\"])(prosemirror_model__WEBPACK_IMPORTED_MODULE_0__[\"Fragment\"].fromArray(content), mediaInsertPos)(tr));\n};\nvar createMediaFileNodes = function createMediaFileNodes(mediaStates, collection, media) {\n  var nodes = mediaStates.map(function (mediaState) {\n    var id = mediaState.id;\n    var node = media.create({\n      id: id,\n      type: 'file',\n      collection: collection\n    });\n    Object(_media_common__WEBPACK_IMPORTED_MODULE_2__[\"copyOptionalAttrsFromMediaState\"])(mediaState, node);\n    return node;\n  });\n  return nodes;\n};\n\n/**\n * Find root list node if exist from current selection\n * @param state Editor state\n */\nvar findRootListNode = function findRootListNode(state) {\n  var _state$schema$nodes = state.schema.nodes,\n    bulletList = _state$schema$nodes.bulletList,\n    orderedList = _state$schema$nodes.orderedList;\n  return Object(_atlaskit_editor_core_utils__WEBPACK_IMPORTED_MODULE_1__[\"findFarthestParentNode\"])(function (node) {\n    return node.type === bulletList || node.type === orderedList;\n  })(state.selection.$from);\n};\n\n/**\n * Return position of media to be inserted, if it is inside a list\n * @param content Content to be inserted\n * @param state Editor State\n */\nvar getPosInList = function getPosInList(state) {\n  var _state$schema$nodes2 = state.schema.nodes,\n    mediaGroup = _state$schema$nodes2.mediaGroup,\n    listItem = _state$schema$nodes2.listItem;\n\n  // 1. Check if I am inside a list.\n  if (Object(prosemirror_utils__WEBPACK_IMPORTED_MODULE_3__[\"hasParentNode\"])(function (node) {\n    return node.type === listItem;\n  })(state.selection)) {\n    // 2. Get end position of root list\n    var rootListNode = findRootListNode(state);\n    if (rootListNode) {\n      var pos = rootListNode.pos + rootListNode.node.nodeSize;\n      // 3. Fint the first location inside the media group\n      var nextNode = state.doc.nodeAt(pos);\n      if (nextNode && nextNode.type === mediaGroup) {\n        return pos + 1;\n      }\n      return pos;\n    }\n  }\n  return;\n};\n\n/**\n * Find insertion point,\n * If it is in a List it will return position to the next block,\n * If there are any media group close it will return this position\n * Otherwise, It will return the respective block given selection.\n * @param content Content to be inserted\n * @param state Editor state\n */\nvar findMediaInsertPos = function findMediaInsertPos(state) {\n  var _state$selection = state.selection,\n    $from = _state$selection.$from,\n    $to = _state$selection.$to;\n\n  // Check if selection is inside a list.\n  var posInList = getPosInList(state);\n  if (posInList) {\n    // If I have a position in lists, I should return, otherwise I am not inside a list\n    return posInList;\n  }\n  var nearbyMediaGroupPos = Object(_media_common__WEBPACK_IMPORTED_MODULE_2__[\"posOfMediaGroupNearby\"])(state);\n  if (nearbyMediaGroupPos && (!Object(_media_common__WEBPACK_IMPORTED_MODULE_2__[\"isSelectionNonMediaBlockNode\"])(state) || $from.pos < nearbyMediaGroupPos && $to.pos < nearbyMediaGroupPos)) {\n    return nearbyMediaGroupPos;\n  }\n  if (Object(_media_common__WEBPACK_IMPORTED_MODULE_2__[\"isSelectionNonMediaBlockNode\"])(state)) {\n    return $to.pos;\n  }\n  if (Object(_atlaskit_editor_core_utils_prosemirror_position__WEBPACK_IMPORTED_MODULE_4__[\"atTheEndOfBlock\"])(state)) {\n    return $to.pos + 1;\n  }\n  if (Object(_atlaskit_editor_core_utils_prosemirror_position__WEBPACK_IMPORTED_MODULE_4__[\"atTheBeginningOfBlock\"])(state)) {\n    return $from.pos - 1;\n  }\n  return $to.pos;\n};\nvar findDeleteRange = function findDeleteRange(state) {\n  var _state$selection2 = state.selection,\n    $from = _state$selection2.$from,\n    $to = _state$selection2.$to;\n  if (Object(_media_common__WEBPACK_IMPORTED_MODULE_2__[\"posOfParentMediaGroup\"])(state)) {\n    return;\n  }\n  if (!Object(_media_common__WEBPACK_IMPORTED_MODULE_2__[\"isInsidePotentialEmptyParagraph\"])(state) || Object(_media_common__WEBPACK_IMPORTED_MODULE_2__[\"posOfMediaGroupNearby\"])(state)) {\n    return range($from.pos, $to.pos);\n  }\n  return range(Object(_atlaskit_editor_core_utils_prosemirror_position__WEBPACK_IMPORTED_MODULE_4__[\"startPositionOfParent\"])($from) - 1, Object(_atlaskit_editor_core_utils_prosemirror_position__WEBPACK_IMPORTED_MODULE_4__[\"endPositionOfParent\"])($to));\n};\nvar range = function range(start) {\n  var end = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : start;\n  return {\n    start: start,\n    end: end\n  };\n};\nvar setSelectionAfterMediaInsertion = function setSelectionAfterMediaInsertion(view) {\n  var state = view.state;\n  var doc = state.doc;\n  var mediaPos = Object(_media_common__WEBPACK_IMPORTED_MODULE_2__[\"posOfMediaGroupNearby\"])(state);\n  if (!mediaPos) {\n    return;\n  }\n  var $mediaPos = doc.resolve(mediaPos);\n  var endOfMediaGroup = Object(_atlaskit_editor_core_utils_prosemirror_position__WEBPACK_IMPORTED_MODULE_4__[\"endPositionOfParent\"])($mediaPos);\n  if (endOfMediaGroup + 1 >= doc.nodeSize - 1) {\n    // if nothing after the media group, fallback to select the newest uploaded media item\n    Object(_atlaskit_editor_core_utils__WEBPACK_IMPORTED_MODULE_1__[\"setNodeSelection\"])(view, mediaPos);\n  } else {\n    Object(_atlaskit_editor_core_utils__WEBPACK_IMPORTED_MODULE_1__[\"setTextSelection\"])(view, endOfMediaGroup + 1);\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9tZWRpYS91dGlscy9tZWRpYS1maWxlcy50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9wbHVnaW5zL21lZGlhL3V0aWxzL21lZGlhLWZpbGVzLnRzPzJiMjYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTm9kZSBhcyBQTU5vZGUsIE5vZGVUeXBlLCBGcmFnbWVudCB9IGZyb20gJ3Byb3NlbWlycm9yLW1vZGVsJ1xuaW1wb3J0IHsgRWRpdG9yU3RhdGUgfSBmcm9tICdwcm9zZW1pcnJvci1zdGF0ZSdcbmltcG9ydCB7IEVkaXRvclZpZXcgfSBmcm9tICdwcm9zZW1pcnJvci12aWV3J1xuaW1wb3J0IHtcbiAgc2V0Tm9kZVNlbGVjdGlvbixcbiAgc2V0VGV4dFNlbGVjdGlvbixcbiAgaW5zaWRlVGFibGVDZWxsLFxuICBpc0luTGlzdEl0ZW0sXG4gIGZpbmRGYXJ0aGVzdFBhcmVudE5vZGUsXG4gIGlzSW5MYXlvdXRDb2x1bW5cbn0gZnJvbSAnQGF0bGFza2l0L2VkaXRvci1jb3JlL3V0aWxzJ1xuaW1wb3J0IHsgTWVkaWFTdGF0ZSB9IGZyb20gJy4uL3R5cGVzJ1xuaW1wb3J0IHtcbiAgcG9zT2ZQcmVjZWRpbmdNZWRpYUdyb3VwLFxuICBwb3NPZk1lZGlhR3JvdXBOZWFyYnksXG4gIHBvc09mUGFyZW50TWVkaWFHcm91cCxcbiAgaXNTZWxlY3Rpb25Ob25NZWRpYUJsb2NrTm9kZSxcbiAgaXNJbnNpZGVQb3RlbnRpYWxFbXB0eVBhcmFncmFwaCxcbiAgY29weU9wdGlvbmFsQXR0cnNGcm9tTWVkaWFTdGF0ZVxufSBmcm9tICcuL21lZGlhLWNvbW1vbidcbmltcG9ydCB7XG4gIHNhZmVJbnNlcnQsXG4gIGhhc1BhcmVudE5vZGUsXG4gIENvbnRlbnROb2RlV2l0aFBvc1xufSBmcm9tICdwcm9zZW1pcnJvci11dGlscydcbmltcG9ydCB7XG4gIGF0VGhlQmVnaW5uaW5nT2ZCbG9jayxcbiAgYXRUaGVFbmRPZkJsb2NrLFxuICBhdFRoZUVuZE9mRG9jLFxuICBlbmRQb3NpdGlvbk9mUGFyZW50LFxuICBzdGFydFBvc2l0aW9uT2ZQYXJlbnRcbn0gZnJvbSAnQGF0bGFza2l0L2VkaXRvci1jb3JlL3V0aWxzL3Byb3NlbWlycm9yL3Bvc2l0aW9uJ1xuaW1wb3J0IHsgaXNTdXBwb3J0ZWRJblBhcmVudCB9IGZyb20gJ0BhdGxhc2tpdC9lZGl0b3ItY29yZS91dGlscy9ub2RlcydcbmltcG9ydCB7XG4gIEluc2VydEV2ZW50UGF5bG9hZCxcbiAgQUNUSU9OLFxuICBBQ1RJT05fU1VCSkVDVCxcbiAgQUNUSU9OX1NVQkpFQ1RfSUQsXG4gIEVWRU5UX1RZUEUsXG4gIGFkZEFuYWx5dGljcyxcbiAgSW5wdXRNZXRob2RJbnNlcnRNZWRpYVxufSBmcm9tICdAYXRsYXNraXQvZWRpdG9yLWNvcmUvcGx1Z2lucy9hbmFseXRpY3MnXG5cbmV4cG9ydCBpbnRlcmZhY2UgUmFuZ2Uge1xuICBzdGFydDogbnVtYmVyXG4gIGVuZDogbnVtYmVyXG59XG5cbmNvbnN0IGdldEluc2VydE1lZGlhR3JvdXBBbmFseXRpY3MgPSAoXG4gIG1lZGlhU3RhdGU6IE1lZGlhU3RhdGVbXSxcbiAgaW5wdXRNZXRob2Q/OiBJbnB1dE1ldGhvZEluc2VydE1lZGlhXG4pOiBJbnNlcnRFdmVudFBheWxvYWQgPT4ge1xuICBsZXQgbWVkaWEgPSAnJ1xuICBpZiAobWVkaWFTdGF0ZS5sZW5ndGggPT09IDEpIHtcbiAgICBtZWRpYSA9IG1lZGlhU3RhdGVbMF0uZmlsZU1pbWVUeXBlIHx8ICd1bmtub3duJ1xuICB9IGVsc2UgaWYgKG1lZGlhU3RhdGUubGVuZ3RoID4gMSkge1xuICAgIG1lZGlhID0gJ211bHRpcGxlJ1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBhY3Rpb246IEFDVElPTi5JTlNFUlRFRCxcbiAgICBhY3Rpb25TdWJqZWN0OiBBQ1RJT05fU1VCSkVDVC5ET0NVTUVOVCxcbiAgICBhY3Rpb25TdWJqZWN0SWQ6IEFDVElPTl9TVUJKRUNUX0lELk1FRElBLFxuICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgIHR5cGU6IEFDVElPTl9TVUJKRUNUX0lELk1FRElBX0dST1VQLFxuICAgICAgaW5wdXRNZXRob2QsXG4gICAgICBmaWxlRXh0ZW5zaW9uOiBtZWRpYVxuICAgIH0sXG4gICAgZXZlbnRUeXBlOiBFVkVOVF9UWVBFLlRSQUNLXG4gIH1cbn1cblxuLyoqXG4gKiBDaGVjayBpZiBjdXJyZW50IGVkaXRvciBzZWxlY3Rpb25zIGlzIGEgbWVkaWEgZ3JvdXAgb3Igbm90LlxuICogQHBhcmFtIHN0YXRlIEVkaXRvciBzdGF0ZVxuICovXG5mdW5jdGlvbiBpc1NlbGVjdGlvbk1lZGlhR3JvdXAoc3RhdGU6IEVkaXRvclN0YXRlKTogYm9vbGVhbiB7XG4gIGNvbnN0IHsgc2NoZW1hIH0gPSBzdGF0ZVxuICBjb25zdCBzZWxlY3Rpb25QYXJlbnQgPSBzdGF0ZS5zZWxlY3Rpb24uJGFuY2hvci5ub2RlKClcblxuICByZXR1cm4gc2VsZWN0aW9uUGFyZW50ICYmIHNlbGVjdGlvblBhcmVudC50eXBlID09PSBzY2hlbWEubm9kZXMubWVkaWFHcm91cFxufVxuXG4vKipcbiAqIEluc2VydCBhIHBhcmFncmFwaCBhZnRlciBpZiByZWFjaCB0aGUgZW5kIG9mIGRvY1xuICogYW5kIHRoZXJlIGlzIG5vIG1lZGlhIGdyb3VwIGluIHRoZSBmcm9udCBvciBzZWxlY3Rpb24gaXMgYSBub24gbWVkaWEgYmxvY2sgbm9kZVxuICogQHBhcmFtIG5vZGUgTm9kZSBhdCBpbnNlcnRpb24gcG9pbnRcbiAqIEBwYXJhbSBzdGF0ZSBFZGl0b3Igc3RhdGVcbiAqL1xuZnVuY3Rpb24gc2hvdWxkQXBwZW5kUGFyYWdyYXBoKFxuICBzdGF0ZTogRWRpdG9yU3RhdGUsXG4gIG5vZGU/OiBQTU5vZGUgfCBudWxsXG4pOiBib29sZWFuIHtcbiAgY29uc3Qge1xuICAgIHNjaGVtYToge1xuICAgICAgbm9kZXM6IHsgbWVkaWEgfVxuICAgIH1cbiAgfSA9IHN0YXRlXG5cbiAgY29uc3Qgd2FzTWVkaWFOb2RlID0gbm9kZSAmJiBub2RlLnR5cGUgPT09IG1lZGlhXG5cbiAgcmV0dXJuIChcbiAgICAoaW5zaWRlVGFibGVDZWxsKHN0YXRlKSB8fFxuICAgICAgaXNJbkxpc3RJdGVtKHN0YXRlKSB8fFxuICAgICAgaXNJbkxheW91dENvbHVtbihzdGF0ZSkgfHxcbiAgICAgIChhdFRoZUVuZE9mRG9jKHN0YXRlKSAmJlxuICAgICAgICAoIXBvc09mUHJlY2VkaW5nTWVkaWFHcm91cChzdGF0ZSkgfHxcbiAgICAgICAgICBpc1NlbGVjdGlvbk5vbk1lZGlhQmxvY2tOb2RlKHN0YXRlKSkpKSAmJlxuICAgICF3YXNNZWRpYU5vZGVcbiAgKVxufVxuXG4vKipcbiAqIEluc2VydCBhIG1lZGlhIGludG8gYW4gZXhpc3RpbmcgbWVkaWEgZ3JvdXBcbiAqIG9yIGNyZWF0ZSBhIG5ldyBtZWRpYSBncm91cCB0byBpbnNlcnQgdGhlIG5ldyBtZWRpYS5cbiAqIEBwYXJhbSB2aWV3IEVkaXRvciB2aWV3XG4gKiBAcGFyYW0gbWVkaWFTdGF0ZXMgTWVkaWEgZmlsZXMgdG8gYmUgYWRkZWQgdG8gdGhlIGVkaXRvclxuICogQHBhcmFtIGNvbGxlY3Rpb24gQ29sbGVjdGlvbiBmb3IgdGhlIG1lZGlhIHRvIGJlIGFkZGVkXG4gKi9cbmV4cG9ydCBjb25zdCBpbnNlcnRNZWRpYUdyb3VwTm9kZSA9IChcbiAgdmlldzogRWRpdG9yVmlldyxcbiAgbWVkaWFTdGF0ZXM6IE1lZGlhU3RhdGVbXSxcbiAgY29sbGVjdGlvbjogc3RyaW5nLFxuICBpbnB1dE1ldGhvZD86IElucHV0TWV0aG9kSW5zZXJ0TWVkaWFcbik6IHZvaWQgPT4ge1xuICBjb25zdCB7IHN0YXRlLCBkaXNwYXRjaCB9ID0gdmlld1xuICBjb25zdCB7IHRyLCBzY2hlbWEgfSA9IHN0YXRlXG4gIGNvbnN0IHsgbWVkaWEsIHBhcmFncmFwaCB9ID0gc2NoZW1hLm5vZGVzXG5cbiAgLy8gRG8gbm90aGluZyBpZiBubyBtZWRpYSBmb3VuZFxuICBpZiAoIW1lZGlhIHx8ICFtZWRpYVN0YXRlcy5sZW5ndGgpIHtcbiAgICByZXR1cm5cbiAgfVxuICBjb25zdCBtZWRpYU5vZGVzID0gY3JlYXRlTWVkaWFGaWxlTm9kZXMobWVkaWFTdGF0ZXMsIGNvbGxlY3Rpb24sIG1lZGlhKVxuICBjb25zdCBtZWRpYUluc2VydFBvcyA9IGZpbmRNZWRpYUluc2VydFBvcyhzdGF0ZSlcbiAgY29uc3QgcmVzb2x2ZWRJbnNlcnRQb3MgPSB0ci5kb2MucmVzb2x2ZShtZWRpYUluc2VydFBvcylcbiAgY29uc3QgcGFyZW50ID0gcmVzb2x2ZWRJbnNlcnRQb3MucGFyZW50XG4gIGNvbnN0IG5vZGVBdEluc2VydGlvblBvaW50ID0gdHIuZG9jLm5vZGVBdChtZWRpYUluc2VydFBvcylcbiAgY29uc3Qgc2hvdWxkU3BsaXQgPVxuICAgICFpc1NlbGVjdGlvbk1lZGlhR3JvdXAoc3RhdGUpICYmXG4gICAgaXNTdXBwb3J0ZWRJblBhcmVudChcbiAgICAgIHN0YXRlLFxuICAgICAgRnJhZ21lbnQuZnJvbShzdGF0ZS5zY2hlbWEubm9kZXMubWVkaWFHcm91cC5jcmVhdGVDaGVja2VkKHt9LCBtZWRpYU5vZGVzKSlcbiAgICApXG5cbiAgY29uc3Qgd2l0aFBhcmFncmFwaCA9IHNob3VsZEFwcGVuZFBhcmFncmFwaChzdGF0ZSwgbm9kZUF0SW5zZXJ0aW9uUG9pbnQpXG4gIGxldCBjb250ZW50OiBQTU5vZGVbXSA9XG4gICAgcGFyZW50LnR5cGUgPT09IHNjaGVtYS5ub2Rlcy5tZWRpYUdyb3VwXG4gICAgICA/IG1lZGlhTm9kZXMgLy8gSWYgcGFyZW50IGlzIGEgbWVkaWFHcm91cCBkbyBub3Qgd3JhcCBpdGVtcyBhZ2Fpbi5cbiAgICAgIDogW3NjaGVtYS5ub2Rlcy5tZWRpYUdyb3VwLmNyZWF0ZUNoZWNrZWQoe30sIG1lZGlhTm9kZXMpXVxuICBpZiAoc2hvdWxkU3BsaXQpIHtcbiAgICBjb250ZW50ID0gd2l0aFBhcmFncmFwaCA/IGNvbnRlbnQuY29uY2F0KHBhcmFncmFwaC5jcmVhdGUoKSkgOiBjb250ZW50XG4gICAgLy8gZGVsZXRlIHRoZSBzZWxlY3Rpb24gb3IgZW1wdHkgcGFyYWdyYXBoXG4gICAgY29uc3QgZGVsZXRlUmFuZ2UgPSBmaW5kRGVsZXRlUmFuZ2Uoc3RhdGUpXG4gICAgaWYgKCFkZWxldGVSYW5nZSkge1xuICAgICAgdHIuaW5zZXJ0KG1lZGlhSW5zZXJ0UG9zLCBjb250ZW50KVxuICAgIH0gZWxzZSBpZiAobWVkaWFJbnNlcnRQb3MgPD0gZGVsZXRlUmFuZ2Uuc3RhcnQpIHtcbiAgICAgIHRyLmRlbGV0ZVJhbmdlKGRlbGV0ZVJhbmdlLnN0YXJ0LCBkZWxldGVSYW5nZS5lbmQpLmluc2VydChcbiAgICAgICAgbWVkaWFJbnNlcnRQb3MsXG4gICAgICAgIGNvbnRlbnRcbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgdHIuaW5zZXJ0KG1lZGlhSW5zZXJ0UG9zLCBjb250ZW50KS5kZWxldGVSYW5nZShcbiAgICAgICAgZGVsZXRlUmFuZ2Uuc3RhcnQsXG4gICAgICAgIGRlbGV0ZVJhbmdlLmVuZFxuICAgICAgKVxuICAgIH1cbiAgICBhZGRBbmFseXRpY3MoXG4gICAgICBzdGF0ZSxcbiAgICAgIHRyLFxuICAgICAgZ2V0SW5zZXJ0TWVkaWFHcm91cEFuYWx5dGljcyhtZWRpYVN0YXRlcywgaW5wdXRNZXRob2QpXG4gICAgKVxuICAgIGRpc3BhdGNoKHRyKVxuICAgIHNldFNlbGVjdGlvbkFmdGVyTWVkaWFJbnNlcnRpb24odmlldylcbiAgICByZXR1cm5cbiAgfVxuXG4gIC8vIERvbid0IGFwcGVuZCBuZXcgcGFyYWdyYXBoIHdoZW4gYWRkaW5nIG1lZGlhIHRvIGEgZXhpc3RpbmcgbWVkaWFHcm91cFxuICBpZiAod2l0aFBhcmFncmFwaCAmJiBwYXJlbnQudHlwZSAhPT0gc2NoZW1hLm5vZGVzLm1lZGlhR3JvdXApIHtcbiAgICBjb250ZW50LnB1c2gocGFyYWdyYXBoLmNyZWF0ZSgpKVxuICB9XG4gIGFkZEFuYWx5dGljcyhcbiAgICBzdGF0ZSxcbiAgICB0cixcbiAgICBnZXRJbnNlcnRNZWRpYUdyb3VwQW5hbHl0aWNzKG1lZGlhU3RhdGVzLCBpbnB1dE1ldGhvZClcbiAgKVxuXG4gIGRpc3BhdGNoKHNhZmVJbnNlcnQoRnJhZ21lbnQuZnJvbUFycmF5KGNvbnRlbnQpLCBtZWRpYUluc2VydFBvcykodHIpKVxufVxuXG5jb25zdCBjcmVhdGVNZWRpYUZpbGVOb2RlcyA9IChcbiAgbWVkaWFTdGF0ZXM6IE1lZGlhU3RhdGVbXSxcbiAgY29sbGVjdGlvbjogc3RyaW5nLFxuICBtZWRpYTogTm9kZVR5cGVcbik6IFBNTm9kZVtdID0+IHtcbiAgY29uc3Qgbm9kZXMgPSBtZWRpYVN0YXRlcy5tYXAobWVkaWFTdGF0ZSA9PiB7XG4gICAgY29uc3QgeyBpZCB9ID0gbWVkaWFTdGF0ZVxuICAgIGNvbnN0IG5vZGUgPSBtZWRpYS5jcmVhdGUoe1xuICAgICAgaWQsXG4gICAgICB0eXBlOiAnZmlsZScsXG4gICAgICBjb2xsZWN0aW9uXG4gICAgfSlcbiAgICBjb3B5T3B0aW9uYWxBdHRyc0Zyb21NZWRpYVN0YXRlKG1lZGlhU3RhdGUsIG5vZGUpXG4gICAgcmV0dXJuIG5vZGVcbiAgfSlcblxuICByZXR1cm4gbm9kZXNcbn1cblxuLyoqXG4gKiBGaW5kIHJvb3QgbGlzdCBub2RlIGlmIGV4aXN0IGZyb20gY3VycmVudCBzZWxlY3Rpb25cbiAqIEBwYXJhbSBzdGF0ZSBFZGl0b3Igc3RhdGVcbiAqL1xuY29uc3QgZmluZFJvb3RMaXN0Tm9kZSA9IChzdGF0ZTogRWRpdG9yU3RhdGUpOiBDb250ZW50Tm9kZVdpdGhQb3MgfCBudWxsID0+IHtcbiAgY29uc3Qge1xuICAgIHNjaGVtYToge1xuICAgICAgbm9kZXM6IHsgYnVsbGV0TGlzdCwgb3JkZXJlZExpc3QgfVxuICAgIH1cbiAgfSA9IHN0YXRlXG5cbiAgcmV0dXJuIGZpbmRGYXJ0aGVzdFBhcmVudE5vZGUoXG4gICAgKG5vZGU6IFBNTm9kZSkgPT4gbm9kZS50eXBlID09PSBidWxsZXRMaXN0IHx8IG5vZGUudHlwZSA9PT0gb3JkZXJlZExpc3RcbiAgKShzdGF0ZS5zZWxlY3Rpb24uJGZyb20pXG59XG5cbi8qKlxuICogUmV0dXJuIHBvc2l0aW9uIG9mIG1lZGlhIHRvIGJlIGluc2VydGVkLCBpZiBpdCBpcyBpbnNpZGUgYSBsaXN0XG4gKiBAcGFyYW0gY29udGVudCBDb250ZW50IHRvIGJlIGluc2VydGVkXG4gKiBAcGFyYW0gc3RhdGUgRWRpdG9yIFN0YXRlXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRQb3NJbkxpc3QgPSAoc3RhdGU6IEVkaXRvclN0YXRlKTogbnVtYmVyIHwgdW5kZWZpbmVkID0+IHtcbiAgY29uc3Qge1xuICAgIHNjaGVtYToge1xuICAgICAgbm9kZXM6IHsgbWVkaWFHcm91cCwgbGlzdEl0ZW0gfVxuICAgIH1cbiAgfSA9IHN0YXRlXG5cbiAgLy8gMS4gQ2hlY2sgaWYgSSBhbSBpbnNpZGUgYSBsaXN0LlxuICBpZiAoaGFzUGFyZW50Tm9kZShub2RlID0+IG5vZGUudHlwZSA9PT0gbGlzdEl0ZW0pKHN0YXRlLnNlbGVjdGlvbikpIHtcbiAgICAvLyAyLiBHZXQgZW5kIHBvc2l0aW9uIG9mIHJvb3QgbGlzdFxuICAgIGNvbnN0IHJvb3RMaXN0Tm9kZSA9IGZpbmRSb290TGlzdE5vZGUoc3RhdGUpXG5cbiAgICBpZiAocm9vdExpc3ROb2RlKSB7XG4gICAgICBjb25zdCBwb3MgPSByb290TGlzdE5vZGUucG9zICsgcm9vdExpc3ROb2RlLm5vZGUubm9kZVNpemVcbiAgICAgIC8vIDMuIEZpbnQgdGhlIGZpcnN0IGxvY2F0aW9uIGluc2lkZSB0aGUgbWVkaWEgZ3JvdXBcbiAgICAgIGNvbnN0IG5leHROb2RlID0gc3RhdGUuZG9jLm5vZGVBdChwb3MpXG4gICAgICBpZiAobmV4dE5vZGUgJiYgbmV4dE5vZGUudHlwZSA9PT0gbWVkaWFHcm91cCkge1xuICAgICAgICByZXR1cm4gcG9zICsgMVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gcG9zXG4gICAgfVxuICB9XG4gIHJldHVyblxufVxuXG4vKipcbiAqIEZpbmQgaW5zZXJ0aW9uIHBvaW50LFxuICogSWYgaXQgaXMgaW4gYSBMaXN0IGl0IHdpbGwgcmV0dXJuIHBvc2l0aW9uIHRvIHRoZSBuZXh0IGJsb2NrLFxuICogSWYgdGhlcmUgYXJlIGFueSBtZWRpYSBncm91cCBjbG9zZSBpdCB3aWxsIHJldHVybiB0aGlzIHBvc2l0aW9uXG4gKiBPdGhlcndpc2UsIEl0IHdpbGwgcmV0dXJuIHRoZSByZXNwZWN0aXZlIGJsb2NrIGdpdmVuIHNlbGVjdGlvbi5cbiAqIEBwYXJhbSBjb250ZW50IENvbnRlbnQgdG8gYmUgaW5zZXJ0ZWRcbiAqIEBwYXJhbSBzdGF0ZSBFZGl0b3Igc3RhdGVcbiAqL1xuY29uc3QgZmluZE1lZGlhSW5zZXJ0UG9zID0gKHN0YXRlOiBFZGl0b3JTdGF0ZSk6IG51bWJlciA9PiB7XG4gIGNvbnN0IHsgJGZyb20sICR0byB9ID0gc3RhdGUuc2VsZWN0aW9uXG5cbiAgLy8gQ2hlY2sgaWYgc2VsZWN0aW9uIGlzIGluc2lkZSBhIGxpc3QuXG4gIGNvbnN0IHBvc0luTGlzdCA9IGdldFBvc0luTGlzdChzdGF0ZSlcblxuICBpZiAocG9zSW5MaXN0KSB7XG4gICAgLy8gSWYgSSBoYXZlIGEgcG9zaXRpb24gaW4gbGlzdHMsIEkgc2hvdWxkIHJldHVybiwgb3RoZXJ3aXNlIEkgYW0gbm90IGluc2lkZSBhIGxpc3RcbiAgICByZXR1cm4gcG9zSW5MaXN0XG4gIH1cblxuICBjb25zdCBuZWFyYnlNZWRpYUdyb3VwUG9zID0gcG9zT2ZNZWRpYUdyb3VwTmVhcmJ5KHN0YXRlKVxuXG4gIGlmIChcbiAgICBuZWFyYnlNZWRpYUdyb3VwUG9zICYmXG4gICAgKCFpc1NlbGVjdGlvbk5vbk1lZGlhQmxvY2tOb2RlKHN0YXRlKSB8fFxuICAgICAgKCRmcm9tLnBvcyA8IG5lYXJieU1lZGlhR3JvdXBQb3MgJiYgJHRvLnBvcyA8IG5lYXJieU1lZGlhR3JvdXBQb3MpKVxuICApIHtcbiAgICByZXR1cm4gbmVhcmJ5TWVkaWFHcm91cFBvc1xuICB9XG5cbiAgaWYgKGlzU2VsZWN0aW9uTm9uTWVkaWFCbG9ja05vZGUoc3RhdGUpKSB7XG4gICAgcmV0dXJuICR0by5wb3NcbiAgfVxuXG4gIGlmIChhdFRoZUVuZE9mQmxvY2soc3RhdGUpKSB7XG4gICAgcmV0dXJuICR0by5wb3MgKyAxXG4gIH1cblxuICBpZiAoYXRUaGVCZWdpbm5pbmdPZkJsb2NrKHN0YXRlKSkge1xuICAgIHJldHVybiAkZnJvbS5wb3MgLSAxXG4gIH1cblxuICByZXR1cm4gJHRvLnBvc1xufVxuXG5jb25zdCBmaW5kRGVsZXRlUmFuZ2UgPSAoc3RhdGU6IEVkaXRvclN0YXRlKTogUmFuZ2UgfCB1bmRlZmluZWQgPT4ge1xuICBjb25zdCB7ICRmcm9tLCAkdG8gfSA9IHN0YXRlLnNlbGVjdGlvblxuXG4gIGlmIChwb3NPZlBhcmVudE1lZGlhR3JvdXAoc3RhdGUpKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICBpZiAoIWlzSW5zaWRlUG90ZW50aWFsRW1wdHlQYXJhZ3JhcGgoc3RhdGUpIHx8IHBvc09mTWVkaWFHcm91cE5lYXJieShzdGF0ZSkpIHtcbiAgICByZXR1cm4gcmFuZ2UoJGZyb20ucG9zLCAkdG8ucG9zKVxuICB9XG5cbiAgcmV0dXJuIHJhbmdlKHN0YXJ0UG9zaXRpb25PZlBhcmVudCgkZnJvbSkgLSAxLCBlbmRQb3NpdGlvbk9mUGFyZW50KCR0bykpXG59XG5cbmNvbnN0IHJhbmdlID0gKHN0YXJ0OiBudW1iZXIsIGVuZDogbnVtYmVyID0gc3RhcnQpID0+IHtcbiAgcmV0dXJuIHsgc3RhcnQsIGVuZCB9XG59XG5cbmNvbnN0IHNldFNlbGVjdGlvbkFmdGVyTWVkaWFJbnNlcnRpb24gPSAodmlldzogRWRpdG9yVmlldyk6IHZvaWQgPT4ge1xuICBjb25zdCB7IHN0YXRlIH0gPSB2aWV3XG4gIGNvbnN0IHsgZG9jIH0gPSBzdGF0ZVxuICBjb25zdCBtZWRpYVBvcyA9IHBvc09mTWVkaWFHcm91cE5lYXJieShzdGF0ZSlcbiAgaWYgKCFtZWRpYVBvcykge1xuICAgIHJldHVyblxuICB9XG5cbiAgY29uc3QgJG1lZGlhUG9zID0gZG9jLnJlc29sdmUobWVkaWFQb3MpXG4gIGNvbnN0IGVuZE9mTWVkaWFHcm91cCA9IGVuZFBvc2l0aW9uT2ZQYXJlbnQoJG1lZGlhUG9zKVxuXG4gIGlmIChlbmRPZk1lZGlhR3JvdXAgKyAxID49IGRvYy5ub2RlU2l6ZSAtIDEpIHtcbiAgICAvLyBpZiBub3RoaW5nIGFmdGVyIHRoZSBtZWRpYSBncm91cCwgZmFsbGJhY2sgdG8gc2VsZWN0IHRoZSBuZXdlc3QgdXBsb2FkZWQgbWVkaWEgaXRlbVxuICAgIHNldE5vZGVTZWxlY3Rpb24odmlldywgbWVkaWFQb3MpXG4gIH0gZWxzZSB7XG4gICAgc2V0VGV4dFNlbGVjdGlvbih2aWV3LCBlbmRPZk1lZGlhR3JvdXAgKyAxKVxuICB9XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBU0E7QUFRQTtBQUtBO0FBT0E7QUFDQTtBQWVBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFNQTtBQUVBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUlBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFFQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUlBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBS0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/plugins/media/utils/media-files.ts\n");

/***/ }),

/***/ "./src/plugins/media/utils/media-single.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isMediaSingle\", function() { return isMediaSingle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"insertMediaAsMediaSingle\", function() { return insertMediaAsMediaSingle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"insertMediaSingleNode\", function() { return insertMediaSingleNode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createMediaSingleNode\", function() { return createMediaSingleNode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"transformSliceForMedia\", function() { return transformSliceForMedia; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"calcMediaPxWidth\", function() { return calcMediaPxWidth; });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prosemirror_model__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/prosemirror-model/dist/index.es.js\");\n/* harmony import */ var prosemirror_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/prosemirror-utils/dist/index.js\");\n/* harmony import */ var prosemirror_utils__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prosemirror_utils__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _atlaskit_editor_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./node_modules/@atlaskit/editor-common/dist/esm/index.js\");\n/* harmony import */ var _atlaskit_editor_shared_styles__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./node_modules/@atlaskit/editor-shared-styles/dist/esm/index.js\");\n/* harmony import */ var _atlaskit_editor_core_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/utils/index.ts\");\n/* harmony import */ var _utils_media_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./src/plugins/media/utils/media-common.ts\");\n/* harmony import */ var _atlaskit_editor_core_utils_slice__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/utils/slice.ts\");\n/* harmony import */ var _atlaskit_editor_core_plugins_analytics__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/plugins/analytics/index.ts\");\n/* harmony import */ var _atlaskit_editor_core_utils_insert__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/utils/insert.ts\");\n/* harmony import */ var _atlaskit_editor_core_plugins_feature_flags_context__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/plugins/feature-flags-context/index.ts\");\n/* harmony import */ var _is_image__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"./src/plugins/media/utils/is-image.ts\");\n/* harmony import */ var _atlaskit_editor_core_utils_prosemirror_position__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/utils/prosemirror/position.ts\");\n\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n\n\n\n\n\n\n\n\n\n\n\n\nvar getInsertMediaAnalytics = function getInsertMediaAnalytics(inputMethod, fileExtension) {\n  return {\n    action: _atlaskit_editor_core_plugins_analytics__WEBPACK_IMPORTED_MODULE_8__[\"ACTION\"].INSERTED,\n    actionSubject: _atlaskit_editor_core_plugins_analytics__WEBPACK_IMPORTED_MODULE_8__[\"ACTION_SUBJECT\"].DOCUMENT,\n    actionSubjectId: _atlaskit_editor_core_plugins_analytics__WEBPACK_IMPORTED_MODULE_8__[\"ACTION_SUBJECT_ID\"].MEDIA,\n    attributes: {\n      inputMethod: inputMethod,\n      fileExtension: fileExtension,\n      type: _atlaskit_editor_core_plugins_analytics__WEBPACK_IMPORTED_MODULE_8__[\"ACTION_SUBJECT_ID\"].MEDIA_SINGLE\n    },\n    eventType: _atlaskit_editor_core_plugins_analytics__WEBPACK_IMPORTED_MODULE_8__[\"EVENT_TYPE\"].TRACK\n  };\n};\nfunction shouldAddParagraph(state) {\n  return Object(_atlaskit_editor_core_utils_prosemirror_position__WEBPACK_IMPORTED_MODULE_12__[\"atTheBeginningOfBlock\"])(state) && !Object(_atlaskit_editor_core_utils__WEBPACK_IMPORTED_MODULE_5__[\"checkNodeDown\"])(state.selection, state.doc, _atlaskit_editor_core_utils__WEBPACK_IMPORTED_MODULE_5__[\"isEmptyParagraph\"]);\n}\nfunction insertNodesWithOptionalParagraph(nodes) {\n  var analyticsAttributes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return function (state, dispatch) {\n    var tr = state.tr,\n      schema = state.schema;\n    var paragraph = schema.nodes.paragraph;\n    var inputMethod = analyticsAttributes.inputMethod,\n      fileExtension = analyticsAttributes.fileExtension;\n    var openEnd = 0;\n    if (shouldAddParagraph(state)) {\n      nodes.push(paragraph.create());\n      openEnd = 1;\n    }\n    tr.replaceSelection(new prosemirror_model__WEBPACK_IMPORTED_MODULE_1__[\"Slice\"](prosemirror_model__WEBPACK_IMPORTED_MODULE_1__[\"Fragment\"].from(nodes), 0, openEnd));\n    if (inputMethod) {\n      Object(_atlaskit_editor_core_plugins_analytics__WEBPACK_IMPORTED_MODULE_8__[\"addAnalytics\"])(state, tr, getInsertMediaAnalytics(inputMethod, fileExtension));\n    }\n    if (dispatch) {\n      dispatch(tr);\n    }\n    return true;\n  };\n}\nvar isMediaSingle = function isMediaSingle(schema, fileMimeType) {\n  return !!schema.nodes.mediaSingle && Object(_is_image__WEBPACK_IMPORTED_MODULE_11__[\"isImage\"])(fileMimeType);\n};\nvar insertMediaAsMediaSingle = function insertMediaAsMediaSingle(view, node, inputMethod) {\n  var state = view.state,\n    dispatch = view.dispatch;\n  var _state$schema$nodes = state.schema.nodes,\n    mediaSingle = _state$schema$nodes.mediaSingle,\n    media = _state$schema$nodes.media;\n  if (!mediaSingle) {\n    return false;\n  }\n\n  // if not an image type media node\n  if (node.type !== media || !Object(_is_image__WEBPACK_IMPORTED_MODULE_11__[\"isImage\"])(node.attrs.__fileMimeType) && node.attrs.type !== 'external') {\n    return false;\n  }\n  var mediaSingleNode = mediaSingle.create({}, node);\n  var nodes = [mediaSingleNode];\n  var analyticsAttributes = {\n    inputMethod: inputMethod,\n    fileExtension: node.attrs.__fileMimeType\n  };\n  return insertNodesWithOptionalParagraph(nodes, analyticsAttributes)(state, dispatch);\n};\nvar insertMediaSingleNode = function insertMediaSingleNode(view, mediaState, inputMethod, collection, alignLeftOnInsert) {\n  if (collection === undefined) {\n    return false;\n  }\n  var state = view.state,\n    dispatch = view.dispatch;\n  var grandParent = state.selection.$from.node(-1);\n  var node = createMediaSingleNode(state.schema, collection, alignLeftOnInsert)(mediaState);\n  var shouldSplit = grandParent && grandParent.type.validContent(prosemirror_model__WEBPACK_IMPORTED_MODULE_1__[\"Fragment\"].from(node));\n  var fileExtension;\n  if (mediaState.fileName) {\n    var extensionIdx = mediaState.fileName.lastIndexOf('.');\n    fileExtension = extensionIdx >= 0 ? mediaState.fileName.substring(extensionIdx + 1) : undefined;\n  }\n  if (shouldSplit) {\n    insertNodesWithOptionalParagraph([node], {\n      fileExtension: fileExtension,\n      inputMethod: inputMethod\n    })(state, dispatch);\n  } else {\n    var _getFeatureFlags = Object(_atlaskit_editor_core_plugins_feature_flags_context__WEBPACK_IMPORTED_MODULE_10__[\"getFeatureFlags\"])(view.state),\n      newInsertionBehaviour = _getFeatureFlags.newInsertionBehaviour;\n    var tr = null;\n    if (newInsertionBehaviour) {\n      tr = Object(_atlaskit_editor_core_utils_insert__WEBPACK_IMPORTED_MODULE_9__[\"safeInsert\"])(node, state.selection.from)(state.tr);\n    }\n    if (!tr) {\n      var content = shouldAddParagraph(view.state) ? prosemirror_model__WEBPACK_IMPORTED_MODULE_1__[\"Fragment\"].fromArray([node, state.schema.nodes.paragraph.create()]) : node;\n      tr = Object(prosemirror_utils__WEBPACK_IMPORTED_MODULE_2__[\"safeInsert\"])(content, undefined, true)(state.tr);\n    }\n    if (inputMethod) {\n      tr = Object(_atlaskit_editor_core_plugins_analytics__WEBPACK_IMPORTED_MODULE_8__[\"addAnalytics\"])(state, tr, getInsertMediaAnalytics(inputMethod, fileExtension));\n    }\n    dispatch(tr);\n  }\n  return true;\n};\nvar createMediaSingleNode = function createMediaSingleNode(schema, collection, alignLeftOnInsert) {\n  return function (mediaState) {\n    var id = mediaState.id,\n      dimensions = mediaState.dimensions,\n      contextId = mediaState.contextId,\n      _mediaState$scaleFact = mediaState.scaleFactor,\n      scaleFactor = _mediaState$scaleFact === void 0 ? 1 : _mediaState$scaleFact;\n    var _ref = dimensions || {\n        height: undefined,\n        width: undefined\n      },\n      width = _ref.width,\n      height = _ref.height;\n    var _schema$nodes = schema.nodes,\n      media = _schema$nodes.media,\n      mediaSingle = _schema$nodes.mediaSingle;\n    var mediaNode = media.create({\n      id: id,\n      type: 'file',\n      collection: collection,\n      contextId: contextId,\n      width: width && Math.round(width / scaleFactor),\n      height: height && Math.round(height / scaleFactor)\n    });\n    var mediaSingleAttrs = alignLeftOnInsert ? {\n      layout: 'align-start'\n    } : {};\n    Object(_utils_media_common__WEBPACK_IMPORTED_MODULE_6__[\"copyOptionalAttrsFromMediaState\"])(mediaState, mediaNode);\n    return mediaSingle.createChecked(mediaSingleAttrs, mediaNode);\n  };\n};\nfunction transformSliceForMedia(slice, schema) {\n  var _schema$nodes2 = schema.nodes,\n    mediaSingle = _schema$nodes2.mediaSingle,\n    layoutSection = _schema$nodes2.layoutSection,\n    table = _schema$nodes2.table,\n    bulletList = _schema$nodes2.bulletList,\n    orderedList = _schema$nodes2.orderedList,\n    media = _schema$nodes2.media,\n    expand = _schema$nodes2.expand;\n  return function (selection) {\n    var newSlice = slice;\n    if (Object(prosemirror_utils__WEBPACK_IMPORTED_MODULE_2__[\"hasParentNodeOfType\"])([layoutSection, table, bulletList, orderedList, expand])(selection)) {\n      newSlice = Object(_atlaskit_editor_core_utils_slice__WEBPACK_IMPORTED_MODULE_7__[\"mapSlice\"])(newSlice, function (node) {\n        return node.type.name === 'mediaSingle' ? mediaSingle.createChecked({}, node.content, node.marks) : node;\n      });\n    }\n    newSlice = Object(_atlaskit_editor_core_utils_slice__WEBPACK_IMPORTED_MODULE_7__[\"mapSlice\"])(newSlice, function (node) {\n      return node.type.name === 'media' && node.attrs.type === 'external' ? media.createChecked(_objectSpread(_objectSpread({}, node.attrs), {}, {\n        __external: true\n      }), node.content, node.marks) : node;\n    });\n    return newSlice;\n  };\n}\nvar calcMediaPxWidth = function calcMediaPxWidth(opts) {\n  var origWidth = opts.origWidth,\n    origHeight = opts.origHeight,\n    layout = opts.layout,\n    pctWidth = opts.pctWidth,\n    containerWidth = opts.containerWidth,\n    resizedPctWidth = opts.resizedPctWidth;\n  var width = containerWidth.width,\n    lineLength = containerWidth.lineLength;\n  var calculatedPctWidth = calcPctWidth(containerWidth, pctWidth, origWidth, origHeight);\n  var calculatedResizedPctWidth = calcPctWidth(containerWidth, resizedPctWidth, origWidth, origHeight);\n  if (layout === 'wide') {\n    if (lineLength) {\n      var wideWidth = Math.ceil(lineLength * _atlaskit_editor_shared_styles__WEBPACK_IMPORTED_MODULE_4__[\"breakoutWideScaleRatio\"]);\n      return wideWidth > width ? lineLength : wideWidth;\n    }\n  } else if (layout === 'full-width') {\n    return width - _atlaskit_editor_shared_styles__WEBPACK_IMPORTED_MODULE_4__[\"akEditorBreakoutPadding\"];\n  } else if (calculatedPctWidth) {\n    if (_atlaskit_editor_common__WEBPACK_IMPORTED_MODULE_3__[\"wrappedLayouts\"].indexOf(layout) > -1) {\n      if (calculatedResizedPctWidth) {\n        if (resizedPctWidth < 50) {\n          return calculatedResizedPctWidth;\n        }\n        return calculatedPctWidth;\n      }\n      return Math.max(calculatedPctWidth, origWidth);\n    }\n    if (calculatedResizedPctWidth) {\n      return calculatedResizedPctWidth;\n    }\n    return calculatedPctWidth;\n  } else if (layout === 'center') {\n    if (calculatedResizedPctWidth) {\n      return calculatedResizedPctWidth;\n    }\n    return Math.min(origWidth, lineLength || width);\n  } else if (layout && _atlaskit_editor_common__WEBPACK_IMPORTED_MODULE_3__[\"wrappedLayouts\"].indexOf(layout) !== -1) {\n    var halfLineLength = Math.ceil((lineLength || width) / 2);\n    return origWidth <= halfLineLength ? origWidth : halfLineLength;\n  }\n  return origWidth;\n};\nvar calcPctWidth = function calcPctWidth(containerWidth, pctWidth, origWidth, origHeight) {\n  return pctWidth && origWidth && origHeight && Math.ceil(Object(_atlaskit_editor_common__WEBPACK_IMPORTED_MODULE_3__[\"calcPxFromPct\"])(pctWidth / 100, containerWidth.lineLength || containerWidth.width));\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGx1Z2lucy9tZWRpYS91dGlscy9tZWRpYS1zaW5nbGUudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2lucy9tZWRpYS91dGlscy9tZWRpYS1zaW5nbGUudHM/ZGYxNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOb2RlIGFzIFBNTm9kZSwgU2NoZW1hLCBGcmFnbWVudCwgU2xpY2UgfSBmcm9tICdwcm9zZW1pcnJvci1tb2RlbCdcbmltcG9ydCB7IEVkaXRvclZpZXcgfSBmcm9tICdwcm9zZW1pcnJvci12aWV3J1xuaW1wb3J0IHtcbiAgc2FmZUluc2VydCBhcyBwbVNhZmVJbnNlcnQsXG4gIGhhc1BhcmVudE5vZGVPZlR5cGVcbn0gZnJvbSAncHJvc2VtaXJyb3ItdXRpbHMnXG5pbXBvcnQgeyBFZGl0b3JTdGF0ZSwgU2VsZWN0aW9uLCBUcmFuc2FjdGlvbiB9IGZyb20gJ3Byb3NlbWlycm9yLXN0YXRlJ1xuaW1wb3J0IHsgUmljaE1lZGlhTGF5b3V0IGFzIE1lZGlhU2luZ2xlTGF5b3V0IH0gZnJvbSAnQGF0bGFza2l0L2FkZi1zY2hlbWEnXG5pbXBvcnQgeyBjYWxjUHhGcm9tUGN0LCB3cmFwcGVkTGF5b3V0cyB9IGZyb20gJ0BhdGxhc2tpdC9lZGl0b3ItY29tbW9uJ1xuaW1wb3J0IHtcbiAgYWtFZGl0b3JCcmVha291dFBhZGRpbmcsXG4gIGJyZWFrb3V0V2lkZVNjYWxlUmF0aW9cbn0gZnJvbSAnQGF0bGFza2l0L2VkaXRvci1zaGFyZWQtc3R5bGVzJ1xuaW1wb3J0IHsgY2hlY2tOb2RlRG93biwgaXNFbXB0eVBhcmFncmFwaCB9IGZyb20gJ0BhdGxhc2tpdC9lZGl0b3ItY29yZS91dGlscydcbmltcG9ydCB7IGNvcHlPcHRpb25hbEF0dHJzRnJvbU1lZGlhU3RhdGUgfSBmcm9tICcuLi91dGlscy9tZWRpYS1jb21tb24nXG5pbXBvcnQgeyBNZWRpYVN0YXRlIH0gZnJvbSAnLi4vdHlwZXMnXG5pbXBvcnQgeyBDb21tYW5kIH0gZnJvbSAnQGF0bGFza2l0L2VkaXRvci1jb3JlL3R5cGVzJ1xuaW1wb3J0IHsgbWFwU2xpY2UgfSBmcm9tICdAYXRsYXNraXQvZWRpdG9yLWNvcmUvdXRpbHMvc2xpY2UnXG5pbXBvcnQgeyBXaWR0aFBsdWdpblN0YXRlIH0gZnJvbSAnQGF0bGFza2l0L2VkaXRvci1jb3JlL3BsdWdpbnMvd2lkdGgnXG5pbXBvcnQge1xuICBhZGRBbmFseXRpY3MsXG4gIEFDVElPTixcbiAgQUNUSU9OX1NVQkpFQ1QsXG4gIEVWRU5UX1RZUEUsXG4gIEFDVElPTl9TVUJKRUNUX0lELFxuICBJbnB1dE1ldGhvZEluc2VydE1lZGlhLFxuICBJbnNlcnRFdmVudFBheWxvYWRcbn0gZnJvbSAnQGF0bGFza2l0L2VkaXRvci1jb3JlL3BsdWdpbnMvYW5hbHl0aWNzJ1xuaW1wb3J0IHsgc2FmZUluc2VydCB9IGZyb20gJ0BhdGxhc2tpdC9lZGl0b3ItY29yZS91dGlscy9pbnNlcnQnXG5pbXBvcnQgeyBnZXRGZWF0dXJlRmxhZ3MgfSBmcm9tICdAYXRsYXNraXQvZWRpdG9yLWNvcmUvcGx1Z2lucy9mZWF0dXJlLWZsYWdzLWNvbnRleHQnXG5pbXBvcnQgeyBpc0ltYWdlIH0gZnJvbSAnLi9pcy1pbWFnZSdcbmltcG9ydCB7IGF0VGhlQmVnaW5uaW5nT2ZCbG9jayB9IGZyb20gJ0BhdGxhc2tpdC9lZGl0b3ItY29yZS91dGlscy9wcm9zZW1pcnJvci9wb3NpdGlvbidcblxuZXhwb3J0IGludGVyZmFjZSBNZWRpYVNpbmdsZVN0YXRlIGV4dGVuZHMgTWVkaWFTdGF0ZSB7XG4gIGRpbWVuc2lvbnM6IHsgd2lkdGg6IG51bWJlcjsgaGVpZ2h0OiBudW1iZXIgfVxuICBzY2FsZUZhY3Rvcj86IG51bWJlclxuICBjb250ZXh0SWQ/OiBzdHJpbmdcbn1cblxuY29uc3QgZ2V0SW5zZXJ0TWVkaWFBbmFseXRpY3MgPSAoXG4gIGlucHV0TWV0aG9kOiBJbnB1dE1ldGhvZEluc2VydE1lZGlhLFxuICBmaWxlRXh0ZW5zaW9uPzogc3RyaW5nXG4pOiBJbnNlcnRFdmVudFBheWxvYWQgPT4gKHtcbiAgYWN0aW9uOiBBQ1RJT04uSU5TRVJURUQsXG4gIGFjdGlvblN1YmplY3Q6IEFDVElPTl9TVUJKRUNULkRPQ1VNRU5ULFxuICBhY3Rpb25TdWJqZWN0SWQ6IEFDVElPTl9TVUJKRUNUX0lELk1FRElBLFxuICBhdHRyaWJ1dGVzOiB7XG4gICAgaW5wdXRNZXRob2QsXG4gICAgZmlsZUV4dGVuc2lvbixcbiAgICB0eXBlOiBBQ1RJT05fU1VCSkVDVF9JRC5NRURJQV9TSU5HTEVcbiAgfSxcbiAgZXZlbnRUeXBlOiBFVkVOVF9UWVBFLlRSQUNLXG59KVxuXG5mdW5jdGlvbiBzaG91bGRBZGRQYXJhZ3JhcGgoc3RhdGU6IEVkaXRvclN0YXRlKSB7XG4gIHJldHVybiAoXG4gICAgYXRUaGVCZWdpbm5pbmdPZkJsb2NrKHN0YXRlKSAmJlxuICAgICFjaGVja05vZGVEb3duKHN0YXRlLnNlbGVjdGlvbiwgc3RhdGUuZG9jLCBpc0VtcHR5UGFyYWdyYXBoKVxuICApXG59XG5cbmZ1bmN0aW9uIGluc2VydE5vZGVzV2l0aE9wdGlvbmFsUGFyYWdyYXBoKFxuICBub2RlczogUE1Ob2RlW10sXG4gIGFuYWx5dGljc0F0dHJpYnV0ZXM6IHtcbiAgICBpbnB1dE1ldGhvZD86IElucHV0TWV0aG9kSW5zZXJ0TWVkaWFcbiAgICBmaWxlRXh0ZW5zaW9uPzogc3RyaW5nXG4gIH0gPSB7fVxuKTogQ29tbWFuZCB7XG4gIHJldHVybiBmdW5jdGlvbihzdGF0ZSwgZGlzcGF0Y2gpIHtcbiAgICBjb25zdCB7IHRyLCBzY2hlbWEgfSA9IHN0YXRlXG4gICAgY29uc3QgeyBwYXJhZ3JhcGggfSA9IHNjaGVtYS5ub2Rlc1xuICAgIGNvbnN0IHsgaW5wdXRNZXRob2QsIGZpbGVFeHRlbnNpb24gfSA9IGFuYWx5dGljc0F0dHJpYnV0ZXNcblxuICAgIGxldCBvcGVuRW5kID0gMFxuICAgIGlmIChzaG91bGRBZGRQYXJhZ3JhcGgoc3RhdGUpKSB7XG4gICAgICBub2Rlcy5wdXNoKHBhcmFncmFwaC5jcmVhdGUoKSlcbiAgICAgIG9wZW5FbmQgPSAxXG4gICAgfVxuXG4gICAgdHIucmVwbGFjZVNlbGVjdGlvbihuZXcgU2xpY2UoRnJhZ21lbnQuZnJvbShub2RlcyksIDAsIG9wZW5FbmQpKVxuICAgIGlmIChpbnB1dE1ldGhvZCkge1xuICAgICAgYWRkQW5hbHl0aWNzKFxuICAgICAgICBzdGF0ZSxcbiAgICAgICAgdHIsXG4gICAgICAgIGdldEluc2VydE1lZGlhQW5hbHl0aWNzKGlucHV0TWV0aG9kLCBmaWxlRXh0ZW5zaW9uKVxuICAgICAgKVxuICAgIH1cblxuICAgIGlmIChkaXNwYXRjaCkge1xuICAgICAgZGlzcGF0Y2godHIpXG4gICAgfVxuICAgIHJldHVybiB0cnVlXG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IGlzTWVkaWFTaW5nbGUgPSAoc2NoZW1hOiBTY2hlbWEsIGZpbGVNaW1lVHlwZT86IHN0cmluZykgPT5cbiAgISFzY2hlbWEubm9kZXMubWVkaWFTaW5nbGUgJiYgaXNJbWFnZShmaWxlTWltZVR5cGUpXG5cbmV4cG9ydCBjb25zdCBpbnNlcnRNZWRpYUFzTWVkaWFTaW5nbGUgPSAoXG4gIHZpZXc6IEVkaXRvclZpZXcsXG4gIG5vZGU6IFBNTm9kZSxcbiAgaW5wdXRNZXRob2Q6IElucHV0TWV0aG9kSW5zZXJ0TWVkaWFcbik6IGJvb2xlYW4gPT4ge1xuICBjb25zdCB7IHN0YXRlLCBkaXNwYXRjaCB9ID0gdmlld1xuICBjb25zdCB7IG1lZGlhU2luZ2xlLCBtZWRpYSB9ID0gc3RhdGUuc2NoZW1hLm5vZGVzXG5cbiAgaWYgKCFtZWRpYVNpbmdsZSkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgLy8gaWYgbm90IGFuIGltYWdlIHR5cGUgbWVkaWEgbm9kZVxuICBpZiAoXG4gICAgbm9kZS50eXBlICE9PSBtZWRpYSB8fFxuICAgICghaXNJbWFnZShub2RlLmF0dHJzLl9fZmlsZU1pbWVUeXBlKSAmJiBub2RlLmF0dHJzLnR5cGUgIT09ICdleHRlcm5hbCcpXG4gICkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgY29uc3QgbWVkaWFTaW5nbGVOb2RlID0gbWVkaWFTaW5nbGUuY3JlYXRlKHt9LCBub2RlKVxuICBjb25zdCBub2RlcyA9IFttZWRpYVNpbmdsZU5vZGVdXG4gIGNvbnN0IGFuYWx5dGljc0F0dHJpYnV0ZXMgPSB7XG4gICAgaW5wdXRNZXRob2QsXG4gICAgZmlsZUV4dGVuc2lvbjogbm9kZS5hdHRycy5fX2ZpbGVNaW1lVHlwZVxuICB9XG4gIHJldHVybiBpbnNlcnROb2Rlc1dpdGhPcHRpb25hbFBhcmFncmFwaChub2RlcywgYW5hbHl0aWNzQXR0cmlidXRlcykoXG4gICAgc3RhdGUsXG4gICAgZGlzcGF0Y2hcbiAgKVxufVxuXG5leHBvcnQgY29uc3QgaW5zZXJ0TWVkaWFTaW5nbGVOb2RlID0gKFxuICB2aWV3OiBFZGl0b3JWaWV3LFxuICBtZWRpYVN0YXRlOiBNZWRpYVN0YXRlLFxuICBpbnB1dE1ldGhvZD86IElucHV0TWV0aG9kSW5zZXJ0TWVkaWEsXG4gIGNvbGxlY3Rpb24/OiBzdHJpbmcsXG4gIGFsaWduTGVmdE9uSW5zZXJ0PzogYm9vbGVhblxuKTogYm9vbGVhbiA9PiB7XG4gIGlmIChjb2xsZWN0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIGNvbnN0IHsgc3RhdGUsIGRpc3BhdGNoIH0gPSB2aWV3XG4gIGNvbnN0IGdyYW5kUGFyZW50ID0gc3RhdGUuc2VsZWN0aW9uLiRmcm9tLm5vZGUoLTEpXG4gIGNvbnN0IG5vZGUgPSBjcmVhdGVNZWRpYVNpbmdsZU5vZGUoXG4gICAgc3RhdGUuc2NoZW1hLFxuICAgIGNvbGxlY3Rpb24sXG4gICAgYWxpZ25MZWZ0T25JbnNlcnRcbiAgKShtZWRpYVN0YXRlIGFzIE1lZGlhU2luZ2xlU3RhdGUpXG4gIGNvbnN0IHNob3VsZFNwbGl0ID1cbiAgICBncmFuZFBhcmVudCAmJiBncmFuZFBhcmVudC50eXBlLnZhbGlkQ29udGVudChGcmFnbWVudC5mcm9tKG5vZGUpKVxuICBsZXQgZmlsZUV4dGVuc2lvbjogc3RyaW5nIHwgdW5kZWZpbmVkXG4gIGlmIChtZWRpYVN0YXRlLmZpbGVOYW1lKSB7XG4gICAgY29uc3QgZXh0ZW5zaW9uSWR4ID0gbWVkaWFTdGF0ZS5maWxlTmFtZS5sYXN0SW5kZXhPZignLicpXG4gICAgZmlsZUV4dGVuc2lvbiA9XG4gICAgICBleHRlbnNpb25JZHggPj0gMFxuICAgICAgICA/IG1lZGlhU3RhdGUuZmlsZU5hbWUuc3Vic3RyaW5nKGV4dGVuc2lvbklkeCArIDEpXG4gICAgICAgIDogdW5kZWZpbmVkXG4gIH1cblxuICBpZiAoc2hvdWxkU3BsaXQpIHtcbiAgICBpbnNlcnROb2Rlc1dpdGhPcHRpb25hbFBhcmFncmFwaChbbm9kZV0sIHsgZmlsZUV4dGVuc2lvbiwgaW5wdXRNZXRob2QgfSkoXG4gICAgICBzdGF0ZSxcbiAgICAgIGRpc3BhdGNoXG4gICAgKVxuICB9IGVsc2Uge1xuICAgIGNvbnN0IHsgbmV3SW5zZXJ0aW9uQmVoYXZpb3VyIH0gPSBnZXRGZWF0dXJlRmxhZ3Modmlldy5zdGF0ZSlcbiAgICBsZXQgdHI6IFRyYW5zYWN0aW9uPGFueT4gfCBudWxsID0gbnVsbFxuICAgIGlmIChuZXdJbnNlcnRpb25CZWhhdmlvdXIpIHtcbiAgICAgIHRyID0gc2FmZUluc2VydChub2RlLCBzdGF0ZS5zZWxlY3Rpb24uZnJvbSkoc3RhdGUudHIpXG4gICAgfVxuXG4gICAgaWYgKCF0cikge1xuICAgICAgY29uc3QgY29udGVudCA9IHNob3VsZEFkZFBhcmFncmFwaCh2aWV3LnN0YXRlKVxuICAgICAgICA/IEZyYWdtZW50LmZyb21BcnJheShbbm9kZSwgc3RhdGUuc2NoZW1hLm5vZGVzLnBhcmFncmFwaC5jcmVhdGUoKV0pXG4gICAgICAgIDogbm9kZVxuICAgICAgdHIgPSBwbVNhZmVJbnNlcnQoY29udGVudCwgdW5kZWZpbmVkLCB0cnVlKShzdGF0ZS50cilcbiAgICB9XG5cbiAgICBpZiAoaW5wdXRNZXRob2QpIHtcbiAgICAgIHRyID0gYWRkQW5hbHl0aWNzKFxuICAgICAgICBzdGF0ZSxcbiAgICAgICAgdHIsXG4gICAgICAgIGdldEluc2VydE1lZGlhQW5hbHl0aWNzKGlucHV0TWV0aG9kLCBmaWxlRXh0ZW5zaW9uKVxuICAgICAgKVxuICAgIH1cbiAgICBkaXNwYXRjaCh0cilcbiAgfVxuXG4gIHJldHVybiB0cnVlXG59XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVNZWRpYVNpbmdsZU5vZGUgPSAoXG4gIHNjaGVtYTogU2NoZW1hLFxuICBjb2xsZWN0aW9uOiBzdHJpbmcsXG4gIGFsaWduTGVmdE9uSW5zZXJ0PzogYm9vbGVhblxuKSA9PiAobWVkaWFTdGF0ZTogTWVkaWFTaW5nbGVTdGF0ZSkgPT4ge1xuICBjb25zdCB7IGlkLCBkaW1lbnNpb25zLCBjb250ZXh0SWQsIHNjYWxlRmFjdG9yID0gMSB9ID0gbWVkaWFTdGF0ZVxuICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IGRpbWVuc2lvbnMgfHwge1xuICAgIGhlaWdodDogdW5kZWZpbmVkLFxuICAgIHdpZHRoOiB1bmRlZmluZWRcbiAgfVxuICBjb25zdCB7IG1lZGlhLCBtZWRpYVNpbmdsZSB9ID0gc2NoZW1hLm5vZGVzXG5cbiAgY29uc3QgbWVkaWFOb2RlID0gbWVkaWEuY3JlYXRlKHtcbiAgICBpZCxcbiAgICB0eXBlOiAnZmlsZScsXG4gICAgY29sbGVjdGlvbixcbiAgICBjb250ZXh0SWQsXG4gICAgd2lkdGg6IHdpZHRoICYmIE1hdGgucm91bmQod2lkdGggLyBzY2FsZUZhY3RvciksXG4gICAgaGVpZ2h0OiBoZWlnaHQgJiYgTWF0aC5yb3VuZChoZWlnaHQgLyBzY2FsZUZhY3RvcilcbiAgfSlcblxuICBjb25zdCBtZWRpYVNpbmdsZUF0dHJzID0gYWxpZ25MZWZ0T25JbnNlcnQgPyB7IGxheW91dDogJ2FsaWduLXN0YXJ0JyB9IDoge31cblxuICBjb3B5T3B0aW9uYWxBdHRyc0Zyb21NZWRpYVN0YXRlKG1lZGlhU3RhdGUsIG1lZGlhTm9kZSlcbiAgcmV0dXJuIG1lZGlhU2luZ2xlLmNyZWF0ZUNoZWNrZWQobWVkaWFTaW5nbGVBdHRycywgbWVkaWFOb2RlKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtU2xpY2VGb3JNZWRpYShzbGljZTogU2xpY2UsIHNjaGVtYTogU2NoZW1hKSB7XG4gIGNvbnN0IHtcbiAgICBtZWRpYVNpbmdsZSxcbiAgICBsYXlvdXRTZWN0aW9uLFxuICAgIHRhYmxlLFxuICAgIGJ1bGxldExpc3QsXG4gICAgb3JkZXJlZExpc3QsXG4gICAgbWVkaWEsXG4gICAgZXhwYW5kXG4gIH0gPSBzY2hlbWEubm9kZXNcblxuICByZXR1cm4gKHNlbGVjdGlvbjogU2VsZWN0aW9uKSA9PiB7XG4gICAgbGV0IG5ld1NsaWNlID0gc2xpY2VcbiAgICBpZiAoXG4gICAgICBoYXNQYXJlbnROb2RlT2ZUeXBlKFtcbiAgICAgICAgbGF5b3V0U2VjdGlvbixcbiAgICAgICAgdGFibGUsXG4gICAgICAgIGJ1bGxldExpc3QsXG4gICAgICAgIG9yZGVyZWRMaXN0LFxuICAgICAgICBleHBhbmRcbiAgICAgIF0pKHNlbGVjdGlvbilcbiAgICApIHtcbiAgICAgIG5ld1NsaWNlID0gbWFwU2xpY2UobmV3U2xpY2UsIG5vZGUgPT5cbiAgICAgICAgbm9kZS50eXBlLm5hbWUgPT09ICdtZWRpYVNpbmdsZSdcbiAgICAgICAgICA/IG1lZGlhU2luZ2xlLmNyZWF0ZUNoZWNrZWQoe30sIG5vZGUuY29udGVudCwgbm9kZS5tYXJrcylcbiAgICAgICAgICA6IG5vZGVcbiAgICAgIClcbiAgICB9XG5cbiAgICBuZXdTbGljZSA9IG1hcFNsaWNlKG5ld1NsaWNlLCBub2RlID0+XG4gICAgICBub2RlLnR5cGUubmFtZSA9PT0gJ21lZGlhJyAmJiBub2RlLmF0dHJzLnR5cGUgPT09ICdleHRlcm5hbCdcbiAgICAgICAgPyBtZWRpYS5jcmVhdGVDaGVja2VkKFxuICAgICAgICAgICAgeyAuLi5ub2RlLmF0dHJzLCBfX2V4dGVybmFsOiB0cnVlIH0sXG4gICAgICAgICAgICBub2RlLmNvbnRlbnQsXG4gICAgICAgICAgICBub2RlLm1hcmtzXG4gICAgICAgICAgKVxuICAgICAgICA6IG5vZGVcbiAgICApXG5cbiAgICByZXR1cm4gbmV3U2xpY2VcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgY2FsY01lZGlhUHhXaWR0aCA9IChvcHRzOiB7XG4gIG9yaWdXaWR0aDogbnVtYmVyXG4gIG9yaWdIZWlnaHQ6IG51bWJlclxuICBzdGF0ZTogRWRpdG9yU3RhdGVcbiAgY29udGFpbmVyV2lkdGg6IFdpZHRoUGx1Z2luU3RhdGVcbiAgbGF5b3V0PzogTWVkaWFTaW5nbGVMYXlvdXRcbiAgcGN0V2lkdGg/OiBudW1iZXJcbiAgcG9zPzogbnVtYmVyXG4gIHJlc2l6ZWRQY3RXaWR0aD86IG51bWJlclxuICBpc0Z1bGxXaWR0aE1vZGVFbmFibGVkPzogYm9vbGVhblxufSk6IG51bWJlciA9PiB7XG4gIGNvbnN0IHtcbiAgICBvcmlnV2lkdGgsXG4gICAgb3JpZ0hlaWdodCxcbiAgICBsYXlvdXQsXG4gICAgcGN0V2lkdGgsXG4gICAgY29udGFpbmVyV2lkdGgsXG4gICAgcmVzaXplZFBjdFdpZHRoXG4gIH0gPSBvcHRzXG4gIGNvbnN0IHsgd2lkdGgsIGxpbmVMZW5ndGggfSA9IGNvbnRhaW5lcldpZHRoXG4gIGNvbnN0IGNhbGN1bGF0ZWRQY3RXaWR0aCA9IGNhbGNQY3RXaWR0aChcbiAgICBjb250YWluZXJXaWR0aCxcbiAgICBwY3RXaWR0aCxcbiAgICBvcmlnV2lkdGgsXG4gICAgb3JpZ0hlaWdodFxuICApXG4gIGNvbnN0IGNhbGN1bGF0ZWRSZXNpemVkUGN0V2lkdGggPSBjYWxjUGN0V2lkdGgoXG4gICAgY29udGFpbmVyV2lkdGgsXG4gICAgcmVzaXplZFBjdFdpZHRoLFxuICAgIG9yaWdXaWR0aCxcbiAgICBvcmlnSGVpZ2h0XG4gIClcblxuICBpZiAobGF5b3V0ID09PSAnd2lkZScpIHtcbiAgICBpZiAobGluZUxlbmd0aCkge1xuICAgICAgY29uc3Qgd2lkZVdpZHRoID0gTWF0aC5jZWlsKGxpbmVMZW5ndGggKiBicmVha291dFdpZGVTY2FsZVJhdGlvKVxuICAgICAgcmV0dXJuIHdpZGVXaWR0aCA+IHdpZHRoID8gbGluZUxlbmd0aCA6IHdpZGVXaWR0aFxuICAgIH1cbiAgfSBlbHNlIGlmIChsYXlvdXQgPT09ICdmdWxsLXdpZHRoJykge1xuICAgIHJldHVybiB3aWR0aCAtIGFrRWRpdG9yQnJlYWtvdXRQYWRkaW5nXG4gIH0gZWxzZSBpZiAoY2FsY3VsYXRlZFBjdFdpZHRoKSB7XG4gICAgaWYgKHdyYXBwZWRMYXlvdXRzLmluZGV4T2YobGF5b3V0ISkgPiAtMSkge1xuICAgICAgaWYgKGNhbGN1bGF0ZWRSZXNpemVkUGN0V2lkdGgpIHtcbiAgICAgICAgaWYgKHJlc2l6ZWRQY3RXaWR0aCEgPCA1MCkge1xuICAgICAgICAgIHJldHVybiBjYWxjdWxhdGVkUmVzaXplZFBjdFdpZHRoXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNhbGN1bGF0ZWRQY3RXaWR0aFxuICAgICAgfVxuICAgICAgcmV0dXJuIE1hdGgubWF4KGNhbGN1bGF0ZWRQY3RXaWR0aCwgb3JpZ1dpZHRoKVxuICAgIH1cbiAgICBpZiAoY2FsY3VsYXRlZFJlc2l6ZWRQY3RXaWR0aCkge1xuICAgICAgcmV0dXJuIGNhbGN1bGF0ZWRSZXNpemVkUGN0V2lkdGhcbiAgICB9XG4gICAgcmV0dXJuIGNhbGN1bGF0ZWRQY3RXaWR0aFxuICB9IGVsc2UgaWYgKGxheW91dCA9PT0gJ2NlbnRlcicpIHtcbiAgICBpZiAoY2FsY3VsYXRlZFJlc2l6ZWRQY3RXaWR0aCkge1xuICAgICAgcmV0dXJuIGNhbGN1bGF0ZWRSZXNpemVkUGN0V2lkdGhcbiAgICB9XG4gICAgcmV0dXJuIE1hdGgubWluKG9yaWdXaWR0aCwgbGluZUxlbmd0aCB8fCB3aWR0aClcbiAgfSBlbHNlIGlmIChsYXlvdXQgJiYgd3JhcHBlZExheW91dHMuaW5kZXhPZihsYXlvdXQpICE9PSAtMSkge1xuICAgIGNvbnN0IGhhbGZMaW5lTGVuZ3RoID0gTWF0aC5jZWlsKChsaW5lTGVuZ3RoIHx8IHdpZHRoKSAvIDIpXG4gICAgcmV0dXJuIG9yaWdXaWR0aCA8PSBoYWxmTGluZUxlbmd0aCA/IG9yaWdXaWR0aCA6IGhhbGZMaW5lTGVuZ3RoXG4gIH1cblxuICByZXR1cm4gb3JpZ1dpZHRoXG59XG5cbmNvbnN0IGNhbGNQY3RXaWR0aCA9IChcbiAgY29udGFpbmVyV2lkdGg6IFdpZHRoUGx1Z2luU3RhdGUsXG4gIHBjdFdpZHRoPzogbnVtYmVyLFxuICBvcmlnV2lkdGg/OiBudW1iZXIsXG4gIG9yaWdIZWlnaHQ/OiBudW1iZXJcbik6IG51bWJlciB8IHVuZGVmaW5lZCA9PlxuICBwY3RXaWR0aCAmJlxuICBvcmlnV2lkdGggJiZcbiAgb3JpZ0hlaWdodCAmJlxuICBNYXRoLmNlaWwoXG4gICAgY2FsY1B4RnJvbVBjdChcbiAgICAgIHBjdFdpZHRoIC8gMTAwLFxuICAgICAgY29udGFpbmVyV2lkdGgubGluZUxlbmd0aCB8fCBjb250YWluZXJXaWR0aC53aWR0aFxuICAgIClcbiAgKVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFFQTtBQU1BO0FBQ0E7QUFJQTtBQUNBO0FBR0E7QUFFQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBSUE7QUFFQTtBQU1BO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUtBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBRUE7QUFLQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFFQTtBQU9BO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBS0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUlBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBR0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUFBO0FBSUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBU0E7QUFBQTtBQUdBO0FBRUE7QUFFQTtBQUFBO0FBR0E7QUFBQTtBQUlBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFXQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFNQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUlBO0FBVUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/plugins/media/utils/media-single.ts\n");

/***/ }),

/***/ "./src/styles/index.css":
/***/ (function(module, exports, __webpack_require__) {

eval("\nvar content = __webpack_require__(\"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./src/styles/index.css\");\n\nif(typeof content === 'string') content = [[module.i, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = __webpack_require__(\"./node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(true) {\n\tmodule.hot.accept(\"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./src/styles/index.css\", function() {\n\t\tvar newContent = __webpack_require__(\"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./src/styles/index.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.i, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc3R5bGVzL2luZGV4LmNzcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9zdHlsZXMvaW5kZXguY3NzPzZiNTkiXSwic291cmNlc0NvbnRlbnQiOlsiXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTUtMSEuLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvc3JjL2luZGV4LmpzPz9wb3N0Y3NzIS4vaW5kZXguY3NzXCIpO1xuXG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblxudmFyIHRyYW5zZm9ybTtcbnZhciBpbnNlcnRJbnRvO1xuXG5cblxudmFyIG9wdGlvbnMgPSB7XCJobXJcIjp0cnVlfVxuXG5vcHRpb25zLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVxub3B0aW9ucy5pbnNlcnRJbnRvID0gdW5kZWZpbmVkO1xuXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanNcIikoY29udGVudCwgb3B0aW9ucyk7XG5cbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXG5pZihtb2R1bGUuaG90KSB7XG5cdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS01LTEhLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cG9zdGNzcyEuL2luZGV4LmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTUtMSEuLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvc3JjL2luZGV4LmpzPz9wb3N0Y3NzIS4vaW5kZXguY3NzXCIpO1xuXG5cdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cblx0XHR2YXIgbG9jYWxzID0gKGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdHZhciBrZXksIGlkeCA9IDA7XG5cblx0XHRcdGZvcihrZXkgaW4gYSkge1xuXHRcdFx0XHRpZighYiB8fCBhW2tleV0gIT09IGJba2V5XSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRpZHgrKztcblx0XHRcdH1cblxuXHRcdFx0Zm9yKGtleSBpbiBiKSBpZHgtLTtcblxuXHRcdFx0cmV0dXJuIGlkeCA9PT0gMDtcblx0XHR9KGNvbnRlbnQubG9jYWxzLCBuZXdDb250ZW50LmxvY2FscykpO1xuXG5cdFx0aWYoIWxvY2FscykgdGhyb3cgbmV3IEVycm9yKCdBYm9ydGluZyBDU1MgSE1SIGR1ZSB0byBjaGFuZ2VkIGNzcy1tb2R1bGVzIGxvY2Fscy4nKTtcblxuXHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0fSk7XG5cblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/styles/index.css\n");

/***/ }),

/***/ "./src/targets/browser/index.jsx":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initApp\", function() { return initApp; });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var cozy_ui_dist_cozy_ui_utils_min_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/cozy-ui/dist/cozy-ui.utils.min.css\");\n/* harmony import */ var cozy_ui_dist_cozy_ui_utils_min_css__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(cozy_ui_dist_cozy_ui_utils_min_css__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var cozy_ui_transpiled_react_stylesheet_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/stylesheet.css\");\n/* harmony import */ var cozy_ui_transpiled_react_stylesheet_css__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(cozy_ui_transpiled_react_stylesheet_css__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var cozy_search_dist_stylesheet_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./node_modules/cozy-search/dist/stylesheet.css\");\n/* harmony import */ var cozy_search_dist_stylesheet_css__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(cozy_search_dist_stylesheet_css__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _atlaskit_editor_core_i18n__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./node_modules/cozy-editor-core/src/i18n/index.ts\");\n/* harmony import */ var _sentry_integrations__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./node_modules/@sentry/integrations/esm/index.js\");\n/* harmony import */ var _sentry_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./node_modules/@sentry/react/esm/index.js\");\n/* harmony import */ var components_IsPublicContext__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./src/components/IsPublicContext.jsx\");\n/* harmony import */ var lib_initFromDom__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./src/lib/initFromDom.js\");\n/* harmony import */ var lodash_memoize__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"./node_modules/lodash/memoize.js\");\n/* harmony import */ var lodash_memoize__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(lodash_memoize__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"./node_modules/react-dom/index.js\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"./node_modules/react-intl/lib/index.es.js\");\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"./node_modules/react-router-dom/dist/index.js\");\n/* harmony import */ var styles_index_css__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(\"./src/styles/index.css\");\n/* harmony import */ var styles_index_css__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(styles_index_css__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var cozy_bar_dist_stylesheet_css__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(\"./node_modules/cozy-bar/dist/stylesheet.css\");\n/* harmony import */ var cozy_bar_dist_stylesheet_css__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(cozy_bar_dist_stylesheet_css__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(\"./node_modules/cozy-client/dist/index.js\");\n/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_16__);\n/* harmony import */ var cozy_doctypes__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(\"./node_modules/cozy-doctypes/dist/index.js\");\n/* harmony import */ var cozy_doctypes__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(cozy_doctypes__WEBPACK_IMPORTED_MODULE_17__);\n/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(\"./node_modules/cozy-flags/dist/index.browser.js\");\n/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(cozy_flags__WEBPACK_IMPORTED_MODULE_18__);\n/* harmony import */ var cozy_intent__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(\"./node_modules/cozy-intent/dist/index.js\");\n/* harmony import */ var cozy_intent__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(cozy_intent__WEBPACK_IMPORTED_MODULE_19__);\n/* harmony import */ var cozy_realtime__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(\"./node_modules/cozy-realtime/dist/index.browser.js\");\n/* harmony import */ var cozy_realtime__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(cozy_realtime__WEBPACK_IMPORTED_MODULE_20__);\n/* harmony import */ var cozy_sharing__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(\"./node_modules/cozy-sharing/dist/index.js\");\n/* harmony import */ var cozy_sharing_dist_stylesheet_css__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(\"./node_modules/cozy-sharing/dist/stylesheet.css\");\n/* harmony import */ var cozy_sharing_dist_stylesheet_css__WEBPACK_IMPORTED_MODULE_22___default = /*#__PURE__*/__webpack_require__.n(cozy_sharing_dist_stylesheet_css__WEBPACK_IMPORTED_MODULE_22__);\n/* harmony import */ var cozy_ui_transpiled_react_providers_CozyTheme__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/providers/CozyTheme/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_providers_I18n__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/providers/I18n/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_styles__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/styles/index.js\");\n/* harmony import */ var _constants_strings__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(\"./src/constants/strings.ts\");\n\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal[\"default\"].signature : function (a) {\n  return a;\n};\n/* eslint-disable import/order */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar manifest = __webpack_require__(\"./manifest.webapp\");\nvar frenchAtlaskitCozy = __webpack_require__(\"./src/locales/atlassian_missing_french.json\");\nvar locales = {\n  en: {\n    react: __webpack_require__(\"./node_modules/react-intl/locale-data/en.js\"),\n    atlaskit: _atlaskit_editor_core_i18n__WEBPACK_IMPORTED_MODULE_4__[\"en\"]\n  },\n  fr: {\n    react: __webpack_require__(\"./node_modules/react-intl/locale-data/fr.js\"),\n    atlaskit: _objectSpread(_objectSpread({}, _atlaskit_editor_core_i18n__WEBPACK_IMPORTED_MODULE_4__[\"fr\"]), frenchAtlaskitCozy)\n  },\n  ru: {\n    react: __webpack_require__(\"./node_modules/react-intl/locale-data/ru.js\"),\n    atlaskit: _atlaskit_editor_core_i18n__WEBPACK_IMPORTED_MODULE_4__[\"ru\"]\n  },\n  vi: {\n    react: __webpack_require__(\"./node_modules/react-intl/locale-data/vi.js\"),\n    atlaskit: _atlaskit_editor_core_i18n__WEBPACK_IMPORTED_MODULE_4__[\"vi\"]\n  }\n};\n\n/*\nWith MUI V4, it is possible to generate deterministic class names.\nIn the case of multiple react roots, it is necessary to disable this\nfeature. Since we have the cozy-bar root, we need to disable the\nfeature.\nhttps://material-ui.com/styles/api/#stylesprovider\n*/\nvar generateClassName = Object(cozy_ui_transpiled_react_styles__WEBPACK_IMPORTED_MODULE_25__[\"createGenerateClassName\"])({\n  disableGlobal: true\n});\nvar renderApp = function renderApp(appLocale, client, isPublic) {\n  var App = __webpack_require__(\"./src/components/app.jsx\")[\"default\"];\n  Object(react_dom__WEBPACK_IMPORTED_MODULE_11__[\"render\"])( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(cozy_intent__WEBPACK_IMPORTED_MODULE_19__[\"WebviewIntentProvider\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(cozy_ui_transpiled_react_providers_I18n__WEBPACK_IMPORTED_MODULE_24__[\"default\"], {\n    lang: appLocale,\n    dictRequire: function dictRequire(appLocale) {\n      return __webpack_require__(\"./src/locales sync recursive ^\\\\.\\\\/.*$\")(\"./\".concat(appLocale));\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(cozy_ui_transpiled_react_styles__WEBPACK_IMPORTED_MODULE_25__[\"StylesProvider\"], {\n    generateClassName: generateClassName\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_12__[\"IntlProvider\"], {\n    locale: appLocale,\n    messages: locales[appLocale].atlaskit\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(cozy_client__WEBPACK_IMPORTED_MODULE_16__[\"CozyProvider\"], {\n    client: client\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(cozy_ui_transpiled_react_providers_CozyTheme__WEBPACK_IMPORTED_MODULE_23__[\"default\"], {\n    ignoreCozySettings: isPublic\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(components_IsPublicContext__WEBPACK_IMPORTED_MODULE_7__[\"default\"].Provider, {\n    value: isPublic\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(cozy_sharing__WEBPACK_IMPORTED_MODULE_21__[\"default\"], {\n    doctype: \"io.cozy.files\",\n    documentType: \"Notes\",\n    previewPath: _constants_strings__WEBPACK_IMPORTED_MODULE_26__[\"SHARING_LOCATION\"],\n    isPublic: isPublic\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(cozy_sharing__WEBPACK_IMPORTED_MODULE_21__[\"NativeFileSharingProvider\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(App, {\n    isPublic: isPublic\n  })))))))))), document.querySelector('[role=application]'));\n};\n\n// initial rendering of the application\nvar initApp = function initApp() {\n  var data = Object(lib_initFromDom__WEBPACK_IMPORTED_MODULE_8__[\"getDataset\"])();\n  var appSlug = Object(lib_initFromDom__WEBPACK_IMPORTED_MODULE_8__[\"getDataOrDefault\"])(data.app.slug, manifest.slug);\n  var appVersion = Object(lib_initFromDom__WEBPACK_IMPORTED_MODULE_8__[\"getDataOrDefault\"])(data.app.version, manifest.version);\n  var supportedLocales = ['en', 'fr', 'ru', 'vi'];\n  Object(react_intl__WEBPACK_IMPORTED_MODULE_12__[\"addLocaleData\"])(locales.en.react);\n  Object(react_intl__WEBPACK_IMPORTED_MODULE_12__[\"addLocaleData\"])(locales.fr.react);\n  Object(react_intl__WEBPACK_IMPORTED_MODULE_12__[\"addLocaleData\"])(locales.ru.react);\n  Object(react_intl__WEBPACK_IMPORTED_MODULE_12__[\"addLocaleData\"])(locales.vi.react);\n  var userLocale = Object(lib_initFromDom__WEBPACK_IMPORTED_MODULE_8__[\"getDataOrDefault\"])(data.locale, 'en');\n  var appLocale = supportedLocales.includes(userLocale) ? userLocale : 'en';\n  var protocol = window.location ? window.location.protocol : 'https:';\n  var shareCode = Object(lib_initFromDom__WEBPACK_IMPORTED_MODULE_8__[\"getPublicSharecode\"])();\n  var token = data.token;\n  var isPublic = Boolean(shareCode);\n\n  // initialize the client to interact with the cozy stack\n  var client = new cozy_client__WEBPACK_IMPORTED_MODULE_16___default.a({\n    uri: \"\".concat(protocol, \"//\").concat(data.domain),\n    token: token,\n    autoHydrate: true,\n    appMetadata: {\n      slug: appSlug,\n      version: appVersion\n    }\n  });\n  if (!cozy_doctypes__WEBPACK_IMPORTED_MODULE_17__[\"Document\"].cozyClient) {\n    cozy_doctypes__WEBPACK_IMPORTED_MODULE_17__[\"Document\"].registerClient(client);\n  }\n  client.registerPlugin(cozy_realtime__WEBPACK_IMPORTED_MODULE_20__[\"RealtimePlugin\"]);\n  client.registerPlugin(cozy_flags__WEBPACK_IMPORTED_MODULE_18___default.a.plugin);\n  if (!isPublic) {\n    // initialize the bar, common of all applications, it allows\n    // platform features like apps navigation without doing anything\n\n    // necessary to initialize the bar with the correct React instance\n    window.React = react__WEBPACK_IMPORTED_MODULE_10___default.a;\n    window.ReactDOM = react_dom__WEBPACK_IMPORTED_MODULE_11___default.a;\n    _sentry_react__WEBPACK_IMPORTED_MODULE_6__[\"init\"]({\n      dsn: 'https://16c26a60d9019eea9d9a9775573e3765@errors.cozycloud.cc/73',\n      environment: \"development\",\n      release: manifest.version,\n      integrations: [new _sentry_integrations__WEBPACK_IMPORTED_MODULE_5__[\"CaptureConsole\"]({\n        levels: ['error']\n      }),\n      // We also want to capture the `console.error` to, among other things, report the logs present in the `try/catch`\n      _sentry_react__WEBPACK_IMPORTED_MODULE_6__[\"reactRouterV6BrowserTracingIntegration\"]({\n        useEffect: react__WEBPACK_IMPORTED_MODULE_10___default.a.useEffect,\n        useLocation: react_router_dom__WEBPACK_IMPORTED_MODULE_13__[\"useLocation\"],\n        useNavigationType: react_router_dom__WEBPACK_IMPORTED_MODULE_13__[\"useNavigationType\"],\n        createRoutesFromChildren: react_router_dom__WEBPACK_IMPORTED_MODULE_13__[\"createRoutesFromChildren\"],\n        matchRoutes: react_router_dom__WEBPACK_IMPORTED_MODULE_13__[\"matchRoutes\"]\n      })],\n      tracesSampleRate: 0.1,\n      // React log these warnings(bad Proptypes), in a console.error, it is not relevant to report this type of information to Sentry\n      ignoreErrors: [/^Warning: /],\n      defaultIntegrations: false\n    });\n  }\n  return {\n    appLocale: appLocale,\n    client: client,\n    isPublic: isPublic\n  };\n};\nvar memoizedInit = lodash_memoize__WEBPACK_IMPORTED_MODULE_9___default()(initApp);\nvar init = function init() {\n  var _memoizedInit = memoizedInit(),\n    appLocale = _memoizedInit.appLocale,\n    client = _memoizedInit.client,\n    isPublic = _memoizedInit.isPublic;\n  renderApp(appLocale, client, isPublic);\n};\ndocument.addEventListener('DOMContentLoaded', init);\nif (true) {\n  memoizedInit();\n  module.hot.accept();\n}\n;\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n  if (!reactHotLoader) {\n    return;\n  }\n  reactHotLoader.register(locales, \"locales\", \"/home/paul/dev/cozy/apps/cozy-notes/src/targets/browser/index.jsx\");\n  reactHotLoader.register(generateClassName, \"generateClassName\", \"/home/paul/dev/cozy/apps/cozy-notes/src/targets/browser/index.jsx\");\n  reactHotLoader.register(renderApp, \"renderApp\", \"/home/paul/dev/cozy/apps/cozy-notes/src/targets/browser/index.jsx\");\n  reactHotLoader.register(initApp, \"initApp\", \"/home/paul/dev/cozy/apps/cozy-notes/src/targets/browser/index.jsx\");\n  reactHotLoader.register(memoizedInit, \"memoizedInit\", \"/home/paul/dev/cozy/apps/cozy-notes/src/targets/browser/index.jsx\");\n  reactHotLoader.register(init, \"init\", \"/home/paul/dev/cozy/apps/cozy-notes/src/targets/browser/index.jsx\");\n})();\n;\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(\"./node_modules/webpack/buildin/harmony-module.js\")(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdGFyZ2V0cy9icm93c2VyL2luZGV4LmpzeC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy90YXJnZXRzL2Jyb3dzZXIvaW5kZXguanN4PzlkNzMiXSwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgaW1wb3J0L29yZGVyICovXG5pbXBvcnQgJ2NvenktdWkvZGlzdC9jb3p5LXVpLnV0aWxzLm1pbi5jc3MnXG5pbXBvcnQgJ2NvenktdWkvdHJhbnNwaWxlZC9yZWFjdC9zdHlsZXNoZWV0LmNzcydcbmltcG9ydCAnY296eS1zZWFyY2gvZGlzdC9zdHlsZXNoZWV0LmNzcydcblxuaW1wb3J0IHsgZnIsIGVuLCBydSwgdmkgfSBmcm9tICdAYXRsYXNraXQvZWRpdG9yLWNvcmUvaTE4bidcbmltcG9ydCB7IENhcHR1cmVDb25zb2xlIH0gZnJvbSAnQHNlbnRyeS9pbnRlZ3JhdGlvbnMnXG5pbXBvcnQgKiBhcyBTZW50cnkgZnJvbSAnQHNlbnRyeS9yZWFjdCdcbmltcG9ydCBJc1B1YmxpY0NvbnRleHQgZnJvbSAnY29tcG9uZW50cy9Jc1B1YmxpY0NvbnRleHQnXG5pbXBvcnQge1xuICBnZXREYXRhc2V0LFxuICBnZXREYXRhT3JEZWZhdWx0LFxuICBnZXRQdWJsaWNTaGFyZWNvZGVcbn0gZnJvbSAnbGliL2luaXRGcm9tRG9tJ1xuaW1wb3J0IG1lbW9pemUgZnJvbSAnbG9kYXNoL21lbW9pemUnXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgUmVhY3RET00sIHsgcmVuZGVyIH0gZnJvbSAncmVhY3QtZG9tJ1xuaW1wb3J0IHsgSW50bFByb3ZpZGVyLCBhZGRMb2NhbGVEYXRhIH0gZnJvbSAncmVhY3QtaW50bCdcbmltcG9ydCB7XG4gIHVzZUxvY2F0aW9uLFxuICB1c2VOYXZpZ2F0aW9uVHlwZSxcbiAgY3JlYXRlUm91dGVzRnJvbUNoaWxkcmVuLFxuICBtYXRjaFJvdXRlc1xufSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJ1xuaW1wb3J0ICdzdHlsZXMvaW5kZXguY3NzJ1xuXG5pbXBvcnQgJ2NvenktYmFyL2Rpc3Qvc3R5bGVzaGVldC5jc3MnXG5pbXBvcnQgQ296eUNsaWVudCwgeyBDb3p5UHJvdmlkZXIgfSBmcm9tICdjb3p5LWNsaWVudCdcbmltcG9ydCB7IERvY3VtZW50IH0gZnJvbSAnY296eS1kb2N0eXBlcydcbmltcG9ydCBmbGFnIGZyb20gJ2NvenktZmxhZ3MnXG5pbXBvcnQgeyBXZWJ2aWV3SW50ZW50UHJvdmlkZXIgfSBmcm9tICdjb3p5LWludGVudCdcbmltcG9ydCB7IFJlYWx0aW1lUGx1Z2luIH0gZnJvbSAnY296eS1yZWFsdGltZSdcbmltcG9ydCBTaGFyaW5nUHJvdmlkZXIsIHsgTmF0aXZlRmlsZVNoYXJpbmdQcm92aWRlciB9IGZyb20gJ2Nvenktc2hhcmluZydcbmltcG9ydCAnY296eS1zaGFyaW5nL2Rpc3Qvc3R5bGVzaGVldC5jc3MnXG5pbXBvcnQgQ296eVRoZW1lIGZyb20gJ2NvenktdWkvdHJhbnNwaWxlZC9yZWFjdC9wcm92aWRlcnMvQ296eVRoZW1lJ1xuaW1wb3J0IEkxOG4gZnJvbSAnY296eS11aS90cmFuc3BpbGVkL3JlYWN0L3Byb3ZpZGVycy9JMThuJ1xuaW1wb3J0IHtcbiAgU3R5bGVzUHJvdmlkZXIsXG4gIGNyZWF0ZUdlbmVyYXRlQ2xhc3NOYW1lXG59IGZyb20gJ2NvenktdWkvdHJhbnNwaWxlZC9yZWFjdC9zdHlsZXMnXG5cbmltcG9ydCB7IFNIQVJJTkdfTE9DQVRJT04gfSBmcm9tICcuLi8uLi9jb25zdGFudHMvc3RyaW5ncydcblxuY29uc3QgbWFuaWZlc3QgPSByZXF1aXJlKCcuLi8uLi8uLi9tYW5pZmVzdC53ZWJhcHAnKVxuXG5jb25zdCBmcmVuY2hBdGxhc2tpdENvenkgPSByZXF1aXJlKGBsb2NhbGVzL2F0bGFzc2lhbl9taXNzaW5nX2ZyZW5jaC5qc29uYClcblxuY29uc3QgbG9jYWxlcyA9IHtcbiAgZW46IHtcbiAgICByZWFjdDogcmVxdWlyZSgncmVhY3QtaW50bC9sb2NhbGUtZGF0YS9lbicpLFxuICAgIGF0bGFza2l0OiBlblxuICB9LFxuICBmcjoge1xuICAgIHJlYWN0OiByZXF1aXJlKCdyZWFjdC1pbnRsL2xvY2FsZS1kYXRhL2ZyJyksXG4gICAgYXRsYXNraXQ6IHsgLi4uZnIsIC4uLmZyZW5jaEF0bGFza2l0Q296eSB9XG4gIH0sXG4gIHJ1OiB7XG4gICAgcmVhY3Q6IHJlcXVpcmUoJ3JlYWN0LWludGwvbG9jYWxlLWRhdGEvcnUnKSxcbiAgICBhdGxhc2tpdDogcnVcbiAgfSxcbiAgdmk6IHtcbiAgICByZWFjdDogcmVxdWlyZSgncmVhY3QtaW50bC9sb2NhbGUtZGF0YS92aScpLFxuICAgIGF0bGFza2l0OiB2aVxuICB9XG59XG5cbi8qXG5XaXRoIE1VSSBWNCwgaXQgaXMgcG9zc2libGUgdG8gZ2VuZXJhdGUgZGV0ZXJtaW5pc3RpYyBjbGFzcyBuYW1lcy5cbkluIHRoZSBjYXNlIG9mIG11bHRpcGxlIHJlYWN0IHJvb3RzLCBpdCBpcyBuZWNlc3NhcnkgdG8gZGlzYWJsZSB0aGlzXG5mZWF0dXJlLiBTaW5jZSB3ZSBoYXZlIHRoZSBjb3p5LWJhciByb290LCB3ZSBuZWVkIHRvIGRpc2FibGUgdGhlXG5mZWF0dXJlLlxuaHR0cHM6Ly9tYXRlcmlhbC11aS5jb20vc3R5bGVzL2FwaS8jc3R5bGVzcHJvdmlkZXJcbiovXG5jb25zdCBnZW5lcmF0ZUNsYXNzTmFtZSA9IGNyZWF0ZUdlbmVyYXRlQ2xhc3NOYW1lKHtcbiAgZGlzYWJsZUdsb2JhbDogdHJ1ZVxufSlcblxuY29uc3QgcmVuZGVyQXBwID0gZnVuY3Rpb24gKGFwcExvY2FsZSwgY2xpZW50LCBpc1B1YmxpYykge1xuICBjb25zdCBBcHAgPSByZXF1aXJlKCdjb21wb25lbnRzL2FwcCcpLmRlZmF1bHRcblxuICByZW5kZXIoXG4gICAgPFdlYnZpZXdJbnRlbnRQcm92aWRlcj5cbiAgICAgIDxJMThuXG4gICAgICAgIGxhbmc9e2FwcExvY2FsZX1cbiAgICAgICAgZGljdFJlcXVpcmU9e2FwcExvY2FsZSA9PiByZXF1aXJlKGBsb2NhbGVzLyR7YXBwTG9jYWxlfWApfVxuICAgICAgPlxuICAgICAgICA8U3R5bGVzUHJvdmlkZXIgZ2VuZXJhdGVDbGFzc05hbWU9e2dlbmVyYXRlQ2xhc3NOYW1lfT5cbiAgICAgICAgICA8SW50bFByb3ZpZGVyXG4gICAgICAgICAgICBsb2NhbGU9e2FwcExvY2FsZX1cbiAgICAgICAgICAgIG1lc3NhZ2VzPXtsb2NhbGVzW2FwcExvY2FsZV0uYXRsYXNraXR9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPENvenlQcm92aWRlciBjbGllbnQ9e2NsaWVudH0+XG4gICAgICAgICAgICAgIDxDb3p5VGhlbWUgaWdub3JlQ296eVNldHRpbmdzPXtpc1B1YmxpY30+XG4gICAgICAgICAgICAgICAgPElzUHVibGljQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17aXNQdWJsaWN9PlxuICAgICAgICAgICAgICAgICAgPFNoYXJpbmdQcm92aWRlclxuICAgICAgICAgICAgICAgICAgICBkb2N0eXBlPVwiaW8uY296eS5maWxlc1wiXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50VHlwZT1cIk5vdGVzXCJcbiAgICAgICAgICAgICAgICAgICAgcHJldmlld1BhdGg9e1NIQVJJTkdfTE9DQVRJT059XG4gICAgICAgICAgICAgICAgICAgIGlzUHVibGljPXtpc1B1YmxpY31cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPE5hdGl2ZUZpbGVTaGFyaW5nUHJvdmlkZXI+XG4gICAgICAgICAgICAgICAgICAgICAgPEFwcCBpc1B1YmxpYz17aXNQdWJsaWN9IC8+XG4gICAgICAgICAgICAgICAgICAgIDwvTmF0aXZlRmlsZVNoYXJpbmdQcm92aWRlcj5cbiAgICAgICAgICAgICAgICAgIDwvU2hhcmluZ1Byb3ZpZGVyPlxuICAgICAgICAgICAgICAgIDwvSXNQdWJsaWNDb250ZXh0LlByb3ZpZGVyPlxuICAgICAgICAgICAgICA8L0NvenlUaGVtZT5cbiAgICAgICAgICAgIDwvQ296eVByb3ZpZGVyPlxuICAgICAgICAgIDwvSW50bFByb3ZpZGVyPlxuICAgICAgICA8L1N0eWxlc1Byb3ZpZGVyPlxuICAgICAgPC9JMThuPlxuICAgIDwvV2Vidmlld0ludGVudFByb3ZpZGVyPixcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbcm9sZT1hcHBsaWNhdGlvbl0nKVxuICApXG59XG5cbi8vIGluaXRpYWwgcmVuZGVyaW5nIG9mIHRoZSBhcHBsaWNhdGlvblxuZXhwb3J0IGNvbnN0IGluaXRBcHAgPSAoKSA9PiB7XG4gIGNvbnN0IGRhdGEgPSBnZXREYXRhc2V0KClcbiAgY29uc3QgYXBwU2x1ZyA9IGdldERhdGFPckRlZmF1bHQoZGF0YS5hcHAuc2x1ZywgbWFuaWZlc3Quc2x1ZylcbiAgY29uc3QgYXBwVmVyc2lvbiA9IGdldERhdGFPckRlZmF1bHQoZGF0YS5hcHAudmVyc2lvbiwgbWFuaWZlc3QudmVyc2lvbilcblxuICBjb25zdCBzdXBwb3J0ZWRMb2NhbGVzID0gWydlbicsICdmcicsICdydScsICd2aSddXG5cbiAgYWRkTG9jYWxlRGF0YShsb2NhbGVzLmVuLnJlYWN0KVxuICBhZGRMb2NhbGVEYXRhKGxvY2FsZXMuZnIucmVhY3QpXG4gIGFkZExvY2FsZURhdGEobG9jYWxlcy5ydS5yZWFjdClcbiAgYWRkTG9jYWxlRGF0YShsb2NhbGVzLnZpLnJlYWN0KVxuXG4gIGNvbnN0IHVzZXJMb2NhbGUgPSBnZXREYXRhT3JEZWZhdWx0KGRhdGEubG9jYWxlLCAnZW4nKVxuICBjb25zdCBhcHBMb2NhbGUgPSBzdXBwb3J0ZWRMb2NhbGVzLmluY2x1ZGVzKHVzZXJMb2NhbGUpID8gdXNlckxvY2FsZSA6ICdlbidcblxuICBjb25zdCBwcm90b2NvbCA9IHdpbmRvdy5sb2NhdGlvbiA/IHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCA6ICdodHRwczonXG5cbiAgY29uc3Qgc2hhcmVDb2RlID0gZ2V0UHVibGljU2hhcmVjb2RlKClcbiAgY29uc3QgdG9rZW4gPSBkYXRhLnRva2VuXG4gIGNvbnN0IGlzUHVibGljID0gQm9vbGVhbihzaGFyZUNvZGUpXG5cbiAgLy8gaW5pdGlhbGl6ZSB0aGUgY2xpZW50IHRvIGludGVyYWN0IHdpdGggdGhlIGNvenkgc3RhY2tcbiAgY29uc3QgY2xpZW50ID0gbmV3IENvenlDbGllbnQoe1xuICAgIHVyaTogYCR7cHJvdG9jb2x9Ly8ke2RhdGEuZG9tYWlufWAsXG4gICAgdG9rZW46IHRva2VuLFxuICAgIGF1dG9IeWRyYXRlOiB0cnVlLFxuICAgIGFwcE1ldGFkYXRhOiB7XG4gICAgICBzbHVnOiBhcHBTbHVnLFxuICAgICAgdmVyc2lvbjogYXBwVmVyc2lvblxuICAgIH1cbiAgfSlcbiAgaWYgKCFEb2N1bWVudC5jb3p5Q2xpZW50KSB7XG4gICAgRG9jdW1lbnQucmVnaXN0ZXJDbGllbnQoY2xpZW50KVxuICB9XG4gIGNsaWVudC5yZWdpc3RlclBsdWdpbihSZWFsdGltZVBsdWdpbilcbiAgY2xpZW50LnJlZ2lzdGVyUGx1Z2luKGZsYWcucGx1Z2luKVxuXG4gIGlmICghaXNQdWJsaWMpIHtcbiAgICAvLyBpbml0aWFsaXplIHRoZSBiYXIsIGNvbW1vbiBvZiBhbGwgYXBwbGljYXRpb25zLCBpdCBhbGxvd3NcbiAgICAvLyBwbGF0Zm9ybSBmZWF0dXJlcyBsaWtlIGFwcHMgbmF2aWdhdGlvbiB3aXRob3V0IGRvaW5nIGFueXRoaW5nXG5cbiAgICAvLyBuZWNlc3NhcnkgdG8gaW5pdGlhbGl6ZSB0aGUgYmFyIHdpdGggdGhlIGNvcnJlY3QgUmVhY3QgaW5zdGFuY2VcbiAgICB3aW5kb3cuUmVhY3QgPSBSZWFjdFxuICAgIHdpbmRvdy5SZWFjdERPTSA9IFJlYWN0RE9NXG4gICAgU2VudHJ5LmluaXQoe1xuICAgICAgZHNuOiAnaHR0cHM6Ly8xNmMyNmE2MGQ5MDE5ZWVhOWQ5YTk3NzU1NzNlMzc2NUBlcnJvcnMuY296eWNsb3VkLmNjLzczJyxcbiAgICAgIGVudmlyb25tZW50OiBwcm9jZXNzLmVudi5OT0RFX0VOVixcbiAgICAgIHJlbGVhc2U6IG1hbmlmZXN0LnZlcnNpb24sXG4gICAgICBpbnRlZ3JhdGlvbnM6IFtcbiAgICAgICAgbmV3IENhcHR1cmVDb25zb2xlKHsgbGV2ZWxzOiBbJ2Vycm9yJ10gfSksIC8vIFdlIGFsc28gd2FudCB0byBjYXB0dXJlIHRoZSBgY29uc29sZS5lcnJvcmAgdG8sIGFtb25nIG90aGVyIHRoaW5ncywgcmVwb3J0IHRoZSBsb2dzIHByZXNlbnQgaW4gdGhlIGB0cnkvY2F0Y2hgXG4gICAgICAgIFNlbnRyeS5yZWFjdFJvdXRlclY2QnJvd3NlclRyYWNpbmdJbnRlZ3JhdGlvbih7XG4gICAgICAgICAgdXNlRWZmZWN0OiBSZWFjdC51c2VFZmZlY3QsXG4gICAgICAgICAgdXNlTG9jYXRpb24sXG4gICAgICAgICAgdXNlTmF2aWdhdGlvblR5cGUsXG4gICAgICAgICAgY3JlYXRlUm91dGVzRnJvbUNoaWxkcmVuLFxuICAgICAgICAgIG1hdGNoUm91dGVzXG4gICAgICAgIH0pXG4gICAgICBdLFxuICAgICAgdHJhY2VzU2FtcGxlUmF0ZTogMC4xLFxuICAgICAgLy8gUmVhY3QgbG9nIHRoZXNlIHdhcm5pbmdzKGJhZCBQcm9wdHlwZXMpLCBpbiBhIGNvbnNvbGUuZXJyb3IsIGl0IGlzIG5vdCByZWxldmFudCB0byByZXBvcnQgdGhpcyB0eXBlIG9mIGluZm9ybWF0aW9uIHRvIFNlbnRyeVxuICAgICAgaWdub3JlRXJyb3JzOiBbL15XYXJuaW5nOiAvXSxcbiAgICAgIGRlZmF1bHRJbnRlZ3JhdGlvbnM6IGZhbHNlXG4gICAgfSlcbiAgfVxuICByZXR1cm4geyBhcHBMb2NhbGUsIGNsaWVudCwgaXNQdWJsaWMgfVxufVxuXG5jb25zdCBtZW1vaXplZEluaXQgPSBtZW1vaXplKGluaXRBcHApXG5jb25zdCBpbml0ID0gKCkgPT4ge1xuICBjb25zdCB7IGFwcExvY2FsZSwgY2xpZW50LCBpc1B1YmxpYyB9ID0gbWVtb2l6ZWRJbml0KClcbiAgcmVuZGVyQXBwKGFwcExvY2FsZSwgY2xpZW50LCBpc1B1YmxpYylcbn1cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBpbml0KVxuXG5pZiAobW9kdWxlLmhvdCkge1xuICBtZW1vaXplZEluaXQoKVxuICBtb2R1bGUuaG90LmFjY2VwdCgpXG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFBQTtBQVlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBbEpBO0FBMEJBO0FBSUE7QUF1Q0E7QUFtRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/targets/browser/index.jsx\n");

/***/ }),

/***/ "./src/types/enums.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Breakpoints\", function() { return Breakpoints; });\n// At some point this should be declared in cozy-ui instead\nvar Breakpoints;\n(function (Breakpoints) {\n  Breakpoints[\"ExtraLarge\"] = \"isExtraLarge\";\n  Breakpoints[\"Large\"] = \"isLarge\";\n  Breakpoints[\"Medium\"] = \"isMedium\";\n  Breakpoints[\"Small\"] = \"isSmall\";\n  Breakpoints[\"Tiny\"] = \"isTiny\";\n  Breakpoints[\"Desktop\"] = \"isDesktop\";\n  Breakpoints[\"Tablet\"] = \"isTablet\";\n  Breakpoints[\"Mobile\"] = \"isMobile\";\n})(Breakpoints || (Breakpoints = {}));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdHlwZXMvZW51bXMudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdHlwZXMvZW51bXMudHM/MjM2OSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBBdCBzb21lIHBvaW50IHRoaXMgc2hvdWxkIGJlIGRlY2xhcmVkIGluIGNvenktdWkgaW5zdGVhZFxuZXhwb3J0IGVudW0gQnJlYWtwb2ludHMge1xuICBFeHRyYUxhcmdlID0gJ2lzRXh0cmFMYXJnZScsXG4gIExhcmdlID0gJ2lzTGFyZ2UnLFxuICBNZWRpdW0gPSAnaXNNZWRpdW0nLFxuICBTbWFsbCA9ICdpc1NtYWxsJyxcbiAgVGlueSA9ICdpc1RpbnknLFxuICBEZXNrdG9wID0gJ2lzRGVza3RvcCcsXG4gIFRhYmxldCA9ICdpc1RhYmxldCcsXG4gIE1vYmlsZSA9ICdpc01vYmlsZSdcbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFTQTtBQVRBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/types/enums.ts\n");

/***/ }),

/***/ "./src/types/guards.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isCozyStackError\", function() { return isCozyStackError; });\nfunction isCozyStackError(error) {\n  return error.status !== undefined;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdHlwZXMvZ3VhcmRzLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3R5cGVzL2d1YXJkcy50cz8xYzUyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvenlTdGFja0Vycm9yIH0gZnJvbSAnLi9lcnJvcnMnXG5cbmV4cG9ydCBmdW5jdGlvbiBpc0NvenlTdGFja0Vycm9yKFxuICBlcnJvcjogQ296eVN0YWNrRXJyb3IgfCB1bmtub3duXG4pOiBlcnJvciBpcyBDb3p5U3RhY2tFcnJvciB7XG4gIHJldHVybiAoZXJyb3IgYXMgQ296eVN0YWNrRXJyb3IpLnN0YXR1cyAhPT0gdW5kZWZpbmVkXG59XG4iXSwibWFwcGluZ3MiOiJBQUVBO0FBQUE7QUFBQTtBQUdBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/types/guards.ts\n");

/***/ }),

/***/ "./src/ui/Dropdown/index.tsx":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Dropdown\", function() { return Dropdown; });\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/assertThisInitialized.js\");\n/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/inherits.js\");\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\");\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/getPrototypeOf.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _atlaskit_droplist__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./node_modules/@atlaskit/droplist/dist/esm/index.js\");\n/* harmony import */ var _atlaskit_editor_common__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"./node_modules/@atlaskit/editor-common/dist/esm/index.js\");\n/* harmony import */ var _with_outer_listeners__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"./src/ui/with-outer-listeners.tsx\");\n\n\n\n\n\n\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\n/**\n * Wrapper around @atlaskit/droplist which uses Popup and Portal to render\n * droplist outside of \"overflow: hidden\" containers when needed.\n *\n * Also it controls popper's placement.\n */\nvar Dropdown = /*#__PURE__*/function (_PureComponent) {\n  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default()(Dropdown, _PureComponent);\n  var _super = _createSuper(Dropdown);\n  function Dropdown(props) {\n    var _this;\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, Dropdown);\n    _this = _super.call(this, props);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(_this), \"handleRef\", function (target) {\n      _this.setState({\n        target: target || undefined\n      });\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(_this), \"updatePopupPlacement\", function (placement) {\n      _this.setState({\n        popupPlacement: placement\n      });\n    });\n    _this.state = {\n      popupPlacement: ['bottom', 'left']\n    };\n    return _this;\n  }\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(Dropdown, [{\n    key: \"renderDropdown\",\n    value: function renderDropdown() {\n      var target = this.state.target;\n      var _this$props = this.props,\n        children = _this$props.children,\n        mountTo = _this$props.mountTo,\n        boundariesElement = _this$props.boundariesElement,\n        scrollableElement = _this$props.scrollableElement,\n        onOpenChange = _this$props.onOpenChange,\n        fitHeight = _this$props.fitHeight,\n        fitWidth = _this$props.fitWidth,\n        zIndex = _this$props.zIndex;\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_atlaskit_editor_common__WEBPACK_IMPORTED_MODULE_9__[\"Popup\"], {\n        target: target,\n        mountTo: mountTo,\n        boundariesElement: boundariesElement,\n        scrollableElement: scrollableElement,\n        onPlacementChanged: this.updatePopupPlacement,\n        fitHeight: fitHeight,\n        fitWidth: fitWidth,\n        zIndex: zIndex\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", {\n        style: {\n          height: 0,\n          minWidth: fitWidth || 0\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_atlaskit_droplist__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n        disabled: true,\n        isOpen: true,\n        onOpenChange: onOpenChange,\n        appearance: \"tall\",\n        position: \"top left\",\n        shouldFlip: false,\n        shouldFitContainer: true\n      }, children)));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n        trigger = _this$props2.trigger,\n        isOpen = _this$props2.isOpen;\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_7___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", {\n        ref: this.handleRef\n      }, trigger), isOpen ? this.renderDropdown() : null);\n    }\n  }]);\n  return Dropdown;\n}(react__WEBPACK_IMPORTED_MODULE_7__[\"PureComponent\"]);\nvar DropdownWithOuterListeners = Object(_with_outer_listeners__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(Dropdown);\n/* harmony default export */ __webpack_exports__[\"default\"] = (DropdownWithOuterListeners);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdWkvRHJvcGRvd24vaW5kZXgudHN4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3VpL0Ryb3Bkb3duL2luZGV4LnRzeD84ZDc1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCB7IFB1cmVDb21wb25lbnQgfSBmcm9tICdyZWFjdCdcbmltcG9ydCBEcm9wZG93bkxpc3QgZnJvbSAnQGF0bGFza2l0L2Ryb3BsaXN0J1xuaW1wb3J0IHsgUG9wdXAgfSBmcm9tICdAYXRsYXNraXQvZWRpdG9yLWNvbW1vbidcbmltcG9ydCB3aXRoT3V0ZXJMaXN0ZW5lcnMgZnJvbSAnLi4vd2l0aC1vdXRlci1saXN0ZW5lcnMnXG5cbmV4cG9ydCBpbnRlcmZhY2UgUHJvcHMge1xuICBtb3VudFRvPzogSFRNTEVsZW1lbnRcbiAgYm91bmRhcmllc0VsZW1lbnQ/OiBIVE1MRWxlbWVudFxuICBzY3JvbGxhYmxlRWxlbWVudD86IEhUTUxFbGVtZW50XG4gIHRyaWdnZXI6IFJlYWN0LlJlYWN0RWxlbWVudDxhbnk+XG4gIGlzT3Blbj86IGJvb2xlYW5cbiAgb25PcGVuQ2hhbmdlPzogKGF0dHJzOiBhbnkpID0+IHZvaWRcbiAgZml0V2lkdGg/OiBudW1iZXJcbiAgZml0SGVpZ2h0PzogbnVtYmVyXG4gIHpJbmRleD86IG51bWJlclxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0YXRlIHtcbiAgdGFyZ2V0PzogSFRNTEVsZW1lbnRcbiAgcG9wdXBQbGFjZW1lbnQ6IFtzdHJpbmcsIHN0cmluZ11cbn1cblxuLyoqXG4gKiBXcmFwcGVyIGFyb3VuZCBAYXRsYXNraXQvZHJvcGxpc3Qgd2hpY2ggdXNlcyBQb3B1cCBhbmQgUG9ydGFsIHRvIHJlbmRlclxuICogZHJvcGxpc3Qgb3V0c2lkZSBvZiBcIm92ZXJmbG93OiBoaWRkZW5cIiBjb250YWluZXJzIHdoZW4gbmVlZGVkLlxuICpcbiAqIEFsc28gaXQgY29udHJvbHMgcG9wcGVyJ3MgcGxhY2VtZW50LlxuICovXG5leHBvcnQgY2xhc3MgRHJvcGRvd24gZXh0ZW5kcyBQdXJlQ29tcG9uZW50PFByb3BzLCBTdGF0ZT4ge1xuICBjb25zdHJ1Y3Rvcihwcm9wczogUHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBwb3B1cFBsYWNlbWVudDogWydib3R0b20nLCAnbGVmdCddXG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVSZWYgPSAodGFyZ2V0OiBIVE1MRWxlbWVudCB8IG51bGwpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHsgdGFyZ2V0OiB0YXJnZXQgfHwgdW5kZWZpbmVkIH0pXG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZVBvcHVwUGxhY2VtZW50ID0gKHBsYWNlbWVudDogW3N0cmluZywgc3RyaW5nXSkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBwb3B1cFBsYWNlbWVudDogcGxhY2VtZW50IH0pXG4gIH1cblxuICBwcml2YXRlIHJlbmRlckRyb3Bkb3duKCkge1xuICAgIGNvbnN0IHsgdGFyZ2V0IH0gPSB0aGlzLnN0YXRlXG4gICAgY29uc3Qge1xuICAgICAgY2hpbGRyZW4sXG4gICAgICBtb3VudFRvLFxuICAgICAgYm91bmRhcmllc0VsZW1lbnQsXG4gICAgICBzY3JvbGxhYmxlRWxlbWVudCxcbiAgICAgIG9uT3BlbkNoYW5nZSxcbiAgICAgIGZpdEhlaWdodCxcbiAgICAgIGZpdFdpZHRoLFxuICAgICAgekluZGV4XG4gICAgfSA9IHRoaXMucHJvcHNcblxuICAgIHJldHVybiAoXG4gICAgICA8UG9wdXBcbiAgICAgICAgdGFyZ2V0PXt0YXJnZXR9XG4gICAgICAgIG1vdW50VG89e21vdW50VG99XG4gICAgICAgIGJvdW5kYXJpZXNFbGVtZW50PXtib3VuZGFyaWVzRWxlbWVudH1cbiAgICAgICAgc2Nyb2xsYWJsZUVsZW1lbnQ9e3Njcm9sbGFibGVFbGVtZW50fVxuICAgICAgICBvblBsYWNlbWVudENoYW5nZWQ9e3RoaXMudXBkYXRlUG9wdXBQbGFjZW1lbnR9XG4gICAgICAgIGZpdEhlaWdodD17Zml0SGVpZ2h0fVxuICAgICAgICBmaXRXaWR0aD17Zml0V2lkdGh9XG4gICAgICAgIHpJbmRleD17ekluZGV4fVxuICAgICAgPlxuICAgICAgICA8ZGl2IHN0eWxlPXt7IGhlaWdodDogMCwgbWluV2lkdGg6IGZpdFdpZHRoIHx8IDAgfX0+XG4gICAgICAgICAgPERyb3Bkb3duTGlzdFxuICAgICAgICAgICAgZGlzYWJsZWQ9e3RydWV9XG4gICAgICAgICAgICBpc09wZW49e3RydWV9XG4gICAgICAgICAgICBvbk9wZW5DaGFuZ2U9e29uT3BlbkNoYW5nZX1cbiAgICAgICAgICAgIGFwcGVhcmFuY2U9XCJ0YWxsXCJcbiAgICAgICAgICAgIHBvc2l0aW9uPVwidG9wIGxlZnRcIlxuICAgICAgICAgICAgc2hvdWxkRmxpcD17ZmFsc2V9XG4gICAgICAgICAgICBzaG91bGRGaXRDb250YWluZXI9e3RydWV9XG4gICAgICAgICAgPlxuICAgICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICAgIDwvRHJvcGRvd25MaXN0PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvUG9wdXA+XG4gICAgKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgdHJpZ2dlciwgaXNPcGVuIH0gPSB0aGlzLnByb3BzXG5cbiAgICByZXR1cm4gKFxuICAgICAgPD5cbiAgICAgICAgPGRpdiByZWY9e3RoaXMuaGFuZGxlUmVmfT57dHJpZ2dlcn08L2Rpdj5cbiAgICAgICAge2lzT3BlbiA/IHRoaXMucmVuZGVyRHJvcGRvd24oKSA6IG51bGx9XG4gICAgICA8Lz5cbiAgICApXG4gIH1cbn1cblxuY29uc3QgRHJvcGRvd25XaXRoT3V0ZXJMaXN0ZW5lcnMgPSB3aXRoT3V0ZXJMaXN0ZW5lcnMoRHJvcGRvd24pXG5cbmV4cG9ydCBkZWZhdWx0IERyb3Bkb3duV2l0aE91dGVyTGlzdGVuZXJzXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFtQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQVFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFDQTtBQVhBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFPQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUVBO0FBRUE7QUFBQTtBQUlBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFFQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/ui/Dropdown/index.tsx\n");

/***/ }),

/***/ "./src/ui/DropdownMenu/index.tsx":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return DropdownMenuWrapper; });\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/assertThisInitialized.js\");\n/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/inherits.js\");\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\");\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/getPrototypeOf.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js\");\n/* harmony import */ var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"./node_modules/styled-components/dist/styled-components.browser.esm.js\");\n/* harmony import */ var _atlaskit_droplist__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"./node_modules/@atlaskit/droplist/dist/esm/index.js\");\n/* harmony import */ var _atlaskit_item__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"./node_modules/@atlaskit/item/dist/esm/index.js\");\n/* harmony import */ var _atlaskit_tooltip__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"./node_modules/@atlaskit/tooltip/dist/esm/index.js\");\n/* harmony import */ var _atlaskit_editor_common__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"./node_modules/@atlaskit/editor-common/dist/esm/index.js\");\n/* harmony import */ var _atlaskit_editor_shared_styles__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(\"./node_modules/@atlaskit/editor-shared-styles/dist/esm/index.js\");\n/* harmony import */ var _with_outer_listeners__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(\"./src/ui/with-outer-listeners.tsx\");\n\n\n\n\n\n\n\n\nvar _templateObject, _templateObject2, _templateObject3;\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\n\n\n\nvar Wrapper = styled_components__WEBPACK_IMPORTED_MODULE_9__[\"default\"].div(_templateObject || (_templateObject = _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_7___default()([\"\\n  /* tooltip in ToolbarButton is display:block */\\n  & > div > div {\\n    display: flex;\\n  }\\n\"])));\nvar DropListWithOutsideListeners = Object(_with_outer_listeners__WEBPACK_IMPORTED_MODULE_15__[\"default\"])(_atlaskit_droplist__WEBPACK_IMPORTED_MODULE_10__[\"default\"]);\n\n/**\n * Hack for item to imitate old dropdown-menu selected styles\n */\nvar ItemWrapper = styled_components__WEBPACK_IMPORTED_MODULE_9__[\"default\"].div(_templateObject2 || (_templateObject2 = _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_7___default()([\"\\n  \", \";\\n\"])), function (props) {\n  return props.isSelected ? '&& > span, && > span:hover { background: #6c798f; color: #fff; }' : '';\n});\nvar ItemContentWrapper = styled_components__WEBPACK_IMPORTED_MODULE_9__[\"default\"].span(_templateObject3 || (_templateObject3 = _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_7___default()([\"\\n  \", \";\\n\"])), function (props) {\n  return props.hasElemBefore ? 'margin-left: 8px;' : '';\n});\n\n/**\n * Wrapper around @atlaskit/droplist which uses Popup and Portal to render\n * dropdown-menu outside of \"overflow: hidden\" containers when needed.\n *\n * Also it controls popper's placement.\n */\nvar DropdownMenuWrapper = /*#__PURE__*/function (_PureComponent) {\n  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default()(DropdownMenuWrapper, _PureComponent);\n  var _super = _createSuper(DropdownMenuWrapper);\n  function DropdownMenuWrapper() {\n    var _this;\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, DropdownMenuWrapper);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(_this), \"state\", {\n      popupPlacement: ['bottom', 'left']\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(_this), \"handleRef\", function (target) {\n      _this.setState({\n        target: target || undefined\n      });\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(_this), \"updatePopupPlacement\", function (placement) {\n      _this.setState({\n        popupPlacement: placement\n      });\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(_this), \"handleClose\", function () {\n      if (_this.props.onOpenChange) {\n        _this.props.onOpenChange({\n          isOpen: false\n        });\n      }\n    });\n    return _this;\n  }\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(DropdownMenuWrapper, [{\n    key: \"renderItem\",\n    value: function renderItem(item) {\n      var _this$props = this.props,\n        onItemActivated = _this$props.onItemActivated,\n        _onMouseEnter = _this$props.onMouseEnter,\n        _onMouseLeave = _this$props.onMouseLeave;\n\n      // onClick and value.name are the action indicators in the handlers\n      // If neither are present, don't wrap in an Item.\n      if (!item.onClick && !item.value && !item.value.name) {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(\"span\", {\n          key: String(item.content)\n        }, item.content);\n      }\n      var dropListItem = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(ItemWrapper, {\n        key: item.key || item.content,\n        isSelected: item.isActive\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_atlaskit_item__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n        elemBefore: item.elemBefore,\n        elemAfter: item.elemAfter,\n        isDisabled: item.isDisabled,\n        onClick: function onClick() {\n          return onItemActivated && onItemActivated({\n            item: item\n          });\n        },\n        onMouseEnter: function onMouseEnter() {\n          return _onMouseEnter && _onMouseEnter({\n            item: item\n          });\n        },\n        onMouseLeave: function onMouseLeave() {\n          return _onMouseLeave && _onMouseLeave({\n            item: item\n          });\n        },\n        className: item.className\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(ItemContentWrapper, {\n        hasElemBefore: !!item.elemBefore\n      }, item.content)));\n      if (item.tooltipDescription) {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_atlaskit_tooltip__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n          key: item.key || item.content,\n          content: item.tooltipDescription,\n          position: item.tooltipPosition\n        }, dropListItem);\n      }\n      return dropListItem;\n    }\n  }, {\n    key: \"renderDropdownMenu\",\n    value: function renderDropdownMenu() {\n      var _this2 = this;\n      var _this$state = this.state,\n        target = _this$state.target,\n        popupPlacement = _this$state.popupPlacement;\n      var _this$props2 = this.props,\n        items = _this$props2.items,\n        mountTo = _this$props2.mountTo,\n        boundariesElement = _this$props2.boundariesElement,\n        scrollableElement = _this$props2.scrollableElement,\n        offset = _this$props2.offset,\n        fitHeight = _this$props2.fitHeight,\n        fitWidth = _this$props2.fitWidth,\n        isOpen = _this$props2.isOpen,\n        zIndex = _this$props2.zIndex;\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_atlaskit_editor_common__WEBPACK_IMPORTED_MODULE_13__[\"Popup\"], {\n        target: isOpen ? target : undefined,\n        mountTo: mountTo,\n        boundariesElement: boundariesElement,\n        scrollableElement: scrollableElement,\n        onPlacementChanged: this.updatePopupPlacement,\n        fitHeight: fitHeight,\n        fitWidth: fitWidth,\n        zIndex: zIndex || _atlaskit_editor_shared_styles__WEBPACK_IMPORTED_MODULE_14__[\"akEditorFloatingPanelZIndex\"],\n        offset: offset\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(DropListWithOutsideListeners, {\n        isOpen: true,\n        appearance: \"tall\",\n        position: popupPlacement.join(' '),\n        shouldFlip: true // flip the dropdown up if there is not enough space below\n        ,\n        shouldFitContainer: true,\n        isTriggerNotTabbable: true,\n        handleClickOutside: this.handleClose,\n        handleEscapeKeydown: this.handleClose\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(\"div\", {\n        style: {\n          height: 0,\n          minWidth: fitWidth || 0\n        }\n      }), items.map(function (group, index) {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_atlaskit_item__WEBPACK_IMPORTED_MODULE_11__[\"ItemGroup\"], {\n          key: index\n        }, group.items.map(function (item) {\n          return _this2.renderItem(item);\n        }));\n      })));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props3 = this.props,\n        children = _this$props3.children,\n        isOpen = _this$props3.isOpen;\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(Wrapper, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(\"div\", {\n        ref: this.handleRef\n      }, children), isOpen ? this.renderDropdownMenu() : null);\n    }\n  }]);\n  return DropdownMenuWrapper;\n}(react__WEBPACK_IMPORTED_MODULE_8__[\"PureComponent\"]);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdWkvRHJvcGRvd25NZW51L2luZGV4LnRzeC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy91aS9Ecm9wZG93bk1lbnUvaW5kZXgudHN4PzM1OTkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IFB1cmVDb21wb25lbnQgfSBmcm9tICdyZWFjdCdcbmltcG9ydCBzdHlsZWQgZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnXG5pbXBvcnQgRHJvcExpc3QgZnJvbSAnQGF0bGFza2l0L2Ryb3BsaXN0J1xuaW1wb3J0IEl0ZW0sIHsgSXRlbUdyb3VwIH0gZnJvbSAnQGF0bGFza2l0L2l0ZW0nXG5pbXBvcnQgVG9vbHRpcCBmcm9tICdAYXRsYXNraXQvdG9vbHRpcCdcbmltcG9ydCB7IFBvcHVwIH0gZnJvbSAnQGF0bGFza2l0L2VkaXRvci1jb21tb24nXG5pbXBvcnQgeyBha0VkaXRvckZsb2F0aW5nUGFuZWxaSW5kZXggfSBmcm9tICdAYXRsYXNraXQvZWRpdG9yLXNoYXJlZC1zdHlsZXMnXG5pbXBvcnQgd2l0aE91dGVyTGlzdGVuZXJzIGZyb20gJy4uL3dpdGgtb3V0ZXItbGlzdGVuZXJzJ1xuaW1wb3J0IHsgUHJvcHMsIFN0YXRlIH0gZnJvbSAnLi90eXBlcydcblxuY29uc3QgV3JhcHBlciA9IHN0eWxlZC5kaXZgXG4gIC8qIHRvb2x0aXAgaW4gVG9vbGJhckJ1dHRvbiBpcyBkaXNwbGF5OmJsb2NrICovXG4gICYgPiBkaXYgPiBkaXYge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gIH1cbmBcblxuY29uc3QgRHJvcExpc3RXaXRoT3V0c2lkZUxpc3RlbmVyczogYW55ID0gd2l0aE91dGVyTGlzdGVuZXJzKERyb3BMaXN0KVxuXG4vKipcbiAqIEhhY2sgZm9yIGl0ZW0gdG8gaW1pdGF0ZSBvbGQgZHJvcGRvd24tbWVudSBzZWxlY3RlZCBzdHlsZXNcbiAqL1xuY29uc3QgSXRlbVdyYXBwZXI6IGFueSA9IHN0eWxlZC5kaXZgXG4gICR7KHByb3BzOiBhbnkpID0+XG4gICAgcHJvcHMuaXNTZWxlY3RlZFxuICAgICAgPyAnJiYgPiBzcGFuLCAmJiA+IHNwYW46aG92ZXIgeyBiYWNrZ3JvdW5kOiAjNmM3OThmOyBjb2xvcjogI2ZmZjsgfSdcbiAgICAgIDogJyd9O1xuYFxuXG5jb25zdCBJdGVtQ29udGVudFdyYXBwZXI6IGFueSA9IHN0eWxlZC5zcGFuYFxuICAkeyhwcm9wczogYW55KSA9PiAocHJvcHMuaGFzRWxlbUJlZm9yZSA/ICdtYXJnaW4tbGVmdDogOHB4OycgOiAnJyl9O1xuYFxuXG4vKipcbiAqIFdyYXBwZXIgYXJvdW5kIEBhdGxhc2tpdC9kcm9wbGlzdCB3aGljaCB1c2VzIFBvcHVwIGFuZCBQb3J0YWwgdG8gcmVuZGVyXG4gKiBkcm9wZG93bi1tZW51IG91dHNpZGUgb2YgXCJvdmVyZmxvdzogaGlkZGVuXCIgY29udGFpbmVycyB3aGVuIG5lZWRlZC5cbiAqXG4gKiBBbHNvIGl0IGNvbnRyb2xzIHBvcHBlcidzIHBsYWNlbWVudC5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRHJvcGRvd25NZW51V3JhcHBlciBleHRlbmRzIFB1cmVDb21wb25lbnQ8UHJvcHMsIFN0YXRlPiB7XG4gIHN0YXRlOiBTdGF0ZSA9IHtcbiAgICBwb3B1cFBsYWNlbWVudDogWydib3R0b20nLCAnbGVmdCddXG4gIH1cblxuICBwcml2YXRlIGhhbmRsZVJlZiA9ICh0YXJnZXQ6IEhUTUxFbGVtZW50IHwgbnVsbCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoeyB0YXJnZXQ6IHRhcmdldCB8fCB1bmRlZmluZWQgfSlcbiAgfVxuXG4gIHByaXZhdGUgdXBkYXRlUG9wdXBQbGFjZW1lbnQgPSAocGxhY2VtZW50OiBbc3RyaW5nLCBzdHJpbmddKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IHBvcHVwUGxhY2VtZW50OiBwbGFjZW1lbnQgfSlcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlQ2xvc2UgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMucHJvcHMub25PcGVuQ2hhbmdlKSB7XG4gICAgICB0aGlzLnByb3BzLm9uT3BlbkNoYW5nZSh7IGlzT3BlbjogZmFsc2UgfSlcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHJlbmRlckl0ZW0oaXRlbTogdHlwZW9mIEl0ZW0pIHtcbiAgICBjb25zdCB7IG9uSXRlbUFjdGl2YXRlZCwgb25Nb3VzZUVudGVyLCBvbk1vdXNlTGVhdmUgfSA9IHRoaXMucHJvcHNcblxuICAgIC8vIG9uQ2xpY2sgYW5kIHZhbHVlLm5hbWUgYXJlIHRoZSBhY3Rpb24gaW5kaWNhdG9ycyBpbiB0aGUgaGFuZGxlcnNcbiAgICAvLyBJZiBuZWl0aGVyIGFyZSBwcmVzZW50LCBkb24ndCB3cmFwIGluIGFuIEl0ZW0uXG4gICAgaWYgKCFpdGVtLm9uQ2xpY2sgJiYgIWl0ZW0udmFsdWUgJiYgIWl0ZW0udmFsdWUubmFtZSkge1xuICAgICAgcmV0dXJuIDxzcGFuIGtleT17U3RyaW5nKGl0ZW0uY29udGVudCl9PntpdGVtLmNvbnRlbnR9PC9zcGFuPlxuICAgIH1cblxuICAgIGNvbnN0IGRyb3BMaXN0SXRlbSA9IChcbiAgICAgIDxJdGVtV3JhcHBlciBrZXk9e2l0ZW0ua2V5IHx8IGl0ZW0uY29udGVudH0gaXNTZWxlY3RlZD17aXRlbS5pc0FjdGl2ZX0+XG4gICAgICAgIDxJdGVtXG4gICAgICAgICAgZWxlbUJlZm9yZT17aXRlbS5lbGVtQmVmb3JlfVxuICAgICAgICAgIGVsZW1BZnRlcj17aXRlbS5lbGVtQWZ0ZXJ9XG4gICAgICAgICAgaXNEaXNhYmxlZD17aXRlbS5pc0Rpc2FibGVkfVxuICAgICAgICAgIG9uQ2xpY2s9eygpID0+IG9uSXRlbUFjdGl2YXRlZCAmJiBvbkl0ZW1BY3RpdmF0ZWQoeyBpdGVtIH0pfVxuICAgICAgICAgIG9uTW91c2VFbnRlcj17KCkgPT4gb25Nb3VzZUVudGVyICYmIG9uTW91c2VFbnRlcih7IGl0ZW0gfSl9XG4gICAgICAgICAgb25Nb3VzZUxlYXZlPXsoKSA9PiBvbk1vdXNlTGVhdmUgJiYgb25Nb3VzZUxlYXZlKHsgaXRlbSB9KX1cbiAgICAgICAgICBjbGFzc05hbWU9e2l0ZW0uY2xhc3NOYW1lfVxuICAgICAgICA+XG4gICAgICAgICAgPEl0ZW1Db250ZW50V3JhcHBlciBoYXNFbGVtQmVmb3JlPXshIWl0ZW0uZWxlbUJlZm9yZX0+XG4gICAgICAgICAgICB7aXRlbS5jb250ZW50fVxuICAgICAgICAgIDwvSXRlbUNvbnRlbnRXcmFwcGVyPlxuICAgICAgICA8L0l0ZW0+XG4gICAgICA8L0l0ZW1XcmFwcGVyPlxuICAgIClcblxuICAgIGlmIChpdGVtLnRvb2x0aXBEZXNjcmlwdGlvbikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPFRvb2x0aXBcbiAgICAgICAgICBrZXk9e2l0ZW0ua2V5IHx8IGl0ZW0uY29udGVudH1cbiAgICAgICAgICBjb250ZW50PXtpdGVtLnRvb2x0aXBEZXNjcmlwdGlvbn1cbiAgICAgICAgICBwb3NpdGlvbj17aXRlbS50b29sdGlwUG9zaXRpb259XG4gICAgICAgID5cbiAgICAgICAgICB7ZHJvcExpc3RJdGVtfVxuICAgICAgICA8L1Rvb2x0aXA+XG4gICAgICApXG4gICAgfVxuXG4gICAgcmV0dXJuIGRyb3BMaXN0SXRlbVxuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJEcm9wZG93bk1lbnUoKSB7XG4gICAgY29uc3QgeyB0YXJnZXQsIHBvcHVwUGxhY2VtZW50IH0gPSB0aGlzLnN0YXRlXG4gICAgY29uc3Qge1xuICAgICAgaXRlbXMsXG4gICAgICBtb3VudFRvLFxuICAgICAgYm91bmRhcmllc0VsZW1lbnQsXG4gICAgICBzY3JvbGxhYmxlRWxlbWVudCxcbiAgICAgIG9mZnNldCxcbiAgICAgIGZpdEhlaWdodCxcbiAgICAgIGZpdFdpZHRoLFxuICAgICAgaXNPcGVuLFxuICAgICAgekluZGV4XG4gICAgfSA9IHRoaXMucHJvcHNcblxuICAgIHJldHVybiAoXG4gICAgICA8UG9wdXBcbiAgICAgICAgdGFyZ2V0PXtpc09wZW4gPyB0YXJnZXQgOiB1bmRlZmluZWR9XG4gICAgICAgIG1vdW50VG89e21vdW50VG99XG4gICAgICAgIGJvdW5kYXJpZXNFbGVtZW50PXtib3VuZGFyaWVzRWxlbWVudH1cbiAgICAgICAgc2Nyb2xsYWJsZUVsZW1lbnQ9e3Njcm9sbGFibGVFbGVtZW50fVxuICAgICAgICBvblBsYWNlbWVudENoYW5nZWQ9e3RoaXMudXBkYXRlUG9wdXBQbGFjZW1lbnR9XG4gICAgICAgIGZpdEhlaWdodD17Zml0SGVpZ2h0fVxuICAgICAgICBmaXRXaWR0aD17Zml0V2lkdGh9XG4gICAgICAgIHpJbmRleD17ekluZGV4IHx8IGFrRWRpdG9yRmxvYXRpbmdQYW5lbFpJbmRleH1cbiAgICAgICAgb2Zmc2V0PXtvZmZzZXR9XG4gICAgICA+XG4gICAgICAgIDxEcm9wTGlzdFdpdGhPdXRzaWRlTGlzdGVuZXJzXG4gICAgICAgICAgaXNPcGVuPXt0cnVlfVxuICAgICAgICAgIGFwcGVhcmFuY2U9XCJ0YWxsXCJcbiAgICAgICAgICBwb3NpdGlvbj17cG9wdXBQbGFjZW1lbnQuam9pbignICcpfVxuICAgICAgICAgIHNob3VsZEZsaXA9e3RydWV9IC8vIGZsaXAgdGhlIGRyb3Bkb3duIHVwIGlmIHRoZXJlIGlzIG5vdCBlbm91Z2ggc3BhY2UgYmVsb3dcbiAgICAgICAgICBzaG91bGRGaXRDb250YWluZXI9e3RydWV9XG4gICAgICAgICAgaXNUcmlnZ2VyTm90VGFiYmFibGU9e3RydWV9XG4gICAgICAgICAgaGFuZGxlQ2xpY2tPdXRzaWRlPXt0aGlzLmhhbmRsZUNsb3NlfVxuICAgICAgICAgIGhhbmRsZUVzY2FwZUtleWRvd249e3RoaXMuaGFuZGxlQ2xvc2V9XG4gICAgICAgID5cbiAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGhlaWdodDogMCwgbWluV2lkdGg6IGZpdFdpZHRoIHx8IDAgfX0gLz5cbiAgICAgICAgICB7aXRlbXMubWFwKChncm91cCwgaW5kZXgpID0+IChcbiAgICAgICAgICAgIDxJdGVtR3JvdXAga2V5PXtpbmRleH0+XG4gICAgICAgICAgICAgIHtncm91cC5pdGVtcy5tYXAoaXRlbSA9PiB0aGlzLnJlbmRlckl0ZW0oaXRlbSkpfVxuICAgICAgICAgICAgPC9JdGVtR3JvdXA+XG4gICAgICAgICAgKSl9XG4gICAgICAgIDwvRHJvcExpc3RXaXRoT3V0c2lkZUxpc3RlbmVycz5cbiAgICAgIDwvUG9wdXA+XG4gICAgKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgY2hpbGRyZW4sIGlzT3BlbiB9ID0gdGhpcy5wcm9wc1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxXcmFwcGVyPlxuICAgICAgICA8ZGl2IHJlZj17dGhpcy5oYW5kbGVSZWZ9PntjaGlsZHJlbn08L2Rpdj5cbiAgICAgICAge2lzT3BlbiA/IHRoaXMucmVuZGVyRHJvcGRvd25NZW51KCkgOiBudWxsfVxuICAgICAgPC9XcmFwcGVyPlxuICAgIClcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFHQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBTUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBR0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFFQTtBQUFBO0FBT0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBS0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFLQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUVBO0FBRUE7QUFBQTtBQUlBO0FBQUE7QUFBQTtBQUFBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/ui/DropdownMenu/index.tsx\n");

/***/ }),

/***/ "./src/ui/with-outer-listeners.tsx":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return withOuterListeners; });\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/assertThisInitialized.js\");\n/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/inherits.js\");\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\");\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/getPrototypeOf.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./node_modules/react-dom/index.js\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_8__);\n\n\n\n\n\n\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\nfunction withOuterListeners(Component) {\n  return /*#__PURE__*/function (_PureComponent) {\n    _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default()(WithOutsideClick, _PureComponent);\n    var _super = _createSuper(WithOutsideClick);\n    function WithOutsideClick() {\n      var _this;\n      _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, WithOutsideClick);\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      _this = _super.call.apply(_super, [this].concat(args));\n      _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(_this), \"handleClick\", function (evt) {\n        var domNode = react_dom__WEBPACK_IMPORTED_MODULE_8___default.a.findDOMNode(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(_this)); // eslint-disable-line react/no-find-dom-node\n        if (!domNode || evt.target instanceof Node && !domNode.contains(evt.target)) {\n          if (_this.props.handleClickOutside) {\n            _this.props.handleClickOutside(evt);\n          }\n        }\n      });\n      _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(_this), \"handleKeydown\", function (evt) {\n        if (evt.code === 'Escape' && _this.props.handleEscapeKeydown) {\n          _this.props.handleEscapeKeydown(evt);\n        } else if (evt.code === 'Enter' && _this.props.handleEnterKeydown) {\n          _this.props.handleEnterKeydown(evt);\n        }\n      });\n      return _this;\n    }\n    _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(WithOutsideClick, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        if (this.props.handleClickOutside) {\n          document.addEventListener('click', this.handleClick, false);\n        }\n        if (this.props.handleEscapeKeydown) {\n          document.addEventListener('keydown', this.handleKeydown, false);\n        }\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        if (this.props.handleClickOutside) {\n          document.removeEventListener('click', this.handleClick, false);\n        }\n        if (this.props.handleEscapeKeydown) {\n          document.removeEventListener('keydown', this.handleKeydown, false);\n        }\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(Component, this.props);\n      }\n    }]);\n    return WithOutsideClick;\n  }(react__WEBPACK_IMPORTED_MODULE_7__[\"PureComponent\"]);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdWkvd2l0aC1vdXRlci1saXN0ZW5lcnMudHN4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3VpL3dpdGgtb3V0ZXItbGlzdGVuZXJzLnRzeD8xYjRmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCB7IENvbXBvbmVudENsYXNzLCBTdGF0ZWxlc3NDb21wb25lbnQsIFB1cmVDb21wb25lbnQgfSBmcm9tICdyZWFjdCdcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nXG5cbnR5cGUgU2ltcGxlRXZlbnRIYW5kbGVyPFQ+ID0gKGV2ZW50OiBUKSA9PiB2b2lkXG5cbmV4cG9ydCBpbnRlcmZhY2UgV2l0aE91dHNpZGVDbGlja1Byb3BzIHtcbiAgaGFuZGxlQ2xpY2tPdXRzaWRlPzogU2ltcGxlRXZlbnRIYW5kbGVyPE1vdXNlRXZlbnQ+XG4gIGhhbmRsZUVzY2FwZUtleWRvd24/OiBTaW1wbGVFdmVudEhhbmRsZXI8S2V5Ym9hcmRFdmVudD5cbiAgaGFuZGxlRW50ZXJLZXlkb3duPzogU2ltcGxlRXZlbnRIYW5kbGVyPEtleWJvYXJkRXZlbnQ+XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHdpdGhPdXRlckxpc3RlbmVyczxQPihcbiAgQ29tcG9uZW50OiBDb21wb25lbnRDbGFzczxQPiB8IFN0YXRlbGVzc0NvbXBvbmVudDxQPlxuKTogQ29tcG9uZW50Q2xhc3M8UCAmIFdpdGhPdXRzaWRlQ2xpY2tQcm9wcz4ge1xuICByZXR1cm4gY2xhc3MgV2l0aE91dHNpZGVDbGljayBleHRlbmRzIFB1cmVDb21wb25lbnQ8XG4gICAgUCAmIFdpdGhPdXRzaWRlQ2xpY2tQcm9wcyxcbiAgICB7fVxuICA+IHtcbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLmhhbmRsZUNsaWNrT3V0c2lkZSkge1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlQ2xpY2ssIGZhbHNlKVxuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5wcm9wcy5oYW5kbGVFc2NhcGVLZXlkb3duKSB7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmhhbmRsZUtleWRvd24sIGZhbHNlKVxuICAgICAgfVxuICAgIH1cblxuICAgIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgaWYgKHRoaXMucHJvcHMuaGFuZGxlQ2xpY2tPdXRzaWRlKSB7XG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVDbGljaywgZmFsc2UpXG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnByb3BzLmhhbmRsZUVzY2FwZUtleWRvd24pIHtcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuaGFuZGxlS2V5ZG93biwgZmFsc2UpXG4gICAgICB9XG4gICAgfVxuXG4gICAgaGFuZGxlQ2xpY2sgPSAoZXZ0OiBNb3VzZUV2ZW50KSA9PiB7XG4gICAgICBjb25zdCBkb21Ob2RlID0gUmVhY3RET00uZmluZERPTU5vZGUodGhpcykgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZWFjdC9uby1maW5kLWRvbS1ub2RlXG4gICAgICBpZiAoXG4gICAgICAgICFkb21Ob2RlIHx8XG4gICAgICAgIChldnQudGFyZ2V0IGluc3RhbmNlb2YgTm9kZSAmJiAhZG9tTm9kZS5jb250YWlucyhldnQudGFyZ2V0KSlcbiAgICAgICkge1xuICAgICAgICBpZiAodGhpcy5wcm9wcy5oYW5kbGVDbGlja091dHNpZGUpIHtcbiAgICAgICAgICB0aGlzLnByb3BzLmhhbmRsZUNsaWNrT3V0c2lkZShldnQpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVLZXlkb3duID0gKGV2dDogS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgICAgaWYgKGV2dC5jb2RlID09PSAnRXNjYXBlJyAmJiB0aGlzLnByb3BzLmhhbmRsZUVzY2FwZUtleWRvd24pIHtcbiAgICAgICAgdGhpcy5wcm9wcy5oYW5kbGVFc2NhcGVLZXlkb3duKGV2dClcbiAgICAgIH0gZWxzZSBpZiAoZXZ0LmNvZGUgPT09ICdFbnRlcicgJiYgdGhpcy5wcm9wcy5oYW5kbGVFbnRlcktleWRvd24pIHtcbiAgICAgICAgdGhpcy5wcm9wcy5oYW5kbGVFbnRlcktleWRvd24oZXZ0KVxuICAgICAgfVxuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgIHJldHVybiA8Q29tcG9uZW50IHsuLi50aGlzLnByb3BzfSAvPlxuICAgIH1cbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQVVBO0FBR0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQXlCQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQXJDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBdUJBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/ui/with-outer-listeners.tsx\n");

/***/ }),

/***/ 1:
/***/ (function(module, exports) {

eval("/* (ignored) *///# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3V0aWwuaW5zcGVjdCAoaWdub3JlZCk/YTI3OSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiAoaWdub3JlZCkgKi8iXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///1\n");

/***/ }),

/***/ 2:
/***/ (function(module, exports) {

eval("/* (ignored) *///# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3V0aWwuaW5zcGVjdCAoaWdub3JlZCk/MWJjMCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiAoaWdub3JlZCkgKi8iXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///2\n");

/***/ }),

/***/ 3:
/***/ (function(module, exports) {

eval("/* (ignored) *///# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi9sb2NhbGUtZGF0YS9pbmRleC5qcyAoaWdub3JlZCk/N2E4ZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiAoaWdub3JlZCkgKi8iXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///3\n");

/***/ }),

/***/ 4:
/***/ (function(module, exports) {

eval("/* (ignored) *///# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2xpYi9sb2NhbGVzIChpZ25vcmVkKT82OTEwIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIChpZ25vcmVkKSAqLyJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///4\n");

/***/ }),

/***/ 5:
/***/ (function(module, exports) {

eval("/* (ignored) *///# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2xpYi9sb2NhbGVzIChpZ25vcmVkKT8xMDZkIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIChpZ25vcmVkKSAqLyJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///5\n");

/***/ }),

/***/ 6:
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__("./node_modules/@babel/polyfill/lib/index.js");
module.exports = __webpack_require__("./src/targets/browser/index.jsx");


/***/ }),

/***/ 7:
/***/ (function(module, exports) {

eval("/* (ignored) *///# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25leHRUaWNrIChpZ25vcmVkKT80MjhlIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIChpZ25vcmVkKSAqLyJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///7\n");

/***/ }),

/***/ 8:
/***/ (function(module, exports) {

eval("/* (ignored) *///# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy93b3JrZXJfdGhyZWFkcyAoaWdub3JlZCk/NGNkNiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiAoaWdub3JlZCkgKi8iXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///8\n");

/***/ })

/******/ });